<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å¯¼èˆªæ </title>
    <url>/2022/06/30/NavigationBar/</url>
    <content><![CDATA[<h2 id="java-å­¦ä¹ ç³»åˆ—"><a class="markdownIt-Anchor" href="#java-å­¦ä¹ ç³»åˆ—"></a> Java å­¦ä¹ ç³»åˆ—</h2>
<ul>
<li>Java åŸºç¡€å…¥é—¨ é˜¶æ®µ1 &amp; é˜¶æ®µ2 <a href="http://atopos-blog.cn/2022/04/18/JAVA/01JavaBasic/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>Java åŸºç¡€å…¥é—¨ é˜¶æ®µ3 <a href="http://atopos-blog.cn/2022/04/18/JAVA/02JavaBasic/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>Java åŸºç¡€å…¥é—¨ Java8 <a href="http://atopos-blog.cn/2022/05/01/JAVA/03JavaBasic/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>Java ä¼ä¸šå¼€å‘åŸºç¡€ MySQL <a href="http://atopos-blog.cn/2022/06/06/JAVA/04JavaMySQL/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>Java ä¼ä¸šå¼€å‘åŸºç¡€ JavaWeb <a href="http://atopos-blog.cn/2022/09/25/JAVA/05JavaWeb/"> ã€ä¼ é€é—¨ã€‘ </a></li>
<li>Java ä¼ä¸šå¼€å‘åŸºç¡€ Spring <a href="http://atopos-blog.cn/categories/JAVA/%E9%98%B6%E6%AE%B53/Spring/"> ã€ä¼ é€é—¨ã€‘ </a></li>
</ul>
<h2 id="acwing-ç³»åˆ—"><a class="markdownIt-Anchor" href="#acwing-ç³»åˆ—"></a> AcWing ç³»åˆ—</h2>
<ul>
<li>AcWing ç®—æ³•åŸºç¡€è¯¾ <a href="http://atopos-blog.cn/2022/03/20/AcWing/Algorithm_Basic/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>AcWing SpringBootæ¡†æ¶è¯¾ <a href="http://atopos-blog.cn/2022/06/29/AcWing/SpringCourse/">ã€ä¼ é€é—¨ã€‘</a></li>
</ul>
<h2 id="ubuntu-é—®é¢˜ç³»åˆ—"><a class="markdownIt-Anchor" href="#ubuntu-é—®é¢˜ç³»åˆ—"></a> Ubuntu é—®é¢˜ç³»åˆ—</h2>
<ul>
<li>Ubuntu å®‰è£…<code>Python3</code>ä»¥åŠ<code>pip3</code> <a href="http://atopos-blog.cn/2022/06/08/Ubuntu/01installPythonAndPIP/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>Ubuntu å®‰è£…<code>LLVM7.1.0</code>å’Œ <code>clang</code> <a href="http://atopos-blog.cn/2022/06/15/Ubuntu/02InstallLLVM/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>Ubuntu <code>apt-get</code>å®‰è£…æ—¶æŠ¥é”™ <a href="http://atopos-blog.cn/2022/06/22/Ubuntu/03apt-get/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>Ubuntu <code>pip</code>ç³»åˆ—é—®é¢˜ <a href="http://atopos-blog.cn/2022/06/22/Ubuntu/04pip/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>Ubuntu å®‰è£…LLFIåŠæ‰€ç”¨çš„å·¥å…· <a href="http://atopos-blog.cn/2022/06/25/Ubuntu/05InstallLLFI/">ã€ä¼ é€é—¨ã€‘</a></li>
<li>LLVM CFGæ§åˆ¶æµå›¾å¯è§†åŒ– <a href="http://atopos-blog.cn/2022/07/04/Ubuntu/07drawCFG/">ã€ä¼ é€é—¨ã€‘</a></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2022/03/19/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="quick-start"><a class="markdownIt-Anchor" href="#quick-start"></a> Quick Start</h2>
<h3 id="create-a-new-post"><a class="markdownIt-Anchor" href="#create-a-new-post"></a> Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="run-server"><a class="markdownIt-Anchor" href="#run-server"></a> Run server</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="generate-static-files"><a class="markdownIt-Anchor" href="#generate-static-files"></a> Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="deploy-to-remote-sites"><a class="markdownIt-Anchor" href="#deploy-to-remote-sites"></a> Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">::: tips</span><br><span class="line">**æç¤º**</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªæç¤º</span><br><span class="line">:::</span><br><span class="line"></span><br><span class="line">::: warning</span><br><span class="line">**æ³¨æ„**</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªè­¦å‘Š</span><br><span class="line">:::</span><br><span class="line"></span><br><span class="line">::: danger</span><br><span class="line">**è­¦å‘Š**</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªå±é™©ä¿¡å·</span><br><span class="line">:::</span><br><span class="line"></span><br><span class="line">::: success</span><br><span class="line">**æˆåŠŸ**</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªæˆåŠŸä¿¡å·</span><br><span class="line">:::</span><br></pre></td></tr></table></figure>
<h3 id="details"><a class="markdownIt-Anchor" href="#details"></a> Details</h3>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">details</span> <span class="attr">open</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">summary</span>&gt;</span></span> <span class="language-xml"><span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span></span><br><span class="line">//å†…å®¹</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<details yellow open>
<summary>Hello Hexo</summary>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Hello Hexo&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<h3 id="note"><a class="markdownIt-Anchor" href="#note"></a> Note</h3>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note simple %&#125;</span><br><span class="line">é»˜è®¤ æç¤ºå—æ ‡ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;</span><br><span class="line">default æç¤ºå—æ ‡ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;</span><br><span class="line">primary æç¤ºå—æ ‡ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;</span><br><span class="line">success æç¤ºå—æ ‡ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;</span><br><span class="line">info æç¤ºå—æ ‡ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;</span><br><span class="line">warning æç¤ºå—æ ‡ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;</span><br><span class="line">danger æç¤ºå—æ ‡ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>
<div class="note simple"><p>é»˜è®¤ æç¤ºå—æ ‡ç±¤</p>
</div>
<div class="note default simple"><p>default æç¤ºå—æ ‡ç±¤</p>
</div>
<div class="note primary simple"><p>primary æç¤ºå—æ ‡ç±¤</p>
</div>
<div class="note success simple"><p>success æç¤ºå—æ ‡ç±¤</p>
</div>
<div class="note info simple"><p>info æç¤ºå—æ ‡ç±¤</p>
</div>
<div class="note warning simple"><p>warning æç¤ºå—æ ‡ç±¤</p>
</div>
<div class="note danger simple"><p>danger æç¤ºå—æ ‡ç±¤</p>
</div>
<h3 id="tabs"><a class="markdownIt-Anchor" href="#tabs"></a> Tabs</h3>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure>
<div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
  </entry>
  <entry>
    <title>3375.æˆç»©æ’åº</title>
    <url>/2022/05/12/AcWing/20220512-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://www.acwing.com/problem/content/3378/"> æˆç»©æ’åº </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>ä½¿ç”¨ <code>stable_sort</code> è¿›è¡Œæ’åºï¼Œå› ä¸º <code>stable_sort</code> æ˜¯ç¨³å®šçš„ï¼Œå¯ç¡®ä¿ä¸éœ€è¦æ’åºçš„æ•°æ®ç›¸å¯¹ä½ç½®ä¸æ”¹å˜ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n, x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// stable_sort ä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">minTomax</span><span class="params">(vector&lt;pair&lt;string, <span class="type">int</span>&gt;&gt;&amp; arr)</span></span>&#123;</span><br><span class="line">    <span class="built_in">stable_sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), [&amp;](<span class="type">const</span> pair&lt;string, <span class="type">int</span>&gt; &amp;a, <span class="type">const</span> pair&lt;string, <span class="type">int</span>&gt; &amp;b)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.second &lt; b.second; </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">maxTomin</span><span class="params">(vector&lt;pair&lt;string, <span class="type">int</span>&gt;&gt;&amp; arr)</span></span>&#123;</span><br><span class="line">    <span class="built_in">stable_sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), [&amp;](<span class="type">const</span> pair&lt;string, <span class="type">int</span>&gt; &amp;a, <span class="type">const</span> pair&lt;string, <span class="type">int</span>&gt; &amp;b)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.second &gt; b.second; </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    cin &gt;&gt; x;</span><br><span class="line">    vector&lt;pair&lt;string, <span class="type">int</span>&gt;&gt; arr;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        string a;</span><br><span class="line">        <span class="type">int</span> b;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        arr.<span class="built_in">emplace_back</span>(<span class="built_in">make_pair</span>(a, b));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(x == <span class="number">0</span>) <span class="built_in">maxTomin</span>(arr);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">minTomax</span>(arr);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; arr.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        cout &lt;&lt; arr[i].first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; arr[i].second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * logn)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯å­¦ç”Ÿçš„ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š31 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š340KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>AcWing</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>3376.æˆç»©æ’åº2</title>
    <url>/2022/05/12/AcWing/20220512-02/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://www.acwing.com/problem/content/3379/"> æˆç»©æ’åº2 </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>è‡ªå®šä¹‰ <code>sort</code> æ’åº</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; arr;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a, b;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        arr.<span class="built_in">emplace_back</span>(<span class="built_in">make_pair</span>(a, b));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰æ’åº</span></span><br><span class="line">    <span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), [](pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; &amp;a, pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; &amp;b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.second != b.second) </span><br><span class="line">            <span class="keyword">return</span> a.second &lt; b.second;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> a.first &lt; b.first;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; arr.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        cout &lt;&lt; arr[i].first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; arr[i].second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * logn)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯å­¦ç”Ÿçš„ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š18 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š220KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>AcWing</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>AcWing ç®—æ³•æ¨¡æ¿</title>
    <url>/2022/10/31/AcWing/AlgorithmTemplate/</url>
    <content><![CDATA[<h1 id="åŸºç¡€ç®—æ³•"><a class="markdownIt-Anchor" href="#åŸºç¡€ç®—æ³•"></a> åŸºç¡€ç®—æ³•</h1>
<h2 id="å¿«é€Ÿæ’åº"><a class="markdownIt-Anchor" href="#å¿«é€Ÿæ’åº"></a> å¿«é€Ÿæ’åº</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick_sort</span><span class="params">(<span class="type">int</span> q[], <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;  <span class="comment">// å‡½æ•°å®ç°</span></span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> i = l - <span class="number">1</span>, j = r + <span class="number">1</span>, x = q[l + r &gt;&gt; <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">do</span> i ++ ; <span class="keyword">while</span> (q[i] &lt; x);</span><br><span class="line">        <span class="keyword">do</span> j -- ; <span class="keyword">while</span> (q[j] &gt; x);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; j) <span class="built_in">swap</span>(q[i], q[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">quick_sort</span>(q, l, j);</span><br><span class="line">    <span class="built_in">quick_sort</span>(q, j + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">quick_sort</span>(q, <span class="number">1</span>, n - <span class="number">1</span>);  <span class="comment">// è°ƒç”¨å‡½æ•°</span></span><br></pre></td></tr></table></figure>
<h2 id="å½’å¹¶æ’åº"><a class="markdownIt-Anchor" href="#å½’å¹¶æ’åº"></a> å½’å¹¶æ’åº</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> q[], <span class="type">int</span> l, <span class="type">int</span> r)</span>  <span class="comment">// å‡½æ•°å®ç°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">merge_sort</span>(q, l, mid);</span><br><span class="line">    <span class="built_in">merge_sort</span>(q, mid + <span class="number">1</span>, r);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>, i = l, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r)</span><br><span class="line">        <span class="keyword">if</span> (q[i] &lt;= q[j]) tmp[k ++ ] = q[i ++ ];</span><br><span class="line">        <span class="keyword">else</span> tmp[k ++ ] = q[j ++ ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid) tmp[k ++ ] = q[i ++ ];</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= r) tmp[k ++ ] = q[j ++ ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = l, j = <span class="number">0</span>; i &lt;= r; i ++, j ++ ) q[i] = tmp[j];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">merge_sort</span>(q, <span class="number">0</span>, n - <span class="number">1</span>);  <span class="comment">// è°ƒç”¨å‡½æ•°</span></span><br></pre></td></tr></table></figure>
<h2 id="æ•´æ•°äºŒåˆ†"><a class="markdownIt-Anchor" href="#æ•´æ•°äºŒåˆ†"></a> æ•´æ•°äºŒåˆ†</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;<span class="comment">/* ... */</span>&#125; <span class="comment">// æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid]å’Œ[mid + 1, r]æ—¶ä½¿ç”¨ï¼š</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bsearch_1</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">check</span>(mid)) r = mid;    <span class="comment">// check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨</span></span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid - 1]å’Œ[mid, r]æ—¶ä½¿ç”¨ï¼š</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bsearch_2</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">check</span>(mid)) l = mid;</span><br><span class="line">        <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æµ®ç‚¹æ•°äºŒåˆ†"><a class="markdownIt-Anchor" href="#æµ®ç‚¹æ•°äºŒåˆ†"></a> æµ®ç‚¹æ•°äºŒåˆ†</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">double</span> x)</span> </span>&#123;<span class="comment">/* ... */</span>&#125; <span class="comment">// æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">bsearch_3</span><span class="params">(<span class="type">double</span> l, <span class="type">double</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;   <span class="comment">// eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚</span></span><br><span class="line">    <span class="keyword">while</span> (r - l &gt; eps)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">double</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">check</span>(mid)) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç¦»æ•£åŒ–"><a class="markdownIt-Anchor" href="#ç¦»æ•£åŒ–"></a> ç¦»æ•£åŒ–</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; alls; <span class="comment">// å­˜å‚¨æ‰€æœ‰å¾…ç¦»æ•£åŒ–çš„å€¼ï¼Œå­˜å‚¨çš„æ˜¯ä½ç½®è€Œä¸æ˜¯å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sort</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()); <span class="comment">// å°†æ‰€æœ‰å€¼æ’åº</span></span><br><span class="line">alls.<span class="built_in">erase</span>(<span class="built_in">unique</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()), alls.<span class="built_in">end</span>());   <span class="comment">// å»æ‰é‡å¤å…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// äºŒåˆ†æ±‚å‡ºxå¯¹åº”çš„ç¦»æ•£åŒ–çš„å€¼</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> <span class="comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½®</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = alls.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (alls[mid] &gt;= x) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r + <span class="number">1</span>; <span class="comment">// æ˜ å°„åˆ°1, 2, ...n</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æ•°æ®ç»“æ„"><a class="markdownIt-Anchor" href="#æ•°æ®ç»“æ„"></a> æ•°æ®ç»“æ„</h1>
<h2 id="å•é“¾è¡¨"><a class="markdownIt-Anchor" href="#å•é“¾è¡¨"></a> å•é“¾è¡¨</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// headå­˜å‚¨é“¾è¡¨å¤´ï¼Œe[]å­˜å‚¨èŠ‚ç‚¹çš„å€¼ï¼Œne[]å­˜å‚¨èŠ‚ç‚¹çš„nextæŒ‡é’ˆï¼Œidxè¡¨ç¤ºå½“å‰ç”¨åˆ°äº†å“ªä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="type">int</span> head, e[N], ne[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    head = <span class="number">-1</span>;</span><br><span class="line">    idx = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•°a</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = a, ne[idx] = head, head = idx ++ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å¤´ç»“ç‚¹åˆ é™¤ï¼Œéœ€è¦ä¿è¯å¤´ç»“ç‚¹å­˜åœ¨</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    head = ne[head];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŒé“¾è¡¨"><a class="markdownIt-Anchor" href="#åŒé“¾è¡¨"></a> åŒé“¾è¡¨</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// e[]è¡¨ç¤ºèŠ‚ç‚¹çš„å€¼ï¼Œl[]è¡¨ç¤ºèŠ‚ç‚¹çš„å·¦æŒ‡é’ˆï¼Œr[]è¡¨ç¤ºèŠ‚ç‚¹çš„å³æŒ‡é’ˆï¼Œidxè¡¨ç¤ºå½“å‰ç”¨åˆ°äº†å“ªä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="type">int</span> e[N], l[N], r[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//0æ˜¯å·¦ç«¯ç‚¹ï¼Œ1æ˜¯å³ç«¯ç‚¹</span></span><br><span class="line">    r[<span class="number">0</span>] = <span class="number">1</span>, l[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    idx = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨èŠ‚ç‚¹açš„å³è¾¹æ’å…¥ä¸€ä¸ªæ•°x</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = x;</span><br><span class="line">    l[idx] = a, r[idx] = r[a];</span><br><span class="line">    l[r[a]] = idx, r[a] = idx ++ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤èŠ‚ç‚¹a</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    l[r[a]] = l[a];</span><br><span class="line">    r[l[a]] = r[a];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ ˆ"><a class="markdownIt-Anchor" href="#æ ˆ"></a> æ ˆ</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ttè¡¨ç¤ºæ ˆé¡¶</span></span><br><span class="line"><span class="type">int</span> stk[N], tt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªæ•°</span></span><br><span class="line">stk[ ++ tt] = x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªæ•°</span></span><br><span class="line">tt -- ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ˆé¡¶çš„å€¼</span></span><br><span class="line">stk[tt];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="keyword">if</span> (tt &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ™®é€šé˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#æ™®é€šé˜Ÿåˆ—"></a> æ™®é€šé˜Ÿåˆ—</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾</span></span><br><span class="line"><span class="type">int</span> q[N], hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•°</span></span><br><span class="line">q[ ++ tt] = x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°</span></span><br><span class="line">hh ++ ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é˜Ÿå¤´çš„å€¼</span></span><br><span class="line">q[hh];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="keyword">if</span> (hh &lt;= tt)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¾ªç¯é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#å¾ªç¯é˜Ÿåˆ—"></a> å¾ªç¯é˜Ÿåˆ—</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾çš„åä¸€ä¸ªä½ç½®</span></span><br><span class="line"><span class="type">int</span> q[N], hh = <span class="number">0</span>, tt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•°</span></span><br><span class="line">q[tt ++ ] = x;</span><br><span class="line"><span class="keyword">if</span> (tt == N) tt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°</span></span><br><span class="line">hh ++ ;</span><br><span class="line"><span class="keyword">if</span> (hh == N) hh = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é˜Ÿå¤´çš„å€¼</span></span><br><span class="line">q[hh];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="keyword">if</span> (hh != tt)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="kmp"><a class="markdownIt-Anchor" href="#kmp"></a> kmp</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// s[]æ˜¯é•¿æ–‡æœ¬ï¼Œp[]æ˜¯æ¨¡å¼ä¸²ï¼Œnæ˜¯sçš„é•¿åº¦ï¼Œmæ˜¯pçš„é•¿åº¦</span></span><br><span class="line">æ±‚æ¨¡å¼ä¸²çš„Nextæ•°ç»„ï¼š</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>, j = <span class="number">0</span>; i &lt;= m; i ++ )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (j &amp;&amp; p[i] != p[j + <span class="number">1</span>]) j = ne[j];</span><br><span class="line">    <span class="keyword">if</span> (p[i] == p[j + <span class="number">1</span>]) j ++ ;</span><br><span class="line">    ne[i] = j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒ¹é…</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt;= n; i ++ )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (j &amp;&amp; s[i] != p[j + <span class="number">1</span>]) j = ne[j];</span><br><span class="line">    <span class="keyword">if</span> (s[i] == p[j + <span class="number">1</span>]) j ++ ;</span><br><span class="line">    <span class="keyword">if</span> (j == m)</span><br><span class="line">    &#123;</span><br><span class="line">        j = ne[j];</span><br><span class="line">        <span class="comment">// åŒ¹é…æˆåŠŸåçš„é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="trieæ ‘"><a class="markdownIt-Anchor" href="#trieæ ‘"></a> Trieæ ‘</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> son[N][<span class="number">26</span>], cnt[N], idx;</span><br><span class="line"><span class="comment">// 0å·ç‚¹æ—¢æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">// son[][]å­˜å‚¨æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">// cnt[]å­˜å‚¨ä»¥æ¯ä¸ªèŠ‚ç‚¹ç»“å°¾çš„å•è¯æ•°é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; str[i]; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u = str[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (!son[p][u]) son[p][u] = ++ idx;</span><br><span class="line">        p = son[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    cnt[p] ++ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; str[i]; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u = str[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (!son[p][u]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        p = son[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt[p];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¹¶æŸ¥é›†"><a class="markdownIt-Anchor" href="#å¹¶æŸ¥é›†"></a> å¹¶æŸ¥é›†</h2>
<ul>
<li><code>p[i]</code> å­˜æ”¾çš„æ˜¯èŠ‚ç‚¹ i çš„çˆ¶èŠ‚ç‚¹</li>
<li>åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦å±äºä¸€ä¸ªé›†åˆï¼Œç›´æ¥åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹çš„ç¥–å®—èŠ‚ç‚¹æ˜¯å¦ç›¸ç­‰å³å¯ã€‚</li>
<li><code>find(x)</code> å‡½æ•°è¿”å›çš„å°±æ˜¯xçš„ç¥–å®—èŠ‚ç‚¹ï¼Œå…¶ä¸­è¿˜è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå°†æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½ç›´æ¥æŒ‡å‘äº†ç¥–å®—èŠ‚ç‚¹ã€‚</li>
<li>åˆå¹¶aã€bä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå°±æ˜¯å°†açš„ç¥–å®—èŠ‚ç‚¹æŒ‡å‘bçš„ç¥–å®—èŠ‚ç‚¹å³å¯ã€‚ç›¸å½“äºç»™ a çš„ç¥–å®—èŠ‚ç‚¹æ‰¾äº†ä¸ªçˆ¸ğŸ˜„ã€‚<code>p[find(a)] = find(b)</code></li>
</ul>
<h3 id="æœ´ç´ å¹¶æŸ¥é›†"><a class="markdownIt-Anchor" href="#æœ´ç´ å¹¶æŸ¥é›†"></a> æœ´ç´ å¹¶æŸ¥é›†</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> p[N]; <span class="comment">//å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p[x] != x) p[x] = <span class="built_in">find</span>(p[x]);</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) p[i] = i;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š</span></span><br><span class="line">p[<span class="built_in">find</span>(a)] = <span class="built_in">find</span>(b);</span><br></pre></td></tr></table></figure>
<h3 id="ç»´æŠ¤-size-çš„å¹¶æŸ¥é›†"><a class="markdownIt-Anchor" href="#ç»´æŠ¤-size-çš„å¹¶æŸ¥é›†"></a> ç»´æŠ¤ <code>size</code> çš„å¹¶æŸ¥é›†</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> p[N], size[N];</span><br><span class="line"><span class="comment">//p[]å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹, size[]åªæœ‰ç¥–å®—èŠ‚ç‚¹çš„æœ‰æ„ä¹‰ï¼Œè¡¨ç¤ºç¥–å®—èŠ‚ç‚¹æ‰€åœ¨é›†åˆä¸­çš„ç‚¹çš„æ•°é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p[x] != x) p[x] = <span class="built_in">find</span>(p[x]);</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">&#123;</span><br><span class="line">    p[i] = i;</span><br><span class="line">    size[i] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š</span></span><br><span class="line">size[<span class="built_in">find</span>(b)] += size[<span class="built_in">find</span>(a)];</span><br><span class="line">p[<span class="built_in">find</span>(a)] = <span class="built_in">find</span>(b);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ç»´æŠ¤åˆ°ç¥–å®—èŠ‚ç‚¹è·ç¦»çš„å¹¶æŸ¥é›†"><a class="markdownIt-Anchor" href="#ç»´æŠ¤åˆ°ç¥–å®—èŠ‚ç‚¹è·ç¦»çš„å¹¶æŸ¥é›†"></a> ç»´æŠ¤åˆ°ç¥–å®—èŠ‚ç‚¹è·ç¦»çš„å¹¶æŸ¥é›†</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> p[N], d[N];</span><br><span class="line"><span class="comment">//p[]å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹, d[x]å­˜å‚¨xåˆ°p[x]çš„è·ç¦»</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p[x] != x)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u = <span class="built_in">find</span>(p[x]);</span><br><span class="line">        d[x] += d[p[x]];</span><br><span class="line">        p[x] = u;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">&#123;</span><br><span class="line">    p[i] = i;</span><br><span class="line">    d[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š</span></span><br><span class="line">p[<span class="built_in">find</span>(a)] = <span class="built_in">find</span>(b);</span><br><span class="line">d[<span class="built_in">find</span>(a)] = distance; <span class="comment">// æ ¹æ®å…·ä½“é—®é¢˜ï¼Œåˆå§‹åŒ–find(a)çš„åç§»é‡</span></span><br></pre></td></tr></table></figure>
<h2 id="å †"><a class="markdownIt-Anchor" href="#å †"></a> å †</h2>
<p>å †æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ã€‚</p>
<p><strong>å°æ ¹å †</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºç­‰äºå·¦å³å­èŠ‚ç‚¹çš„å€¼ï¼Œ</p>
<p><strong>å¤§æ ¹å †</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå·¦å³å­èŠ‚ç‚¹çš„å€¼ã€‚</p>
<p><code>priority_queue</code> æ˜¯STLä¸­çš„å †ï¼Œé»˜è®¤æ˜¯å¤§æ ¹å †ï¼Œå®šä¹‰ä¸ºå°æ ¹å †çš„æ–¹å¼ï¼Œ<code>priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; q</code></p>
<p>æ’å…¥æ–°çš„å…ƒç´ ï¼Œå°†æ•°æ®æ’å…¥æ•°ç»„æœ«å°¾ï¼Œç„¶åç”¨<code>up</code>å‡½æ•°ä¾æ¬¡äº¤æ¢ã€‚</p>
<ul>
<li><code>heap[++ size] = x; up(size);</code></li>
</ul>
<p>åˆ é™¤å…ƒç´ ï¼Œå°†éœ€è¦åˆ é™¤çš„å…ƒç´ å’Œæœ«å°¾å…ƒç´ äº¤æ¢ï¼Œç„¶åå°†æœ€åä¸€ä¸ªå…ƒç´ åˆ é™¤ï¼Œç„¶åç”¨<code>down</code>å‡½æ•°å°†äº¤æ¢çš„å…ƒç´ ä½ç½®è¿›è¡Œè°ƒæ•´ã€‚</p>
<ul>
<li>åˆ é™¤æœ€å°å€¼ï¼š<code>heap[1] = heap[size]; size --; down(1);</code></li>
<li>åˆ é™¤ä»»æ„å…ƒç´ ï¼š<code>heap[k] = heap[size]; size --; down(k); up(k);</code>ï¼Œå…¶å®<code>down</code>å’Œ<code>up</code>åªä¼šæ‰§è¡Œä¸€ä¸ª</li>
<li>ä¿®æ”¹ä»»æ„å…ƒç´ ï¼š<code>heap[k] = x; down(k); up(k);</code></li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// h[N]å­˜å‚¨å †ä¸­çš„å€¼, h[1]æ˜¯å †é¡¶ï¼Œxçš„å·¦å„¿å­æ˜¯2x, å³å„¿å­æ˜¯2x + 1</span></span><br><span class="line"><span class="comment">// ph[k]å­˜å‚¨ç¬¬kä¸ªæ’å…¥çš„ç‚¹åœ¨å †ä¸­çš„ä½ç½®</span></span><br><span class="line"><span class="comment">// hp[k]å­˜å‚¨å †ä¸­ä¸‹æ ‡æ˜¯kçš„ç‚¹æ˜¯ç¬¬å‡ ä¸ªæ’å…¥çš„</span></span><br><span class="line"><span class="type">int</span> h[N], ph[N], hp[N], size;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº¤æ¢ä¸¤ä¸ªç‚¹ï¼ŒåŠå…¶æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heap_swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">swap</span>(ph[hp[a]],ph[hp[b]]);</span><br><span class="line">    <span class="built_in">swap</span>(hp[a], hp[b]);</span><br><span class="line">    <span class="built_in">swap</span>(h[a], h[b]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">down</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t = u;</span><br><span class="line">    <span class="keyword">if</span> (u * <span class="number">2</span> &lt;= size &amp;&amp; h[u * <span class="number">2</span>] &lt; h[t]) t = u * <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (u * <span class="number">2</span> + <span class="number">1</span> &lt;= size &amp;&amp; h[u * <span class="number">2</span> + <span class="number">1</span>] &lt; h[t]) t = u * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (u != t)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">heap_swap</span>(u, t);</span><br><span class="line">        <span class="built_in">down</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">up</span><span class="params">(<span class="type">int</span> u)</span>  <span class="comment">// åœ¨å †å°¾æ’å…¥æ–°èŠ‚ç‚¹å¹¶ä¾æ¬¡ä¸å…¶çˆ¶èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒäº¤æ¢</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (u / <span class="number">2</span> &amp;&amp; h[u] &lt; h[u / <span class="number">2</span>])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">heap_swap</span>(u, u / <span class="number">2</span>);</span><br><span class="line">        u &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(n)å»ºå †</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = n / <span class="number">2</span>; i; i -- ) <span class="built_in">down</span>(i);</span><br></pre></td></tr></table></figure>
<h2 id="å“ˆå¸Œè¡¨"><a class="markdownIt-Anchor" href="#å“ˆå¸Œè¡¨"></a> å“ˆå¸Œè¡¨</h2>
<h3 id="æ‹‰é“¾æ³•"><a class="markdownIt-Anchor" href="#æ‹‰é“¾æ³•"></a> æ‹‰é“¾æ³•</h3>
<ul>
<li>æ•°æ®ç»“æ„å½¢å¦‚é‚»æ¥è¡¨ï¼Œå°†éœ€è¦ç¦»æ•£çš„æ•°é™¤ä»¥è¶…è¿‡èŒƒå›´çš„æœ€å°è´¨æ•°ï¼Œå¾—å‡ºæ¥çš„å€¼æ’å…¥è¯¥ä½ç½®çš„é‚»æ¥è¡¨ä¸­å³å¯ã€‚</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> h[N], e[N], ne[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å“ˆå¸Œè¡¨ä¸­æ’å…¥ä¸€ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> k = (x % N + N) % N;  <span class="comment">// x å¯èƒ½æ˜¯è´Ÿæ•°ï¼Œéœ€è¦ç»“æœæ˜¯æ­£æ•°</span></span><br><span class="line">    e[idx] = x;</span><br><span class="line">    ne[idx] = h[k];</span><br><span class="line">    h[k] = idx ++ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥è¯¢æŸä¸ªæ•°æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> k = (x % N + N) % N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[k]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        <span class="keyword">if</span> (e[i] == x)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¼€æ”¾å¯»å€æ³•"><a class="markdownIt-Anchor" href="#å¼€æ”¾å¯»å€æ³•"></a> å¼€æ”¾å¯»å€æ³•</h3>
<p>å¦‚æœxåœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xçš„ä¸‹æ ‡ï¼›å¦‚æœxä¸åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xåº”è¯¥æ’å…¥çš„ä½ç½®</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> h[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœxåœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xçš„ä¸‹æ ‡ï¼›å¦‚æœxä¸åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xåº”è¯¥æ’å…¥çš„ä½ç½®</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t = (x % N + N) % N;</span><br><span class="line">    <span class="keyword">while</span> (h[t] != null &amp;&amp; h[t] != x)</span><br><span class="line">    &#123;</span><br><span class="line">        t ++ ;</span><br><span class="line">        <span class="keyword">if</span> (t == N) t = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å­—ç¬¦ä¸²å“ˆå¸Œè¡¨"><a class="markdownIt-Anchor" href="#å­—ç¬¦ä¸²å“ˆå¸Œè¡¨"></a> å­—ç¬¦ä¸²å“ˆå¸Œè¡¨</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">æ ¸å¿ƒæ€æƒ³ï¼šå°†å­—ç¬¦ä¸²çœ‹æˆPè¿›åˆ¶æ•°ï¼ŒPçš„ç»éªŒå€¼æ˜¯<span class="number">131</span>æˆ–<span class="number">13331</span>ï¼Œå–è¿™ä¸¤ä¸ªå€¼çš„å†²çªæ¦‚ç‡ä½</span><br><span class="line">å°æŠ€å·§ï¼šå–æ¨¡çš„æ•°ç”¨<span class="number">2</span>^<span class="number">64</span>ï¼Œè¿™æ ·ç›´æ¥ç”¨<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>å­˜å‚¨ï¼Œæº¢å‡ºçš„ç»“æœå°±æ˜¯å–æ¨¡çš„ç»“æœ</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ULL;</span><br><span class="line">ULL h[N], p[N]; <span class="comment">// h[k]å­˜å‚¨å­—ç¬¦ä¸²å‰kä¸ªå­—æ¯çš„å“ˆå¸Œå€¼, p[k]å­˜å‚¨ P^k mod 2^64</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">&#123;</span><br><span class="line">    h[i] = h[i - <span class="number">1</span>] * P + str[i];</span><br><span class="line">    p[i] = p[i - <span class="number">1</span>] * P;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—å­ä¸² str[l ~ r] çš„å“ˆå¸Œå€¼</span></span><br><span class="line"><span class="function">ULL <span class="title">get</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h[r] - h[l - <span class="number">1</span>] * p[r - l + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="stl"><a class="markdownIt-Anchor" href="#stl"></a> STL</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">vector, å˜é•¿æ•°ç»„ï¼Œå€å¢çš„æ€æƒ³</span><br><span class="line">    <span class="built_in">size</span>()  è¿”å›å…ƒç´ ä¸ªæ•°</span><br><span class="line">    <span class="built_in">empty</span>()  è¿”å›æ˜¯å¦ä¸ºç©º</span><br><span class="line">    <span class="built_in">clear</span>()  æ¸…ç©º</span><br><span class="line">    <span class="built_in">front</span>()/<span class="built_in">back</span>()</span><br><span class="line">    <span class="built_in">push_back</span>()/<span class="built_in">pop_back</span>()</span><br><span class="line">    <span class="built_in">begin</span>()/<span class="built_in">end</span>()</span><br><span class="line">    []</span><br><span class="line">    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼ŒæŒ‰å­—å…¸åº</span><br><span class="line"></span><br><span class="line">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;</span><br><span class="line">    first, ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    second, ç¬¬äºŒä¸ªå…ƒç´ </span><br><span class="line">    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼Œä»¥firstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œä»¥secondä¸ºç¬¬äºŒå…³é”®å­—ï¼ˆå­—å…¸åºï¼‰</span><br><span class="line"></span><br><span class="line">stringï¼Œå­—ç¬¦ä¸²</span><br><span class="line">    <span class="built_in">size</span>()/<span class="built_in">length</span>()  è¿”å›å­—ç¬¦ä¸²é•¿åº¦</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">clear</span>()</span><br><span class="line">    <span class="built_in">substr</span>(èµ·å§‹ä¸‹æ ‡ï¼Œ(å­ä¸²é•¿åº¦))  è¿”å›å­ä¸²</span><br><span class="line">    <span class="built_in">c_str</span>()  è¿”å›å­—ç¬¦ä¸²æ‰€åœ¨å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€</span><br><span class="line"></span><br><span class="line">queue, é˜Ÿåˆ—</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">push</span>()  å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    <span class="built_in">front</span>()  è¿”å›é˜Ÿå¤´å…ƒç´ </span><br><span class="line">    <span class="built_in">back</span>()  è¿”å›é˜Ÿå°¾å…ƒç´ </span><br><span class="line">    <span class="built_in">pop</span>()  å¼¹å‡ºé˜Ÿå¤´å…ƒç´ </span><br><span class="line"></span><br><span class="line">priority_queue, ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯å¤§æ ¹å †</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">push</span>()  æ’å…¥ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    <span class="built_in">top</span>()  è¿”å›å †é¡¶å…ƒç´ </span><br><span class="line">    <span class="built_in">pop</span>()  å¼¹å‡ºå †é¡¶å…ƒç´ </span><br><span class="line">    å®šä¹‰æˆå°æ ¹å †çš„æ–¹å¼ï¼špriority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; q;</span><br><span class="line"></span><br><span class="line">stack, æ ˆ</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">push</span>()  å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    <span class="built_in">top</span>()  è¿”å›æ ˆé¡¶å…ƒç´ </span><br><span class="line">    <span class="built_in">pop</span>()  å¼¹å‡ºæ ˆé¡¶å…ƒç´ </span><br><span class="line"></span><br><span class="line">deque, åŒç«¯é˜Ÿåˆ—</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">clear</span>()</span><br><span class="line">    <span class="built_in">front</span>()/<span class="built_in">back</span>()</span><br><span class="line">    <span class="built_in">push_back</span>()/<span class="built_in">pop_back</span>()</span><br><span class="line">    <span class="built_in">push_front</span>()/<span class="built_in">pop_front</span>()</span><br><span class="line">    <span class="built_in">begin</span>()/<span class="built_in">end</span>()</span><br><span class="line">    []</span><br><span class="line"></span><br><span class="line">set, map, multiset, multimap, åŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ—</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">clear</span>()</span><br><span class="line">    <span class="built_in">begin</span>()/<span class="built_in">end</span>()</span><br><span class="line">    ++, -- è¿”å›å‰é©±å’Œåç»§ï¼Œæ—¶é—´å¤æ‚åº¦ <span class="built_in">O</span>(logn)</span><br><span class="line"></span><br><span class="line">    set/<span class="function">multiset</span></span><br><span class="line"><span class="function">        <span class="title">insert</span><span class="params">()</span>  æ’å…¥ä¸€ä¸ªæ•°</span></span><br><span class="line"><span class="function">        <span class="title">find</span><span class="params">()</span>  æŸ¥æ‰¾ä¸€ä¸ªæ•°</span></span><br><span class="line"><span class="function">        <span class="title">count</span><span class="params">()</span>  è¿”å›æŸä¸€ä¸ªæ•°çš„ä¸ªæ•°</span></span><br><span class="line"><span class="function">        <span class="title">erase</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            <span class="params">(<span class="number">1</span>)</span> è¾“å…¥æ˜¯ä¸€ä¸ªæ•°xï¼Œåˆ é™¤æ‰€æœ‰x   <span class="title">O</span><span class="params">(k + logn)</span></span></span><br><span class="line"><span class="function">            <span class="params">(<span class="number">2</span>)</span> è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ é™¤è¿™ä¸ªè¿­ä»£å™¨</span></span><br><span class="line"><span class="function">        <span class="title">lower_bound</span><span class="params">()</span>/<span class="title">upper_bound</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            <span class="title">lower_bound</span><span class="params">(x)</span>  è¿”å›å¤§äºç­‰äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="function">            <span class="title">upper_bound</span><span class="params">(x)</span>  è¿”å›å¤§äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="function">    map/multimap</span></span><br><span class="line"><span class="function">        <span class="title">insert</span><span class="params">()</span>  æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair</span></span><br><span class="line"><span class="function">        <span class="title">erase</span><span class="params">()</span>  è¾“å…¥çš„å‚æ•°æ˜¯pairæˆ–è€…è¿­ä»£å™¨</span></span><br><span class="line"><span class="function">        <span class="title">find</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        []  æ³¨æ„multimapä¸æ”¯æŒæ­¤æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="title">O</span><span class="params">(logn)</span></span></span><br><span class="line"><span class="function">        <span class="title">lower_bound</span><span class="params">()</span>/<span class="title">upper_bound</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">unordered_set, unordered_map, unordered_multiset, unordered_multimap, å“ˆå¸Œè¡¨</span></span><br><span class="line"><span class="function">    å’Œä¸Šé¢ç±»ä¼¼ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="title">O</span><span class="params">(<span class="number">1</span>)</span></span></span><br><span class="line"><span class="function">    ä¸æ”¯æŒ <span class="title">lower_bound</span><span class="params">()</span>/<span class="title">upper_bound</span><span class="params">()</span>ï¼Œ è¿­ä»£å™¨çš„++ï¼Œ--</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">bitset, åœ§ä½</span></span><br><span class="line"><span class="function">    bitset&lt;10000&gt; s</span>;</span><br><span class="line">    ~, &amp;, |, ^</span><br><span class="line">    &gt;&gt;, &lt;&lt;</span><br><span class="line">    ==, !=</span><br><span class="line">    []</span><br><span class="line"></span><br><span class="line">    <span class="built_in">count</span>()  è¿”å›æœ‰å¤šå°‘ä¸ª<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">any</span>()  åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª<span class="number">1</span></span><br><span class="line">    <span class="built_in">none</span>()  åˆ¤æ–­æ˜¯å¦å…¨ä¸º<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">set</span>()  æŠŠæ‰€æœ‰ä½ç½®æˆ<span class="number">1</span></span><br><span class="line">    <span class="built_in">set</span>(k, v)  å°†ç¬¬kä½å˜æˆv</span><br><span class="line">    <span class="built_in">reset</span>()  æŠŠæ‰€æœ‰ä½å˜æˆ<span class="number">0</span></span><br><span class="line">    <span class="built_in">flip</span>()  ç­‰ä»·äº~</span><br><span class="line">    <span class="built_in">flip</span>(k) æŠŠç¬¬kä½å–å</span><br></pre></td></tr></table></figure>
<h1 id="æœç´¢ä¸å›¾è®º"><a class="markdownIt-Anchor" href="#æœç´¢ä¸å›¾è®º"></a> æœç´¢ä¸å›¾è®º</h1>
<h2 id="é‚»æ¥è¡¨"><a class="markdownIt-Anchor" href="#é‚»æ¥è¡¨"></a> é‚»æ¥è¡¨</h2>
<ul>
<li><code>h[i]</code>  å­˜æ”¾çš„æ˜¯ç¬¬iä¸ªèŠ‚ç‚¹çš„å¤´èŠ‚ç‚¹ï¼Œ<code>h[]</code> æ•°ç»„éœ€è¦åˆå§‹åŒ–ä¸º-1ï¼Œ</li>
<li><code>e[i]</code> å­˜æ”¾çš„æ˜¯ç¬¬iä¸ªèŠ‚ç‚¹çš„å€¼</li>
<li><code>ne[i]</code> å­˜æ”¾çš„æ˜¯ç¬¬iä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä½ç½®ã€‚</li>
<li>é‚»æ¥è¡¨é‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ã€‚</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¹äºæ¯ä¸ªç‚¹kï¼Œå¼€ä¸€ä¸ªå•é“¾è¡¨ï¼Œå­˜å‚¨kæ‰€æœ‰å¯ä»¥èµ°åˆ°çš„ç‚¹ã€‚h[k]å­˜å‚¨è¿™ä¸ªå•é“¾è¡¨çš„å¤´ç»“ç‚¹</span></span><br><span class="line"><span class="type">int</span> h[N], e[N], ne[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ ä¸€æ¡è¾¹a-&gt;b</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">idx = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);</span><br></pre></td></tr></table></figure>
<h2 id="æ ‘ä¸å›¾çš„éå†"><a class="markdownIt-Anchor" href="#æ ‘ä¸å›¾çš„éå†"></a> æ ‘ä¸å›¾çš„éå†</h2>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n + m)</code> ï¼Œnè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•°</p>
<h3 id="æ·±åº¦ä¼˜å…ˆéå†"><a class="markdownIt-Anchor" href="#æ·±åº¦ä¼˜å…ˆéå†"></a> æ·±åº¦ä¼˜å…ˆéå†</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å›¾ä¸­èŠ‚ç‚¹é‡‡ç”¨é‚»æ¥è¡¨è¿›è¡Œå­˜å‚¨</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    st[u] = <span class="literal">true</span>; <span class="comment">// st[u] è¡¨ç¤ºç‚¹uå·²ç»è¢«éå†è¿‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[u]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span> (!st[j]) <span class="built_in">dfs</span>(j);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å®½åº¦ä¼˜å…ˆéå†"><a class="markdownIt-Anchor" href="#å®½åº¦ä¼˜å…ˆéå†"></a> å®½åº¦ä¼˜å…ˆéå†</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// éœ€è¦å€ŸåŠ©é˜Ÿåˆ—è¿›è¡Œéå†</span></span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">st[<span class="number">1</span>] = <span class="literal">true</span>; <span class="comment">// è¡¨ç¤º1å·ç‚¹å·²ç»è¢«éå†è¿‡</span></span><br><span class="line">q.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (q.<span class="built_in">size</span>())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">    q.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span> (!st[j])</span><br><span class="line">        &#123;</span><br><span class="line">            st[j] = <span class="literal">true</span>; <span class="comment">// è¡¨ç¤ºç‚¹jå·²ç»è¢«éå†è¿‡</span></span><br><span class="line">            q.<span class="built_in">push</span>(j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ‹“æ‰‘æ’åº"><a class="markdownIt-Anchor" href="#æ‹“æ‰‘æ’åº"></a> æ‹“æ‰‘æ’åº</h2>
<p>åªé’ˆå¯¹æœ‰å‘å›¾ï¼Œæ— å‘å›¾ä¸å­˜åœ¨æ‹“æ‰‘åºåˆ—ã€‚æœ¬è´¨å°±æ˜¯å®½åº¦ä¼˜å…ˆéå†çš„åº”ç”¨ã€‚</p>
<p><strong>æœ‰å‘æ— ç¯å›¾</strong> ä¸€å®šå­˜åœ¨æ‹“æ‰‘åºåˆ—ï¼Œæœ‰å‘æ— ç¯å›¾åˆè¢«ç§°ä¸º <strong>æ‹“æœ´å›¾</strong></p>
<p><img src="%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/image-20220915150502564.png" alt="image-20220915150502564" /></p>
<p><strong>ç®—æ³•æ­¥éª¤</strong></p>
<ul>
<li>å°†æ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹å…¥é˜Ÿï¼Œ</li>
<li>å–å‡ºå¯¹å¤´ï¼Œæšä¸¾å¯¹å¤´å…ƒç´ çš„æ‰€æœ‰å‡ºè¾¹<code>t-&gt;j</code>ï¼Œåˆ æ‰è¾¹<code>t-&gt;j</code>ï¼Œ<code>d[j] --</code> è¡¨ç¤ºå°†èŠ‚ç‚¹ j çš„å…¥åº¦å‡ä¸€</li>
<li>å¦‚æœ<code>d[j] == 0</code> åˆ™å°† j å…¥é˜Ÿ</li>
</ul>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n + m)</code> ï¼Œnè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">topsort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// d[i] å­˜å‚¨ç‚¹içš„å…¥åº¦</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (!d[i])  <span class="comment">// æ‰¾åˆ°å…¥åº¦ä¸º0çš„ç‚¹ï¼Œå› ä¸ºä¸€ä¸ªæ— ç¯å›¾è‡³å°‘å­˜åœ¨ä¸€ä¸ªå…¥åº¦ä¸º0çš„ç‚¹</span></span><br><span class="line">            q[ ++ tt] = i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (hh &lt;= tt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = q[hh ++ ];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (-- d[j] == <span class="number">0</span>)</span><br><span class="line">                q[ ++ tt] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæ‰€æœ‰ç‚¹éƒ½å…¥é˜Ÿäº†ï¼Œè¯´æ˜å­˜åœ¨æ‹“æ‰‘åºåˆ—ï¼›å¦åˆ™ä¸å­˜åœ¨æ‹“æ‰‘åºåˆ—ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> tt == n - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="dijkstraç®—æ³•"><a class="markdownIt-Anchor" href="#dijkstraç®—æ³•"></a> Dijkstraç®—æ³•</h2>
<h3 id="æœ´ç´ ç‰ˆdijkstra"><a class="markdownIt-Anchor" href="#æœ´ç´ ç‰ˆdijkstra"></a> æœ´ç´ ç‰ˆdijkstra</h3>
<p><strong>ç®—æ³•æ­¥éª¤</strong></p>
<ul>
<li>è¿­ä»£n - 1æ¬¡ï¼Œå› ä¸ºèµ·ç‚¹å·²ç»åŠ å…¥äº†ï¼Œæ‰€ä»¥åªéœ€è¦å†æ‰¾n - 1ä¸ªç‚¹å³å¯ã€‚</li>
<li>åœ¨æ²¡æœ‰ç¡®å®šçš„èŠ‚ç‚¹ä¸­æ‰¾è·ç¦»èµ·ç‚¹å€¼æœ€å°çš„èŠ‚ç‚¹ã€‚</li>
<li>å¾ªç¯éå†ç”¨è¯¥èŠ‚ç‚¹æ›´æ–°èµ·ç‚¹åˆ°å…¶ä»–èŠ‚ç‚¹çš„è·ç¦»ã€‚</li>
</ul>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: <code>O(n ^ 2 + m)</code>, n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> g[N][N];  <span class="comment">// å­˜å‚¨æ¯æ¡è¾¹</span></span><br><span class="line"><span class="type">int</span> dist[N];  <span class="comment">// å­˜å‚¨1å·ç‚¹åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class="line"><span class="type">bool</span> st[N];   <span class="comment">// å­˜å‚¨æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æ˜¯å¦å·²ç»ç¡®å®š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·¯ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;     <span class="comment">// åœ¨è¿˜æœªç¡®å®šæœ€çŸ­è·¯çš„ç‚¹ä¸­ï¼Œå¯»æ‰¾è·ç¦»æœ€å°çš„ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++ )</span><br><span class="line">            <span class="keyword">if</span> (!st[j] &amp;&amp; (t == <span class="number">-1</span> || dist[t] &gt; dist[j]))</span><br><span class="line">                t = j;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++ )</span><br><span class="line">            dist[j] = <span class="built_in">min</span>(dist[j], dist[t] + g[t][j]);</span><br><span class="line"></span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (dist[n] == <span class="number">0x3f3f3f3f</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å †ä¼˜åŒ–ç‰ˆdijkstra"><a class="markdownIt-Anchor" href="#å †ä¼˜åŒ–ç‰ˆdijkstra"></a> å †ä¼˜åŒ–ç‰ˆdijkstra</h3>
<p><strong>ç®—æ³•æ­¥éª¤</strong></p>
<p>å’Œæœ´ç´ ç‰ˆdijkstraç®—æ³•ç±»ä¼¼ï¼Œä½†æ˜¯æ¯æ¬¡ä¸éœ€è¦æ‰¾æ²¡ç¡®å®šçš„è·ç¦»èµ·ç‚¹æœ€å°çš„èŠ‚ç‚¹ã€‚å› ä¸ºé‡‡ç”¨å°æ ¹å †çš„æ–¹å¼å­˜å‚¨ï¼Œå †é¡¶å…ƒç´ æ°¸è¿œå­˜å‚¨çš„æ˜¯å½“å‰è·ç¦»èµ·ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹ã€‚</p>
<ul>
<li>è‹¥è¯¥èŠ‚ç‚¹å·²ç»ç¡®å®šè¿‡äº†ï¼Œåˆ™å–å‡ºä¸‹ä¸€èŠ‚ç‚¹ï¼Œç›´åˆ°å–åˆ°æ—¢æ²¡æœ‰ç¡®å®šä¹Ÿæ˜¯è·ç¦»èµ·ç‚¹æœ€å°çš„èŠ‚ç‚¹ä¸ºæ­¢ã€‚</li>
<li>ç”¨è¯¥èŠ‚ç‚¹æ›´æ–°å‰©ä½™æ²¡ç¡®å®šèŠ‚ç‚¹å’Œèµ·ç‚¹é—´çš„è·ç¦»</li>
</ul>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: <code>O(mlogn)</code>, n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;      <span class="comment">// ç‚¹çš„æ•°é‡</span></span><br><span class="line"><span class="type">int</span> h[N], w[N], e[N], ne[N], idx;       <span class="comment">// é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹</span></span><br><span class="line"><span class="type">int</span> dist[N];        <span class="comment">// å­˜å‚¨æ‰€æœ‰ç‚¹åˆ°1å·ç‚¹çš„è·ç¦»</span></span><br><span class="line"><span class="type">bool</span> st[N];     <span class="comment">// å­˜å‚¨æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»æ˜¯å¦å·²ç¡®å®š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; heap;</span><br><span class="line">    heap.<span class="built_in">push</span>(&#123;<span class="number">0</span>, <span class="number">1</span>&#125;);      <span class="comment">// firstå­˜å‚¨è·ç¦»ï¼Œsecondå­˜å‚¨èŠ‚ç‚¹ç¼–å·,è¿™æ ·å°±å¯ä»¥æŒ‰ç…§èŠ‚ç‚¹è·ç¦»è¿›è¡Œæ’åº</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (heap.<span class="built_in">size</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> t = heap.<span class="built_in">top</span>();</span><br><span class="line">        heap.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> ver = t.second, distance = t.first;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (st[ver]) <span class="keyword">continue</span>;</span><br><span class="line">        st[ver] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[ver]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (dist[j] &gt; distance + w[i])</span><br><span class="line">            &#123;</span><br><span class="line">                dist[j] = distance + w[i];</span><br><span class="line">                heap.<span class="built_in">push</span>(&#123;dist[j], j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (dist[n] == <span class="number">0x3f3f3f3f</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="bellman-fordç®—æ³•"><a class="markdownIt-Anchor" href="#bellman-fordç®—æ³•"></a> Bellman-Fordç®—æ³•</h2>
<p>å¯ä»¥ç›´æ¥ä½¿ç”¨ç»“æ„ä½“æ•°ç»„å­˜å‚¨æ‰€æœ‰è¾¹çš„ä¿¡æ¯ã€‚</p>
<p><strong>ä¼ªä»£ç </strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="number">0</span> to n - <span class="number">1</span>   <span class="comment">// å¾ªç¯næ¬¡</span></span><br><span class="line">    <span class="keyword">for</span> a -&gt; b   <span class="comment">// éå†æ‰€æœ‰è¾¹ï¼Œa -&gt; b çš„æƒå€¼æ˜¯w</span></span><br><span class="line">        <span class="keyword">if</span>(dist[b] &gt; dist[a] + w)</span><br><span class="line">        	dist[b] = <span class="built_in">min</span>(dist[b], dist[a] + w)</span><br></pre></td></tr></table></figure>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: <code>O(mn)</code>, n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> n, m;       <span class="comment">// nè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•°</span></span><br><span class="line"><span class="type">int</span> dist[N];        <span class="comment">// dist[x]å­˜å‚¨1åˆ°xçš„æœ€çŸ­è·¯è·ç¦»</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;     <span class="comment">// è¾¹ï¼Œaè¡¨ç¤ºå‡ºç‚¹ï¼Œbè¡¨ç¤ºå…¥ç‚¹ï¼Œwè¡¨ç¤ºè¾¹çš„æƒé‡</span></span><br><span class="line">    <span class="type">int</span> a, b, w;</span><br><span class="line">&#125;edges[M];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚1åˆ°nçš„æœ€çŸ­è·¯è·ç¦»ï¼Œå¦‚æœæ— æ³•ä»1èµ°åˆ°nï¼Œåˆ™è¿”å›-1ã€‚</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bellman_ford</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœç¬¬næ¬¡è¿­ä»£ä»ç„¶ä¼šæ¾å¼›ä¸‰è§’ä¸ç­‰å¼ï¼Œå°±è¯´æ˜å­˜åœ¨ä¸€æ¡é•¿åº¦æ˜¯n+1çš„æœ€çŸ­è·¯å¾„ï¼Œç”±æŠ½å±‰åŸç†ï¼Œè·¯å¾„ä¸­è‡³å°‘å­˜åœ¨ä¸¤ä¸ªç›¸åŒçš„ç‚¹ï¼Œè¯´æ˜å›¾ä¸­å­˜åœ¨è´Ÿæƒå›è·¯ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> a = edges[j].a, b = edges[j].b, w = edges[j].w;</span><br><span class="line">            <span class="keyword">if</span> (dist[b] &gt; dist[a] + w)</span><br><span class="line">                dist[b] = dist[a] + w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (dist[n] &gt; <span class="number">0x3f3f3f3f</span> / <span class="number">2</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="spfaç®—æ³•"><a class="markdownIt-Anchor" href="#spfaç®—æ³•"></a> spfaç®—æ³•</h2>
<p>æœ¬è´¨å°±æ˜¯ä½¿ç”¨ <strong>bfs</strong> å¯¹ <em>Bellman-Ford</em> ç®—æ³•è¿›è¡Œä¼˜åŒ–</p>
<p><strong>ä¼ªä»£ç </strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">queue &lt;- 1;</span><br><span class="line"><span class="keyword">while</span> queueä¸ç©º</span><br><span class="line">    t &lt;- q.front()</span><br><span class="line">	q.pop()</span><br><span class="line">    æ›´æ–°tçš„æ‰€æœ‰å‡ºè¾¹ t -&gt; b</span><br><span class="line">    <span class="keyword">if</span> b <span class="keyword">not</span> in queue</span><br><span class="line">        q.<span class="built_in">push</span>(b)</span><br></pre></td></tr></table></figure>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: å¹³å‡æƒ…å†µä¸‹<code>O(m)</code>, æœ€åæƒ…å†µä¸‹ <code>O(mn)</code>, n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> n;      <span class="comment">// æ€»ç‚¹æ•°</span></span><br><span class="line"><span class="type">int</span> h[N], w[N], e[N], ne[N], idx;       <span class="comment">// é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹</span></span><br><span class="line"><span class="type">int</span> dist[N];        <span class="comment">// å­˜å‚¨æ¯ä¸ªç‚¹åˆ°1å·ç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class="line"><span class="type">bool</span> st[N];     <span class="comment">// å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·¯è·ç¦»ï¼Œå¦‚æœä»1å·ç‚¹æ— æ³•èµ°åˆ°nå·ç‚¹åˆ™è¿”å›-1</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">spfa</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (dist[j] &gt; dist[t] + w[i])</span><br><span class="line">            &#123;</span><br><span class="line">                dist[j] = dist[t] + w[i];</span><br><span class="line">                <span class="keyword">if</span> (!st[j])     <span class="comment">// å¦‚æœé˜Ÿåˆ—ä¸­å·²å­˜åœ¨jï¼Œåˆ™ä¸éœ€è¦å°†jé‡å¤æ’å…¥</span></span><br><span class="line">                &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (dist[n] == <span class="number">0x3f3f3f3f</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="spfaåˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯"><a class="markdownIt-Anchor" href="#spfaåˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯"></a> spfaåˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯</h3>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: <code>O(mn)</code>, n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> n;      <span class="comment">// æ€»ç‚¹æ•°</span></span><br><span class="line"><span class="type">int</span> h[N], w[N], e[N], ne[N], idx;       <span class="comment">// é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹</span></span><br><span class="line"><span class="type">int</span> dist[N], cnt[N];        <span class="comment">// dist[x]å­˜å‚¨1å·ç‚¹åˆ°xçš„æœ€çŸ­è·ç¦»ï¼Œcnt[x]å­˜å‚¨1åˆ°xçš„æœ€çŸ­è·¯ä¸­ç»è¿‡çš„ç‚¹æ•°</span></span><br><span class="line"><span class="type">bool</span> st[N];     <span class="comment">// å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœå­˜åœ¨è´Ÿç¯ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">spfa</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ä¸éœ€è¦åˆå§‹åŒ–distæ•°ç»„</span></span><br><span class="line">    <span class="comment">// åŸç†ï¼šå¦‚æœæŸæ¡æœ€çŸ­è·¯å¾„ä¸Šæœ‰nä¸ªç‚¹ï¼ˆé™¤äº†è‡ªå·±ï¼‰ï¼Œé‚£ä¹ˆåŠ ä¸Šè‡ªå·±ä¹‹åä¸€å…±æœ‰n+1ä¸ªç‚¹ï¼Œç”±æŠ½å±‰åŸç†ä¸€å®šæœ‰ä¸¤ä¸ªç‚¹ç›¸åŒï¼Œæ‰€ä»¥å­˜åœ¨ç¯ã€‚</span></span><br><span class="line"></span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        q.<span class="built_in">push</span>(i);</span><br><span class="line">        st[i] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (dist[j] &gt; dist[t] + w[i])</span><br><span class="line">            &#123;</span><br><span class="line">                dist[j] = dist[t] + w[i];</span><br><span class="line">                cnt[j] = cnt[t] + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (cnt[j] &gt;= n) <span class="keyword">return</span> <span class="literal">true</span>;       <span class="comment">// å¦‚æœä»1å·ç‚¹åˆ°xçš„æœ€çŸ­è·¯ä¸­åŒ…å«è‡³å°‘nä¸ªç‚¹ï¼ˆä¸åŒ…æ‹¬è‡ªå·±ï¼‰ï¼Œåˆ™è¯´æ˜å­˜åœ¨ç¯</span></span><br><span class="line">                <span class="keyword">if</span> (!st[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="floydç®—æ³•"><a class="markdownIt-Anchor" href="#floydç®—æ³•"></a> Floydç®—æ³•</h2>
<p>æœ¬è´¨æ˜¯åŠ¨æ€è§„åˆ’ï¼Œä¸‰ç»´ï¼Œä¼˜åŒ–äº†ä¸€ç»´</p>
<p><strong>ä¼ªä»£ç </strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>; k &lt;= n; k ++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++)</span><br><span class="line">            dist[i][j] = <span class="built_in">min</span>(dist[i][j], dist[i][k] + dist[k][j]);</span><br></pre></td></tr></table></figure>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: <code>O(n ^ 3)</code>, n è¡¨ç¤ºç‚¹æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">åˆå§‹åŒ–ï¼š</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++ )</span><br><span class="line">            <span class="keyword">if</span> (i == j) d[i][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> d[i][j] = INF;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®—æ³•ç»“æŸåï¼Œd[a][b]è¡¨ç¤ºaåˆ°bçš„æœ€çŸ­è·ç¦»</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">floyd</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= n; k ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++ )</span><br><span class="line">                d[i][j] = <span class="built_in">min</span>(d[i][j], d[i][k] + d[k][j]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ±‚æœ€å°ç”Ÿæˆæ ‘"><a class="markdownIt-Anchor" href="#æ±‚æœ€å°ç”Ÿæˆæ ‘"></a> æ±‚æœ€å°ç”Ÿæˆæ ‘</h2>
<p><strong>æœ€å°ç”Ÿæˆæ ‘</strong> ï¼šåŒ…å«å›¾ä¸­å…¨éƒ¨é¡¶ç‚¹çš„æå°è¿é€šå­å›¾</p>
<p><img src="%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/image-20220915164853878.png" alt="image-20220915164853878" /></p>
<h3 id="primeç®—æ³•"><a class="markdownIt-Anchor" href="#primeç®—æ³•"></a> Primeç®—æ³•</h3>
<p><strong>ç®—æ³•æ­¥éª¤</strong></p>
<p>å½¢ä¼¼æœ´ç´ ç‰ˆçš„dijkstraç®—æ³•</p>
<ul>
<li>è¿­ä»£ n æ¬¡ï¼ˆå’Œdijkstraç®—æ³•ä¸åŒï¼‰ï¼Œå› ä¸ºæ²¡æœ‰èµ·ç‚¹éœ€è¦åŠ å…¥ï¼Œæ‰€ä»¥æ€»å…±éœ€è¦åŠ å…¥nä¸ªèŠ‚ç‚¹ã€‚</li>
<li>æ¯æ¬¡åœ¨æ²¡ç¡®å®šçš„é¡¶ç‚¹é›†åˆä¸­æ‰¾åˆ°è·ç¦»è·ç¦»å·²ç¡®å®šèŠ‚ç‚¹è·ç¦»æœ€å°çš„èŠ‚ç‚¹</li>
<li>è‹¥è¯¥èŠ‚ç‚¹ <strong>ä¸æ˜¯ç¬¬ä¸€ä¸ªåŠ å…¥çš„èŠ‚ç‚¹</strong> å¹¶ä¸” <strong>è·ç¦»å·²ç»ç¡®å®šçš„èŠ‚ç‚¹ä¸æ˜¯æ­£æ— ç©·</strong> ï¼Œåˆ™å°†è¯¥è·ç¦»åŠ å…¥ç»“æœä¸­ã€‚</li>
<li>ç„¶åå¾ªç¯æ›´æ–°å…¶ä»–èŠ‚ç‚¹åˆ° **å·²ç»ç¡®å®šçš„èŠ‚ç‚¹é›†åˆ **çš„æœ€å°è·ç¦»</li>
</ul>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: <code>O(n ^ 2 + m)</code>, n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°ï¼Œé€‚åˆç¨ å¯†å›¾</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> n;      <span class="comment">// nè¡¨ç¤ºç‚¹æ•°</span></span><br><span class="line"><span class="type">int</span> g[N][N];        <span class="comment">// é‚»æ¥çŸ©é˜µï¼Œå­˜å‚¨æ‰€æœ‰è¾¹</span></span><br><span class="line"><span class="type">int</span> dist[N];        <span class="comment">// å­˜å‚¨å…¶ä»–ç‚¹åˆ°å½“å‰æœ€å°ç”Ÿæˆæ ‘çš„è·ç¦»</span></span><br><span class="line"><span class="type">bool</span> st[N];     <span class="comment">// å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦å·²ç»åœ¨ç”Ÿæˆæ ‘ä¸­</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœå›¾ä¸è¿é€šï¼Œåˆ™è¿”å›INF(å€¼æ˜¯0x3f3f3f3f), å¦åˆ™è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„æ ‘è¾¹æƒé‡ä¹‹å’Œ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">prim</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++ )</span><br><span class="line">            <span class="keyword">if</span> (!st[j] &amp;&amp; (t == <span class="number">-1</span> || dist[t] &gt; dist[j]))</span><br><span class="line">                t = j;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i &amp;&amp; dist[t] == INF) <span class="keyword">return</span> INF;  <span class="comment">// è¯´æ˜å›¾ä¸è¿é€š</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i) res += dist[t];  <span class="comment">// ä¸æ˜¯ç¬¬ä¸€ä¸ªç¡®å®šçš„èŠ‚ç‚¹</span></span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++ ) dist[j] = <span class="built_in">min</span>(dist[j], g[t][j]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="kruskalç®—æ³•"><a class="markdownIt-Anchor" href="#kruskalç®—æ³•"></a> Kruskalç®—æ³•</h3>
<p><strong>ç®—æ³•æ­¥éª¤</strong></p>
<ul>
<li>å…ˆå°†æ‰€æœ‰çš„è¾¹æŒ‰æƒå€¼å¤§å°ä»å°åˆ°å¤§è¿›è¡Œæ’åº<code>O(mlogm)</code></li>
<li>æšä¸¾æ¯æ¡è¾¹ï¼Œè‹¥ a å’Œ b ä¸åœ¨åŒä¸€ä¸ªé›†åˆï¼Œåˆ™å°† a båŠ å…¥åŒä¸€ä¸ªé›†åˆã€‚<strong>éœ€è¦ä½¿ç”¨åˆ°å¹¶æŸ¥é›†</strong></li>
</ul>
<p><img src="%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/image-20220915145805130.png" alt="image-20220915145805130" /></p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: <code>O(mlogm)</code>, n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°ï¼Œé€‚åˆ</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> n, m;       <span class="comment">// næ˜¯ç‚¹æ•°ï¼Œmæ˜¯è¾¹æ•°</span></span><br><span class="line"><span class="type">int</span> p[N];       <span class="comment">// å¹¶æŸ¥é›†çš„çˆ¶èŠ‚ç‚¹æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span>     <span class="comment">// å­˜å‚¨è¾¹</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a, b, w;</span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt; (<span class="type">const</span> Edge &amp;W)<span class="type">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &lt; W.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edges[M];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span>     <span class="comment">// å¹¶æŸ¥é›†æ ¸å¿ƒæ“ä½œ</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p[x] != x) p[x] = <span class="built_in">find</span>(p[x]);</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">sort</span>(edges, edges + m);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) p[i] = i;    <span class="comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>, cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a = edges[i].a, b = edges[i].b, w = edges[i].w;</span><br><span class="line"></span><br><span class="line">        a = <span class="built_in">find</span>(a), b = <span class="built_in">find</span>(b);</span><br><span class="line">        <span class="keyword">if</span> (a != b)     <span class="comment">// å¦‚æœä¸¤ä¸ªè¿é€šå—ä¸è¿é€šï¼Œåˆ™å°†è¿™ä¸¤ä¸ªè¿é€šå—åˆå¹¶</span></span><br><span class="line">        &#123;</span><br><span class="line">            p[a] = b;</span><br><span class="line">            res += w;</span><br><span class="line">            cnt ++ ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (cnt &lt; n - <span class="number">1</span>) <span class="keyword">return</span> INF;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="äºŒåˆ†å›¾"><a class="markdownIt-Anchor" href="#äºŒåˆ†å›¾"></a> äºŒåˆ†å›¾</h2>
<p><strong>äºŒåˆ†å›¾</strong>ï¼šå¯ä»¥å°†æ‰€æœ‰èŠ‚ç‚¹åˆ’åˆ†è‡³ä¸¤ä¸ªé›†åˆï¼Œä½¿å¾—æ‰€æœ‰çš„è¾¹éƒ½æ˜¯åœ¨é›†åˆä¹‹é—´ï¼Œé›†åˆå†…éƒ¨æ²¡æœ‰è¾¹ã€‚</p>
<p><strong>æ€§è´¨</strong>ï¼šä¸€ä¸ªå›¾æ˜¯äºŒåˆ†å›¾å½“ä¸”ä»…å½“å›¾ä¸­ä¸å«å¥‡æ•°ç¯</p>
<p><img src="https://bkimg.cdn.bcebos.com/pic/3c6d55fbb2fb43169079761121a4462309f7d373?x-bce-process=image/watermark,image_d2F0ZXIvYmFpa2U5Mg==,g_7,xp_5,yp_5/format,f_auto" alt="img" /></p>
<h3 id="æŸ“è‰²ä½“æ³•è¾¨åˆ«äºŒåˆ†å›¾"><a class="markdownIt-Anchor" href="#æŸ“è‰²ä½“æ³•è¾¨åˆ«äºŒåˆ†å›¾"></a> æŸ“è‰²ä½“æ³•è¾¨åˆ«äºŒåˆ†å›¾</h3>
<p><strong>ä½œç”¨</strong>ï¼šåˆ¤æ–­ä¸€ä¸ªæ— å‘å›¾æ˜¯å¦æ˜¯ä¸€ä¸ªäºŒåˆ†å›¾</p>
<p><strong>ç®—æ³•æ­¥éª¤</strong></p>
<ul>
<li>ä»èŠ‚ç‚¹1 éå†è‡³èŠ‚ç‚¹nï¼›å¦‚æœç¬¬iä¸ªèŠ‚ç‚¹æ²¡æœ‰æŸ“è‰²ï¼Œåˆ™ä½¿ç”¨æ·±åº¦ä¼˜å…ˆéå†é˜Ÿå…¶åŠå…¶æ‰€åœ¨çš„è¿é€šå—è¿›è¡ŒæŸ“è‰²ã€‚</li>
<li>å¦‚æœåœ¨æŸ“è‰²è¿‡ç¨‹ä¸­å‘ç°çŸ›ç›¾ï¼Œåˆ™ä¸æ˜¯äºŒåˆ†å›¾</li>
</ul>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: <code>O(n + m)</code>, n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> n;      <span class="comment">// nè¡¨ç¤ºç‚¹æ•°</span></span><br><span class="line"><span class="type">int</span> h[N], e[M], ne[M], idx;     <span class="comment">// é‚»æ¥è¡¨å­˜å‚¨å›¾</span></span><br><span class="line"><span class="type">int</span> color[N];       <span class="comment">// è¡¨ç¤ºæ¯ä¸ªç‚¹çš„é¢œè‰²ï¼Œ-1è¡¨ç¤ºæœªæŸ“è‰²ï¼Œ0è¡¨ç¤ºç™½è‰²ï¼Œ1è¡¨ç¤ºé»‘è‰²</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°ï¼šuè¡¨ç¤ºå½“å‰èŠ‚ç‚¹ï¼Œcè¡¨ç¤ºå½“å‰ç‚¹çš„é¢œè‰²</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    color[u] = c;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[u]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span> (color[j] == <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">dfs</span>(j, !c)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (color[j] == c) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// å’Œiè¿é€šçš„jä¹Ÿæ˜¯cé¢œè‰²ï¼Œåˆ™çŸ›ç›¾ï¼Œreturn false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(color, <span class="number">-1</span>, <span class="keyword">sizeof</span> color);</span><br><span class="line">    <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (color[i] == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">dfs</span>(i, <span class="number">0</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŒˆç‰™åˆ©ç®—æ³•"><a class="markdownIt-Anchor" href="#åŒˆç‰™åˆ©ç®—æ³•"></a> åŒˆç‰™åˆ©ç®—æ³•</h3>
<p><strong>ä½œç”¨</strong>ï¼šå½“ç»™å®šä¸€ä¸ªäºŒåˆ†å›¾çš„ä¸¤ä¸ªé›†åˆï¼Œæ±‚é›†åˆä¸­æœ€å¤§çš„åŒ¹é…æ•°</p>
<p><strong>ç®—æ³•æ­¥éª¤</strong></p>
<ul>
<li>æ±‚æœ€å¤§åŒ¹é…æ•°ï¼Œä¾æ¬¡æšä¸¾ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹èƒ½å¦åŒ¹é…ç¬¬äºŒä¸ªé›†åˆä¸­çš„ç‚¹</li>
<li>å¾ªç¯éå†é›†åˆ1èŠ‚ç‚¹èƒ½å¤ŸåŒ¹é…çš„é›†åˆ2ä¸­çš„èŠ‚ç‚¹ï¼Œè‹¥é›†åˆ2ä¸­çš„æŸä¸ªèŠ‚ç‚¹æ²¡æœ‰è¢«åŒ¹é… <strong>æˆ–è€…</strong> åŒ¹é…è¯¥èŠ‚ç‚¹çš„é›†åˆ1ä¸­çš„èŠ‚ç‚¹å¯ä»¥åŒ¹é…å…¶ä»–èŠ‚ç‚¹ï¼Œåˆ™å¯ä»¥åŒ¹é…ã€‚å¹¶ä¸”ä½¿ç”¨<code>match[]</code> æ•°ç»„è®°å½•é›†åˆ2èŠ‚ç‚¹åŒ¹é…çš„é›†åˆ1èŠ‚ç‚¹ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼š<code>st</code> æ•°ç»„æ¯æ¬¡éƒ½éœ€è¦åˆå§‹åŒ–ã€‚æ˜¯ä¸ºäº†ç¡®ä¿é›†åˆ1ä¸­åé¢èŠ‚ç‚¹èƒ½å¤Ÿç»§ç»­å°è¯•å·²ç»åŒ¹é…çš„é›†åˆ2ä¸­çš„èŠ‚ç‚¹</li>
</ul>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>: <code>O(nm)</code>, n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> n1, n2;     <span class="comment">// n1è¡¨ç¤ºç¬¬ä¸€ä¸ªé›†åˆä¸­çš„ç‚¹æ•°ï¼Œn2è¡¨ç¤ºç¬¬äºŒä¸ªé›†åˆä¸­çš„ç‚¹æ•°</span></span><br><span class="line"><span class="type">int</span> h[N], e[M], ne[M], idx;     <span class="comment">// é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹ï¼ŒåŒˆç‰™åˆ©ç®—æ³•ä¸­åªä¼šç”¨åˆ°ä»ç¬¬ä¸€ä¸ªé›†åˆæŒ‡å‘ç¬¬äºŒä¸ªé›†åˆçš„è¾¹ï¼Œæ‰€ä»¥è¿™é‡Œåªç”¨å­˜ä¸€ä¸ªæ–¹å‘çš„è¾¹</span></span><br><span class="line"><span class="type">int</span> match[N];       <span class="comment">// å­˜å‚¨ç¬¬äºŒä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹å½“å‰åŒ¹é…çš„ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„ç‚¹æ˜¯å“ªä¸ª</span></span><br><span class="line"><span class="type">bool</span> st[N];     <span class="comment">// è¡¨ç¤ºç¬¬äºŒä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹æ˜¯å¦å·²ç»è¢«éå†è¿‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[x]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span> (!st[j])</span><br><span class="line">        &#123;</span><br><span class="line">            st[j] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (match[j] == <span class="number">0</span> || <span class="built_in">find</span>(match[j]))</span><br><span class="line">            &#123;</span><br><span class="line">                match[j] = x;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚æœ€å¤§åŒ¹é…æ•°ï¼Œä¾æ¬¡æšä¸¾ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹èƒ½å¦åŒ¹é…ç¬¬äºŒä¸ªé›†åˆä¸­çš„ç‚¹</span></span><br><span class="line"><span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n1; i ++ )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æ¯æ¬¡éƒ½éœ€è¦åˆå§‹åŒ–ï¼Œæ˜¯ä¸ºäº†ç¡®ä¿é›†åˆ1ä¸­åé¢èŠ‚ç‚¹èƒ½å¤Ÿç»§ç»­å°è¯•å·²ç»åŒ¹é…çš„é›†åˆ2ä¸­çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="built_in">memset</span>(st, <span class="literal">false</span>, <span class="keyword">sizeof</span> st);  </span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">find</span>(i)) res ++ ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æ•°å­¦çŸ¥è¯†"><a class="markdownIt-Anchor" href="#æ•°å­¦çŸ¥è¯†"></a> æ•°å­¦çŸ¥è¯†</h1>
<h2 id="è´¨æ•°çš„åˆ¤å®š"><a class="markdownIt-Anchor" href="#è´¨æ•°çš„åˆ¤å®š"></a> è´¨æ•°çš„åˆ¤å®š</h2>
<p><strong>å®šä¹‰</strong>ï¼šå¯¹<strong>æ‰€æœ‰å¤§äº1çš„è‡ªç„¶æ•°</strong>ï¼Œè‹¥é™¤äº†1å’Œæœ¬èº«ä¸å…·å¤‡å…¶ä»–çº¦æ•°ï¼Œåˆ™è¯¥æ•°ä¸ºè´¨æ•°æˆ–è€…å«ç´ æ•°ã€‚</p>
<h3 id="è¯•é™¤æ³•åˆ¤å®šè´¨æ•°"><a class="markdownIt-Anchor" href="#è¯•é™¤æ³•åˆ¤å®šè´¨æ•°"></a> è¯•é™¤æ³•åˆ¤å®šè´¨æ•°</h3>
<ul>
<li>è‹¥xå°äº2ï¼Œåˆ™ä¸æ˜¯è´¨æ•°</li>
<li>ç„¶å i ä» 2 å¼€å§‹éå†åˆ° <code>x / i</code> å³å¯ã€‚æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msqrt><mi>n</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.23972em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8002800000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathdefault">n</span></span></span><span style="top:-2.76028em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.23972em;"><span></span></span></span></span></span></span></span></span>)</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">is_prime</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= x / i; i ++ ) <span class="comment">// å› ä¸ºiä¸èƒ½æ•´é™¤ï¼Œåˆ™x/iè‚¯å®šä¹Ÿä¸èƒ½æ•´é™¤ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¯•é™¤æ³•åˆ†è§£è´¨å› æ•°"><a class="markdownIt-Anchor" href="#è¯•é™¤æ³•åˆ†è§£è´¨å› æ•°"></a> è¯•é™¤æ³•åˆ†è§£è´¨å› æ•°</h3>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>â¡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span></span></span>) ~ O(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msqrt><mi>n</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.23972em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8002800000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathdefault">n</span></span></span><span style="top:-2.76028em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.23972em;"><span></span></span></span></span></span></span></span></span>)</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">divide</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= x / i; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>) <span class="comment">// iæ˜¯xçš„ä¸€ä¸ªå› æ•°å¹¶ä¸”ä¸€å®šæ˜¯è´¨æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> s = <span class="number">0</span>;  </span><br><span class="line">            <span class="keyword">while</span> (x % i == <span class="number">0</span>) x /= i, s ++ ;  <span class="comment">// æ±‚içš„æ¬¡æ•°</span></span><br><span class="line">            cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span> (x &gt; <span class="number">1</span>) cout &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç´ æ•°"><a class="markdownIt-Anchor" href="#ç´ æ•°"></a> ç´ æ•°</h2>
<h3 id="æœ´ç´ ç­›æ³•æ±‚ç´ æ•°"><a class="markdownIt-Anchor" href="#æœ´ç´ ç­›æ³•æ±‚ç´ æ•°"></a> æœ´ç´ ç­›æ³•æ±‚ç´ æ•°</h3>
<p><strong>æ ¸å¿ƒåŸç†</strong>ï¼šå½“éå†åˆ°æŸä¸€ä¸ªæ•° i ï¼Œå°±å°†å…¶æ‰€æœ‰å€æ•°å…¨éƒ¨åˆ æ‰ï¼Œç„¶åè‹¥å½“å‰è¿™ä¸ªæ•°æ²¡æœ‰è¢«åˆ æ‰ï¼Œåˆ™è¯´æ˜ä»2 ~ i - 1ï¼Œæ²¡æœ‰å…¶çº¦æ•°ï¼Œåˆ™å…¶ä¸ºè´¨æ•°ã€‚</p>
<p><strong>ä¼˜åŒ–</strong> ï¼šæ¯æ¬¡åˆ é™¤æ—¶åªéœ€è¦å°†è´¨æ•°çš„å€æ•°åˆ é™¤å³å¯ã€‚</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>â¡</mo><mo stretchy="false">(</mo><mi>log</mi><mo>â¡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\log(\log{n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">n</span></span><span class="mclose">)</span></span></span></span>)</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> primes[N], cnt;     <span class="comment">// primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•°</span></span><br><span class="line"><span class="type">bool</span> st[N];         <span class="comment">// st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_primes</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (st[i]) <span class="keyword">continue</span>;</span><br><span class="line">        primes[cnt ++ ] = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + i; j &lt;= n; j += i)</span><br><span class="line">            st[j] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="çº¿æ€§ç­›æ³•æ±‚ç´ æ•°"><a class="markdownIt-Anchor" href="#çº¿æ€§ç­›æ³•æ±‚ç´ æ•°"></a> çº¿æ€§ç­›æ³•æ±‚ç´ æ•°</h3>
<p><strong>æ ¸å¿ƒåŸç†</strong>ï¼šn åªä¼šè¢«å…¶æœ€å°è´¨å› å­ç­›æ‰ã€‚</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> primes[N], cnt;     <span class="comment">// primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•°</span></span><br><span class="line"><span class="type">bool</span> st[N];         <span class="comment">// st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_primes</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!st[i]) primes[cnt ++ ] = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; primes[j] &lt;= n / i; j ++ ) <span class="comment">// ä»å°åˆ°å¤§æšä¸¾æ‰€æœ‰è´¨æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            st[primes[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % primes[j] == <span class="number">0</span>) <span class="keyword">break</span>; <span class="comment">// primes[j] ä¸€å®šæ˜¯içš„æœ€å°è´¨å› å­</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="çº¦æ•°"><a class="markdownIt-Anchor" href="#çº¦æ•°"></a> çº¦æ•°</h2>
<h3 id="è¯•é™¤æ³•æ±‚æ‰€æœ‰çº¦æ•°"><a class="markdownIt-Anchor" href="#è¯•é™¤æ³•æ±‚æ‰€æœ‰çº¦æ•°"></a> è¯•é™¤æ³•æ±‚æ‰€æœ‰çº¦æ•°</h3>
<p><strong>ç®—æ³•æ€æƒ³</strong>ï¼šå°±æ˜¯æš´åŠ›ï¼Œæ¯æ¬¡å¯ä»¥å­˜ä¸¤ä¸ªæ•° <code>i</code> å’Œ <code>n/i</code>ï¼Œå‰ææ˜¯ä¸¤è€…ä¸ç›¸ç­‰ã€‚</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msqrt><mi>n</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.23972em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8002800000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathdefault">n</span></span></span><span style="top:-2.76028em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.23972em;"><span></span></span></span></span></span></span></span></span>)</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">get_divisors</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= x / i; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(i);</span><br><span class="line">            <span class="keyword">if</span> (i != x / i) res.<span class="built_in">push_back</span>(x / i);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">sort</span>(res.<span class="built_in">begin</span>(), res.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="çº¦æ•°ä¸ªæ•°å’Œçº¦æ•°ä¹‹å’Œ"><a class="markdownIt-Anchor" href="#çº¦æ•°ä¸ªæ•°å’Œçº¦æ•°ä¹‹å’Œ"></a> çº¦æ•°ä¸ªæ•°å’Œçº¦æ•°ä¹‹å’Œ</h3>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">å¦‚æœ N = p1<span class="built_in">^</span>c1 * p2<span class="built_in">^</span>c2 * ... * pk<span class="built_in">^</span>ck, å…¶ä¸­pä¸ºè´¨å› å­</span><br><span class="line">çº¦æ•°ä¸ªæ•°ï¼š (c1 + 1) * (c2 + 1) * ... * (ck + 1)</span><br><span class="line">çº¦æ•°ä¹‹å’Œï¼š (p1<span class="built_in">^</span>0 + p1<span class="built_in">^</span>1 + ... + p1<span class="built_in">^</span>c1) * ... * (pk<span class="built_in">^</span>0 + pk<span class="built_in">^</span>1 + ... + pk<span class="built_in">^</span>ck)</span><br></pre></td></tr></table></figure>
<h3 id="æ¬§å‡ é‡Œå¾—ç®—æ³•æ±‚æœ€å¤§å…¬çº¦æ•°"><a class="markdownIt-Anchor" href="#æ¬§å‡ é‡Œå¾—ç®—æ³•æ±‚æœ€å¤§å…¬çº¦æ•°"></a> æ¬§å‡ é‡Œå¾—ç®—æ³•æ±‚æœ€å¤§å…¬çº¦æ•°</h3>
<p><strong>ç®—æ³•æ€æƒ³</strong>ï¼šè¾—è½¬ç›¸é™¤æ³•ã€‚aæ˜¯è¾ƒå¤§çš„æ•°ï¼Œbæ˜¯è¾ƒå°çš„æ•°ï¼Œè‹¥bä¸ä¸º0ï¼Œåˆ™è®©aèµ‹å€¼ä¸ºbï¼Œbèµ‹å€¼ä¸º<code>a % b</code>ï¼Œï¼›è‹¥bä¸º0ï¼Œåˆ™ç›´æ¥è¾“å‡ºaå³å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ¬§æ‹‰å‡½æ•°"><a class="markdownIt-Anchor" href="#æ¬§æ‹‰å‡½æ•°"></a> æ¬§æ‹‰å‡½æ•°</h2>
<p><strong>æ¬§æ‹‰å‡½æ•°å®šä¹‰</strong></p>
<p><img src="%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/image-20220920090919658.png" alt="image-20220920090919658" /></p>
<p>æœ´ç´ ç‰ˆæ±‚æ¬§æ‹‰å‡½æ•°ï¼Œå°†Nåˆ†è§£è´¨å› å­ï¼Œå¹¶æ±‚æ¬§æ‹‰å‡½æ•°ã€‚</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msqrt><mi>n</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.23972em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8002800000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathdefault">n</span></span></span><span style="top:-2.76028em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.23972em;"><span></span></span></span></span></span></span></span></span>)</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">phi</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> res = x;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= x / i; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            res = res / i * (i - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span> (x % i == <span class="number">0</span>) x /= i;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span> (x &gt; <span class="number">1</span>) res = res / x * (x - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç­›é€‰æ³•æ±‚æ¬§æ‹‰å‡½æ•°"><a class="markdownIt-Anchor" href="#ç­›é€‰æ³•æ±‚æ¬§æ‹‰å‡½æ•°"></a> ç­›é€‰æ³•æ±‚æ¬§æ‹‰å‡½æ•°</h3>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span></span></span>)</p>
<p><strong>ä»£ç è§£é‡Š</strong>ï¼š</p>
<ul>
<li>è´¨æ•° i çš„æ¬§æ‹‰å‡½æ•°å³ä¸º<code>phi[i] = i - 1</code>ï¼Œ1 ~ i - 1å‡ä¸ i äº’è´¨ï¼Œå…±i-1ä¸ªã€‚</li>
<li><code>phi[primes[j] * i]</code> åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š
<ol>
<li><code>i % primes[j] == 0</code> æ—¶ï¼š<code>primes[j]</code> æ˜¯ i çš„æœ€å°è´¨å› å­ï¼Œä¹Ÿæ˜¯<code>primes[j] * i</code> çš„æœ€å°è´¨å› å­ï¼Œå› æ­¤<code>1 - 1 / primes[j]</code> è¿™ä¸€é¡¹åœ¨ <code>phi[i]</code>ä¸­è®¡ç®—è¿‡äº†ï¼Œåªéœ€è¦å°†åŸºæ•°Nä¿®æ­£ä¸º<code>primes[j]</code>å€å³å¯ï¼Œæœ€ç»ˆç»“æœä¸º<code>phi[i] * primes[j]</code></li>
<li><code>i % primes[j] != 0</code> æ—¶ï¼š<code>primes[j]</code> ä¸æ˜¯ i çš„è´¨å› å­ï¼Œåªæ˜¯<code>primes[j] * i</code> çš„æœ€å°è´¨å› å­ï¼Œå› æ­¤ä¸ä»…éœ€è¦å°†åŸºæ•°Nä¿®æ­£ä¸º<code>primes[j]</code>å€ï¼Œè¿˜éœ€è¦è·‘è¡¥ä¸Š<code>1 - 1 / primes[j]</code>è¿™ä¸€é¡¹ã€‚åˆ™æœ€ç»ˆç»“æœä¸º<code>phi[i] * (primes[j] - 1)</code></li>
</ol>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> primes[N], cnt;     <span class="comment">// primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•°</span></span><br><span class="line"><span class="type">int</span> euler[N];           <span class="comment">// å­˜å‚¨æ¯ä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•°</span></span><br><span class="line"><span class="type">bool</span> st[N];         <span class="comment">// st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_eulers</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    euler[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!st[i])</span><br><span class="line">        &#123;</span><br><span class="line">            primes[cnt ++ ] = i;</span><br><span class="line">            euler[i] = i - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; primes[j] &lt;= n / i; j ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> t = primes[j] * i;</span><br><span class="line">            st[t] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % primes[j] == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                euler[t] = euler[i] * primes[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            euler[t] = euler[i] * (primes[j] - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¿«é€Ÿå¹‚"><a class="markdownIt-Anchor" href="#å¿«é€Ÿå¹‚"></a> å¿«é€Ÿå¹‚</h2>
<p>ç”¨äºå¿«é€Ÿçš„æ±‚å‡º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mi>k</mi></msup><mi mathvariant="normal">%</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">a ^ k \% p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.043548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mord">%</span><span class="mord mathdefault">p</span></span></span></span></p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>â¡</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">\log{k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span></span>)ï¼Œå…¶ä¸­kä¸ºæŒ‡æ•°ã€‚</p>
<p><strong>ç®—æ³•æ€æƒ³</strong>ï¼šé¢„å¤„ç†å‡º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mo stretchy="false">(</mo></msup><msup><mn>2</mn><mn>0</mn></msup><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">a^(2^0) \% p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">(</span></span></span></span></span></span></span></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">%</span><span class="mord mathdefault">p</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mo stretchy="false">(</mo></msup><msup><mn>2</mn><mn>1</mn></msup><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">a^(2^1) \% p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">(</span></span></span></span></span></span></span></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">%</span><span class="mord mathdefault">p</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mo stretchy="false">(</mo></msup><msup><mn>2</mn><mn>2</mn></msup><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">a^(2^2) \% p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">(</span></span></span></span></span></span></span></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">%</span><span class="mord mathdefault">p</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mo stretchy="false">(</mo></msup><msup><mn>2</mn><mn>3</mn></msup><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">a^(2^3) \% p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">(</span></span></span></span></span></span></span></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">%</span><span class="mord mathdefault">p</span></span></span></span>â€¦ï¼Œç„¶åå°†kè½¬ä¸º2è¿›åˆ¶ï¼Œè¿›è€Œè½¬ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mi>x</mi><mn>1</mn></mrow></msup><mo>+</mo><msup><mn>2</mn><mrow><mi>x</mi><mn>2</mn></mrow></msup><mo>+</mo><msup><mn>2</mn><mrow><mi>x</mi><mn>3</mn></mrow></msup><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">2^{x1} + 2^{x2} + 2^{x3} + ...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.10556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">æ±‚ m^k mod pï¼Œæ—¶é—´å¤æ‚åº¦ <span class="built_in">O</span>(logk)ã€‚</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qmi</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> k, <span class="type">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">1</span> % p, t = m;</span><br><span class="line">    <span class="keyword">while</span> (k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (k&amp;<span class="number">1</span>) res = res * t % p; <span class="comment">// å½“å‰ä½ä¸º1</span></span><br><span class="line">        t = t * t % p;</span><br><span class="line">        k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•"><a class="markdownIt-Anchor" href="#æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•"></a> æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</h2>
<p><strong>è£´èœ€å®šç†</strong></p>
<ul>
<li>å¯¹äºä»»æ„æ­£æ•´æ•°aï¼Œbï¼Œé‚£ä¹ˆä¸€å®šå­˜åœ¨æ­£æ•°xï¼Œyä½¿å¾—  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mi>y</mi><mo>=</mo><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">ax + by = gcd(a,b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span> ã€‚<code>gcd(a,b)</code> æ˜¯aå’Œbçš„æœ€å¤§å…¬çº¦æ•°ï¼Œä¹Ÿæ˜¯ a å’Œ b èƒ½å‡‘æˆçš„æœ€å°æ­£æ•´æ•°ã€‚</li>
</ul>
<p><strong>æ±‚è§£è¿‡ç¨‹</strong></p>
<ul>
<li>å½“ <code>b == 0</code> æ—¶ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mi>y</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">ax + by = a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>ï¼Œå› æ­¤æœ‰ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>y</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x = 1, y = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></li>
<li>å½“ <code>b != 0</code> æ—¶ï¼Œ</li>
</ul>
<p><img src="%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/image-20220920210810212.png" alt="image-20220920210810212" /></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ±‚x, yï¼Œä½¿å¾—ax + by = gcd(a, b)</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">exgcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> &amp;x, <span class="type">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!b) <span class="comment">// b == 0, æ­¤æ—¶aä¸ºæœ€å¤§å…¬çº¦æ•° åˆ™ ax + b0 = a</span></span><br><span class="line">    &#123;</span><br><span class="line">        x = <span class="number">1</span>; y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> d = <span class="built_in">exgcd</span>(b, a % b, y, x); <span class="comment">// by + (a mod b)x = d</span></span><br><span class="line">    y -= (a/b) * x;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é«˜æ–¯æ¶ˆå…ƒ"><a class="markdownIt-Anchor" href="#é«˜æ–¯æ¶ˆå…ƒ"></a> é«˜æ–¯æ¶ˆå…ƒ</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// a[N][N]æ˜¯å¢å¹¿çŸ©é˜µ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gauss</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> c, r;</span><br><span class="line">    <span class="keyword">for</span> (c = <span class="number">0</span>, r = <span class="number">0</span>; c &lt; n; c ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = r;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = r; i &lt; n; i ++ )   <span class="comment">// æ‰¾åˆ°ç»å¯¹å€¼æœ€å¤§çš„è¡Œ</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">fabs</span>(a[i][c]) &gt; <span class="built_in">fabs</span>(a[t][c]))</span><br><span class="line">                t = i;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">fabs</span>(a[t][c]) &lt; eps) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = c; i &lt;= n; i ++ ) <span class="built_in">swap</span>(a[t][i], a[r][i]);      <span class="comment">// å°†ç»å¯¹å€¼æœ€å¤§çš„è¡Œæ¢åˆ°æœ€é¡¶ç«¯</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= c; i -- ) a[r][i] /= a[r][c];      <span class="comment">// å°†å½“å‰è¡Œçš„é¦–ä½å˜æˆ1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = r + <span class="number">1</span>; i &lt; n; i ++ )       <span class="comment">// ç”¨å½“å‰è¡Œå°†ä¸‹é¢æ‰€æœ‰çš„åˆ—æ¶ˆæˆ0</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">fabs</span>(a[i][c]) &gt; eps)</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> j = n; j &gt;= c; j -- )</span><br><span class="line">                    a[i][j] -= a[r][j] * a[i][c];</span><br><span class="line"></span><br><span class="line">        r ++ ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (r &lt; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = r; i &lt; n; i ++ )</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">fabs</span>(a[i][n]) &gt; eps)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">2</span>; <span class="comment">// æ— è§£</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// æœ‰æ— ç©·å¤šç»„è§£</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; j ++ )</span><br><span class="line">            a[i][n] -= a[i][j] * a[j][n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// æœ‰å”¯ä¸€è§£</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AcWing</category>
        <category>Course</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>AcWing æ¯æ—¥ä¸€é¢˜ &amp; ç§‹æ‹›</title>
    <url>/2022/08/13/AcWing/AutumnTricks/</url>
    <content><![CDATA[<h2 id="å­¦ä¹ å¹³å°"><a class="markdownIt-Anchor" href="#å­¦ä¹ å¹³å°"></a> å­¦ä¹ å¹³å°</h2>
<p><a href="https://www.acwing.com/about/"> AcWing </a> ã€ <a href="https://leetcode.cn/"> LeetCode </a></p>
<h2 id="é¢˜ç›®1ç”¨æˆ·åˆ†ç»„"><a class="markdownIt-Anchor" href="#é¢˜ç›®1ç”¨æˆ·åˆ†ç»„"></a> é¢˜ç›®1ï¼šç”¨æˆ·åˆ†ç»„</h2>
<p><a href="https://leetcode.cn/problems/group-the-people-given-the-group-size-they-belong-to/">1282. ç”¨æˆ·åˆ†ç»„</a></p>
<h3 id="æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ ‡ç­¾"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>å“ˆå¸Œè¡¨</code></p>
<h3 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">groupThePeople</span>(vector&lt;<span class="type">int</span>&gt;&amp; groupSizes) &#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;&gt; hash;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; groupSizes.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            <span class="type">int</span> x = groupSizes[i];</span><br><span class="line">            hash[x].<span class="built_in">push_back</span>(i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(hash[x].<span class="built_in">size</span>() == x) &#123;</span><br><span class="line">                res.<span class="built_in">push_back</span>(hash[x]);</span><br><span class="line">                hash[x].<span class="built_in">clear</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>groupSize</em>çš„é•¿åº¦ï¼Œéœ€éå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä¸»è¦å–å†³äºå“ˆå¸Œè¡¨ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†88.05%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š12.7 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†63.05%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š103 / 103</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">groupThePeople</span><span class="params">(<span class="type">int</span>[] groupSizes)</span> &#123;</span><br><span class="line">        Map&lt;Integer, List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; groupSizes.length; i ++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> groupSizes[i];</span><br><span class="line">            <span class="keyword">if</span>(map.get(x) == <span class="literal">null</span>)</span><br><span class="line">                map.put(x, <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">            map.get(x).add(i);</span><br><span class="line">            <span class="keyword">if</span>(map.get(x).size() == x)&#123;</span><br><span class="line">                res.add(map.get(x));</span><br><span class="line">                map.put(x, <span class="literal">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>groupSize</em>çš„é•¿åº¦ï¼Œéœ€éå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä¸»è¦å–å†³äºå“ˆå¸Œè¡¨ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š7 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†42.69%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š41.8 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†81.09%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š103 / 103</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">groupThePeople</span>(<span class="params">self, groupSizes: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        <span class="built_in">hash</span> = &#123;&#125;</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(groupSizes)):</span><br><span class="line">            x = groupSizes[i]</span><br><span class="line">            <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> <span class="built_in">hash</span>:</span><br><span class="line">                <span class="built_in">hash</span>[x] = []</span><br><span class="line">            <span class="built_in">hash</span>[x].append(i)</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(<span class="built_in">hash</span>[x]) == x:</span><br><span class="line">                res.append(<span class="built_in">hash</span>[x])</span><br><span class="line">                <span class="built_in">hash</span>[x] = []</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>groupSize</em>çš„é•¿åº¦ï¼Œéœ€éå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä¸»è¦å–å†³äºå“ˆå¸Œè¡¨ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š44 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†47.85%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š15 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†64.26%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š103 / 103</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2æœ€å¤šèƒ½å®Œæˆæ’åºçš„å—ii"><a class="markdownIt-Anchor" href="#é¢˜ç›®2æœ€å¤šèƒ½å®Œæˆæ’åºçš„å—ii"></a> é¢˜ç›®2ï¼šæœ€å¤šèƒ½å®Œæˆæ’åºçš„å—â…¡</h2>
<p><a href="https://leetcode.cn/problems/max-chunks-to-make-sorted-ii/">768. æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II</a></p>
<h3 id="æ ‡ç­¾-2"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-2"></a> æ ‡ç­¾</h3>
<p><code>æ ˆ</code>ã€<code>è´ªå¿ƒ</code>ã€<code>æ•°ç»„</code>ã€<code>æ’åº</code>ã€<code>å•è°ƒæ ˆ</code></p>
<h3 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h3>
<ul>
<li>æ–¹æ³•1ï¼š<strong>å•è°ƒæ ˆ</strong></li>
</ul>
<p>å¯¹äºå·²ç»åˆ†å¥½å—çš„æ•°ç»„ï¼Œè‹¥å—æ•°å¤§äº 1ï¼Œåˆ™å¯ä»¥å¾—åˆ°ä»¥ä¸‹ç»“è®ºï¼šå³è¾¹çš„å—çš„æ‰€æœ‰æ•°å­—å‡å¤§äºæˆ–ç­‰äºå·¦è¾¹çš„å—çš„æ‰€æœ‰æ•°å­—ã€‚</p>
<ul>
<li>æ–¹æ³•2ï¼š<strong>æ’åº</strong> + <strong>å“ˆå¸Œè¡¨</strong></li>
</ul>
<p>å°†æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åä¾æ¬¡æ¯”å¯¹ï¼Œè‹¥åœ¨æŸä¸ªåŒºé—´å†…ï¼Œè¯¥åŒºé—´å†…æœªæ’åºå‰çš„æ•°å­—å’Œæ’åºåçš„æ•°å­—å®Œå…¨ç›¸ç­‰ï¼Œåˆ™ä¸ºä¸€ä¸ªåŒºé—´ã€‚</p>
<h3 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++å•è°ƒæ ˆ</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-4">C++å“ˆå¸Œè¡¨</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxChunksToSorted</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> x : arr)&#123;</span><br><span class="line">            <span class="type">int</span> t = x;</span><br><span class="line">            <span class="keyword">while</span>(stk.<span class="built_in">size</span>() &gt; <span class="number">0</span> &amp;&amp; stk.<span class="built_in">top</span>() &gt; x) &#123;</span><br><span class="line">                t = <span class="built_in">max</span>(t, stk.<span class="built_in">top</span>()); <span class="comment">// æ±‚å·²åˆ é™¤çš„æœ€å¤§å€¼</span></span><br><span class="line">                stk.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            stk.<span class="built_in">push</span>(t); <span class="comment">// å°†è¯¥åŒºé—´çš„æœ€å³è¾¹å…ƒç´ å…¥æ ˆ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stk.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>arr</em>çš„é•¿åº¦ï¼Œéœ€éå†ä¸€éæ•°ç»„ï¼Œå…¥æ ˆçš„æ“ä½œæœ€å¤šä¸ºnæ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œæ ˆçš„é•¿åº¦æœ€å¤šä¸ºnã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š12 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†57.56%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š12 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†61.94%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š139 / 139</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxChunksToSorted</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">        Stack&lt;Integer&gt; stk = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x : arr) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> x;</span><br><span class="line">            <span class="keyword">while</span>(stk.size() &gt; <span class="number">0</span> &amp;&amp; stk.peek() &gt; x) &#123;  <span class="comment">// peekæ ˆé¡¶å…ƒç´ </span></span><br><span class="line">                t = Math.max(t, stk.peek());</span><br><span class="line">                stk.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            stk.push(t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stk.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>arr</em>çš„é•¿åº¦ï¼Œéœ€éå†ä¸€éæ•°ç»„ï¼Œå…¥æ ˆçš„æ“ä½œæœ€å¤šä¸ºnæ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œæ ˆçš„é•¿åº¦æœ€å¤šä¸ºnã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š9 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†10.83%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š41 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†87.61%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š139 / 139</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maxChunksToSorted</span>(<span class="params">self, arr: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        stk = []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> arr:</span><br><span class="line">            t = x</span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">len</span>(stk) <span class="keyword">and</span> stk[-<span class="number">1</span>] &gt; x:</span><br><span class="line">                t = <span class="built_in">max</span>(t, stk[-<span class="number">1</span>])</span><br><span class="line">                stk.pop()</span><br><span class="line">            stk.append(t)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(stk)</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>arr</em>çš„é•¿åº¦ï¼Œéœ€éå†ä¸€éæ•°ç»„ï¼Œå…¥æ ˆçš„æ“ä½œæœ€å¤šä¸ºnæ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œæ ˆçš„é•¿åº¦æœ€å¤šä¸ºnã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š40 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†91.12%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š15.2 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†62.74%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š139 / 139</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-4"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxChunksToSorted</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> b = arr;</span><br><span class="line">        <span class="built_in">sort</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>());</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; hash;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>, cnt = <span class="number">0</span>; i &lt; arr.<span class="built_in">size</span>(); i ++)&#123;  <span class="comment">// cntè®°å½•å“ˆå¸Œè¡¨ä¸­éé›¶å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">            hash[arr[i]] ++;</span><br><span class="line">            <span class="keyword">if</span>(hash[arr[i]] == <span class="number">0</span>) cnt --;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(hash[arr[i]] == <span class="number">1</span>) cnt ++;</span><br><span class="line">            hash[b[i]] --;</span><br><span class="line">            <span class="keyword">if</span>(hash[b[i]] == <span class="number">0</span>) cnt --;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(hash[b[i]] == <span class="number">-1</span>) cnt ++;</span><br><span class="line">            <span class="keyword">if</span>(!cnt) res ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n logn)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>arr</em>çš„é•¿åº¦ï¼Œæ’åºéœ€è¦æ¶ˆè€— <em>O</em>(nlogn)çš„æ—¶é—´å¤æ‚åº¦ï¼Œåªéœ€éå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œæ’åºå®Œçš„æ•°ç»„å’Œå“ˆå¸Œè¡¨å‡éœ€è¦æ¶ˆè€— <em>O</em>(<em>n</em>) çš„ç©ºé—´å¤æ‚åº¦ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š24 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†13.58%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š13.5 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†10.45%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š139 / 139</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®3ç»Ÿè®¡å­çŸ©é˜µ"><a class="markdownIt-Anchor" href="#é¢˜ç›®3ç»Ÿè®¡å­çŸ©é˜µ"></a> é¢˜ç›®3ï¼šç»Ÿè®¡å­çŸ©é˜µ</h2>
<p><a href="https://www.acwing.com/problem/content/4408/"> ç»Ÿè®¡å­çŸ©é˜µ </a></p>
<h3 id="æ ‡ç­¾-3"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-3"></a> æ ‡ç­¾</h3>
<p><code>æšä¸¾</code>ã€<code>å‰ç¼€å’Œ</code>ã€<code>åŒæŒ‡é’ˆ</code></p>
<h3 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯</h3>
<p>éœ€è¦æ±‚è§£æ¯åˆ—çš„å‰ç¼€å’Œï¼Œç„¶åæ§åˆ¶å­åŒºé—´çš„ä¸Šè¾¹ç•Œã€ä¸‹è¾¹ç•Œï¼Œå³è¾¹ç•Œï¼Œé€šè¿‡å³è¾¹ç•Œæ±‚è§£ç›¸åº”çš„å·¦è¾¹ç•Œä½ç½®ï¼Œè¿›è€Œæ±‚è§£æ»¡è¶³è¦æ±‚çš„å­åŒºé—´ä¸ªæ•°ã€‚</p>
<h3 id="é¢˜è§£-3"><a class="markdownIt-Anchor" href="#é¢˜è§£-3"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">510</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, k;</span><br><span class="line"><span class="type">int</span> s[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">    <span class="comment">// æ±‚æ¯ä¸€åˆ—çš„å‰ç¼€å’Œ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++)&#123;</span><br><span class="line">            cin &gt;&gt; s[i][j];</span><br><span class="line">            s[i][j] += s[i - <span class="number">1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    ll res;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)  <span class="comment">// éå†ä¸Šè¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = i; j &lt;= n; j ++) &#123;  <span class="comment">// éå†ä¸‹è¾¹ç•Œ</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">1</span>, r = <span class="number">1</span>, sum = <span class="number">0</span>; r &lt;= m; r ++)&#123;  <span class="comment">// éå†å·¦å³è¾¹ç•Œ</span></span><br><span class="line">                sum += s[j][r] - s[i - <span class="number">1</span>][r]; <span class="comment">// æ±‚å’Œ</span></span><br><span class="line">                <span class="keyword">while</span>(sum &gt; k) &#123;</span><br><span class="line">                    sum -= s[j][l] - s[i - <span class="number">1</span>][l];</span><br><span class="line">                    l ++;</span><br><span class="line">                &#125;</span><br><span class="line">                res += r - l + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n ^ 3)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>s</em> çš„è¡Œæ•°ï¼Œéœ€éå†ä¸‰æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œæ²¡æœ‰é¢å¤–ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š1927 ms,</p>
<p>å†…å­˜æ¶ˆè€—ï¼š2268 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š103 / 103</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">cin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> cin.nextInt(), m = cin.nextInt(), k = cin.nextInt();</span><br><span class="line">        <span class="type">int</span> [][]s = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>][m + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>;j &lt;= m; j ++)</span><br><span class="line">                s[i][j] = cin.nextInt() + s[i - <span class="number">1</span>][j];</span><br><span class="line">    </span><br><span class="line">        <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt;= n; j++)</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">1</span>, r = <span class="number">1</span>, sum = <span class="number">0</span>; r &lt;= m; r ++)&#123;</span><br><span class="line">                    sum += s[j][r] - s[i - <span class="number">1</span>][r];</span><br><span class="line">                    <span class="keyword">while</span>(sum &gt; k)&#123;</span><br><span class="line">                        sum -= s[j][l] - s[i - <span class="number">1</span>][l];</span><br><span class="line">                        l ++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    res += r - l + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n ^ 3)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>s</em> çš„è¡Œæ•°ï¼Œéœ€éå†ä¸‰æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œæ²¡æœ‰é¢å¤–ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4449 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š45100 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š103 / 103</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">n, m, k = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split()) <span class="comment"># å¤„ç†è¾“å…¥ï¼Œä»¥ç©ºæ ¼åˆ’åˆ†</span></span><br><span class="line"></span><br><span class="line">s = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m + <span class="number">1</span>)]] <span class="comment"># ç¬¬ä¸€è¡Œå…¨ä¸º 0 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">    s.append([<span class="number">0</span>] + <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())))  <span class="comment"># æ¯è¡Œçš„ç¬¬ä¸€åˆ—éƒ½æ˜¯ 0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, m + <span class="number">1</span>):</span><br><span class="line">        s[i][j] += s[i - <span class="number">1</span>][j]</span><br><span class="line"></span><br><span class="line">res = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i, n + <span class="number">1</span>):</span><br><span class="line">        l = <span class="number">1</span></span><br><span class="line">        <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, m + <span class="number">1</span>):</span><br><span class="line">            <span class="built_in">sum</span> += s[j][r] - s[i - <span class="number">1</span>][r]</span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">sum</span> &gt; k:</span><br><span class="line">                <span class="built_in">sum</span> -= s[j][l] - s[i - <span class="number">1</span>][l]</span><br><span class="line">                l += <span class="number">1</span></span><br><span class="line">            res += r - l + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n ^ 3)</em>ï¼Œå…¶ä¸­ n æ˜¯ <em>s</em> çš„è¡Œæ•°ï¼Œéœ€éå†ä¸‰æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œæ²¡æœ‰é¢å¤–ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š5429 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š40128 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š103 / 103</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®4è®¾è®¡åŒç«¯é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#é¢˜ç›®4è®¾è®¡åŒç«¯é˜Ÿåˆ—"></a> é¢˜ç›®4ï¼šè®¾è®¡åŒç«¯é˜Ÿåˆ—â­</h2>
<p><a href="https://leetcode.cn/problems/design-circular-deque/"> è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ— </a></p>
<h3 id="æ ‡ç­¾-4"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-4"></a> æ ‡ç­¾</h3>
<p><code>è®¾è®¡</code>ã€<code>é˜Ÿåˆ—</code>ã€<code>æ•°ç»„</code>ã€<code>é“¾è¡¨</code></p>
<h3 id="æ€è·¯-3"><a class="markdownIt-Anchor" href="#æ€è·¯-3"></a> æ€è·¯</h3>
<p>ä½¿ç”¨é•¿åº¦ä¸º<code>k + 1</code>çš„æ•°ç»„æ¥æ¨¡æ‹Ÿå¾ªç¯é˜Ÿåˆ—ï¼Œé¢å¤–å¤šç”¨ä¸€ä¸ªç©ºé—´ã€‚</p>
<ul>
<li><code>front</code>ï¼šé˜Ÿå¤´æŒ‡é’ˆï¼Œç›´æ¥æŒ‡å‘å¯¹å¤´å…ƒç´ ï¼Œ</li>
<li><code>rear</code>ï¼šé˜Ÿå°¾æŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå°¾å…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</li>
<li>åˆ¤æ–­å¯¹ç©ºï¼š<code>front == rear</code> åˆ™é˜Ÿç©º</li>
<li>åˆ¤æ–­é˜Ÿæ»¡ï¼š<code>rear - front == k</code> åˆ™é˜Ÿæ»¡</li>
</ul>
<h3 id="é¢˜è§£-4"><a class="markdownIt-Anchor" href="#é¢˜è§£-4"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyCircularDeque</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">MyCircularDeque</span>(<span class="type">int</span> k) &#123;</span><br><span class="line">        q.<span class="built_in">resize</span>(k + <span class="number">1</span>); <span class="comment">// è®¾ç½®æ•°ç»„çš„é•¿åº¦</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;  <span class="comment">// å°†xé‡æ–°è®¾ç½®ä¸º hh~ttå†…çš„å€¼</span></span><br><span class="line">        <span class="keyword">return</span> (x + q.<span class="built_in">size</span>()) % q.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">insertFront</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isFull</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        hh = <span class="built_in">get</span>(hh - <span class="number">1</span>);</span><br><span class="line">        q[hh] = value;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">insertLast</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isFull</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        q[tt] = value;</span><br><span class="line">        tt = <span class="built_in">get</span>(tt + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">deleteFront</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isEmpty</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        hh = <span class="built_in">get</span>(hh + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">deleteLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isEmpty</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        tt = <span class="built_in">get</span>(tt - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getFront</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isEmpty</span>()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> q[hh];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getRear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isEmpty</span>()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> q[<span class="built_in">get</span>(tt - <span class="number">1</span>)];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> tt == hh;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isFull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> tt == <span class="built_in">get</span>(hh - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MyCircularDeque object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MyCircularDeque* obj = new MyCircularDeque(k);</span></span><br><span class="line"><span class="comment"> * bool param_1 = obj-&gt;insertFront(value);</span></span><br><span class="line"><span class="comment"> * bool param_2 = obj-&gt;insertLast(value);</span></span><br><span class="line"><span class="comment"> * bool param_3 = obj-&gt;deleteFront();</span></span><br><span class="line"><span class="comment"> * bool param_4 = obj-&gt;deleteLast();</span></span><br><span class="line"><span class="comment"> * int param_5 = obj-&gt;getFront();</span></span><br><span class="line"><span class="comment"> * int param_6 = obj-&gt;getRear();</span></span><br><span class="line"><span class="comment"> * bool param_7 = obj-&gt;isEmpty();</span></span><br><span class="line"><span class="comment"> * bool param_8 = obj-&gt;isFull();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œåˆå§‹åŒ–å’Œæ¯é¡¹æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º <em>O</em>(1)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(k)</em>ï¼Œå…¶ä¸­ <em>k</em> ä¸ºç»™å®šçš„é˜Ÿåˆ—å…ƒç´ æ•°ç›®ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š28 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†41.89%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š16.3 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†67.79%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š51 / 51</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyCircularDeque</span> &#123;</span><br><span class="line">    <span class="type">int</span> []q;</span><br><span class="line">    <span class="type">int</span> <span class="variable">hh</span> <span class="operator">=</span> <span class="number">0</span>, tt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyCircularDeque</span><span class="params">(<span class="type">int</span> k)</span> &#123;</span><br><span class="line">        q = <span class="keyword">new</span> <span class="title class_">int</span>[k + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (x + q.length) % q.length;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">insertFront</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(isFull()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        hh = get(hh - <span class="number">1</span>);</span><br><span class="line">        q[hh] = value;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">insertLast</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(isFull()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        q[tt] = value;</span><br><span class="line">        tt = get(tt + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">deleteFront</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        hh = get(hh + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">deleteLast</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        tt = get(tt - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getFront</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty()) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> q[hh];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getRear</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty()) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> q[get(tt - <span class="number">1</span>)];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> tt == hh;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFull</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> tt == get(hh - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MyCircularDeque object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MyCircularDeque obj = new MyCircularDeque(k);</span></span><br><span class="line"><span class="comment"> * boolean param_1 = obj.insertFront(value);</span></span><br><span class="line"><span class="comment"> * boolean param_2 = obj.insertLast(value);</span></span><br><span class="line"><span class="comment"> * boolean param_3 = obj.deleteFront();</span></span><br><span class="line"><span class="comment"> * boolean param_4 = obj.deleteLast();</span></span><br><span class="line"><span class="comment"> * int param_5 = obj.getFront();</span></span><br><span class="line"><span class="comment"> * int param_6 = obj.getRear();</span></span><br><span class="line"><span class="comment"> * boolean param_7 = obj.isEmpty();</span></span><br><span class="line"><span class="comment"> * boolean param_8 = obj.isFull();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œåˆå§‹åŒ–å’Œæ¯é¡¹æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º <em>O</em>(1)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(k)</em>ï¼Œå…¶ä¸­ <em>k</em> ä¸ºç»™å®šçš„é˜Ÿåˆ—å…ƒç´ æ•°ç›®ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š42.2 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†19.97%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š51 / 51</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyCircularDeque</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, k: <span class="built_in">int</span></span>):</span><br><span class="line">        self.q = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k + <span class="number">1</span>)]</span><br><span class="line">        self.hh = <span class="number">0</span></span><br><span class="line">        self.tt = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, x</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">return</span> (x + <span class="built_in">len</span>(self.q)) % <span class="built_in">len</span>(self.q)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">insertFront</span>(<span class="params">self, value: <span class="built_in">int</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">if</span> self.isFull():</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        self.hh = self.get(self.hh - <span class="number">1</span>)</span><br><span class="line">        self.q[self.hh] = value</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">insertLast</span>(<span class="params">self, value: <span class="built_in">int</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">if</span> self.isFull():</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        self.q[self.tt] = value</span><br><span class="line">        self.tt = self.get(self.tt + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deleteFront</span>(<span class="params">self</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">if</span> self.isEmpty():</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        self.hh = self.get(self.hh + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deleteLast</span>(<span class="params">self</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">if</span> self.isEmpty():</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        self.tt = self.get(self.tt - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getFront</span>(<span class="params">self</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> self.isEmpty():</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.q[self.hh]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getRear</span>(<span class="params">self</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> self.isEmpty():</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.q[self.get(self.tt - <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isEmpty</span>(<span class="params">self</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">return</span> self.hh == self.tt</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isFull</span>(<span class="params">self</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">return</span> self.tt == self.get(self.hh - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Your MyCircularDeque object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"># obj = MyCircularDeque(k)</span></span><br><span class="line"><span class="comment"># param_1 = obj.insertFront(value)</span></span><br><span class="line"><span class="comment"># param_2 = obj.insertLast(value)</span></span><br><span class="line"><span class="comment"># param_3 = obj.deleteFront()</span></span><br><span class="line"><span class="comment"># param_4 = obj.deleteLast()</span></span><br><span class="line"><span class="comment"># param_5 = obj.getFront()</span></span><br><span class="line"><span class="comment"># param_6 = obj.getRear()</span></span><br><span class="line"><span class="comment"># param_7 = obj.isEmpty()</span></span><br><span class="line"><span class="comment"># param_8 = obj.isFull()</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œåˆå§‹åŒ–å’Œæ¯é¡¹æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º <em>O</em>(1)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(k)</em>ï¼Œå…¶ä¸­ <em>k</em> ä¸ºç»™å®šçš„é˜Ÿåˆ—å…ƒç´ æ•°ç›®ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š68 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†89.03%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š15.7 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†45.89%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š51 / 51</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®5è®¾è®¡æœ‰åºæµ"><a class="markdownIt-Anchor" href="#é¢˜ç›®5è®¾è®¡æœ‰åºæµ"></a> é¢˜ç›®5ï¼šè®¾è®¡æœ‰åºæµ</h2>
<p><a href="https://leetcode.cn/problems/design-an-ordered-stream/"> è®¾è®¡æœ‰åºæµ </a></p>
<h3 id="æ ‡ç­¾-5"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-5"></a> æ ‡ç­¾</h3>
<p><code>è®¾è®¡</code>ã€<code>æ•°ç»„</code>ã€<code>å“ˆå¸Œè¡¨</code>ã€<code>æ•°æ®æµ</code></p>
<h3 id="æ€è·¯-4"><a class="markdownIt-Anchor" href="#æ€è·¯-4"></a> æ€è·¯</h3>
<h3 id="é¢˜è§£-5"><a class="markdownIt-Anchor" href="#é¢˜è§£-5"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">OrderedStream</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;string&gt; strs;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">OrderedStream</span>(<span class="type">int</span> n) &#123;</span><br><span class="line">        strs.<span class="built_in">resize</span>(n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">insert</span><span class="params">(<span class="type">int</span> idKey, string value)</span> </span>&#123;</span><br><span class="line">        strs[idKey - <span class="number">1</span>] = value;</span><br><span class="line">        vector&lt;string&gt; res;</span><br><span class="line">        <span class="keyword">while</span> (k &lt; strs.<span class="built_in">size</span>() &amp;&amp; strs[k].<span class="built_in">size</span>())</span><br><span class="line">            res.<span class="built_in">push_back</span>(strs[k ++ ]);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your OrderedStream object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * OrderedStream* obj = new OrderedStream(n);</span></span><br><span class="line"><span class="comment"> * vector&lt;string&gt; param_1 = obj-&gt;insert(idKey,value);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºå­˜å‚¨ <em>n</em> ä¸ªå­—ç¬¦ä¸²éœ€è¦çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š80 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†98.95%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š81.6 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†66.25%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š101 / 101</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">OrderedStream</span> &#123;</span><br><span class="line">    String []strs;</span><br><span class="line">    <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OrderedStream</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        strs = <span class="keyword">new</span> <span class="title class_">String</span>[n];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">insert</span><span class="params">(<span class="type">int</span> idKey, String value)</span> &#123;</span><br><span class="line">        strs[idKey - <span class="number">1</span>] = value;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(k &lt; strs.length &amp;&amp; strs[k] != <span class="literal">null</span>)</span><br><span class="line">            res.add(strs[k ++]);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your OrderedStream object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * OrderedStream obj = new OrderedStream(n);</span></span><br><span class="line"><span class="comment"> * List&lt;String&gt; param_1 = obj.insert(idKey,value);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºå­˜å‚¨ <em>n</em> ä¸ªå­—ç¬¦ä¸²éœ€è¦çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š74 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†57.69%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š42 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†99.79%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š101 / 101</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">OrderedStream</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n: <span class="built_in">int</span></span>):</span><br><span class="line">        self.strs = [<span class="string">&quot;&quot;</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        self.k = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">insert</span>(<span class="params">self, idKey: <span class="built_in">int</span>, value: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span><br><span class="line">        self.strs[idKey - <span class="number">1</span>] = value</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">while</span> self.k &lt; <span class="built_in">len</span>(self.strs) <span class="keyword">and</span> self.strs[self.k] != <span class="string">&quot;&quot;</span>:</span><br><span class="line">            res.append(self.strs[self.k])</span><br><span class="line">            self.k += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Your OrderedStream object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"># obj = OrderedStream(n)</span></span><br><span class="line"><span class="comment"># param_1 = obj.insert(idKey,value)</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºå­˜å‚¨ <em>n</em> ä¸ªå­—ç¬¦ä¸²éœ€è¦çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š148 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†33.21%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š15.6 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†82.20%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š101 / 101</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®6å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ"><a class="markdownIt-Anchor" href="#é¢˜ç›®6å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ"></a> é¢˜ç›®6ï¼šå±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ</h2>
<p><a href="https://leetcode.cn/problems/deepest-leaves-sum/"> å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ </a></p>
<h3 id="æ ‡ç­¾-6"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-6"></a> æ ‡ç­¾</h3>
<p><code>æ ‘</code>ã€<code>æ·±åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>å¹¿åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>äºŒå‰æ ‘</code></p>
<h3 id="æ€è·¯-5"><a class="markdownIt-Anchor" href="#æ€è·¯-5"></a> æ€è·¯</h3>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢éå†äºŒå‰æ ‘ï¼Œéå†çš„æ—¶å€™ç»´æŠ¤å±‚æ•°ï¼š</p>
<ul>
<li>è‹¥å½“å‰å±‚æ•°å’Œç›®å‰æœ€å¤§å±‚æ•°ç›¸åŒï¼Œåˆ™ç»“æœåŠ ä¸Šè¯¥èŠ‚ç‚¹çš„å€¼</li>
<li>è‹¥å½“å‰å±‚æ•°å¤§äºç›®å‰æœ€å¤§å±‚æ•°ï¼Œåˆ™ç»“æœæ¸…é›¶ï¼Œå¹¶ä¸”å±‚æ•°é‡ç½®ä¸ºå½“å‰å±‚æ•°ã€‚</li>
</ul>
<h3 id="é¢˜è§£-6"><a class="markdownIt-Anchor" href="#é¢˜è§£-6"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> max = <span class="number">-1</span>; <span class="comment">// è®°å½•æœ€å¤§çš„æ·±åº¦</span></span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(TreeNode* root, <span class="type">int</span> deep)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(max &lt; deep) &#123;</span><br><span class="line">            max = deep;</span><br><span class="line">            sum = root-&gt;val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(max == deep)&#123;</span><br><span class="line">            sum += root-&gt;val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">dfs</span>(root-&gt;left, deep + <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">dfs</span>(root-&gt;right, deep + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">deepestLeavesSum</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">dfs</span>(root, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ·±åº¦ä¼˜å…ˆæœç´¢éœ€è¦éå†æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦ï¼Œä¸ºäºŒå‰æ ‘çš„æ·±åº¦ï¼Œæœ€åæƒ…å†µä¸‹äºŒå‰æ ‘çš„æ·±åº¦æ˜¯ O*(<em>n</em>)ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š92 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†50.95%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š58.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†69.41%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š39 / 39</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(TreeNode root, <span class="type">int</span> deep)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(max &lt; deep) &#123;</span><br><span class="line">            max = deep;</span><br><span class="line">            sum = root.val;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>( max == deep)&#123;</span><br><span class="line">            sum += root.val;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(root.left, deep + <span class="number">1</span>);</span><br><span class="line">        dfs(root.right, deep + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deepestLeavesSum</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        dfs(root, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ·±åº¦ä¼˜å…ˆæœç´¢éœ€è¦éå†æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦ï¼Œä¸ºäºŒå‰æ ‘çš„æ·±åº¦ï¼Œæœ€åæƒ…å†µä¸‹äºŒå‰æ ‘çš„æ·±åº¦æ˜¯ O*(<em>n</em>)ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š1 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š43.8 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†60.33%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š39 / 39</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, left=None, right=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.left = left</span></span><br><span class="line"><span class="comment">#         self.right = right</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deepestLeavesSum</span>(<span class="params">self, root: <span class="type">Optional</span>[TreeNode]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        depth, <span class="built_in">sum</span> = -<span class="number">1</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">root, d</span>):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">nonlocal</span> depth, <span class="built_in">sum</span></span><br><span class="line">            <span class="keyword">if</span> d &gt; depth:</span><br><span class="line">                depth = d</span><br><span class="line">                <span class="built_in">sum</span> = root.val</span><br><span class="line">            <span class="keyword">elif</span> d == depth:</span><br><span class="line">                <span class="built_in">sum</span> += root.val</span><br><span class="line">            dfs(root.left, d + <span class="number">1</span>)</span><br><span class="line">            dfs(root.right, d + <span class="number">1</span>)</span><br><span class="line">        dfs(root, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ·±åº¦ä¼˜å…ˆæœç´¢éœ€è¦éå†æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦ï¼Œä¸ºäºŒå‰æ ‘çš„æ·±åº¦ï¼Œæœ€åæƒ…å†µä¸‹äºŒå‰æ ‘çš„æ·±åº¦æ˜¯ O*(<em>n</em>)ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š224 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†25.20%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š19.3 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†64.49%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š39 / 39</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®7æœ€å¤§ç›¸ç­‰é¢‘ç‡"><a class="markdownIt-Anchor" href="#é¢˜ç›®7æœ€å¤§ç›¸ç­‰é¢‘ç‡"></a> é¢˜ç›®7ï¼šæœ€å¤§ç›¸ç­‰é¢‘ç‡</h2>
<p><a href="https://leetcode.cn/problems/maximum-equal-frequency/"> æœ€å¤§ç›¸ç­‰é¢‘ç‡ </a></p>
<h3 id="æ ‡ç­¾-7"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-7"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>å“ˆå¸Œè¡¨</code></p>
<h3 id="æ€è·¯-6"><a class="markdownIt-Anchor" href="#æ€è·¯-6"></a> æ€è·¯</h3>
<p>ä½¿ç”¨ä¸¤ä¸ªå“ˆå¸Œè¡¨</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå“ˆå¸Œè¡¨<code>cnt</code>è®°å½•å¯¹åº”çš„æ•°åœ¨æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ï¼ˆé«˜åº¦ï¼‰</li>
<li>ç¬¬äºŒä¸ªå“ˆå¸Œè¡¨<code>hash</code>è®°å½•æŸä¸ªæ¬¡æ•°ï¼ˆé«˜åº¦ï¼‰å‡ºç°çš„æ¬¡æ•°ã€‚</li>
</ul>
<p>åˆ†æƒ…å†µè®¨è®ºï¼š</p>
<ul>
<li>è‹¥æ€»å…±åªæœ‰ä¸€ç§é«˜åº¦ï¼Œæœ‰ä¸¤ç§æƒ…å†µ
<ul>
<li>è¿™ä¸ªé«˜åº¦å¯¹åº”çš„æ¬¡æ•°åªæœ‰ä¸€ç§ <code>hash.second == 1</code></li>
<li>è¿™ä¸ªé«˜åº¦ä¸º1 <code>hash.first == 1</code></li>
</ul>
</li>
<li>è‹¥æ€»å…±åªæœ‰ä¸¤ç§é«˜åº¦ï¼Œæœ‰ä¸¤ç§æƒ…å†µ
<ul>
<li>è¾ƒå°çš„é«˜åº¦ä¸º1ï¼Œå¹¶ä¸”åªæœ‰ä¸€æ¬¡ <code>hash[0].first == 1 &amp;&amp; hash[0].second == 1</code></li>
<li>è¾ƒå¤§çš„é«˜åº¦æ˜¯è¾ƒå°çš„é«˜åº¦ + 1ï¼Œå¹¶ä¸”è¾ƒå¤§çš„é«˜åº¦åªæœ‰ä¸€ä¸ª <code>hash[1].first == hash[0].first + 1 &amp;&amp; hash[1].second == 1</code></li>
</ul>
</li>
<li>è‹¥é«˜åº¦æœ‰ä¸‰ç§ï¼Œåˆ™ä¸å­˜åœ¨è§£é¢˜æ–¹æ³•ã€‚</li>
</ul>
<h3 id="é¢˜è§£-7"><a class="markdownIt-Anchor" href="#é¢˜è§£-7"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxEqualFreq</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; cnt, hash; <span class="comment">// cntè®°å½•xå‡ºç°çš„æ¬¡æ•°ï¼ˆé«˜åº¦ï¼‰ï¼Œ hashè®°å½•æŸä¸ªæ¬¡æ•°ï¼ˆé«˜åº¦ï¼‰å‡ºç°çš„ä¸ªæ•°ï¼ˆæ¬¡æ•°ï¼‰</span></span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>, len = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> x : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt.<span class="built_in">count</span>(x)) &#123;  <span class="comment">// cntå·²ç»åŠ è¿‡xäº†</span></span><br><span class="line">                hash[cnt[x]] --;  <span class="comment">// å°†ä¹‹å‰çš„cnt[x] æ¬¡æ•°å‡ä¸€</span></span><br><span class="line">                <span class="keyword">if</span>(!hash[cnt[x]]) hash.<span class="built_in">erase</span>(cnt[x]); <span class="comment">// å¦‚æœå‡ä¸€ä¹‹åå˜ä¸º0äº†ï¼Œåˆ™å°†cnt[x]ä»hashä¸­åˆ é™¤</span></span><br><span class="line">            &#125;</span><br><span class="line">            cnt[x] ++;</span><br><span class="line">            hash[cnt[x]] ++;</span><br><span class="line">            len ++;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(hash.<span class="built_in">size</span>() == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">auto</span> it = hash.<span class="built_in">begin</span>();</span><br><span class="line">                <span class="keyword">if</span>(it-&gt;first == <span class="number">1</span> || it-&gt;second == <span class="number">1</span>) <span class="comment">// å¦‚æœæ‰€æœ‰æŸ±å­çš„é«˜åº¦ç­‰äº1 æˆ–è€… é«˜åº¦ä¸å”¯ä¸€ï¼Œä½†åªæœ‰ä¸€ä¸ªæŸ±å­</span></span><br><span class="line">                    res = len; </span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(hash.<span class="built_in">size</span>() == <span class="number">2</span>) &#123;</span><br><span class="line">                vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; <span class="built_in">tmp</span>(hash.<span class="built_in">begin</span>(), hash.<span class="built_in">end</span>());</span><br><span class="line">                <span class="keyword">if</span>(tmp[<span class="number">0</span>].first &gt; tmp[<span class="number">1</span>].first) <span class="built_in">swap</span>(tmp[<span class="number">0</span>], tmp[<span class="number">1</span>]);  <span class="comment">// å¦‚æœç¬¬ä¸€ä¸ªæ•°æ¯”ç¬¬äºŒä¸ªæ•°å¤§ï¼Œåˆ™äº¤æ¢</span></span><br><span class="line">                <span class="keyword">if</span>(tmp[<span class="number">0</span>].first == <span class="number">1</span> &amp;&amp; tmp[<span class="number">0</span>].second == <span class="number">1</span>) res = len;  <span class="comment">// è¾ƒå°çš„æ•°åªæœ‰ä¸€ä¸ªå¹¶ä¸”é«˜åº¦ä¸º1 </span></span><br><span class="line">                <span class="keyword">if</span>(tmp[<span class="number">1</span>].first == tmp[<span class="number">0</span>].first + <span class="number">1</span> &amp;&amp; tmp[<span class="number">1</span>].second == <span class="number">1</span>) res = len;  <span class="comment">// è¾ƒå¤§çš„æ•°çš„é«˜åº¦æ˜¯è¾ƒå°æ•°çš„é«˜åº¦ + 1ï¼Œå¹¶ä¸”è¾ƒå¤§çš„æ•°åªæœ‰ä¸€ä¸ª</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œéå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä¸¤ä¸ªå“ˆå¸Œè¡¨éœ€è¦ <em>O</em>(n) ä¸ªç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š232 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†9.34%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š64.1 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†12.05%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š45 / 45</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxEqualFreq</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; cnt = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(), hash = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>, len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x : nums) &#123;</span><br><span class="line">            <span class="type">Integer</span> <span class="variable">c</span> <span class="operator">=</span> cnt.get(x);</span><br><span class="line">            <span class="keyword">if</span>(c != <span class="literal">null</span>) &#123;</span><br><span class="line">                hash.put(c, hash.get(c) - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(hash.get(c) == <span class="number">0</span>)  hash.remove(c);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            cnt.put(x, cnt.getOrDefault(x, <span class="number">0</span>) + <span class="number">1</span>); <span class="comment">// cnt[x] ++;</span></span><br><span class="line">            hash.put(cnt.get(x), hash.getOrDefault(cnt.get(x), <span class="number">0</span>) + <span class="number">1</span>);  <span class="comment">// hash[cnt[x]] ++;</span></span><br><span class="line">            len ++;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(hash.size() == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span>(Map.Entry&lt;Integer, Integer&gt; entry : hash.entrySet()) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(entry.getKey() == <span class="number">1</span> || entry.getValue() == <span class="number">1</span>)</span><br><span class="line">                        res = len;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (hash.size() == <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="type">int</span> [][]tmp = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">                <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(Map.Entry&lt;Integer, Integer&gt; entry : hash.entrySet()) &#123;</span><br><span class="line">                    tmp[k][<span class="number">0</span>] = entry.getKey();</span><br><span class="line">                    tmp[k][<span class="number">1</span>] = entry.getValue();</span><br><span class="line">                    k ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(tmp[<span class="number">0</span>][<span class="number">0</span>] &gt; tmp[<span class="number">1</span>][<span class="number">0</span>]) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> tmp[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">                    tmp[<span class="number">0</span>][<span class="number">0</span>] = tmp[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">                    tmp[<span class="number">1</span>][<span class="number">0</span>] = t;</span><br><span class="line">                    t = tmp[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">                    tmp[<span class="number">0</span>][<span class="number">1</span>] = tmp[<span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">                    tmp[<span class="number">1</span>][<span class="number">1</span>] = t;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(tmp[<span class="number">0</span>][<span class="number">0</span>] == <span class="number">1</span> &amp;&amp; tmp[<span class="number">0</span>][<span class="number">1</span>] == <span class="number">1</span>) res = len;</span><br><span class="line">                <span class="keyword">if</span>(tmp[<span class="number">1</span>][<span class="number">0</span>] == tmp[<span class="number">0</span>][<span class="number">0</span>] + <span class="number">1</span> &amp;&amp; tmp[<span class="number">1</span>][<span class="number">1</span>] == <span class="number">1</span>) res = len;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œéå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä¸¤ä¸ªå“ˆå¸Œè¡¨éœ€è¦ <em>O</em>(n) ä¸ªç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š107 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†7.61%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š50.4 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†63.29%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š45 / 45</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maxEqualFreq</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        cnt, <span class="built_in">hash</span> = &#123;&#125;, &#123;&#125;</span><br><span class="line">        res = length = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> x <span class="keyword">in</span> cnt:</span><br><span class="line">                <span class="built_in">hash</span>[cnt[x]] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">hash</span>[cnt[x]] == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">del</span> <span class="built_in">hash</span>[cnt[x]]</span><br><span class="line">            cnt[x] = cnt.get(x, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">            <span class="built_in">hash</span>[cnt[x]] = <span class="built_in">hash</span>.get(cnt[x], <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">            length += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(<span class="built_in">hash</span>) == <span class="number">1</span>:</span><br><span class="line">                items = <span class="built_in">list</span>(<span class="built_in">hash</span>.items())</span><br><span class="line">                <span class="keyword">if</span> items[<span class="number">0</span>][<span class="number">0</span>] == <span class="number">1</span> <span class="keyword">or</span> items[<span class="number">0</span>][<span class="number">1</span>] == <span class="number">1</span>:</span><br><span class="line">                    res = length</span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">len</span>(<span class="built_in">hash</span>) == <span class="number">2</span>:</span><br><span class="line">                items = <span class="built_in">list</span>(<span class="built_in">hash</span>.items())</span><br><span class="line">                <span class="keyword">if</span> items[<span class="number">0</span>][<span class="number">0</span>] &gt; items[<span class="number">1</span>][<span class="number">0</span>]:</span><br><span class="line">                    items[<span class="number">0</span>], items[<span class="number">1</span>] = items[<span class="number">1</span>], items[<span class="number">0</span>]</span><br><span class="line">                <span class="keyword">if</span> items[<span class="number">0</span>][<span class="number">0</span>] == <span class="number">1</span> <span class="keyword">and</span> items[<span class="number">0</span>][<span class="number">1</span>] == <span class="number">1</span>:</span><br><span class="line">                    res = length</span><br><span class="line">                <span class="keyword">if</span> items[<span class="number">1</span>][<span class="number">0</span>] == items[<span class="number">0</span>][<span class="number">0</span>] + <span class="number">1</span> <span class="keyword">and</span> items[<span class="number">1</span>][<span class="number">1</span>] == <span class="number">1</span>:</span><br><span class="line">                    res = length</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œéå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä¸¤ä¸ªå“ˆå¸Œè¡¨éœ€è¦ <em>O</em>(n) ä¸ªç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š312 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†68.11%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š19.7 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†60.35%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š45 / 45</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®8åœ¨æ—¢å®šæ—¶é—´åšä½œä¸šçš„å­¦ç”Ÿäººæ•°"><a class="markdownIt-Anchor" href="#é¢˜ç›®8åœ¨æ—¢å®šæ—¶é—´åšä½œä¸šçš„å­¦ç”Ÿäººæ•°"></a> é¢˜ç›®8ï¼šåœ¨æ—¢å®šæ—¶é—´åšä½œä¸šçš„å­¦ç”Ÿäººæ•°</h2>
<p><a href="https://leetcode.cn/problems/number-of-students-doing-homework-at-a-given-time/"> åœ¨æ—¢å®šæ—¶é—´åšä½œä¸šçš„å­¦ç”Ÿäººæ•° </a></p>
<h3 id="æ ‡ç­¾-8"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-8"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code></p>
<h3 id="é¢˜è§£-8"><a class="markdownIt-Anchor" href="#é¢˜è§£-8"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">busyStudent</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; startTime, vector&lt;<span class="type">int</span>&gt;&amp; endTime, <span class="type">int</span> queryTime)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; startTime.<span class="built_in">size</span>(); i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(startTime[i] &lt;= queryTime &amp;&amp; endTime[i] &gt;= queryTime)</span><br><span class="line">                res ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œéå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š10.5 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†71.57%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š111 / 111</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">busyStudent</span><span class="params">(<span class="type">int</span>[] startTime, <span class="type">int</span>[] endTime, <span class="type">int</span> queryTime)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; startTime.length; i ++) </span><br><span class="line">            <span class="keyword">if</span>(startTime[i] &lt;= queryTime &amp;&amp; endTime[i] &gt;= queryTime)</span><br><span class="line">                res ++;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œéå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œ</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š39.5 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†64.01%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š111 / 111</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">busyStudent</span>(<span class="params">self, startTime: <span class="type">List</span>[<span class="built_in">int</span>], endTime: <span class="type">List</span>[<span class="built_in">int</span>], queryTime: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(startTime)):</span><br><span class="line">            <span class="keyword">if</span> startTime[i] &lt;= queryTime <span class="keyword">and</span> endTime[i] &gt;= queryTime:</span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œéå†ä¸€éæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š36 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†72.68%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š15.1 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†5.22%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š111 / 111</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®9æœ€å¤§äºŒå‰æ ‘"><a class="markdownIt-Anchor" href="#é¢˜ç›®9æœ€å¤§äºŒå‰æ ‘"></a> é¢˜ç›®9ï¼šæœ€å¤§äºŒå‰æ ‘</h2>
<p><a href="https://leetcode.cn/problems/maximum-binary-tree/"> æœ€å¤§äºŒå‰æ ‘ </a></p>
<h3 id="æ ‡ç­¾-9"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-9"></a> æ ‡ç­¾</h3>
<p><code>æ ˆ</code>ã€<code>æ ‘</code>ã€<code>æ•°ç»„</code>ã€<code>åˆ†æ²»</code>ã€<code>äºŒå‰æ ‘</code>ã€<code>å•è°ƒæ ˆ</code></p>
<h3 id="é¢˜è§£-9"><a class="markdownIt-Anchor" href="#é¢˜è§£-9"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">TreeNode* <span class="title">dfs</span><span class="params">(vector&lt;<span class="type">int</span>&gt; nums, <span class="type">int</span> left, <span class="type">int</span> right)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(left &gt;= right) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="type">int</span> flag = <span class="number">-1</span>;</span><br><span class="line">        <span class="type">int</span> max = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = left; i &lt; right; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt; max) &#123;</span><br><span class="line">                max = nums[i];</span><br><span class="line">                flag = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode* node = <span class="keyword">new</span> <span class="built_in">TreeNode</span>(max);</span><br><span class="line">        node-&gt;left = <span class="built_in">dfs</span>(nums, left, flag);</span><br><span class="line">        node-&gt;right = <span class="built_in">dfs</span>(nums, flag + <span class="number">1</span>, right);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode* <span class="title">constructMaximumBinaryTree</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">dfs</span>(nums, <span class="number">0</span>, nums.<span class="built_in">size</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š*<em>O</em>(n^2)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <code>nums</code> çš„é•¿åº¦ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ•°ç»„ä¸¥æ ¼é€’å¢æˆ–é€’å‡ï¼Œéœ€è¦é€’å½’ n å±‚ï¼Œç¬¬ i <code>0 =&lt; i &lt;= n</code> å±‚éœ€è¦éå† <em>n âˆ’ i</em> ä¸ªå…ƒç´ ä»¥æ‰¾å‡ºæœ€å¤§å€¼ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(n^2)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå³ä¸ºæœ€åæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨çš„æ ˆç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š196 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†5.40%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š370.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†5.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š107 / 107</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">npc</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l; i &lt; r; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(max &lt; nums[i])&#123;</span><br><span class="line">                max = nums[i];</span><br><span class="line">                npc = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(max);</span><br><span class="line">        root.left = dfs(nums, l, npc);</span><br><span class="line">        root.right = dfs(nums, npc + <span class="number">1</span>, r);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">constructMaximumBinaryTree</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dfs(nums, <span class="number">0</span>, nums.length);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š*<em>O</em>(n^2)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <code>nums</code> çš„é•¿åº¦ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ•°ç»„ä¸¥æ ¼é€’å¢æˆ–é€’å‡ï¼Œéœ€è¦é€’å½’ n å±‚ï¼Œç¬¬ i <code>0 =&lt; i &lt;= n</code> å±‚éœ€è¦éå† <em>n âˆ’ i</em> ä¸ªå…ƒç´ ä»¥æ‰¾å‡ºæœ€å¤§å€¼ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(n^2)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå³ä¸ºæœ€åæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨çš„æ ˆç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š2 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†83.20%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š41.3 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†84.77%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š107 / 107</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, left=None, right=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.left = left</span></span><br><span class="line"><span class="comment">#         self.right = right</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">constructMaximumBinaryTree</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">Optional</span>[TreeNode]:</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">nums, l, r</span>):</span><br><span class="line">            <span class="keyword">if</span> l &gt;= r:</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="built_in">max</span> = npc = -<span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l, r):</span><br><span class="line">                <span class="keyword">if</span> nums[i] &gt; <span class="built_in">max</span>:</span><br><span class="line">                    <span class="built_in">max</span> = nums[i]</span><br><span class="line">                    npc = i</span><br><span class="line">            node = TreeNode(<span class="built_in">max</span>)</span><br><span class="line">            node.left = dfs(nums, l, npc)</span><br><span class="line">            node.right = dfs(nums, npc + <span class="number">1</span>, r)</span><br><span class="line">            <span class="keyword">return</span> node</span><br><span class="line">        <span class="keyword">return</span> dfs(nums, <span class="number">0</span>, <span class="built_in">len</span>(nums))</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š*<em>O</em>(n^2)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <code>nums</code> çš„é•¿åº¦ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ•°ç»„ä¸¥æ ¼é€’å¢æˆ–é€’å‡ï¼Œéœ€è¦é€’å½’ n å±‚ï¼Œç¬¬ i <code>0 =&lt; i &lt;= n</code> å±‚éœ€è¦éå† <em>n âˆ’ i</em> ä¸ªå…ƒç´ ä»¥æ‰¾å‡ºæœ€å¤§å€¼ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(n^2)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå³ä¸ºæœ€åæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨çš„æ ˆç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š112 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†75.67%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š15.5 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†69.26%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š107 / 107</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®10å°†çŸ©é˜µæŒ‰å¯¹è§’çº¿æ’åº"><a class="markdownIt-Anchor" href="#é¢˜ç›®10å°†çŸ©é˜µæŒ‰å¯¹è§’çº¿æ’åº"></a> é¢˜ç›®10ï¼šå°†çŸ©é˜µæŒ‰å¯¹è§’çº¿æ’åºâ­</h2>
<p><a href="https://leetcode.cn/problems/sort-the-matrix-diagonally/"> å°†çŸ©é˜µæŒ‰å¯¹è§’çº¿æ’åº </a></p>
<h3 id="æ ‡ç­¾-10"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-10"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>çŸ©é˜µ</code>ã€<code>æ’åº</code></p>
<h3 id="æ€è·¯-7"><a class="markdownIt-Anchor" href="#æ€è·¯-7"></a> æ€è·¯</h3>
<p>é¦–å…ˆéå†æˆªè·ï¼Œæ¯æ¡å¯¹è§’çº¿å¯¹åº”åˆ°åæ ‡ç³»éƒ½ä¼šå­˜åœ¨ä¸€ä¸ªæˆªè·ï¼Œé¦–å…ˆæ ¹æ®æˆªè·ç¡®å®šå¯¹è§’çº¿ï¼Œç„¶åæ ¹æ® x å€¼ç¡®å®š y ï¼Œè¿›è€Œå°†å¯¹è§’çº¿å…ƒç´ åŠ å…¥åˆ°ä¸€ä¸ªä¸´æ—¶æ•°ç»„ä¸­å¹¶è¿›è¡Œæ’åºååˆé‡æ–°èµ‹å€¼ä¼šåŸæ•°ç»„ã€‚</p>
<h3 id="é¢˜è§£-10"><a class="markdownIt-Anchor" href="#é¢˜è§£-10"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">diagonalSort</span>(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; mat) &#123;</span><br><span class="line">        <span class="type">int</span> n = mat.<span class="built_in">size</span>(), m = mat[<span class="number">0</span>].<span class="built_in">size</span>();  <span class="comment">// è¡Œï¼Œåˆ—</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> b = -(n - <span class="number">1</span>); b &lt;= m - <span class="number">1</span>; b ++) &#123;  <span class="comment">// éå†æˆªè·</span></span><br><span class="line">            vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> x = <span class="number">0</span>, y = b; x &lt; n &amp;&amp; y &lt; m; x ++, y ++) </span><br><span class="line">                <span class="keyword">if</span>(y &gt;= <span class="number">0</span>)</span><br><span class="line">                    res.<span class="built_in">push_back</span>(mat[x][y]);</span><br><span class="line">            <span class="built_in">sort</span>(res.<span class="built_in">begin</span>(), res.<span class="built_in">end</span>());</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> x = <span class="number">0</span>, y = b, k = <span class="number">0</span>; x &lt; n &amp;&amp; y &lt; m; x ++, y ++)</span><br><span class="line">                <span class="keyword">if</span>(y &gt;= <span class="number">0</span>)</span><br><span class="line">                    mat[x][y] = res[k ++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mat;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>((m+n) Ã— min(m,n) Ã— log(min(m,n)))</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n + m)ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†85.51%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š9.1 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†38.16%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š15 / 15</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] diagonalSort(<span class="type">int</span>[][] mat) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> mat.length, m = mat[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> -(n - <span class="number">1</span>); b &lt;= m - <span class="number">1</span>; b ++) &#123;</span><br><span class="line">            ArrayList&lt;Integer&gt; q = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>, y = b; x &lt; n &amp;&amp; y &lt; m; x ++, y ++)</span><br><span class="line">                <span class="keyword">if</span>(y &gt;= <span class="number">0</span>)</span><br><span class="line">                    q.add(mat[x][y]);</span><br><span class="line">            q.sort(Comparator.naturalOrder());</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>, y = b, k = <span class="number">0</span>; x &lt; n &amp;&amp; y &lt; m; x ++, y ++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(y &gt;= <span class="number">0</span>)</span><br><span class="line">                    mat[x][y] = q.get(k ++);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mat;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>((m+n) Ã— min(m,n) Ã— log(min(m,n)))</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n + m)ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š7 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†39.29%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š42.5 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†61.04%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š15 / 15</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">diagonalSort</span>(<span class="params">self, mat: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        n, m = <span class="built_in">len</span>(mat), <span class="built_in">len</span>(mat[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> <span class="built_in">range</span>(-(n -<span class="number">1</span>), m):</span><br><span class="line">            res = []</span><br><span class="line">            x, y = <span class="number">0</span>, b</span><br><span class="line">            <span class="keyword">while</span> x &lt; n <span class="keyword">and</span> y &lt; m:</span><br><span class="line">                <span class="keyword">if</span> y &gt;= <span class="number">0</span>:</span><br><span class="line">                    res.append(mat[x][y])</span><br><span class="line">                x += <span class="number">1</span></span><br><span class="line">                y += <span class="number">1</span></span><br><span class="line">            res.sort()</span><br><span class="line">            x, y, k = <span class="number">0</span>, b, <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> x &lt; n <span class="keyword">and</span> y &lt; m:</span><br><span class="line">                <span class="keyword">if</span> y &gt;= <span class="number">0</span>:</span><br><span class="line">                    mat[x][y] = res[k]</span><br><span class="line">                    k += <span class="number">1</span></span><br><span class="line">                x += <span class="number">1</span></span><br><span class="line">                y += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> mat</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>((m+n) Ã— min(m,n) Ã— log(min(m,n)))</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n + m)ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š48 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†58.73%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š15.2 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†80.95%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š15 / 15</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®11é€ƒç¦»è¿·å®«"><a class="markdownIt-Anchor" href="#é¢˜ç›®11é€ƒç¦»è¿·å®«"></a> é¢˜ç›®11ï¼šé€ƒç¦»è¿·å®«â­</h2>
<p><a href="https://www.acwing.com/problem/content/3678/"> é€ƒç¦»è¿·å®« </a></p>
<h3 id="æ ‡ç­¾-11"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-11"></a> æ ‡ç­¾</h3>
<p><code>BFS</code>ã€<code>åŒç«¯é˜Ÿåˆ—BFS</code></p>
<h3 id="æ€è·¯-8"><a class="markdownIt-Anchor" href="#æ€è·¯-8"></a> æ€è·¯</h3>
<h3 id="é¢˜è§£-11"><a class="markdownIt-Anchor" href="#é¢˜è§£-11"></a> é¢˜è§£</h3>
<h2 id="é¢˜ç›®12å°†æ•°å­—å˜æˆ0çš„æ“ä½œæ¬¡æ•°"><a class="markdownIt-Anchor" href="#é¢˜ç›®12å°†æ•°å­—å˜æˆ0çš„æ“ä½œæ¬¡æ•°"></a> é¢˜ç›®12ï¼šå°†æ•°å­—å˜æˆ0çš„æ“ä½œæ¬¡æ•°</h2>
<p><a href="https://leetcode.cn/problems/number-of-steps-to-reduce-a-number-to-zero/"> å°†æ•°å­—å˜æˆ 0 çš„æ“ä½œæ¬¡æ•° </a></p>
<h3 id="æ ‡ç­¾-12"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-12"></a> æ ‡ç­¾</h3>
<p><code>ä½è¿ç®—</code>ã€<code>æ•°å­¦</code></p>
<h3 id="é¢˜è§£-12"><a class="markdownIt-Anchor" href="#é¢˜è§£-12"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numberOfSteps</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(num)&#123;</span><br><span class="line">            res ++;</span><br><span class="line">            <span class="keyword">if</span>(num % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                num /= <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                num --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(log num)ï¼Œå…¶ä¸­ <em>num</em> æ˜¯è¾“å…¥æ•°å€¼ã€‚æ¯æ¬¡å¾ªç¯éƒ½å°† <em>num</em> çš„æ•°å€¼å‡åŠï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(log num)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š5.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†51.49%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š204 / 204</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numberOfSteps</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>) &#123;</span><br><span class="line">            res ++;</span><br><span class="line">            <span class="keyword">if</span>(num % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                num /= <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                num --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(log num)ï¼Œå…¶ä¸­ <em>num</em> æ˜¯è¾“å…¥æ•°å€¼ã€‚æ¯æ¬¡å¾ªç¯éƒ½å°† <em>num</em> çš„æ•°å€¼å‡åŠï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(log num)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š38.5 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†41.23%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š204 / 204</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numberOfSteps</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> num != <span class="number">0</span>:</span><br><span class="line">            res += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> num % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                num /= <span class="number">2</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                num -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(log num)ï¼Œå…¶ä¸­ <em>num</em> æ˜¯è¾“å…¥æ•°å€¼ã€‚æ¯æ¬¡å¾ªç¯éƒ½å°† <em>num</em> çš„æ•°å€¼å‡åŠï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(log num)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š32 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†90.62%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š14.9 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†59.81%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š204 / 204</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®13å¤§å°ä¸º-k-ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®13å¤§å°ä¸º-k-ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®"></a> é¢˜ç›®13ï¼šå¤§å°ä¸º K ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®</h2>
<p><a href="https://leetcode.cn/problems/number-of-sub-arrays-of-size-k-and-average-greater-than-or-equal-to-threshold/">å¤§å°ä¸º K ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®</a></p>
<h3 id="æ ‡ç­¾-13"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-13"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>æ»‘åŠ¨çª—å£</code></p>
<h3 id="é¢˜è§£-13"><a class="markdownIt-Anchor" href="#é¢˜è§£-13"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numOfSubarrays</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span> k, <span class="type">int</span> threshold)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">0</span>, r = <span class="number">0</span>;r &lt; arr.<span class="built_in">size</span>(); r ++) &#123;</span><br><span class="line">            sum += arr[r];</span><br><span class="line">            <span class="keyword">if</span>(r &gt;= k) &#123; <span class="comment">// éœ€è¦åˆ é™¤å·¦è¾¹å…ƒç´ </span></span><br><span class="line">                sum -= arr[l ++];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(r - l + <span class="number">1</span> == k &amp;&amp; sum &gt;= threshold * k) res ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„é•¿åº¦ã€‚éå†ä¸€éæ•°ç»„å³å¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š64 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†81.86%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š54.1 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†16.03%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š69 / 69</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numOfSubarrays</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> k, <span class="type">int</span> threshold)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = <span class="number">0</span>; r &lt; arr.length; r ++) &#123;</span><br><span class="line">            sum += arr[r];</span><br><span class="line">            <span class="keyword">if</span>(r &gt;= k) </span><br><span class="line">                sum -= arr[l ++];</span><br><span class="line">            <span class="keyword">if</span>(r - l + <span class="number">1</span> == k &amp;&amp; sum &gt;= threshold * k) res ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„é•¿åº¦ã€‚éå†ä¸€éæ•°ç»„å³å¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š3 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†38.01%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š52.8 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†10.59%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š69 / 69</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numOfSubarrays</span>(<span class="params">self, arr: <span class="type">List</span>[<span class="built_in">int</span>], k: <span class="built_in">int</span>, threshold: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        res, <span class="built_in">sum</span> = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        l = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span> (<span class="number">0</span>, <span class="built_in">len</span>(arr)):</span><br><span class="line">            <span class="built_in">sum</span> += arr[r]</span><br><span class="line">            <span class="keyword">if</span> r &gt;= k:</span><br><span class="line">                <span class="built_in">sum</span> -= arr[l]</span><br><span class="line">                l += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> r - l + <span class="number">1</span> == k <span class="keyword">and</span> <span class="built_in">sum</span> &gt;= threshold * k:</span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„é•¿åº¦ã€‚éå†ä¸€éæ•°ç»„å³å¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š148 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†37.55%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š25 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†39.74%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š69 / 69</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®14æ—¶é’ŸæŒ‡é’ˆçš„å¤¹è§’"><a class="markdownIt-Anchor" href="#é¢˜ç›®14æ—¶é’ŸæŒ‡é’ˆçš„å¤¹è§’"></a> é¢˜ç›®14ï¼šæ—¶é’ŸæŒ‡é’ˆçš„å¤¹è§’</h2>
<p><a href="https://leetcode.cn/problems/angle-between-hands-of-a-clock/">æ—¶é’ŸæŒ‡é’ˆçš„å¤¹è§’</a></p>
<h3 id="æ ‡ç­¾-14"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-14"></a> æ ‡ç­¾</h3>
<p><code>æ•°å­¦</code></p>
<h3 id="æ€è·¯-9"><a class="markdownIt-Anchor" href="#æ€è·¯-9"></a> æ€è·¯</h3>
<p>éƒ½ä»¥ <em>12</em> çš„ä½ç½®ä½œä¸º <em>0</em> åº¦ï¼Œ</p>
<ul>
<li>åˆ†é’ˆçš„å¤¹è§’ï¼š<code>m = (double)minutes * 360 / 60</code></li>
<li>æ—¶é’ˆçš„å¤¹è§’ï¼š<code>h = hour % 12 * 30 + (double)minutes * 30.0 / 60.0</code></li>
</ul>
<h3 id="é¢˜è§£-14"><a class="markdownIt-Anchor" href="#é¢˜è§£-14"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">angleClock</span><span class="params">(<span class="type">int</span> hour, <span class="type">int</span> minutes)</span> </span>&#123;</span><br><span class="line">        <span class="type">double</span> m = (<span class="type">double</span>)minutes * <span class="number">360</span> / <span class="number">60</span>; <span class="comment">// åˆ†é’ˆçš„åº¦æ•°</span></span><br><span class="line">        <span class="type">double</span> h = hour % <span class="number">12</span> * <span class="number">30</span> + (<span class="type">double</span>)minutes * <span class="number">30.0</span> / <span class="number">60.0</span>; <span class="comment">// æ—¶é’ˆçš„è§’åº¦</span></span><br><span class="line">        <span class="type">double</span> res = <span class="built_in">abs</span>(m - h);</span><br><span class="line">        <span class="keyword">if</span>(res &gt; <span class="number">180</span>)   res = <span class="number">360</span> - res;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(1)ï¼Œ</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š5.7 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†80.22%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š105 / 105</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">angleClock</span><span class="params">(<span class="type">int</span> hour, <span class="type">int</span> minutes)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">m</span> <span class="operator">=</span> (<span class="type">double</span>)minutes * <span class="number">360</span> / <span class="number">60</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">h</span> <span class="operator">=</span> hour % <span class="number">12</span> * <span class="number">30</span> + (<span class="type">double</span>) minutes * <span class="number">30.0</span> / <span class="number">60.0</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">res</span> <span class="operator">=</span> Math.abs(m - h);</span><br><span class="line">        <span class="keyword">if</span> (res &gt; <span class="number">180</span>) res = <span class="number">360</span> - res;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š38.3 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†90.91%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š105 / 105</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">angleClock</span>(<span class="params">self, hour: <span class="built_in">int</span>, minutes: <span class="built_in">int</span></span>) -&gt; <span class="built_in">float</span>:</span><br><span class="line">        m = minutes * <span class="number">360</span> / <span class="number">60</span></span><br><span class="line">        h = hour % <span class="number">12</span> * <span class="number">30</span> + minutes * <span class="number">30</span> / <span class="number">60</span></span><br><span class="line">        res = <span class="built_in">abs</span>(m - h)</span><br><span class="line">        <span class="keyword">if</span> res &gt; <span class="number">180</span>:</span><br><span class="line">            res = <span class="number">360</span> - res</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(1)ï¼Œ</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š40 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†39.86%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š14.9 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†56.52%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š105 / 105</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®15è·³è·ƒæ¸¸æˆ-iv"><a class="markdownIt-Anchor" href="#é¢˜ç›®15è·³è·ƒæ¸¸æˆ-iv"></a> é¢˜ç›®15ï¼šè·³è·ƒæ¸¸æˆ IVâ­</h2>
<p><a href="https://leetcode.cn/problems/jump-game-iv/"> è·³è·ƒæ¸¸æˆ IV</a></p>
<h3 id="æ ‡ç­¾-15"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-15"></a> æ ‡ç­¾</h3>
<p><code>å¹¿åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>æ•°ç»„</code>ã€<code>å“ˆå¸Œè¡¨</code></p>
<h3 id="æ€è·¯-10"><a class="markdownIt-Anchor" href="#æ€è·¯-10"></a> æ€è·¯</h3>
<p>ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªå€¼å¯¹åº”çš„æ‰€æœ‰ä¸‹æ ‡ï¼Œç„¶åä½¿ç”¨<code>bfs</code>è¿›è¡Œéå†</p>
<h3 id="é¢˜è§£-15"><a class="markdownIt-Anchor" href="#é¢˜è§£-15"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minJumps</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr.<span class="built_in">size</span>() == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n = arr.<span class="built_in">size</span>(), INF = <span class="number">1e9</span>;</span><br><span class="line">        <span class="keyword">if</span>(arr[<span class="number">0</span>] == arr[n - <span class="number">1</span>]) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;&gt; hash; <span class="comment">// ç”¨äºå­˜å‚¨æŸä¸€ä¸ªæ•°å€¼å¯¹åº”çš„ä¸‹æ ‡ç¼–å·</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++)&#123;</span><br><span class="line">            hash[arr[i]].<span class="built_in">push_back</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dist</span><span class="params">(n, INF)</span></span>;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">        q.<span class="built_in">push</span>(<span class="number">0</span>);</span><br><span class="line">        dist[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹å¤´å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> t = q.<span class="built_in">front</span>(); </span><br><span class="line">            q.<span class="built_in">pop</span>();</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = t - <span class="number">1</span>; i &lt;= t + <span class="number">1</span>; i += <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i &gt;= <span class="number">0</span> &amp;&amp; i &lt; n &amp;&amp; dist[i] &gt; dist[t] + <span class="number">1</span>)&#123;</span><br><span class="line">                    dist[i] = dist[t] + <span class="number">1</span>;</span><br><span class="line">                    q.<span class="built_in">push</span>(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> val = arr[t];</span><br><span class="line">            <span class="keyword">if</span>(hash.<span class="built_in">count</span>(val))&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i : hash[val]) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(dist[i] &gt; dist[t] + <span class="number">1</span>)&#123;</span><br><span class="line">                        dist[i] = dist[t] + <span class="number">1</span>;</span><br><span class="line">                        q.<span class="built_in">push</span>(i);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            hash.<span class="built_in">erase</span>(val);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dist[n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šåªè¿›å…¥é˜Ÿåˆ—ä¸€æ¬¡ï¼Œæœ€å¤šè¢«åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›å…¥é˜Ÿåˆ—ä¸‰æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ã€‚å…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œé˜Ÿåˆ—ï¼Œå“ˆå¸Œè¡¨å’Œå“ˆå¸Œé›†åˆå‡æœ€å¤šå­˜å‚¨ <em>n</em> ä¸ªå…ƒç´ ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š160 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†85.52%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š71.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†71.67%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š33 / 33</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minJumps</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> arr.length, INF = <span class="number">1000000</span>;</span><br><span class="line">        Map&lt;Integer, List&lt;Integer&gt;&gt; hash = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> arr[i];</span><br><span class="line">            <span class="keyword">if</span>(hash.get(val) == <span class="literal">null</span>) hash.put(val, <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;());</span><br><span class="line">            hash.get(val).add(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[] dist = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        Arrays.fill(dist, INF);</span><br><span class="line">        Queue&lt;Integer&gt; q = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        q.add(<span class="number">0</span>);</span><br><span class="line">        dist[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(!q.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> q.remove(); <span class="comment">// è¿”å›å¹¶ä¸”åˆ é™¤å¯¹å¤´å…ƒç´ </span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> t - <span class="number">1</span>; i &lt;= t + <span class="number">1</span>; i += <span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i &gt;= <span class="number">0</span> &amp;&amp; i &lt; n &amp;&amp; dist[i] &gt; dist[t] + <span class="number">1</span>)&#123;</span><br><span class="line">                    dist[i] = dist[t] + <span class="number">1</span>;</span><br><span class="line">                    q.add(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> arr[t];</span><br><span class="line">            <span class="keyword">if</span>(hash.get(val) != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i : hash.get(val)) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(dist[i] &gt; dist[t] + <span class="number">1</span>)&#123;</span><br><span class="line">                        dist[i] = dist[t] + <span class="number">1</span>;</span><br><span class="line">                        q.add(i);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                hash.remove(val);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dist[n - <span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šåªè¿›å…¥é˜Ÿåˆ—ä¸€æ¬¡ï¼Œæœ€å¤šè¢«åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›å…¥é˜Ÿåˆ—ä¸‰æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ã€‚å…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œé˜Ÿåˆ—ï¼Œå“ˆå¸Œè¡¨å’Œå“ˆå¸Œé›†åˆå‡æœ€å¤šå­˜å‚¨ <em>n</em> ä¸ªå…ƒç´ ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š56 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†52.22%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š49.7 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†97.91%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š33 / 33</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minJumps</span>(<span class="params">self, arr: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        n ,INF = <span class="built_in">len</span>(arr), <span class="number">1e8</span></span><br><span class="line">        <span class="built_in">hash</span> = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            val = arr[i]</span><br><span class="line">            <span class="keyword">if</span> val <span class="keyword">not</span> <span class="keyword">in</span> <span class="built_in">hash</span>: <span class="built_in">hash</span>[val] = []</span><br><span class="line">            <span class="built_in">hash</span>[val].append(i)</span><br><span class="line">        </span><br><span class="line">        dist = [INF <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        q = deque()  <span class="comment"># é˜Ÿåˆ—</span></span><br><span class="line">        q.append(<span class="number">0</span>)</span><br><span class="line">        dist[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> q:</span><br><span class="line">            t = q.popleft()</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(t - <span class="number">1</span>, t + <span class="number">2</span>):</span><br><span class="line">                <span class="keyword">if</span> i &gt;= <span class="number">0</span> <span class="keyword">and</span> i &lt; n <span class="keyword">and</span> dist[i] &gt; dist[t] + <span class="number">1</span>:</span><br><span class="line">                    dist[i] = dist[t] + <span class="number">1</span></span><br><span class="line">                    q.append(i)</span><br><span class="line">            </span><br><span class="line">            val = arr[t]</span><br><span class="line">            <span class="keyword">if</span> val <span class="keyword">in</span> <span class="built_in">hash</span>:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">hash</span>[val]:</span><br><span class="line">                    <span class="keyword">if</span> dist[i] &gt; dist[t] + <span class="number">1</span>:</span><br><span class="line">                        dist[i] = dist[t] + <span class="number">1</span></span><br><span class="line">                        q.append(i)</span><br><span class="line">                <span class="keyword">del</span> <span class="built_in">hash</span>[val]</span><br><span class="line">        <span class="keyword">return</span> dist[n - <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šåªè¿›å…¥é˜Ÿåˆ—ä¸€æ¬¡ï¼Œæœ€å¤šè¢«åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›å…¥é˜Ÿåˆ—ä¸‰æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ã€‚å…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œé˜Ÿåˆ—ï¼Œå“ˆå¸Œè¡¨å’Œå“ˆå¸Œé›†åˆå‡æœ€å¤šå­˜å‚¨ <em>n</em> ä¸ªå…ƒç´ ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š428 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†24.12%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š27.7 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†92.97%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š33 / 33</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®16æ£€æŸ¥æ•´æ•°åŠå…¶ä¸¤å€æ•°æ˜¯å¦å­˜åœ¨"><a class="markdownIt-Anchor" href="#é¢˜ç›®16æ£€æŸ¥æ•´æ•°åŠå…¶ä¸¤å€æ•°æ˜¯å¦å­˜åœ¨"></a> é¢˜ç›®16ï¼šæ£€æŸ¥æ•´æ•°åŠå…¶ä¸¤å€æ•°æ˜¯å¦å­˜åœ¨</h2>
<p><a href="https://leetcode.cn/problems/check-if-n-and-its-double-exist/">æ£€æŸ¥æ•´æ•°åŠå…¶ä¸¤å€æ•°æ˜¯å¦å­˜åœ¨</a></p>
<h3 id="æ ‡ç­¾-16"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-16"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>å“ˆå¸Œè¡¨</code>ã€<code>åŒæŒ‡é’ˆ</code>ã€<code>äºŒåˆ†æŸ¥æ‰¾</code>ã€<code>æ’åº</code></p>
<h3 id="æ€è·¯-11"><a class="markdownIt-Anchor" href="#æ€è·¯-11"></a> æ€è·¯</h3>
<p>ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨éå†è¿‡çš„å…ƒç´ ï¼Œå½“å½“å‰å…ƒç´ çš„äºŒå€æˆ–è€…äºŒåˆ†ä¹‹ä¸€å·²ç»åœ¨å“ˆå¸Œè¡¨ä¸­äº†ï¼Œåˆ™ç›´æ¥è¿”å›<code>true</code></p>
<h3 id="é¢˜è§£-16"><a class="markdownIt-Anchor" href="#é¢˜è§£-16"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">C++</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">Java</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">Python3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">checkIfExist</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; hash;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x : arr)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hash.<span class="built_in">count</span>(x * <span class="number">2</span>) || x % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; hash.<span class="built_in">count</span>(x / <span class="number">2</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            hash.<span class="built_in">insert</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œåªéœ€è¦éå†ä¸€éæ•°ç»„å³å¯ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ã€‚å…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œå“ˆå¸Œè¡¨æœ€å¤šå­˜ <em>n</em> ä¸ªå…ƒç´ ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†56.54%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š10.1 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†31.83%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š107 / 107</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkIfExist</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">        Set&lt;Integer&gt; hash = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x : arr) &#123;</span><br><span class="line">            <span class="keyword">if</span>(hash.contains(x * <span class="number">2</span>) || x % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; hash.contains(x / <span class="number">2</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            hash.add(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œåªéœ€è¦éå†ä¸€éæ•°ç»„å³å¯ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ã€‚å…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œå“ˆå¸Œè¡¨æœ€å¤šå­˜ <em>n</em> ä¸ªå…ƒç´ ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š1 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†99.56%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š40.6 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†98.11%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š107 / 107</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">checkIfExist</span>(<span class="params">self, arr: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="built_in">hash</span> = <span class="built_in">set</span>()</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> arr:</span><br><span class="line">            <span class="keyword">if</span> x * <span class="number">2</span> <span class="keyword">in</span> <span class="built_in">hash</span> <span class="keyword">or</span> x % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">and</span> x / <span class="number">2</span> <span class="keyword">in</span> <span class="built_in">hash</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="built_in">hash</span>.add(x)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œåªéœ€è¦éå†ä¸€éæ•°ç»„å³å¯ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ã€‚å…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>arr</em> çš„é•¿åº¦ï¼Œå“ˆå¸Œè¡¨æœ€å¤šå­˜ <em>n</em> ä¸ªå…ƒç´ ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š40 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†69.62%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š15.1 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†29.24%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š107 / 107</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>AcWing</category>
        <category>Course</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>C++</tag>
        <tag>LeetCode</tag>
        <tag>JAVA</tag>
        <tag>Python3</tag>
      </tags>
  </entry>
  <entry>
    <title>AcWing LeetCodeç©¶æç­ Week1</title>
    <url>/2022/03/22/AcWing/LeetCode_Week1/</url>
    <content><![CDATA[<h2 id="å­¦ä¹ å¹³å°"><a class="markdownIt-Anchor" href="#å­¦ä¹ å¹³å°"></a> å­¦ä¹ å¹³å°</h2>
<p><strong><a href="https://www.acwing.com/activity/content/31/"> AcWing LeetCodeç©¶æç­ </a></strong></p>
<p><strong><a href="https://leetcode-cn.com/"> LeetCode </a></strong></p>
<h2 id="let-1ä¸¤æ•°ä¹‹å’Œ"><a class="markdownIt-Anchor" href="#let-1ä¸¤æ•°ä¹‹å’Œ"></a> Let 1ï¼šä¸¤æ•°ä¹‹å’Œ</h2>
<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„<code>nums</code>å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼<code>target</code>ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º<strong>å’Œä¸ºç›®æ ‡å€¼</strong><code>target</code>çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</p>
<p>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [2,7,11,15], target = 9</span><br><span class="line">è¾“å‡ºï¼š[0,1]</span><br><span class="line">è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,2,4], target = 6</span><br><span class="line">è¾“å‡ºï¼š[1,2]</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,3], target = 6</span><br><span class="line">è¾“å‡ºï¼š[0,1]</span><br></pre></td></tr></table></figure>
<p>æç¤ºï¼š</p>
<ul>
<li><code>2 &lt;= nums.length &lt;= 104</code></li>
<li><code>109 &lt;= nums[i] &lt;= 109</code></li>
<li><code>109 &lt;= target &lt;= 109</code></li>
<li><strong>åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ</strong></li>
</ul>
<p>**è¿›é˜¶ï¼š**ä½ å¯ä»¥æƒ³å‡ºä¸€ä¸ªæ—¶é—´å¤æ‚åº¦å°äº <code>O(n^2)</code> çš„ç®—æ³•å—ï¼Ÿ</p>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">twoSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i &lt; nums.<span class="built_in">size</span>() - <span class="number">1</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>;j&lt; nums.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[i]+nums[j] == target)&#123;</span><br><span class="line">                    arr.<span class="built_in">push_back</span>(i);</span><br><span class="line">                    arr.<span class="built_in">push_back</span>(j);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-2ä¸¤æ•°ç›¸åŠ "><a class="markdownIt-Anchor" href="#let-2ä¸¤æ•°ç›¸åŠ "></a> Let 2ï¼šä¸¤æ•°ç›¸åŠ </h2>
<p>ç»™ä½ ä¸¤ä¸ª <strong>éç©º</strong> çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ <strong>é€†åº</strong> çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚</p>
<p>è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2021/01/02/addtwonumber1.jpg" alt="img" /></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]</span><br><span class="line">è¾“å‡ºï¼š[7,0,8]</span><br><span class="line">è§£é‡Šï¼š342 + 465 = 807.</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [0], l2 = [0]</span><br><span class="line">è¾“å‡ºï¼š[0]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]</span><br><span class="line">è¾“å‡ºï¼š[8,9,9,9,0,0,0,1]</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ¯ä¸ªé“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´ <code>[1, 100]</code> å†…</li>
<li><code>0 &lt;= Node.val &lt;= 9</code></li>
<li>é¢˜ç›®æ•°æ®ä¿è¯åˆ—è¡¨è¡¨ç¤ºçš„æ•°å­—ä¸å«å‰å¯¼é›¶</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> dummy = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>); <span class="comment">// ç”Ÿæˆä¸€ä¸ªæ–°çš„å¤´èŠ‚ç‚¹ï¼ŒæŒ‡å‘ç»“æœ</span></span><br><span class="line">        <span class="keyword">auto</span> cur = dummy; <span class="comment">// ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ç»“æœé“¾è¡¨çš„å°¾èŠ‚ç‚¹</span></span><br><span class="line">        <span class="type">int</span> t = <span class="number">0</span>; <span class="comment">//ç”¨æ¥ä¿å­˜è¿›ä½</span></span><br><span class="line">        <span class="keyword">while</span>(l1 || l2 || t)&#123;</span><br><span class="line">            <span class="keyword">if</span>(l1) t += l1 -&gt; val, l1 = l1 -&gt; next;</span><br><span class="line">            <span class="keyword">if</span>(l2) t += l2 -&gt; val, l2 = l2 -&gt; next;</span><br><span class="line">            cur -&gt; next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(t % <span class="number">10</span>); <span class="comment">// å–å‡ºä¸ªä½åŠ å…¥ç”Ÿæˆæ–°èŠ‚ç‚¹</span></span><br><span class="line">            cur = cur -&gt; next; <span class="comment">// æ›´æ–°å°¾æŒ‡é’ˆ</span></span><br><span class="line">            t /= <span class="number">10</span>;  <span class="comment">// å»é™¤è¿›ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy -&gt; next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-3æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a class="markdownIt-Anchor" href="#let-3æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a> Let 3ï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</h2>
<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;abcabcbb&quot;</span><br><span class="line">è¾“å‡º: 3 </span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;bbbbb&quot;</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;b&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;pwwkew&quot;</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;wke&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br><span class="line">     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ&quot;pwke&quot; æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>
<p>æç¤ºï¼š</p>
<ul>
<li><code>0 &lt;= s.length &lt;= 5 * 104</code></li>
<li><code>s</code>ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; head; <span class="comment">// hash map</span></span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; s.<span class="built_in">length</span>(); i ++)&#123;</span><br><span class="line">            head[s[i]]++;</span><br><span class="line">            <span class="keyword">while</span>(head[s[i]] &gt; <span class="number">1</span>) head[s[j++]]--;</span><br><span class="line">            res = <span class="built_in">max</span>(res, i - j + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-4å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"><a class="markdownIt-Anchor" href="#let-4å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"></a> Let 4ï¼šå¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</h2>
<p>ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º <code>m</code> å’Œ <code>n</code> çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code>ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ <strong>ä¸­ä½æ•°</strong> ã€‚</p>
<p>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º <code>O(log (m+n))</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [1,3], nums2 = [2]</span><br><span class="line">è¾“å‡ºï¼š2.00000</span><br><span class="line">è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [1,2], nums2 = [3,4]</span><br><span class="line">è¾“å‡ºï¼š2.50000</span><br><span class="line">è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3,4] ï¼Œä¸­ä½æ•° (2 + 3) / 2 = 2.5</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>nums1.length == m</code></li>
<li><code>nums2.length == n</code></li>
<li><code>0 &lt;= m &lt;= 1000</code></li>
<li><code>0 &lt;= n &lt;= 1000</code></li>
<li><code>1 &lt;= m + n &lt;= 2000</code></li>
<li><code>-106 &lt;= nums1[i], nums2[i] &lt;= 106</code></li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">double</span>&gt; arr; <span class="comment">// å°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶åçš„æ•°ç»„</span></span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; nums1.<span class="built_in">size</span>() &amp;&amp; j &lt; nums2.<span class="built_in">size</span>())&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums1[i] &lt;= nums2[j])</span><br><span class="line">                arr.<span class="built_in">push_back</span>(nums1[i++]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                arr.<span class="built_in">push_back</span>(nums2[j++]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; nums1.<span class="built_in">size</span>()) arr.<span class="built_in">push_back</span>(nums1[i++]);</span><br><span class="line">        <span class="keyword">while</span>(j &lt; nums2.<span class="built_in">size</span>()) arr.<span class="built_in">push_back</span>(nums2[j++]);</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> len = arr.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; arr.<span class="built_in">size</span>(); k++) cout &lt;&lt; arr[k] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(len % <span class="number">2</span> != <span class="number">0</span>)&#123; <span class="comment">// åˆå¹¶åçš„æ•°ç»„é•¿åº¦æ˜¯å¥‡æ•°</span></span><br><span class="line">            <span class="keyword">return</span> arr[len / <span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123; <span class="comment">// åˆå¹¶åçš„æ•°ç»„é•¿åº¦æ˜¯å¶æ•°</span></span><br><span class="line">            <span class="built_in">return</span> (arr[len / <span class="number">2</span>] + arr[len / <span class="number">2</span> - <span class="number">1</span>]) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-5æœ€é•¿å›æ–‡å­ä¸²"><a class="markdownIt-Anchor" href="#let-5æœ€é•¿å›æ–‡å­ä¸²"></a> Let 5ï¼šæœ€é•¿å›æ–‡å­ä¸² *</h2>
<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code>ï¼Œæ‰¾åˆ° <code>s</code> ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;babad&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;bab&quot;</span><br><span class="line">è§£é‡Šï¼š&quot;aba&quot; åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;cbbd&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;bb&quot;</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 1000</code></li>
<li>s ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">longestPalindrome</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        string res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">            <span class="type">int</span> l = i - <span class="number">1</span>, r = i + <span class="number">1</span>;<span class="comment">//å›æ–‡ä¸²ä¸ºå¶æ•°ä¸ªçš„æƒ…å†µ</span></span><br><span class="line">            <span class="keyword">while</span>(l &gt;= <span class="number">0</span> &amp;&amp; r &lt;= s.<span class="built_in">size</span>() &amp;&amp; s[l] == s[r]) l --, r ++;</span><br><span class="line">            <span class="keyword">if</span>(res.<span class="built_in">size</span>() &lt; r - l - <span class="number">1</span>) res = s.<span class="built_in">substr</span>(l + <span class="number">1</span>, r - l - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            l = i, r = i + <span class="number">1</span>; <span class="comment">//å›æ–‡ä¸²ä¸ºå¥‡æ•°ä¸ªçš„æƒ…å†µ</span></span><br><span class="line">            <span class="keyword">while</span>(l &gt;= <span class="number">0</span> &amp;&amp; r &lt;= s.<span class="built_in">size</span>() &amp;&amp; s[l] == s[r]) l --, r ++;</span><br><span class="line">            <span class="keyword">if</span>(res.<span class="built_in">size</span>() &lt; r - l <span class="number">-1</span>) res = s.<span class="built_in">substr</span>(l + <span class="number">1</span>, r - l <span class="number">-1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-6z-å­—å½¢å˜æ¢"><a class="markdownIt-Anchor" href="#let-6z-å­—å½¢å˜æ¢"></a> Let 6ï¼šZ å­—å½¢å˜æ¢</h2>
<p>å°†ä¸€ä¸ªç»™å®šå­—ç¬¦ä¸² <code>s</code> æ ¹æ®ç»™å®šçš„è¡Œæ•° <code>numRows</code> ï¼Œä»¥ä»ä¸Šå¾€ä¸‹ã€ä»å·¦åˆ°å³è¿›è¡Œ Z å­—å½¢æ’åˆ—ã€‚</p>
<p>æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²ä¸º <code>&quot;PAYPALISHIRING&quot;</code> è¡Œæ•°ä¸º <code>3</code> æ—¶ï¼Œæ’åˆ—å¦‚ä¸‹ï¼š</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">P   A   H   N</span><br><span class="line">A P L S I I G</span><br><span class="line">Y   I   R</span><br></pre></td></tr></table></figure>
<p>ä¹‹åï¼Œä½ çš„è¾“å‡ºéœ€è¦ä»å·¦å¾€å³é€è¡Œè¯»å–ï¼Œäº§ç”Ÿå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š<code>&quot;PAHNAPLSIIGYIR&quot;</code>ã€‚</p>
<p>è¯·ä½ å®ç°è¿™ä¸ªå°†å­—ç¬¦ä¸²è¿›è¡ŒæŒ‡å®šè¡Œæ•°å˜æ¢çš„å‡½æ•°ï¼š</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">string convert(string s, int numRows);</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;PAYPALISHIRING&quot;, numRows = 3</span><br><span class="line">è¾“å‡ºï¼š&quot;PAHNAPLSIIGYIR&quot;</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;PAYPALISHIRING&quot;, numRows = 4</span><br><span class="line">è¾“å‡ºï¼š&quot;PINALSIGYAHRPI&quot;</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">P     I    N</span><br><span class="line">A   L S  I G</span><br><span class="line">Y A   H R</span><br><span class="line">P     I</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;A&quot;, numRows = 1</span><br><span class="line">è¾“å‡ºï¼š&quot;A&quot;</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 1000</code></li>
<li><code>s</code> ç”±è‹±æ–‡å­—æ¯ï¼ˆå°å†™å’Œå¤§å†™ï¼‰ã€<code>','</code> å’Œ <code>'.'</code> ç»„æˆ</li>
<li><code>1 &lt;= numRows &lt;= 1000</code></li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">convert</span><span class="params">(string s, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        string res;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> || i == n - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt; s.<span class="built_in">size</span>(); j += <span class="number">2</span> * n - <span class="number">2</span>)</span><br><span class="line">                    res += s[j];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> j = i, k = <span class="number">2</span> * n - <span class="number">2</span> - i; j &lt; s.<span class="built_in">size</span>() || k &lt; s.<span class="built_in">size</span>(); j += <span class="number">2</span> * n - <span class="number">2</span>, k += <span class="number">2</span> * n - <span class="number">2</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (j &lt; s.<span class="built_in">size</span>()) res += s[j];</span><br><span class="line">                    <span class="keyword">if</span> (k &lt; s.<span class="built_in">size</span>()) res += s[k];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-7æ•´æ•°åè½¬"><a class="markdownIt-Anchor" href="#let-7æ•´æ•°åè½¬"></a> Let 7ï¼šæ•´æ•°åè½¬</h2>
<p>ç»™ä½ ä¸€ä¸ª 32 ä½çš„æœ‰ç¬¦å·æ•´æ•° <code>x</code> ï¼Œè¿”å›å°† <code>x</code> ä¸­çš„æ•°å­—éƒ¨åˆ†åè½¬åçš„ç»“æœã€‚</p>
<p>å¦‚æœåè½¬åæ•´æ•°è¶…è¿‡ 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°çš„èŒƒå›´ <code>[âˆ’231, 231 âˆ’ 1]</code> ï¼Œå°±è¿”å› 0ã€‚</p>
<p><strong>å‡è®¾ç¯å¢ƒä¸å…è®¸å­˜å‚¨ 64 ä½æ•´æ•°ï¼ˆæœ‰ç¬¦å·æˆ–æ— ç¬¦å·ï¼‰ã€‚</strong></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 123</span><br><span class="line">è¾“å‡ºï¼š321</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = -123</span><br><span class="line">è¾“å‡ºï¼š-321</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 120</span><br><span class="line">è¾“å‡ºï¼š21</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 0</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>-231 &lt;= x &lt;= 231 - 1</code></li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reverse</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &gt;= <span class="number">-9</span> &amp;&amp; x &lt;= <span class="number">9</span>) <span class="keyword">return</span> x;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(x)&#123;</span><br><span class="line">            ans = ans * <span class="number">10</span> + x % <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(ans &lt; <span class="number">-2147483648</span> || ans &gt; <span class="number">2147483647</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            x /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-8å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°atoi"><a class="markdownIt-Anchor" href="#let-8å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°atoi"></a> Let 8ï¼šå­—ç¬¦ä¸²è½¬æ¢æ•´æ•°(atoi) *</h2>
<p>è¯·ä½ æ¥å®ç°ä¸€ä¸ª <code>myAtoi(string s)</code> å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C/C++ ä¸­çš„ <code>atoi</code> å‡½æ•°ï¼‰ã€‚</p>
<p>å‡½æ•° <code>myAtoi(string s)</code> çš„ç®—æ³•å¦‚ä¸‹ï¼š</p>
<ol>
<li>è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼</li>
<li>æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚</li>
<li>è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚</li>
<li>å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œâ€œ123â€ -&gt; 123ï¼Œ â€œ0032â€ -&gt; 32ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º<code>0</code> ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰ã€‚</li>
<li>å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ <code>[âˆ’231, 231 âˆ’ 1]</code> ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº <code>âˆ’231</code> çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º <code>âˆ’231</code>ï¼Œå¤§äº <code>231 âˆ’ 1</code> çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º <code>231 âˆ’ 1</code> ã€‚</li>
<li>è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦<code>' '</code> ã€‚</li>
<li>é™¤å‰å¯¼ç©ºæ ¼æˆ–æ•°å­—åçš„å…¶ä½™å­—ç¬¦ä¸²å¤–ï¼Œè¯·å‹¿å¿½ç•¥ ä»»ä½•å…¶ä»–å­—ç¬¦ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;42&quot;</span><br><span class="line">è¾“å‡ºï¼š42</span><br><span class="line">è§£é‡Šï¼šåŠ ç²—çš„å­—ç¬¦ä¸²ä¸ºå·²ç»è¯»å…¥çš„å­—ç¬¦ï¼Œæ’å…¥ç¬¦å·æ˜¯å½“å‰è¯»å–çš„å­—ç¬¦ã€‚</span><br><span class="line">ç¬¬ 1 æ­¥ï¼š&quot;42&quot;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰</span><br><span class="line">         <span class="built_in">^</span></span><br><span class="line">ç¬¬ 2 æ­¥ï¼š&quot;42&quot;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ &#x27;-&#x27; æˆ–è€… &#x27;+&#x27;ï¼‰</span><br><span class="line">         <span class="built_in">^</span></span><br><span class="line">ç¬¬ 3 æ­¥ï¼š&quot;42&quot;ï¼ˆè¯»å…¥ &quot;42&quot;ï¼‰</span><br><span class="line">           <span class="built_in">^</span></span><br><span class="line">è§£æå¾—åˆ°æ•´æ•° 42 ã€‚</span><br><span class="line">ç”±äº &quot;42&quot; åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 42 ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;   -42&quot;</span><br><span class="line">è¾“å‡ºï¼š-42</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ç¬¬ 1 æ­¥ï¼š&quot;   -42&quot;ï¼ˆè¯»å…¥å‰å¯¼ç©ºæ ¼ï¼Œä½†å¿½è§†æ‰ï¼‰</span><br><span class="line">            <span class="built_in">^</span></span><br><span class="line">ç¬¬ 2 æ­¥ï¼š&quot;   -42&quot;ï¼ˆè¯»å…¥ &#x27;-&#x27; å­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœåº”è¯¥æ˜¯è´Ÿæ•°ï¼‰</span><br><span class="line">             <span class="built_in">^</span></span><br><span class="line">ç¬¬ 3 æ­¥ï¼š&quot;   -42&quot;ï¼ˆè¯»å…¥ &quot;42&quot;ï¼‰</span><br><span class="line">               <span class="built_in">^</span></span><br><span class="line">è§£æå¾—åˆ°æ•´æ•° -42 ã€‚</span><br><span class="line">ç”±äº &quot;-42&quot; åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º -42 ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;4193 with words&quot;</span><br><span class="line">è¾“å‡ºï¼š4193</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ç¬¬ 1 æ­¥ï¼š&quot;4193 with words&quot;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰</span><br><span class="line">         <span class="built_in">^</span></span><br><span class="line">ç¬¬ 2 æ­¥ï¼š&quot;4193 with words&quot;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ &#x27;-&#x27; æˆ–è€… &#x27;+&#x27;ï¼‰</span><br><span class="line">         <span class="built_in">^</span></span><br><span class="line">ç¬¬ 3 æ­¥ï¼š&quot;4193 with words&quot;ï¼ˆè¯»å…¥ &quot;4193&quot;ï¼›ç”±äºä¸‹ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥è¯»å…¥åœæ­¢ï¼‰</span><br><span class="line">             <span class="built_in">^</span></span><br><span class="line">è§£æå¾—åˆ°æ•´æ•° 4193 ã€‚</span><br><span class="line">ç”±äº &quot;4193&quot; åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 4193 ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= s.length &lt;= 200</code></li>
<li><code>s</code> ç”±è‹±æ–‡å­—æ¯ï¼ˆå¤§å†™å’Œå°å†™ï¼‰ã€æ•°å­—<code>ï¼ˆ0-9ï¼‰</code>ã€<code>' '</code>ã€<code>'+'</code>ã€<code>'-'</code> å’Œ <code>'.'</code> ç»„æˆ</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">myAtoi</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(k &lt; s.<span class="built_in">size</span>() &amp;&amp; s[k] == <span class="string">&#x27; &#x27;</span>) k++; <span class="comment">//å»æ‰å‰å¯¼ç©ºæ ¼</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> minus = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(s[k] == <span class="string">&#x27;-&#x27;</span>) minus = <span class="number">-1</span>, k++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s[k] == <span class="string">&#x27;+&#x27;</span>) k++;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(k &lt; s.<span class="built_in">size</span>() &amp;&amp; s[k] &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; s[k] &lt;= <span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">            <span class="type">int</span> x = s[k] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>(minus &gt; <span class="number">0</span> &amp;&amp; res &gt; (INT_MAX - x) / <span class="number">10</span>) <span class="keyword">return</span> INT_MAX; <span class="comment">//åŠ ä¸Šxåä¼šè¶…å‡ºä¸Šç•Œ</span></span><br><span class="line">            <span class="keyword">if</span>(minus &lt; <span class="number">0</span> &amp;&amp; -res &lt; (INT_MIN + x) / <span class="number">10</span>) <span class="keyword">return</span> INT_MIN; <span class="comment">//åŠ ä¸Šxåä¼šè¶…å‡ºä¸‹ç•Œ</span></span><br><span class="line">            <span class="keyword">if</span> (-res * <span class="number">10</span> - x == INT_MIN) <span class="keyword">return</span> INT_MIN; <span class="comment">//åŠ ä¸Šxåˆšå¥½ç­‰äºä¸‹ç•Œ</span></span><br><span class="line">            res = res * <span class="number">10</span> + x;</span><br><span class="line">            k++;</span><br><span class="line">            <span class="keyword">if</span>(res &gt; INT_MAX) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res *= minus;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-9å›æ–‡æ•°"><a class="markdownIt-Anchor" href="#let-9å›æ–‡æ•°"></a> Let 9ï¼šå›æ–‡æ•°</h2>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>x</code> ï¼Œå¦‚æœ <code>x</code>æ˜¯ä¸€ä¸ªå›æ–‡æ•´æ•°ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p>
<p>å›æ–‡æ•°æ˜¯æŒ‡æ­£åºï¼ˆä»å·¦å‘å³ï¼‰å’Œå€’åºï¼ˆä»å³å‘å·¦ï¼‰è¯»éƒ½æ˜¯ä¸€æ ·çš„æ•´æ•°ã€‚</p>
<ul>
<li>ä¾‹å¦‚ï¼Œ<code>121</code> æ˜¯å›æ–‡ï¼Œè€Œ <code>123</code> ä¸æ˜¯ã€‚</li>
</ul>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 121</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = -121</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šä»å·¦å‘å³è¯», ä¸º -121 ã€‚ ä»å³å‘å·¦è¯», ä¸º 121- ã€‚å› æ­¤å®ƒä¸æ˜¯ä¸€ä¸ªå›æ–‡æ•°ã€‚</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 10</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šä»å³å‘å·¦è¯», ä¸º 01 ã€‚å› æ­¤å®ƒä¸æ˜¯ä¸€ä¸ªå›æ–‡æ•°ã€‚</span><br></pre></td></tr></table></figure>
<p>æç¤ºï¼š</p>
<ul>
<li><code>-231 &lt;= x &lt;= 231 - 1</code></li>
</ul>
<p><strong>ä»£ç å®ç°</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPalindrome</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> m = x;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(m)&#123;</span><br><span class="line">            ans = ans * <span class="number">10</span> + m % <span class="number">10</span>;</span><br><span class="line">            m /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans == x) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-10æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…"><a class="markdownIt-Anchor" href="#let-10æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…"></a> Let 10ï¼šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é… *</h2>
<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> å’Œä¸€ä¸ªå­—ç¬¦è§„å¾‹ <code>p</code>ï¼Œè¯·ä½ æ¥å®ç°ä¸€ä¸ªæ”¯æŒ<code>'.'</code>å’Œ<code>'*'</code> çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚</p>
<ul>
<li><code>'.'</code>åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦</li>
<li><code>'*'</code> åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ </li>
</ul>
<p>æ‰€è°“åŒ¹é…ï¼Œæ˜¯è¦æ¶µç›– <strong>æ•´ä¸ª</strong> å­—ç¬¦ä¸² <code>s</code>çš„ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;aa&quot;, p = &quot;a&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼š&quot;a&quot; æ— æ³•åŒ¹é… &quot;aa&quot; æ•´ä¸ªå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;aa&quot;, p = &quot;a*&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šå› ä¸º &#x27;*&#x27; ä»£è¡¨å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ , åœ¨è¿™é‡Œå‰é¢çš„å…ƒç´ å°±æ˜¯ &#x27;a&#x27;ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸² &quot;aa&quot; å¯è¢«è§†ä¸º &#x27;a&#x27; é‡å¤äº†ä¸€æ¬¡ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;ab&quot;, p = &quot;.*&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼š&quot;.*&quot; è¡¨ç¤ºå¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªï¼ˆ&#x27;*&#x27;ï¼‰ä»»æ„å­—ç¬¦ï¼ˆ&#x27;.&#x27;ï¼‰ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 20</code></li>
<li><code>1 &lt;= p.length &lt;= 30</code></li>
<li><code>s</code> åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ã€‚</li>
<li><code>p</code> åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ï¼Œä»¥åŠå­—ç¬¦ <code>.</code>å’Œ<code>*</code>ã€‚</li>
<li>ä¿è¯æ¯æ¬¡å‡ºç°å­—ç¬¦<code>*</code>æ—¶ï¼Œå‰é¢éƒ½åŒ¹é…åˆ°æœ‰æ•ˆçš„å­—ç¬¦</li>
</ul>
]]></content>
      <categories>
        <category>AcWing</category>
        <category>Course</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>LeetCode</tag>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>AcWing LeetCodeç©¶æç­ Week2</title>
    <url>/2022/03/24/AcWing/LeetCode_Week2/</url>
    <content><![CDATA[<h2 id="å­¦ä¹ å¹³å°"><a class="markdownIt-Anchor" href="#å­¦ä¹ å¹³å°"></a> å­¦ä¹ å¹³å°</h2>
<p><strong><a href="https://www.acwing.com/activity/content/31/"> AcWing LeetCodeç©¶æç­ </a></strong></p>
<p><strong><a href="https://leetcode-cn.com/"> LeetCode </a></strong></p>
<h2 id="let-11ç››æ°´æœ€å¤šçš„å®¹å™¨"><a class="markdownIt-Anchor" href="#let-11ç››æ°´æœ€å¤šçš„å®¹å™¨"></a> Let 11ï¼šç››æ°´æœ€å¤šçš„å®¹å™¨ *</h2>
<p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>height</code> ã€‚æœ‰ <code>n</code> æ¡å‚çº¿ï¼Œç¬¬ <code>i</code> æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ <code>(i, 0)</code> å’Œ <code>(i, height[i])</code> ã€‚</p>
<p>æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ <code>x</code> è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚</p>
<p>è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚</p>
<p>**è¯´æ˜ï¼š**ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>è´ªå¿ƒ</code>ã€<code>æ•°ç»„</code>ã€<code>åŒæŒ‡é’ˆ</code></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://aliyun-lc-upload.oss-cn-hangzhou.aliyuncs.com/aliyun-lc-upload/uploads/2018/07/25/question_11.jpg" alt="img" /></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]</span><br><span class="line">è¾“å‡ºï¼š49 </span><br><span class="line">è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šheight = [1,1]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == height.length</code></li>
<li><code>2 &lt;= n &lt;= 105</code></li>
<li><code>0 &lt;= height[i] &lt;= 104</code></li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxArea</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; height)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> len = height.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>, j = len - <span class="number">1</span>; i &lt; j;)&#123;</span><br><span class="line">            res = <span class="built_in">max</span>(res, <span class="built_in">min</span>(height[i], height[j]) * (j - i));</span><br><span class="line">            <span class="keyword">if</span>(height[i] &gt; height[j]) j--;</span><br><span class="line">            <span class="keyword">else</span> i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-12æ•´æ•°è½¬ç½—é©¬æ•°å­—"><a class="markdownIt-Anchor" href="#let-12æ•´æ•°è½¬ç½—é©¬æ•°å­—"></a> Let 12ï¼šæ•´æ•°è½¬ç½—é©¬æ•°å­—</h2>
<p>ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š <code>I</code>ï¼Œ<code>V</code>ï¼Œ <code>X</code>ï¼Œ <code>L</code>ï¼Œ<code>C</code>ï¼Œ<code>D</code> å’Œ <code>M</code>ã€‚</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">å­—ç¬¦          æ•°å€¼</span><br><span class="line">I             1</span><br><span class="line">V             5</span><br><span class="line">X             10</span><br><span class="line">L             50</span><br><span class="line">C             100</span><br><span class="line">D             500</span><br><span class="line">M             1000</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åš <code>II</code> ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åš <code>XII</code> ï¼Œå³ä¸º <code>X</code> + <code>II</code> ã€‚ 27 å†™åš  <code>XXVII</code>, å³ä¸º <code>XX</code> + <code>V</code>+ <code>II</code> ã€‚</p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš IIIIï¼Œè€Œæ˜¯ IVã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º IXã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š</p>
<ul>
<li><code>I</code> å¯ä»¥æ”¾åœ¨ <code>V</code> (5) å’Œ <code>X</code> (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚</li>
<li><code>X</code> å¯ä»¥æ”¾åœ¨ <code>L</code> (50) å’Œ <code>C</code> (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚</li>
<li><code>C</code> å¯ä»¥æ”¾åœ¨ <code>D</code> (500) å’Œ <code>M</code> (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚</li>
</ul>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°ï¼Œå°†å…¶è½¬ä¸ºç½—é©¬æ•°å­—ã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>å“ˆå¸Œè¡¨</code>  <code>æ•°å­¦</code>  <code>å­—ç¬¦ä¸²</code></p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: num = 3</span><br><span class="line">è¾“å‡º: &quot;III&quot;</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: num = 4</span><br><span class="line">è¾“å‡º: &quot;IV&quot;</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: num = 9</span><br><span class="line">è¾“å‡º: &quot;IX&quot;</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 4:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: num = 58</span><br><span class="line">è¾“å‡º: &quot;LVIII&quot;</span><br><span class="line">è§£é‡Š: L = 50, V = 5, III = 3.</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 5:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: num = 1994</span><br><span class="line">è¾“å‡º: &quot;MCMXCIV&quot;</span><br><span class="line">è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= num &lt;= 3999</code></li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">intToRoman</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span>(num)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">1000</span>)&#123;</span><br><span class="line">                <span class="type">int</span> a = num / <span class="number">1000</span>;</span><br><span class="line">                <span class="keyword">while</span>(a--)&#123;</span><br><span class="line">                    res += <span class="string">&quot;M&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                num %= <span class="number">1000</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">900</span> &amp;&amp; num &lt; <span class="number">1000</span>)&#123;</span><br><span class="line">                res += <span class="string">&quot;CM&quot;</span>;</span><br><span class="line">                num %= <span class="number">100</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;=<span class="number">500</span> &amp;&amp; num &lt; <span class="number">900</span>)&#123;</span><br><span class="line">                <span class="type">int</span> a = num / <span class="number">100</span>;</span><br><span class="line">                res += <span class="string">&quot;D&quot;</span>;</span><br><span class="line">                <span class="type">int</span> sum = a - <span class="number">5</span>;</span><br><span class="line">                <span class="keyword">while</span>(sum--)&#123;</span><br><span class="line">                    res += <span class="string">&quot;C&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                num %= <span class="number">100</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">400</span> &amp;&amp; num &lt; <span class="number">500</span>)&#123;</span><br><span class="line">                res += <span class="string">&quot;CD&quot;</span>;</span><br><span class="line">                num %= <span class="number">100</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">100</span> &amp;&amp; num &lt; <span class="number">400</span>)&#123;</span><br><span class="line">                <span class="type">int</span> a = num / <span class="number">100</span>;</span><br><span class="line">                <span class="keyword">while</span>(a--)&#123;</span><br><span class="line">                    res += <span class="string">&quot;C&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                num %= <span class="number">100</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">90</span> &amp;&amp; num &lt; <span class="number">100</span>)&#123;</span><br><span class="line">                res += <span class="string">&quot;XC&quot;</span>;</span><br><span class="line">                num %= <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">50</span> &amp;&amp; num &lt; <span class="number">90</span>)&#123;</span><br><span class="line">                <span class="type">int</span> a = num / <span class="number">10</span>;</span><br><span class="line">                res += <span class="string">&quot;L&quot;</span>;</span><br><span class="line">                <span class="type">int</span> sum = a<span class="number">-5</span>;</span><br><span class="line">                <span class="keyword">while</span>(sum--)&#123;</span><br><span class="line">                    res += <span class="string">&quot;X&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                num %= <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">40</span> &amp;&amp; num &lt; <span class="number">50</span>)&#123;</span><br><span class="line">                res += <span class="string">&quot;XL&quot;</span>;</span><br><span class="line">                num %= <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">10</span> &amp;&amp; num &lt; <span class="number">40</span>)&#123;</span><br><span class="line">                <span class="type">int</span> a = num / <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">while</span>(a--)&#123;</span><br><span class="line">                    res += <span class="string">&quot;X&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                num %= <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">           <span class="keyword">if</span>(num &gt;= <span class="number">9</span> &amp;&amp; num &lt; <span class="number">10</span>)&#123;</span><br><span class="line">                res += <span class="string">&quot;IX&quot;</span>;</span><br><span class="line">                num %= <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">5</span> &amp;&amp; num &lt; <span class="number">9</span>)&#123;</span><br><span class="line">                <span class="type">int</span> a = num / <span class="number">1</span>;</span><br><span class="line">                res += <span class="string">&quot;V&quot;</span>;</span><br><span class="line">                <span class="type">int</span> sum = a<span class="number">-5</span>;</span><br><span class="line">                <span class="keyword">while</span>(sum--)&#123;</span><br><span class="line">                    res += <span class="string">&quot;I&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                num %= <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">4</span> &amp;&amp; num &lt; <span class="number">5</span>)&#123;</span><br><span class="line">                res += <span class="string">&quot;IV&quot;</span>;</span><br><span class="line">                num %= <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= <span class="number">1</span> &amp;&amp; num &lt; <span class="number">4</span>)&#123;</span><br><span class="line">                <span class="type">int</span> a = num / <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span>(a--)&#123;</span><br><span class="line">                    res += <span class="string">&quot;I&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                num %= <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-13ç½—é©¬æ•°å­—è½¬æ•´æ•°"><a class="markdownIt-Anchor" href="#let-13ç½—é©¬æ•°å­—è½¬æ•´æ•°"></a> Let 13ï¼šç½—é©¬æ•°å­—è½¬æ•´æ•°</h2>
<p>ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦: <code>I</code>ï¼Œ <code>V</code>ï¼Œ <code>X</code>ï¼Œ <code>L</code>ï¼Œ<code>C</code>ï¼Œ<code>D</code> å’Œ <code>M</code>ã€‚</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">å­—ç¬¦          æ•°å€¼</span><br><span class="line">I             1</span><br><span class="line">V             5</span><br><span class="line">X             10</span><br><span class="line">L             50</span><br><span class="line">C             100</span><br><span class="line">D             500</span><br><span class="line">M             1000</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— <code>2</code> å†™åš <code>II</code> ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1 ã€‚<code>12</code> å†™åš <code>XII</code> ï¼Œå³ä¸º <code>X</code>+ <code>II</code> ã€‚ <code>27</code> å†™åš  <code>XXVII</code>, å³ä¸º <code>XX</code> + <code>V</code>+ <code>II</code> ã€‚</p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš IIIIï¼Œè€Œæ˜¯ IVã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º IXã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š</p>
<ul>
<li><code>I</code> å¯ä»¥æ”¾åœ¨ <code>V</code> (5) å’Œ <code>X</code> (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚</li>
<li><code>X</code> å¯ä»¥æ”¾åœ¨ <code>L</code> (50) å’Œ <code>C</code> (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚</li>
<li><code>C</code> å¯ä»¥æ”¾åœ¨ <code>D</code> (500) å’Œ <code>M</code> (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚</li>
</ul>
<p>ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>å“ˆå¸Œè¡¨</code>  <code>æ•°å­¦</code>  <code>å­—ç¬¦ä¸²</code></p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;III&quot;</span><br><span class="line">è¾“å‡º: 3</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;IV&quot;</span><br><span class="line">è¾“å‡º: 4</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;IX&quot;</span><br><span class="line">è¾“å‡º: 9</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 4:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;LVIII&quot;</span><br><span class="line">è¾“å‡º: 58</span><br><span class="line">è§£é‡Š: L = 50, V= 5, III = 3.</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 5:</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;MCMXCIV&quot;</span><br><span class="line">è¾“å‡º: 1994</span><br><span class="line">è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 15</code></li>
<li><code>s</code> ä»…å«å­—ç¬¦ <code>('I', 'V', 'X', 'L', 'C', 'D', 'M')</code></li>
<li>é¢˜ç›®æ•°æ®ä¿è¯ <code>s</code> æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç½—é©¬æ•°å­—ï¼Œä¸”è¡¨ç¤ºæ•´æ•°åœ¨èŒƒå›´ <code>[1, 3999]</code> å†…</li>
<li>é¢˜ç›®æ‰€ç»™æµ‹è¯•ç”¨ä¾‹çš†ç¬¦åˆç½—é©¬æ•°å­—ä¹¦å†™è§„åˆ™ï¼Œä¸ä¼šå‡ºç°è·¨ä½ç­‰æƒ…å†µã€‚</li>
<li>IL å’Œ IM è¿™æ ·çš„ä¾‹å­å¹¶ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚ï¼Œ49 åº”è¯¥å†™ä½œ XLIXï¼Œ999 åº”è¯¥å†™ä½œ CMXCIX ã€‚</li>
<li>å…³äºç½—é©¬æ•°å­—çš„è¯¦å°½ä¹¦å†™è§„åˆ™ï¼Œå¯ä»¥å‚è€ƒ ç½—é©¬æ•°å­— - Mathematics ã€‚</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">romanToInt</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> value[] = &#123;</span><br><span class="line">            <span class="number">1000</span>, <span class="number">900</span>, <span class="number">500</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">90</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span></span><br><span class="line">        &#125;;</span><br><span class="line">        string reps[] = &#123;</span><br><span class="line">            <span class="string">&quot;M&quot;</span>, <span class="string">&quot;CM&quot;</span>, <span class="string">&quot;D&quot;</span>, <span class="string">&quot;CD&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;XC&quot;</span>, <span class="string">&quot;L&quot;</span>, <span class="string">&quot;XL&quot;</span>, <span class="string">&quot;X&quot;</span>, <span class="string">&quot;IX&quot;</span>, <span class="string">&quot;V&quot;</span>, <span class="string">&quot;IV&quot;</span>, <span class="string">&quot;I&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">1</span>; i &lt; s.<span class="built_in">length</span>(); i++, j++)&#123;</span><br><span class="line">            string stri = s.<span class="built_in">substr</span>(i, <span class="number">1</span>);</span><br><span class="line">            string strj = s.<span class="built_in">substr</span>(j, <span class="number">1</span>);</span><br><span class="line">            string str;</span><br><span class="line">            <span class="type">int</span> a, b;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; <span class="number">13</span>; k ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(stri == reps[k]) a = k;</span><br><span class="line">                <span class="keyword">if</span>(strj == reps[k]) b = k;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(b &lt; a)&#123; <span class="comment">// éœ€è¦æˆªå–ä¸¤ä¸ª</span></span><br><span class="line">                str = s.<span class="built_in">substr</span>(i, <span class="number">2</span>);</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; <span class="number">13</span>; k ++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(str == reps[k])&#123;</span><br><span class="line">                        res += value[k];</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                i++; <span class="comment">// è·³è¿‡ä¸€ä½</span></span><br><span class="line">                j++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res += value[a];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-14æœ€é•¿å…¬å…±å‰ç¼€"><a class="markdownIt-Anchor" href="#let-14æœ€é•¿å…¬å…±å‰ç¼€"></a> Let 14ï¼šæœ€é•¿å…¬å…±å‰ç¼€</h2>
<p>ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚</p>
<p>å¦‚æœä¸å­˜åœ¨å…¬å…±å‰ç¼€ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code>ã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>å­—ç¬¦ä¸²</code></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šstrs = [&quot;flower&quot;,&quot;flow&quot;,&quot;flight&quot;]</span><br><span class="line">è¾“å‡ºï¼š&quot;fl&quot;</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šstrs = [&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;]</span><br><span class="line">è¾“å‡ºï¼š&quot;&quot;</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥ä¸å­˜åœ¨å…¬å…±å‰ç¼€ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= strs.length &lt;= 200</code></li>
<li><code>0 &lt;= strs[i].length &lt;= 200</code></li>
<li><code>strs[i]</code> ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å¯»æ‰¾str å’Œ fl æœ€é•¿å…¬å…±å‰ç¼€</span></span><br><span class="line">    <span class="function">string <span class="title">Juge</span><span class="params">(string str, string fl)</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> len = <span class="built_in">min</span>(str.<span class="built_in">length</span>(), fl.<span class="built_in">length</span>());</span><br><span class="line">        <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i ++)&#123;</span><br><span class="line">            string a = str.<span class="built_in">substr</span>(<span class="number">0</span>, i);</span><br><span class="line">            string b = fl.<span class="built_in">substr</span>(<span class="number">0</span>, i);</span><br><span class="line">            <span class="keyword">if</span>(a != b &amp;&amp; i == <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(a != b &amp;&amp; i &gt; <span class="number">1</span>)&#123;</span><br><span class="line">                p = i - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(a == b &amp;&amp; i == len)&#123;</span><br><span class="line">                p = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str.<span class="built_in">substr</span>(<span class="number">0</span>, p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">string <span class="title">longestCommonPrefix</span><span class="params">(vector&lt;string&gt;&amp; strs)</span> </span>&#123;</span><br><span class="line">        string str = strs[<span class="number">0</span>]; <span class="comment">// str å­˜æ”¾æœ€é•¿å…¬å…±å­ä¸²;</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; strs.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            str = <span class="built_in">Juge</span>(str, strs[i]);</span><br><span class="line">            <span class="comment">// cout &lt;&lt; str &lt;&lt;endl;</span></span><br><span class="line">            <span class="keyword">if</span>(str == <span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-15ä¸‰æ•°ä¹‹å’Œ"><a class="markdownIt-Anchor" href="#let-15ä¸‰æ•°ä¹‹å’Œ"></a> Let 15ï¼šä¸‰æ•°ä¹‹å’Œ</h2>
<p>ç»™ä½ ä¸€ä¸ªåŒ…å« <code>n</code> ä¸ªæ•´æ•°çš„æ•°ç»„ <code>nums</code>ï¼Œåˆ¤æ–­ <code>nums</code> ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p>
<p>æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>æ•°ç»„</code>  <code>åŒæŒ‡é’ˆ</code>  <code>æ’åº</code></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]</span><br><span class="line">è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [0]</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= nums.length &lt;= 3000</code></li>
<li><code>-105 &lt;= nums[i] &lt;= 105</code></li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<p>å¯¹æ•°ç»„è¿›è¡Œæ’åºåï¼Œå…ˆç¡®å®šå…¶ä¸­ä¸€ä¸ªå€¼ï¼Œç„¶åä½¿ç”¨åŒæŒ‡é’ˆç¡®å®šå¦å¤–ä¸¤ä¸ªå€¼ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">threeSum</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">        <span class="keyword">if</span>(nums.<span class="built_in">size</span>() &lt; <span class="number">3</span> ) <span class="keyword">return</span> res;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>() - <span class="number">2</span>; i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i ==<span class="number">0</span> || i != <span class="number">0</span> &amp;&amp; nums[i] != nums[i - <span class="number">1</span>])&#123;</span><br><span class="line">                cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">                <span class="type">int</span> a = <span class="number">0</span> - nums[i];</span><br><span class="line">                <span class="type">int</span> l = i + <span class="number">1</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(nums[l] + nums[r] &lt; a)&#123;</span><br><span class="line">                        l ++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(nums[l] + nums[r] &gt; a)&#123;</span><br><span class="line">                        r --;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">                        vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">                        arr.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">                        arr.<span class="built_in">push_back</span>(nums[l]);</span><br><span class="line">                        arr.<span class="built_in">push_back</span>(nums[r]);</span><br><span class="line">                        res.<span class="built_in">push_back</span>(arr);</span><br><span class="line">                        <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">for</span>(<span class="type">int</span> k = l + <span class="number">1</span>; k &lt; r; k++)&#123; <span class="comment">// å¾€åæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸å’Œå·¦è¾¹ç•Œç›¸ç­‰çš„ç‚¹ã€‚</span></span><br><span class="line">                            <span class="keyword">if</span>(nums[k] != nums[l])&#123;</span><br><span class="line">                                l = k;</span><br><span class="line">                                flag = <span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span>(!flag) <span class="keyword">break</span>;  <span class="comment">//æ‰¾åˆ°å³è¾¹ç•Œä»ç„¶æ²¡æœ‰æ‰¾åˆ°ã€‚</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-16æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ"><a class="markdownIt-Anchor" href="#let-16æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ"></a> Let 16ï¼šæœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ</h2>
<p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>nums</code> å’Œ ä¸€ä¸ªç›®æ ‡å€¼ <code>target</code>ã€‚è¯·ä½ ä» <code>nums</code> ä¸­é€‰å‡ºä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸ <code>target</code> æœ€æ¥è¿‘ã€‚</p>
<p>è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚</p>
<p>å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨æ°å¥½ä¸€ä¸ªè§£ã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>æ•°ç»„</code>  <code>åŒæŒ‡é’ˆ</code>  <code>æ’åº</code></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-1,2,1,-4], target = 1</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šä¸ target æœ€æ¥è¿‘çš„å’Œæ˜¯ 2 (-1 + 2 + 1 = 2) ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [0,0,0], target = 1</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>3 &lt;= nums.length &lt;= 1000</code></li>
<li><code>-1000 &lt;= nums[i] &lt;= 1000</code></li>
<li><code>-104 &lt;= target &lt;= 104</code></li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">threeSumClosest</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> max = <span class="number">100010</span>;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>() - <span class="number">2</span>; i ++)&#123;</span><br><span class="line">            <span class="type">int</span> l = i + <span class="number">1</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">                <span class="type">int</span> cnt = nums[i] + nums[l] + nums[r]; <span class="comment">// ä¸‰æ•°ä¹‹å’Œ</span></span><br><span class="line">                cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">abs</span>(cnt - target) &lt; max)&#123; <span class="comment">// è‹¥æ­¤æ—¶æ›´æ¥è¿‘ç›®æ ‡å€¼ï¼Œåˆ™æ›´æ–°</span></span><br><span class="line">                    max = <span class="built_in">abs</span>(nums[i] + nums[l] + nums[r] - target);</span><br><span class="line">                    res = cnt;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(cnt &lt; target)&#123;</span><br><span class="line">                    l++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(cnt &gt; target)&#123;</span><br><span class="line">                    r--;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123; <span class="comment">//åˆšå¥½ç­‰äºç›®æ ‡å€¼ï¼Œåˆ™ç›´æ¥è¾“å‡ºç›®æ ‡å€¼å³å¯ã€‚</span></span><br><span class="line">                    <span class="keyword">return</span> target;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-17ç”µè¯å·ç çš„å­—æ¯ç»„åˆ"><a class="markdownIt-Anchor" href="#let-17ç”µè¯å·ç çš„å­—æ¯ç»„åˆ"></a> Let 17ï¼šç”µè¯å·ç çš„å­—æ¯ç»„åˆ</h2>
<p>ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— <code>2-9</code> çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ <strong>ä»»æ„é¡ºåº</strong> è¿”å›ã€‚</p>
<p>ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>å“ˆå¸Œè¡¨</code>  <code>å­—ç¬¦ä¸²</code>  <code>å›æº¯</code></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šdigits = &quot;23&quot;</span><br><span class="line">è¾“å‡ºï¼š[&quot;ad&quot;,&quot;ae&quot;,&quot;af&quot;,&quot;bd&quot;,&quot;be&quot;,&quot;bf&quot;,&quot;cd&quot;,&quot;ce&quot;,&quot;cf&quot;]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šdigits = &quot;&quot;</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šdigits = &quot;2&quot;</span><br><span class="line">è¾“å‡ºï¼š[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= digits.length &lt;= 4</code></li>
<li><code>digits[i]</code> æ˜¯èŒƒå›´ <code>['2', '9']</code> çš„ä¸€ä¸ªæ•°å­—ã€‚</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;string&gt; ans;</span><br><span class="line">    string str[<span class="number">10</span>] = &#123;</span><br><span class="line">        <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;abc&quot;</span>,</span><br><span class="line">        <span class="string">&quot;def&quot;</span>, <span class="string">&quot;ghi&quot;</span>, <span class="string">&quot;jkl&quot;</span>,</span><br><span class="line">        <span class="string">&quot;mno&quot;</span>, <span class="string">&quot;pqrs&quot;</span>, <span class="string">&quot;tuv&quot;</span>, <span class="string">&quot;wxyz&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">letterCombinations</span><span class="params">(string digits)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(digits.<span class="built_in">empty</span>()) <span class="keyword">return</span> ans;</span><br><span class="line">        <span class="built_in">dfs</span>(digits, <span class="number">0</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(string&amp; digits, <span class="type">int</span> u, string path)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(u &gt;= digits.<span class="built_in">size</span>()) ans.<span class="built_in">push_back</span>(path);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> t = digits[u] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> c : str[t])&#123;</span><br><span class="line">                <span class="built_in">dfs</span>(digits, u + <span class="number">1</span>, path + c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-18å››æ•°ä¹‹å’Œ"><a class="markdownIt-Anchor" href="#let-18å››æ•°ä¹‹å’Œ"></a> Let 18ï¼šå››æ•°ä¹‹å’Œ</h2>
<p>ç»™ä½ ä¸€ä¸ªç”± <code>n</code> ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ <code>nums</code> ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ <code>target</code> ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ä¸”ä¸é‡å¤çš„å››å…ƒç»„ <code>[nums[a], nums[b], nums[c], nums[d]]</code> ï¼ˆè‹¥ä¸¤ä¸ªå››å…ƒç»„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå››å…ƒç»„é‡å¤ï¼‰ï¼š</p>
<ul>
<li><code>0 &lt;= a, b, c, d &lt; n</code></li>
<li><code>a</code>ã€<code>b</code>ã€<code>c</code> å’Œ <code>d</code> äº’ä¸ç›¸åŒ</li>
<li><code>nums[a] + nums[b] + nums[c] + nums[d] == target</code></li>
</ul>
<p>ä½ å¯ä»¥æŒ‰ <strong>ä»»æ„é¡ºåº</strong> è¿”å›ç­”æ¡ˆ ã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>æ•°ç»„</code>  <code>åŒæŒ‡é’ˆ</code>  <code>æ’åº</code></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,0,-1,0,-2,2], target = 0</span><br><span class="line">è¾“å‡ºï¼š[[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [2,2,2,2,2], target = 8</span><br><span class="line">è¾“å‡ºï¼š[[2,2,2,2]]</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 200</code></li>
<li><code>-109 &lt;= nums[i] &lt;= 109</code></li>
<li><code>-109 &lt;= target &lt;= 109</code></li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">fourSum</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target) &#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">        <span class="keyword">if</span>(nums.<span class="built_in">size</span>() &lt; <span class="number">4</span>) <span class="keyword">return</span> res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>() - <span class="number">3</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> || i != <span class="number">0</span> &amp;&amp; nums[i] != nums[i - <span class="number">1</span>])&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; nums.<span class="built_in">size</span>() - <span class="number">2</span>; j++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(j == i + <span class="number">1</span> || j != i + <span class="number">1</span> &amp;&amp; nums[j] != nums[j - <span class="number">1</span>])&#123;</span><br><span class="line">                        <span class="type">int</span> cnt = target - nums[i] - nums[j];</span><br><span class="line">                        <span class="type">int</span> l = j + <span class="number">1</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">                            <span class="keyword">if</span>(nums[l] + nums[r] &lt; cnt)&#123;</span><br><span class="line">                                l++;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> <span class="keyword">if</span>(nums[l] + nums[r] &gt; cnt)&#123;</span><br><span class="line">                                r--;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span>&#123;</span><br><span class="line">                                <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">                                <span class="comment">// cout &lt;&lt; nums[i] &lt;&lt; &quot; &quot;&lt;&lt;nums[j]&lt;&lt;&quot; &quot;&lt;&lt; nums[l]&lt;&lt;&quot; &quot;&lt;&lt;nums[r]&lt;&lt;endl;</span></span><br><span class="line">                                vector&lt;<span class="type">int</span>&gt; arr&#123;nums[i], nums[j], nums[l], nums[r]&#125;;</span><br><span class="line">                                res.<span class="built_in">push_back</span>(arr);</span><br><span class="line">                                <span class="keyword">for</span>(<span class="type">int</span> k = l + <span class="number">1</span>; k &lt; r; k++)&#123;</span><br><span class="line">                                    <span class="keyword">if</span>(nums[k] != nums[l])&#123;</span><br><span class="line">                                        l = k;</span><br><span class="line">                                        flag = <span class="literal">true</span>;</span><br><span class="line">                                        <span class="keyword">break</span>;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span>(!flag) <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">// bool flag = false;</span></span><br><span class="line">                        <span class="comment">// for(int k = j + 1; k &lt; nums.size() - 2; k++)&#123;  // è·³è½¬åˆ°ä¸‹ä¸€ä¸ªä¸é‡å¤çš„åœ°æ–¹</span></span><br><span class="line">                        <span class="comment">//     if(nums[k] != nums[j])&#123;</span></span><br><span class="line">                        <span class="comment">//         j = k - 1; // å› ä¸ºåé¢è¿˜è¦j++ï¼Œæ‰€ä»¥éœ€è¦å…ˆè·³è½¬åˆ°k-1ï¼›</span></span><br><span class="line">                        <span class="comment">//         flag = true;</span></span><br><span class="line">                        <span class="comment">//         break;</span></span><br><span class="line">                        <span class="comment">//     &#125;</span></span><br><span class="line">                        <span class="comment">// &#125;</span></span><br><span class="line">                        <span class="comment">// if(!flag) break;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-19åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#let-19åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹"></a> Let  19ï¼šåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹</h2>
<p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ <code>n</code> ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>é“¾è¡¨</code>  <code>åŒæŒ‡é’ˆ</code></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/10/03/remove_ex1.jpg" alt="img" /></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5], n = 2</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,5]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1], n = 1</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2], n = 1</span><br><span class="line">è¾“å‡ºï¼š[1]</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­ç»“ç‚¹çš„æ•°ç›®ä¸º sz</li>
<li>1 &lt;= sz &lt;= 30</li>
<li>0 &lt;= Node.val &lt;= 100</li>
<li>1 &lt;= n &lt;= sz</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode *k = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">while</span>(n--)&#123;</span><br><span class="line">            ListNode *p = head;  <span class="comment">// æœ€åè¦åˆ é™¤çš„å°±æ˜¯pæ‰€æŒ‡å‘çš„èŠ‚ç‚¹ï¼Œä»–çš„åç»§èŠ‚ç‚¹å°±æ˜¯k</span></span><br><span class="line">            <span class="keyword">while</span>(p-&gt;next != k)&#123;</span><br><span class="line">                p = p -&gt; next;</span><br><span class="line">            &#125;</span><br><span class="line">            k = p;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *p = head;</span><br><span class="line">        <span class="keyword">if</span>(p == k)&#123;</span><br><span class="line">            head = k -&gt;next;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>(p -&gt; next != k)&#123;</span><br><span class="line">                p = p-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            p-&gt;next = k-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="let-20æœ‰æ•ˆçš„æ‹¬å·"><a class="markdownIt-Anchor" href="#let-20æœ‰æ•ˆçš„æ‹¬å·"></a> Let 20ï¼šæœ‰æ•ˆçš„æ‹¬å·</h2>
<p>ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ <code>'('</code>ï¼Œ<code>')'</code>ï¼Œ<code>'&#123;'</code>ï¼Œ<code>'&#125;'</code>ï¼Œ<code>'['</code>ï¼Œ<code>']'</code> çš„å­—ç¬¦ä¸² <code>s</code> ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚</p>
<p>æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š</p>
<p>å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚<br />
å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚</p>
<p><strong>æ ‡ç­¾ï¼š</strong> <code>æ ˆ</code>  <code>å­—ç¬¦ä¸²</code></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;()&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;()[]&#123;&#125;&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;(]&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;([)]&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;&#123;[]&#125;&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 104</code></li>
<li><code>s</code> ä»…ç”±æ‹¬å· <code>'()[]&#123;&#125;'</code> ç»„æˆ</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        stack&lt;<span class="type">char</span>&gt; sta;</span><br><span class="line">        <span class="keyword">if</span>(s.<span class="built_in">size</span>()==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == <span class="string">&#x27;(&#x27;</span> || s[i] == <span class="string">&#x27;[&#x27;</span> || s[i] == <span class="string">&#x27;&#123;&#x27;</span>)&#123; <span class="comment">//åŒ¹é…åˆ°å·¦æ‹¬å·</span></span><br><span class="line">                sta.<span class="built_in">push</span>(s[i]);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sta.<span class="built_in">size</span>()!=<span class="number">0</span>)&#123;  <span class="comment">//æ ˆå†…æœ‰å·¦æ‹¬å·</span></span><br><span class="line">                <span class="type">char</span> c = sta.<span class="built_in">top</span>();</span><br><span class="line">                sta.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="keyword">if</span>(c == <span class="string">&#x27;[&#x27;</span> &amp;&amp; s[i] == <span class="string">&#x27;]&#x27;</span> || c == <span class="string">&#x27;&#123;&#x27;</span> &amp;&amp; s[i] == <span class="string">&#x27;&#125;&#x27;</span> || c == <span class="string">&#x27;(&#x27;</span> &amp;&amp; s[i] == <span class="string">&#x27;)&#x27;</span>)&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sta.<span class="built_in">size</span>()==<span class="number">0</span>)&#123;  <span class="comment">//æ ˆå†…å·²ç»æ²¡æœ‰å·¦æ‹¬å·äº†ï¼Œä½†æ˜¯æ¥äº†å³æ‹¬å·ã€‚</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(sta.<span class="built_in">size</span>()!=<span class="number">0</span>)&#123; <span class="comment">// è¿˜æœ‰å·¦æ‹¬å·æœªåŒ¹é…</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AcWing</category>
        <category>Course</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>LeetCode</tag>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>AcWing SpringBootæ¡†æ¶è¯¾</title>
    <url>/2022/06/29/AcWing/SpringCourse/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ å¹³å°"><a class="markdownIt-Anchor" href="#å­¦ä¹ å¹³å°"></a> å­¦ä¹ å¹³å°</h1>
<p><a href="https://www.acwing.com/activity/content/introduction/1877/"> AcWing SpringBootæ¡†æ¶è¯¾ </a></p>
<h1 id="day01javaè¯­æ³•ä¸Š"><a class="markdownIt-Anchor" href="#day01javaè¯­æ³•ä¸Š"></a> day01ï¼šJavaè¯­æ³•ä¸Š</h1>
<h2 id="åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ¦‚å¿µ"></a> åŸºæœ¬æ¦‚å¿µ</h2>
<h3 id="jdk-jre-jvmçš„å…³ç³»"><a class="markdownIt-Anchor" href="#jdk-jre-jvmçš„å…³ç³»"></a> JDKã€JREã€JVMçš„å…³ç³»</h3>
<ul>
<li>JDKï¼šJava Development Kitï¼Œjavaå¼€å‘å·¥å…·åŒ…</li>
<li>JREï¼šJava Runtime Enviromentï¼ŒJavaè¿è¡Œç¯å¢ƒ</li>
<li>JVMï¼šJava Virtual Machineï¼ŒJavaè™šæ‹Ÿæœº</li>
<li>JDKåŒ…å«JREï¼ŒJREåŒ…å«JVM</li>
</ul>
<h3 id="jdkç‰ˆæœ¬é€‰æ‹©"><a class="markdownIt-Anchor" href="#jdkç‰ˆæœ¬é€‰æ‹©"></a> JDKç‰ˆæœ¬é€‰æ‹©</h3>
<ul>
<li>ç›®å‰JDK1.8ï¼ˆä¹Ÿå«JDK8ï¼Œä¸æ˜¯JDK18ï¼‰ç”¨çš„æœ€å¤š</li>
</ul>
<h3 id="javaä»£ç çš„ç¼–è¯‘è¿è¡Œæµç¨‹"><a class="markdownIt-Anchor" href="#javaä»£ç çš„ç¼–è¯‘è¿è¡Œæµç¨‹"></a> Javaä»£ç çš„ç¼–è¯‘è¿è¡Œæµç¨‹</h3>
<ul>
<li>å°†Javaæºç ç¼–è¯‘æˆJavaå­—èŠ‚ç ã€‚</li>
<li>ä½¿ç”¨JVMå°†Javaå­—èŠ‚ç è½¬åŒ–æˆæœºå™¨ç ã€‚</li>
<li>JVMä½œç”¨ï¼šè·¨å¹³å°ã€å†…å­˜ç®¡ç†ã€å®‰å…¨ã€‚</li>
</ul>
<h3 id="jse-jee-jmeçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#jse-jee-jmeçš„åŒºåˆ«"></a> JSEã€JEEã€JMEçš„åŒºåˆ«</h3>
<ul>
<li>JSE: Java Standard Editionï¼Œæ ‡å‡†ç‰ˆ</li>
<li>JEEï¼šJava Enterprise Editionï¼Œä¼ä¸šç‰ˆ</li>
<li>JME: Java Mirco Editionï¼Œç§»åŠ¨ç‰ˆ</li>
<li>Springæ˜¯JEEçš„è½»é‡çº§æ›¿ä»£å“</li>
<li>SpringBootæ˜¯Spring + è‡ªåŠ¨åŒ–é…ç½®</li>
</ul>
<h2 id="java-è¯­æ³•"><a class="markdownIt-Anchor" href="#java-è¯­æ³•"></a> Java è¯­æ³•</h2>
<h3 id="å˜é‡-è¿ç®—ç¬¦-è¾“å…¥ä¸è¾“å‡º"><a class="markdownIt-Anchor" href="#å˜é‡-è¿ç®—ç¬¦-è¾“å…¥ä¸è¾“å‡º"></a> å˜é‡ã€è¿ç®—ç¬¦ã€è¾“å…¥ä¸è¾“å‡º</h3>
<p>ç±»ä¼¼äº<code>c#</code>ï¼Œ<code>Java</code> çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½éœ€è¦å®šä¹‰åœ¨<code>class</code>ä¸­ã€‚</p>
<h4 id="å†…ç½®æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#å†…ç½®æ•°æ®ç±»å‹"></a> å†…ç½®æ•°æ®ç±»å‹</h4>
<table>
<thead>
<tr>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:center">å­—èŠ‚æ•°</th>
<th style="text-align:center">ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>byte</code></td>
<td style="text-align:center">1</td>
<td style="text-align:center">123</td>
</tr>
<tr>
<td style="text-align:center"><code>short</code></td>
<td style="text-align:center">2</td>
<td style="text-align:center">12345</td>
</tr>
<tr>
<td style="text-align:center"><code>int</code></td>
<td style="text-align:center">4</td>
<td style="text-align:center">123456789</td>
</tr>
<tr>
<td style="text-align:center"><code>long</code></td>
<td style="text-align:center">8</td>
<td style="text-align:center">123456789L</td>
</tr>
<tr>
<td style="text-align:center"><code>float</code></td>
<td style="text-align:center">4</td>
<td style="text-align:center">1.2F</td>
</tr>
<tr>
<td style="text-align:center"><code>double</code></td>
<td style="text-align:center">8</td>
<td style="text-align:center">1.2, 1.2D</td>
</tr>
<tr>
<td style="text-align:center"><code>boolean</code></td>
<td style="text-align:center">1</td>
<td style="text-align:center">true, false</td>
</tr>
<tr>
<td style="text-align:center"><code>char</code></td>
<td style="text-align:center">2</td>
<td style="text-align:center">â€˜Aâ€™</td>
</tr>
</tbody>
</table>
<h4 id="å¸¸é‡"><a class="markdownIt-Anchor" href="#å¸¸é‡"></a> å¸¸é‡</h4>
<p>ä½¿ç”¨ <code>final</code> ä¿®é¥°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> <span class="number">110</span>;</span><br></pre></td></tr></table></figure>
<h4 id="ç±»å‹è½¬æ¢"><a class="markdownIt-Anchor" href="#ç±»å‹è½¬æ¢"></a> ç±»å‹è½¬æ¢</h4>
<ul>
<li>æ˜¾ç¤ºè½¬åŒ–ï¼š<code>int x = (int)'A'</code></li>
<li>éšå¼è½¬åŒ–ï¼š<code>double x = 12, y = 4 * 3.3;</code> ï¼Œåªé€‚ç”¨äºä½ç²¾åº¦ç±»å‹å‘é«˜ç²¾åº¦ç±»å‹è½¬æ¢ã€‚</li>
</ul>
<h4 id="è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#è¡¨è¾¾å¼"></a> è¡¨è¾¾å¼</h4>
<p>ä¸ C++ã€Python3ç±»ä¼¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>, b = <span class="number">2</span>, c = <span class="number">3</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> (a + b) * c;</span><br><span class="line">x ++;</span><br></pre></td></tr></table></figure>
<h4 id="è¾“å…¥"><a class="markdownIt-Anchor" href="#è¾“å…¥"></a> è¾“å…¥</h4>
<ul>
<li>æ–¹å¼ä¸€ï¼šæ•ˆç‡ä½ï¼Œè¾“å…¥è§„æ¨¡è¾ƒå°æ—¶ä½¿ç”¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Scanner</span> <span class="variable">cin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> cin.next();</span><br><span class="line"><span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> cin.nextInt();</span><br><span class="line"><span class="type">float</span> <span class="variable">y</span> <span class="operator">=</span> cin.nextFloat();</span><br><span class="line"><span class="type">double</span> <span class="variable">z</span> <span class="operator">=</span> cin.nextDouble();</span><br><span class="line"><span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> cin.nextLine();  <span class="comment">// è¯»å…¥ä¸‹ä¸€è¡Œ</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ–¹å¼äºŒï¼šæ•ˆç‡è¾ƒé«˜ï¼Œè¾“å…¥è§„æ¨¡è¾ƒå¤§æ—¶ä½¿ç”¨ã€‚æ³¨æ„éœ€è¦æŠ›å¼‚å¸¸ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> br.readLine();</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è¾“å‡º"><a class="markdownIt-Anchor" href="#è¾“å‡º"></a> è¾“å‡º</h4>
<ul>
<li>æ–¹å¼ä¸€ï¼šæ•ˆç‡è¾ƒä½ï¼Œè¾“å‡ºè§„æ¨¡è¾ƒå°æ—¶ä½¿ç”¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="number">123</span>);  <span class="comment">// è¾“å‡ºæ•´æ•° + æ¢è¡Œ</span></span><br><span class="line">System.out.println(<span class="string">&quot;Hello World&quot;</span>);  <span class="comment">// è¾“å‡ºå­—ç¬¦ä¸² + æ¢è¡Œ</span></span><br><span class="line">System.out.print(<span class="number">123456</span>);  <span class="comment">// è¾“å‡ºæ•´æ•°</span></span><br><span class="line">System.out.print(<span class="string">&quot;xzt\n&quot;</span>);  <span class="comment">// è¾“å‡ºå­—ç¬¦ä¸²</span></span><br><span class="line">System.out.printf(<span class="string">&quot;%04d %.2f\n&quot;</span>, <span class="number">4</span>, <span class="number">123.456D</span>);  <span class="comment">// æ ¼å¼åŒ–è¾“å‡ºï¼Œfloatä¸doubleéƒ½ç”¨%fè¾“å‡º</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ–¹å¼äºŒï¼šè¾“å‡ºæ•ˆç‡è¾ƒé«˜ï¼Œè¾“å‡ºè§„æ¨¡è¾ƒå¤§æ—¶ä½¿ç”¨ï¼Œéœ€è¦æŠ›å‡ºå¼‚å¸¸</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(System.out));</span><br><span class="line">        bw.write(<span class="string">&quot;hello World\n&quot;</span>);</span><br><span class="line">        bw.flush();  <span class="comment">// éœ€è¦åˆ·æ–°ç¼“å†²åŒº</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ¤æ–­è¯­å¥"><a class="markdownIt-Anchor" href="#åˆ¤æ–­è¯­å¥"></a> åˆ¤æ–­è¯­å¥</h3>
<h4 id="if-elseè¯­å¥"><a class="markdownIt-Anchor" href="#if-elseè¯­å¥"></a> <code>if-else</code>è¯­å¥</h4>
<p>ä¸ <code>C++</code> ã€<code>Python</code>ä¸­ç±»ä¼¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">year</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="keyword">if</span> (year % <span class="number">100</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (year % <span class="number">400</span> == <span class="number">0</span>)</span><br><span class="line">                System.out.printf(<span class="string">&quot;%dæ˜¯é—°å¹´\n&quot;</span>, year);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                System.out.printf(<span class="string">&quot;%dä¸æ˜¯é—°å¹´\n&quot;</span>, year);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (year % <span class="number">4</span> == <span class="number">0</span>)</span><br><span class="line">                System.out.printf(<span class="string">&quot;%dæ˜¯é—°å¹´\n&quot;</span>, year);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                System.out.printf(<span class="string">&quot;%dä¸æ˜¯é—°å¹´\n&quot;</span>, year);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="switch-è¯­å¥"><a class="markdownIt-Anchor" href="#switch-è¯­å¥"></a> <code>switch</code> è¯­å¥</h4>
<p>ä¸ <code>C++</code> ç±»ä¼¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">day</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        String name;</span><br><span class="line">        <span class="keyword">switch</span> (day) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                name = <span class="string">&quot;Monday&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                name = <span class="string">&quot;Tuesday&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                name = <span class="string">&quot;Wednesday&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                name = <span class="string">&quot;Thursday&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                name = <span class="string">&quot;Friday&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">                name = <span class="string">&quot;Saturday&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                name = <span class="string">&quot;Sunday&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                name = <span class="string">&quot;not valid&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="é€»è¾‘è¿ç®—ç¬¦ä¸æ¡ä»¶è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#é€»è¾‘è¿ç®—ç¬¦ä¸æ¡ä»¶è¡¨è¾¾å¼"></a> é€»è¾‘è¿ç®—ç¬¦ä¸æ¡ä»¶è¡¨è¾¾å¼</h4>
<p>ä¸ <code>C++</code>ã€<code>Python</code> ç±»ä¼¼</p>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨<code>Java</code>ä¸­ï¼Œåˆ¤æ–­è¯­å¥å’Œå¾ªç¯è¯­å¥çš„åˆ¤æ–­æ¡ä»¶åªèƒ½æ˜¯<code>boolean</code>ç±»å‹ï¼Œä¸èƒ½æ˜¯æ•´å‹ï¼Œå’Œ<code>C++</code>ä¸ä¸€æ ·</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">year</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="keyword">if</span> (year % <span class="number">100</span> != <span class="number">0</span> &amp;&amp; year % <span class="number">4</span> == <span class="number">0</span> || year % <span class="number">400</span> == <span class="number">0</span>)</span><br><span class="line">            System.out.printf(<span class="string">&quot;%dæ˜¯é—°å¹´\n&quot;</span>, year);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            System.out.printf(<span class="string">&quot;%dä¸æ˜¯é—°å¹´\n&quot;</span>, year);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¾ªç¯è¯­å¥"><a class="markdownIt-Anchor" href="#å¾ªç¯è¯­å¥"></a> å¾ªç¯è¯­å¥</h3>
<p>ä¸ <code>C++</code>ã€<code>Python</code>ç±»ä¼¼</p>
<h4 id="whileå¾ªç¯"><a class="markdownIt-Anchor" href="#whileå¾ªç¯"></a> <code>while</code>å¾ªç¯</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(i &lt; <span class="number">5</span>)&#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="dowhileå¾ªç¯"><a class="markdownIt-Anchor" href="#dowhileå¾ªç¯"></a> <code>do...while</code>å¾ªç¯</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">	System.out.println(i);</span><br><span class="line">    i++;</span><br><span class="line">&#125;<span class="keyword">while</span>(i &lt; <span class="number">5</span>);</span><br></pre></td></tr></table></figure>
<h4 id="forå¾ªç¯"><a class="markdownIt-Anchor" href="#forå¾ªç¯"></a> <code>for</code>å¾ªç¯</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i ++)&#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ•°ç»„"><a class="markdownIt-Anchor" href="#æ•°ç»„"></a> æ•°ç»„</h3>
<p><code>Java</code> ä¸­çš„æ•°ç»„å’Œ <code>C++</code> ä¸­çš„æ•°ç»„ç±»ä¼¼</p>
<h4 id="åˆå§‹åŒ–"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–"></a> åˆå§‹åŒ–</h4>
<p>å’Œ<code>C++</code>ç±»ä¼¼ï¼Œåˆå§‹åŒ–å®šé•¿æ•°ç»„ï¼Œé•¿åº¦å¯ä»¥æ˜¯å˜é‡ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–æ—¶èµ‹å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>];  <span class="comment">// åˆå§‹åŒ–é•¿åº¦ä¸º5çš„intæ•°ç»„ï¼Œåˆå§‹å€¼ä¸º0</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">float</span>[] b = <span class="keyword">new</span> <span class="title class_">float</span>[n];  <span class="comment">// åˆå§‹åŒ–é•¿åº¦ä¸ºnçš„floatæ•°ç»„ï¼Œåˆå§‹å€¼ä¸º0.0F</span></span><br><span class="line"><span class="type">char</span>[] c = &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;;  <span class="comment">// åˆå§‹åŒ–é•¿åº¦ä¸º3çš„charæ•°ç»„ï¼Œåˆå§‹å€¼ä¸ºï¼š&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;</span></span><br><span class="line"><span class="type">char</span>[] d = c;  <span class="comment">// dä¸cåœ°å€ç›¸åŒï¼Œæ›´æ”¹cä¸­çš„å…ƒç´ ï¼Œdä¸­çš„å…ƒç´ ä¹Ÿä¼šæ”¹å˜</span></span><br></pre></td></tr></table></figure>
<h4 id="æ•°ç»„å…ƒç´ çš„è¯»å–ä¸å†™å…¥"><a class="markdownIt-Anchor" href="#æ•°ç»„å…ƒç´ çš„è¯»å–ä¸å†™å…¥"></a> æ•°ç»„å…ƒç´ çš„è¯»å–ä¸å†™å…¥</h4>
<p>å’Œ<code>C++</code>ç±»ä¼¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> []a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)&#123;</span><br><span class="line">    a[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)&#123;</span><br><span class="line">    System.out.println(a[i] * a[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å¤šç»´æ•°ç»„"><a class="markdownIt-Anchor" href="#å¤šç»´æ•°ç»„"></a> å¤šç»´æ•°ç»„</h4>
<p>å’Œ <code>C++</code> ç±»ä¼¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> [][]a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">a[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> [][] = &#123;</span><br><span class="line">    &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">System.out.println(a[<span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">System.out.println(b[<span class="number">1</span>][<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<h4 id="å¸¸ç”¨api"><a class="markdownIt-Anchor" href="#å¸¸ç”¨api"></a> å¸¸ç”¨<code>API</code></h4>
<ul>
<li>å±æ€§<code>length</code>ï¼šè¿”å›æ•°ç»„é•¿åº¦ï¼Œæ³¨æ„<strong>ä¸åŠ å°æ‹¬å·</strong></li>
<li><code>Arrays.sort()</code>ï¼šæ•°ç»„æ’åº</li>
<li><code>Arrays.fill(int[] a, int val)</code>ï¼šå¡«å……æ•°ç»„</li>
<li><code>Arrays.toString()</code>ï¼šå°†æ•°ç»„è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</li>
<li><code>Arrays.deepToString()</code>ï¼šå°†å¤šç»´æ•°ç»„è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</li>
<li>æ•°ç»„ä¸å¯å˜é•¿</li>
</ul>
<h3 id="å­—ç¬¦ä¸²"><a class="markdownIt-Anchor" href="#å­—ç¬¦ä¸²"></a> å­—ç¬¦ä¸²</h3>
<h4 id="string-ç±»"><a class="markdownIt-Anchor" href="#string-ç±»"></a> <code>String</code> ç±»</h4>
<ul>
<li>åˆå§‹åŒ–</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">b</span> <span class="operator">=</span> <span class="string">&quot;My name is&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">x</span> <span class="operator">=</span> b;  <span class="comment">// å­˜å‚¨åˆ°äº†ç›¸åŒåœ°å€</span></span><br><span class="line"><span class="type">String</span> <span class="variable">c</span> <span class="operator">=</span> b + <span class="string">&quot;yxc&quot;</span>;  <span class="comment">// Stringå¯ä»¥é€šè¿‡åŠ å·æ‹¼æ¥</span></span><br><span class="line"><span class="type">String</span> <span class="variable">d</span> <span class="operator">=</span> <span class="string">&quot;My age is &quot;</span> + <span class="number">18</span>;  <span class="comment">// intä¼šè¢«éšå¼è½¬åŒ–æˆå­—ç¬¦ä¸²&quot;18&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> String.format(<span class="string">&quot;My age is %d&quot;</span>, <span class="number">18</span>);  <span class="comment">// æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œç±»ä¼¼äºC++ä¸­çš„sprintf</span></span><br><span class="line"><span class="type">String</span> <span class="variable">money_str</span> <span class="operator">=</span> <span class="string">&quot;123.45&quot;</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> Double.parseDouble(money_str);  <span class="comment">// Stringè½¬double</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åªè¯»å˜é‡ï¼Œä¸èƒ½ä¿®æ”¹ï¼Œä¾‹å¦‚ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">a += <span class="string">&quot;world&quot;</span>;  <span class="comment">// ä¼šæ„é€ ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è®¿é—®<code>String</code>ä¸­çš„å­—ç¬¦ä¸²</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; str.length(); i++)&#123;</span><br><span class="line">    System.out.println(str.charAt(i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="å¸¸ç”¨çš„api"><a class="markdownIt-Anchor" href="#å¸¸ç”¨çš„api"></a> å¸¸ç”¨çš„API</h5>
<ul>
<li><code>length()</code>ï¼šè¿”å›é•¿åº¦</li>
<li><code>split(String regex)</code>ï¼šåˆ†å‰²å­—ç¬¦ä¸²</li>
<li><code>indexOf(char c)</code>ã€<code>indexOf(String str)</code>ï¼šæŸ¥æ‰¾ï¼Œæ‰¾ä¸åˆ°è¿”å›-1</li>
<li><code>equals()</code>ï¼šåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œæ³¨æ„ä¸èƒ½ç›´æ¥ç”¨==</li>
<li><code>compareTo()</code>ï¼šåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—å…¸åºå¤§å°ï¼Œè´Ÿæ•°è¡¨ç¤ºå°äºï¼Œ0è¡¨ç¤ºç›¸ç­‰ï¼Œæ­£æ•°è¡¨ç¤ºå¤§äº</li>
<li><code>startsWith()</code>ï¼šåˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªå‰ç¼€å¼€å¤´</li>
<li><code>endsWith()</code>ï¼šåˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªåç¼€ç»“å°¾</li>
<li><code>trim()</code>ï¼šå»æ‰é¦–ä½çš„ç©ºç™½å­—ç¬¦</li>
<li><code>toLowerCase()</code>ï¼šå…¨éƒ¨ç”¨å°å†™å­—ç¬¦</li>
<li><code>toUpperCase()</code>ï¼šå…¨éƒ¨ç”¨å¤§å†™å­—ç¬¦</li>
<li><code>replace(char oldChar, char newChar)</code>ï¼šæ›¿æ¢å­—ç¬¦</li>
<li><code>replace(String oldRegex, String newRegex)</code>ï¼šæ›¿æ¢å­—ç¬¦ä¸²</li>
<li><code>substring(int beginIndex, int endIndex)</code>ï¼šè¿”å›<code>[beginIndex, endIndex)</code>ä¸­çš„å­ä¸²</li>
</ul>
<h4 id="stringbuilder-stringbuffer"><a class="markdownIt-Anchor" href="#stringbuilder-stringbuffer"></a> <code>StringBuilder</code>ã€<code>StringBuffer</code></h4>
<p><code>String</code>ä¸èƒ½è¢«ä¿®æ”¹ï¼Œå¦‚æœæ‰“ç®—ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨<code>StringBuilder</code>å’Œ<code>StringBuffer</code>ã€‚</p>
<p><code>StringBuffer</code>çº¿ç¨‹å®‰å…¨ï¼Œé€Ÿåº¦è¾ƒæ…¢ï¼›<code>StringBuilder</code>çº¿ç¨‹ä¸å®‰å…¨ï¼Œé€Ÿåº¦è¾ƒå¿«ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;Hello &quot;</span>);  <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">sb.append(<span class="string">&quot;World&quot;</span>);  <span class="comment">// æ‹¼æ¥å­—ç¬¦ä¸²</span></span><br><span class="line">System.out.println(sb);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; sb.length(); i ++ ) &#123;</span><br><span class="line">    sb.setCharAt(i, (<span class="type">char</span>)(sb.charAt(i) + <span class="number">1</span>));  <span class="comment">// è¯»å–å’Œå†™å…¥å­—ç¬¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(sb);</span><br></pre></td></tr></table></figure>
<h5 id="å¸¸ç”¨api-2"><a class="markdownIt-Anchor" href="#å¸¸ç”¨api-2"></a> å¸¸ç”¨API</h5>
<ul>
<li><code>reverse()</code>ï¼šç¿»è½¬å­—ç¬¦ä¸²</li>
</ul>
<h3 id="å‡½æ•°"><a class="markdownIt-Anchor" href="#å‡½æ•°"></a> å‡½æ•°</h3>
<p><code>Java</code>çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½è¦å®šä¹‰åœ¨ç±»ä¸­ã€‚</p>
<p>å‡½æ•°æˆ–å˜é‡å‰åŠ  <code>static</code> è¡¨ç¤ºé™æ€å¯¹è±¡ï¼Œç±»ä¼¼äºå…¨å±€å˜é‡ã€‚</p>
<p>é™æ€å¯¹è±¡å±äº<code>class</code>ï¼Œè€Œä¸å±äº<code>class</code>çš„å…·ä½“å®ä¾‹</p>
<p><strong>é™æ€å‡½æ•°ä¸­åªèƒ½è°ƒç”¨é™æ€å‡½æ•°å’Œé™æ€å˜é‡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(max(<span class="number">3</span>, <span class="number">4</span>));</span><br><span class="line">        <span class="type">int</span>[][] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>][<span class="number">4</span>];</span><br><span class="line">        fill(a, <span class="number">3</span>);</span><br><span class="line">        System.out.println(Arrays.deepToString(a));</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[][] b = getArray2d(<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>);</span><br><span class="line">        System.out.println(Arrays.deepToString(b));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (a &gt; b) <span class="keyword">return</span> a;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">(<span class="type">int</span>[][] a, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i ++ )</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; a[i].length; j ++ )</span><br><span class="line">                a[i][j] = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[][] getArray2d(<span class="type">int</span> row, <span class="type">int</span> col, <span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="type">int</span>[][] a = <span class="keyword">new</span> <span class="title class_">int</span>[row][col];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i ++ )</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j ++ )</span><br><span class="line">                a[i][j] = val;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç±»ä¸æ¥å£"><a class="markdownIt-Anchor" href="#ç±»ä¸æ¥å£"></a> ç±»ä¸æ¥å£</h3>
<h1 id="day03é…ç½®gitç¯å¢ƒä¸é¡¹ç›®åˆ›å»º"><a class="markdownIt-Anchor" href="#day03é…ç½®gitç¯å¢ƒä¸é¡¹ç›®åˆ›å»º"></a> day03ï¼šé…ç½®gitç¯å¢ƒä¸é¡¹ç›®åˆ›å»º</h1>
<h2 id="é¡¹ç›®è®¾è®¡"><a class="markdownIt-Anchor" href="#é¡¹ç›®è®¾è®¡"></a> é¡¹ç›®è®¾è®¡</h2>
<ul>
<li>é¡¹ç›®åŒ…å«çš„æ¨¡å—
<ul>
<li>PKæ¨¡å—ï¼šåŒ¹é…ç•Œé¢ï¼ˆå¾®æœåŠ¡ï¼‰ã€å®å†µç›´æ’­ç•Œé¢ï¼ˆWebSocketåè®®ï¼‰</li>
<li>å¯¹å±€åˆ—è¡¨æ¨¡å—ï¼šå¯¹å±€åˆ—è¡¨ç•Œé¢ã€å¯¹å±€å½•åƒç•Œé¢</li>
<li>æ’è¡Œæ¦œæ¨¡å—ï¼šBotæ’è¡Œæ¦œç•Œé¢</li>
<li>ç”¨æˆ·ä¸­å¿ƒæ¨¡å—ï¼šæ³¨å†Œç•Œé¢ã€ç™»å½•ç•Œé¢ã€æˆ‘çš„Botç•Œé¢ã€æ¯ä¸ªBotçš„è¯¦æƒ…ç•Œé¢</li>
</ul>
</li>
<li>å‰åç«¯åˆ†ç¦»æ¨¡å¼
<ul>
<li><code>SpringBoot</code>å®ç°åç«¯</li>
<li><code>Vue3</code>å®ç°webç«¯å’ŒAcAppç«¯</li>
</ul>
</li>
</ul>
<h2 id="é…ç½®gitç¯å¢ƒ"><a class="markdownIt-Anchor" href="#é…ç½®gitç¯å¢ƒ"></a> é…ç½®gitç¯å¢ƒ</h2>
<ol>
<li>å®‰è£…<code>Git Bash</code> <a href="https://gitforwindows.org/">https://gitforwindows.org/</a></li>
<li>è¿›å…¥å®¶ç›®å½•ç”Ÿæˆå¯†é’¥ï¼šæ‰§è¡Œå‘½ä»¤<code>ssh-keygen</code></li>
<li>åœ¨<code>Ac Git</code>ä¸Šæ³¨å†Œè´¦å·ï¼Œ<a href="https://git.acwing.com/"> Ac Git </a></li>
<li>å°†<code>id_rsa.pub</code>çš„å†…å®¹å¤åˆ¶åˆ°<code>Ac Git</code>ä¸Š</li>
</ol>
<h2 id="åˆ›å»ºé¡¹ç›®åç«¯"><a class="markdownIt-Anchor" href="#åˆ›å»ºé¡¹ç›®åç«¯"></a> åˆ›å»ºé¡¹ç›®åç«¯</h2>
<ul>
<li><code>https://start.spring.io/</code> åŠ è½½æ…¢çš„è¯ï¼Œå¯ä»¥æ¢æˆï¼š<code>https://start.aliyun.com</code></li>
</ul>
<h3 id="åˆ›å»ºé¡¹ç›®"><a class="markdownIt-Anchor" href="#åˆ›å»ºé¡¹ç›®"></a> åˆ›å»ºé¡¹ç›®</h3>
<p><img src="SpringCourse/image-20220711085513041.png" alt="image-20220711085513041" /></p>
<p>ç„¶ååœ¨ä¸‹ä¸€é¡µé¢åªéœ€è¦é€‰æ‹© <code>Web/Spring Web</code> å’Œ <code>Templa Engines/thymeleaf</code> ä¸¤ä¸ªé€‰é¡¹ã€‚</p>
<h3 id="ç¼–å†™ç±»"><a class="markdownIt-Anchor" href="#ç¼–å†™ç±»"></a> ç¼–å†™ç±»</h3>
<p><img src="SpringCourse/image-20220711085752419.png" alt="image-20220711085752419" /></p>
<p>åˆ™å¯ä»¥æ ¹æ®<code>localhost:8080/pk/index/</code>è·¯å¾„è·³è½¬è‡³<code>index.html</code>é¡µé¢</p>
<h3 id="ä¿®æ”¹åç«¯ç«¯å£å·"><a class="markdownIt-Anchor" href="#ä¿®æ”¹åç«¯ç«¯å£å·"></a> ä¿®æ”¹åç«¯ç«¯å£å·</h3>
<p>åœ¨<code>application.properties</code>æ–‡ä»¶ä¸­ä¿®æ”¹<code>server.port=8080</code>ä¸º<code>server.port=3000</code>ï¼Œåˆ™è®¿é—®è·¯å¾„å˜ä¸ºï¼š<code>localhost:3000</code></p>
<h2 id="åˆ›å»ºé¡¹ç›®webç«¯ä¸acappç«¯"><a class="markdownIt-Anchor" href="#åˆ›å»ºé¡¹ç›®webç«¯ä¸acappç«¯"></a> åˆ›å»ºé¡¹ç›®Webç«¯ä¸AcAppç«¯</h2>
<ul>
<li>vscodeä¸‹è½½åœ°å€ï¼š<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
<li>Bootstrapå®˜ç½‘åœ°å€ï¼š<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
<li>webç«¯éœ€è¦ä½¿ç”¨VSCodeï¼š<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
<li>vueå®‰è£…ï¼šçœ‹è®²ä¹‰ <a href="https://www.acwing.com/file_system/file/content/whole/index/content/5639568/"> vueè®²ä¹‰ </a></li>
</ul>
<h3 id="åˆ›å»ºvueé¡¹ç›®"><a class="markdownIt-Anchor" href="#åˆ›å»ºvueé¡¹ç›®"></a> åˆ›å»ºvueé¡¹ç›®</h3>
<p>åˆ›å»º<code>vue</code> é¡¹ç›®æ—¶ï¼Œä½¿ç”¨<code>Power Shell</code>è¿›è¡Œåˆ›å»ºï¼Œå¯ä»¥ç°åœ¨<code>Power Sehll</code>é‡Œè¿›å…¥éœ€è¦åˆ›å»ºçš„ç›®å½•ä¸­ï¼Œå†æ‰“å¼€<code>vue ui</code>è¿›è¡Œé¡¹ç›®åˆ›å»ºã€‚</p>
<p><img src="SpringCourse/image-20220713204639004.png" alt="image-20220713204639004" /></p>
<ul>
<li>éœ€è¦åˆ›å»ºä¸¤ä¸ªå‰ç«¯é¡¹ç›®ï¼š<code>web</code> å’Œ <code>acapp</code></li>
</ul>
<p><img src="SpringCourse/image-20220713204546107.png" alt="image-20220713204546107" /></p>
<h3 id="å®‰è£…æ’ä»¶"><a class="markdownIt-Anchor" href="#å®‰è£…æ’ä»¶"></a> å®‰è£…æ’ä»¶</h3>
<p>åˆ›å»ºå¥½é¡¹ç›®åï¼Œéœ€è¦å®‰è£…æ’ä»¶ï¼š</p>
<p><img src="SpringCourse/image-20220713205101757.png" alt="image-20220713205101757" /></p>
<h3 id="å®‰è£…ä¾èµ–"><a class="markdownIt-Anchor" href="#å®‰è£…ä¾èµ–"></a> å®‰è£…ä¾èµ–</h3>
<p>ç„¶å<code>web</code>ç«¯éœ€è¦å†è£…ä¾èµ–<code>jquery</code>å’Œ<code>bootstrap</code></p>
<p><img src="SpringCourse/image-20220713205210434.png" alt="image-20220713205210434" /></p>
<h3 id="è¿è¡Œé¡¹ç›®"><a class="markdownIt-Anchor" href="#è¿è¡Œé¡¹ç›®"></a> è¿è¡Œé¡¹ç›®</h3>
<p><img src="SpringCourse/image-20220713205342173.png" alt="image-20220713205342173" /></p>
<h1 id="day04åˆ›å»ºèœå•ä¸æ¸¸æˆé¡µé¢-1"><a class="markdownIt-Anchor" href="#day04åˆ›å»ºèœå•ä¸æ¸¸æˆé¡µé¢-1"></a> day04ï¼šåˆ›å»ºèœå•ä¸æ¸¸æˆé¡µé¢ 1</h1>
<h2 id="vueåˆ›å»ºç»„ä»¶"><a class="markdownIt-Anchor" href="#vueåˆ›å»ºç»„ä»¶"></a> Vueåˆ›å»ºç»„ä»¶</h2>
<p><strong>ç»„ä»¶ä½œç”¨ï¼š</strong> å½“æ‰€æœ‰é¡µé¢éƒ½å…±äº«ä¸€éƒ¨åˆ†å†…å®¹æ—¶ï¼Œå¯å°†è¯¥å†…å®¹å†™ä¸ºä¸€ä¸ªç»„ä»¶ã€‚</p>
<p>åœ¨ <code>components/</code> ç›®å½•ä¸‹åˆ›å»ºã€‚</p>
<p>**æ³¨æ„ï¼š**ç»„ä»¶åç§°å¿…é¡»æœ‰ä¸¤ä¸ªå­—æ¯å¤§å†™ï¼Œæ²¡æœ‰æˆ–åªæœ‰ä¸€ä¸ªä¼šæŠ¥é”™</p>
<p><img src="SpringCourse/image-20220713210047829.png" alt="image-20220713210047829" /></p>
<ul>
<li>æ¯ä¸ª<code>.vue</code>æ–‡ä»¶ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;  /* scopedçš„ä½œç”¨æ˜¯åœ¨æœ¬é¡µé¢å†™çš„cssä¼šåŠ ä¸Šéšæœºå­—ç¬¦ä¸²ï¼Œä¸ä¼šå½±å“åˆ«çš„é¡µé¢ */</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»ºå¯¼èˆªæ "><a class="markdownIt-Anchor" href="#åˆ›å»ºå¯¼èˆªæ "></a> åˆ›å»ºå¯¼èˆªæ </h2>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://cdn.acwing.com/media/article/image/2022/07/12/167993_a28e469f01-2a9d61c76c0c44bd5ddb30e4522148c.png" alt="2a9d61c76c0c44bd5ddb30e4522148c.png" /></p>
<h3 id="bootstrapæ·»åŠ å¯¼èˆªæ "><a class="markdownIt-Anchor" href="#bootstrapæ·»åŠ å¯¼èˆªæ "></a> Bootstrapæ·»åŠ å¯¼èˆªæ </h3>
<p>åœ¨ <a href="https://v5.bootcss.com/docs/components/navbar/">Bootstrap</a> ä¸­æœç´¢Navbarå°±å¯ä»¥æ‰¾åˆ°å„ç§æ ·å¼çš„å¯¼èˆªæ ï¼Œé€‰æ‹©å…¶ä¸­ä¸€ç§å³å¯ã€‚</p>
<p>åœ¨<code>components/</code>ç›®å½•ä¸‹åˆ›å»º<code>NavBar.vue</code>ç»„ä»¶ï¼Œå¹¶ä¿®æ”¹ç»„ä»¶ä¸­çš„ä¸€äº›åç§°ä¿¡æ¯ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">      &lt;!-- router-link ä½¿ç”¨è¯¥æ ‡ç­¾ä»£æ›¿aæ ‡ç­¾ï¼Œç‚¹å‡»æ—¶é¡µé¢ä¸ä¼šåˆ·æ–° --&gt;</span><br><span class="line">      &lt;router-link class=&quot;navbar-brand&quot; :to=&quot;&#123; name: &#x27;home&#x27; &#125;&quot;&gt;King Of Bots&lt;/router-link&gt;</span><br><span class="line">      &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarText&quot;&gt;</span><br><span class="line">        &lt;ul class=&quot;navbar-nav me-auto mb-2 mb-lg-0&quot;&gt;</span><br><span class="line">          &lt;li class=&quot;nav-item&quot;&gt;</span><br><span class="line">            &lt;router-link :class=&quot;route_name == &#x27;pk_index&#x27; ? &#x27;nav-link active&#x27; : &#x27;nav-link&#x27;&quot; :to=&quot;&#123; name: &#x27;pk_index&#x27; &#125;&quot;&gt;</span><br><span class="line">              å¯¹æˆ˜</span><br><span class="line">            &lt;/router-link&gt;</span><br><span class="line">          &lt;/li&gt;</span><br><span class="line">          &lt;li class=&quot;nav-item&quot;&gt;</span><br><span class="line">            &lt;router-link :class=&quot;route_name == &#x27;record_index&#x27; ? &#x27;nav-link active&#x27; : &#x27;nav-link&#x27;&quot;</span><br><span class="line">              :to=&quot;&#123; name: &#x27;record_index&#x27; &#125;&quot;&gt;å¯¹å±€åˆ—è¡¨&lt;/router-link&gt;</span><br><span class="line">          &lt;/li&gt;</span><br><span class="line">          &lt;li class=&quot;nav-item&quot;&gt;</span><br><span class="line">            &lt;router-link :class=&quot;route_name == &#x27;ranklist_index&#x27; ? &#x27;nav-link active&#x27; : &#x27;nav-link&#x27;&quot;</span><br><span class="line">              :to=&quot;&#123; name: &#x27;ranklist_index&#x27; &#125;&quot;&gt;æ’è¡Œæ¦œ&lt;/router-link&gt;</span><br><span class="line">          &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">        &lt;ul class=&quot;navbar-nav&quot;&gt;</span><br><span class="line">          &lt;li class=&quot;nav-item dropdown&quot;&gt;</span><br><span class="line">            &lt;a class=&quot;nav-link dropdown-toggle&quot; href=&quot;#&quot; id=&quot;navbarDropdown&quot; role=&quot;button&quot; data-bs-toggle=&quot;dropdown&quot;</span><br><span class="line">              aria-expanded=&quot;false&quot;&gt;</span><br><span class="line">              xzt</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &lt;ul class=&quot;dropdown-menu&quot; aria-labelledby=&quot;navbarDropdown&quot;&gt;</span><br><span class="line">              &lt;li&gt;</span><br><span class="line">                &lt;router-link class=&quot;dropdown-item&quot; :to=&quot;&#123; name: &#x27;user_bot_index&#x27; &#125;&quot;&gt;æˆ‘çš„Bot&lt;/router-link&gt;</span><br><span class="line">              &lt;/li&gt;</span><br><span class="line">              &lt;li&gt;</span><br><span class="line">                &lt;hr class=&quot;dropdown-divider&quot;&gt;</span><br><span class="line">              &lt;/li&gt;</span><br><span class="line">              &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; href=&quot;#&quot;&gt;é€€å‡º&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">          &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/nav&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; useRoute &#125; from &#x27;vue-router&#x27;  // ç”¨äºè·å–å½“å‰åœ¨å“ªä¸ªé¡µé¢</span><br><span class="line">import &#123; computed &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const route = useRoute();</span><br><span class="line">    let route_name = computed(() =&gt; route.name)</span><br><span class="line">    return &#123;</span><br><span class="line">      route_name</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="ä¼šé‡åˆ°çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#ä¼šé‡åˆ°çš„é—®é¢˜"></a> ä¼šé‡åˆ°çš„é—®é¢˜</h3>
<p>åœ¨åˆ›å»ºå¥½ç»„ä»¶åï¼Œä¼šæç¤ºéœ€è¦å®‰è£…ä¾èµ–<code>@popperjs/core</code>ï¼Œå»vueé¡µé¢ä¸‹è½½å®‰è£…å³å¯ã€‚</p>
<p><img src="SpringCourse/image-20220721152928047.png" alt="image-20220721152928047" /></p>
<p><img src="SpringCourse/image-20220721153032064.png" alt="image-20220721153032064" /></p>
<h3 id="å°†é¡µé¢å’Œå¯¼èˆªæ é“¾æ¥åœ°å€æ˜ å°„"><a class="markdownIt-Anchor" href="#å°†é¡µé¢å’Œå¯¼èˆªæ é“¾æ¥åœ°å€æ˜ å°„"></a> å°†é¡µé¢å’Œå¯¼èˆªæ é“¾æ¥åœ°å€æ˜ å°„</h3>
<ul>
<li>åˆ›å»ºé¡µé¢</li>
</ul>
<p>åœ¨<code>views/</code>ç›®å½•ä¸‹åˆ›å»ºè‹¥å¹²ç›®å½•ï¼Œåˆ†åˆ«ä¿å­˜ä¸€ä¸ªå¯¹åº”çš„<code>.vue</code>æ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- RanklistIndexView.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;ContentField&gt;æ’è¡Œæ¦œ&lt;/ContentField&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import ContentField from &#x27;@/components/ContentField.vue&#x27; // å†™çš„ä¸€ä¸ªç»„ä»¶ï¼Œæ‰€æœ‰é¡µé¢å…±äº«çš„ä¸€ä¸ªç»„ä»¶</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">        ContentField</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>ContentField.vue</code>ç»„ä»¶ï¼Œå®ç°ä¸€ä¸ªå¡ç‰‡ï¼Œåœ¨<code>bootstrap</code>ä¸­æœç´¢ card å³å¯å¾—åˆ°</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- ContentField.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;container content-field&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;card&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;card-body&quot;&gt;</span><br><span class="line">                &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">div.content-field &#123;</span><br><span class="line">    margin-top: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>å’Œé“¾æ¥åœ°å€å…³è”èµ·æ¥</li>
</ul>
<p>åœ¨<code>router/</code>ç›®å½•ä¸‹åˆ›å»º<code>index.js</code>ï¼Œåœ¨æ–‡ä»¶ä¸­å¡«å†™è·¯ç”±</p>
<ul>
<li>éœ€è¦è¾“å…¥æ ¹ç›®å½•é‡å®šå‘è‡³pké¡µé¢</li>
<li>è¾“å…¥åœ°å€æ ¼å¼é”™è¯¯æˆ–ä¹±ç ï¼Œåˆ™é‡å®šå‘è‡³404é¡µé¢</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PkIndexView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/pk/PkIndexView&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">RecordIndexView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/record/RecordIndexView&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">RanklistIndexView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/ranklist/RanklistIndexView&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">NotFound</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/error/NotFound&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">UserBotIndexView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/user/bot/UserBotIndexView&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;home&quot;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&quot;/pk/&quot;</span>,  <span class="comment">// è¾“å…¥æ ¹ç›®å½•é‡å®šå‘è‡³pké¡µé¢</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/pk/&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;pk_index&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">PkIndexView</span>,  <span class="comment">// åœ°å€æ è¾“å…¥ localhost:8080/pk/ å³å¯æ˜¾ç¤º PkIndexView çš„å†…å®¹</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/record/&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;record_index&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">RecordIndexView</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/ranklist/&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;ranklist_index&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">RanklistIndexView</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/404/&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;404&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">NotFound</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/user/bot/&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;user_bot_index&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">UserBotIndexView</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/:catchAll(.*)&quot;</span>,  <span class="comment">// è¾“å…¥æ ¼å¼é”™è¯¯æˆ–ä¹±ç ï¼Œåˆ™é‡å®šå‘è‡³404é¡µé¢</span></span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&quot;/404/&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å¯¼èˆªæ ä¸­å­˜åœ¨çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å¯¼èˆªæ ä¸­å­˜åœ¨çš„é—®é¢˜"></a> å¯¼èˆªæ ä¸­å­˜åœ¨çš„é—®é¢˜</h3>
<ul>
<li>æ¯æ¬¡ç‚¹å‡»æŸä¸ªé“¾æ¥ï¼Œé¡µé¢ä¼šè¿›è¡Œåˆ·æ–°ï¼Œå¯ä»¥å°†<code>&lt;a&gt;</code>æ ‡ç­¾æ”¹ä¸º<code>&lt;router-link&gt;</code>æ ‡ç­¾ï¼Œé¿å…è¿™ç§é—®é¢˜</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;router-link :class=&quot;route_name == &#x27;pk_index&#x27; ? &#x27;nav-link active&#x27; : &#x27;nav-link&#x27;&quot; :to=&quot;&#123; name: &#x27;pk_index&#x27; &#125;&quot;&gt;</span><br><span class="line">    å¯¹æˆ˜</span><br><span class="line">&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>:class</code> åˆ¤æ–­æ˜¯å¦åœ¨å½“å‰é¡µé¢ï¼Œè‹¥åœ¨çš„è¯åˆ™å¯ä»¥æ·»åŠ <code>active</code> å®ç°è¯¥é“¾æ¥åé«˜äº®ã€‚</li>
<li><code>:to</code> ç‚¹å‡»æ—¶è·³è½¬çš„é¡µé¢ï¼Œé€šè¿‡ä¸Šé¢<code>router/index.js</code>é¡µé¢çš„æ˜ å°„åå­—è¿›è¡Œè·³è½¬ã€‚</li>
</ul>
<h3 id="æœ€ç»ˆæ•ˆæœ"><a class="markdownIt-Anchor" href="#æœ€ç»ˆæ•ˆæœ"></a> æœ€ç»ˆæ•ˆæœ</h3>
<p><img src="SpringCourse/image-20220721155438423.png" alt="image-20220721155438423" /></p>
<h2 id="åˆ›å»ºå¯¹æˆ˜é¡µé¢çš„åœ°å›¾å’Œéšœç¢ç‰©"><a class="markdownIt-Anchor" href="#åˆ›å»ºå¯¹æˆ˜é¡µé¢çš„åœ°å›¾å’Œéšœç¢ç‰©"></a> åˆ›å»ºå¯¹æˆ˜é¡µé¢çš„åœ°å›¾å’Œéšœç¢ç‰©</h2>
<h3 id="éœ€è¦å®ç°çš„æ•ˆæœ"><a class="markdownIt-Anchor" href="#éœ€è¦å®ç°çš„æ•ˆæœ"></a> éœ€è¦å®ç°çš„æ•ˆæœ</h3>
<p><img src="https://cdn.acwing.com/media/article/image/2022/07/13/167993_2f8b6d2a02-336af4ed02ac84321dea23ad81ba97a.png" alt="336af4ed02ac84321dea23ad81ba97a.png" /></p>
<h3 id="åˆ›å»ºæ¸¸æˆå¯¹è±¡åŸºç±»"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ¸¸æˆå¯¹è±¡åŸºç±»"></a> åˆ›å»ºæ¸¸æˆå¯¹è±¡åŸºç±»</h3>
<p>**ç›®çš„ï¼š**å› ä¸ºæ¯ç§’æ¸¸æˆçš„å¯¹è±¡éƒ½ä¼šåˆ·æ–°ä¸€éï¼Œæ‰€ä»¥éœ€è¦å°†æ‰€æœ‰æ¸¸æˆçš„å¯¹è±¡éƒ½å­˜å…¥ä¸€ä¸ªæ•°ç»„ä¸­</p>
<p>åœ¨<code>assets/</code>ç›®å½•ä¸‹åˆ›å»º<code>scripts/</code> å’Œ <code>images/</code>ç›®å½•ï¼Œç„¶ååœ¨<code>scripts/</code>ç›®å½•ä¸‹åˆ›å»º <code>AcGameObject.js</code></p>
<p>ç¼–å†™é€’å½’å‡½æ•°ï¼šè‹¥<code>this.has_called_start = false</code>åˆ™ä»£è¡¨æ²¡æ‰§è¡Œè¿‡<code>start()</code>å‡½æ•°ï¼Œæ‰§è¡Œè¯¥å‡½æ•°å³å¯ã€‚å¦åˆ™ï¼Œéœ€è¦æ‰§è¡Œ<code>update()</code>å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">AC_GAME_OBJECTS</span> = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AcGameObject</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable constant_">AC_GAME_OBJECTS</span>.<span class="title function_">push</span>(<span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">timedelta</span> = <span class="number">0</span>;  <span class="comment">// æ—¶é—´é—´éš”</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">has_called_start</span> = <span class="literal">false</span>; <span class="comment">// åˆ¤æ–­startå‡½æ•°æ˜¯å¦è¢«æ‰§è¡Œ</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">start</span>(<span class="params"></span>) &#123; <span class="comment">// åˆ›å»ºæ—¶æ‰§è¡Œï¼Œåªæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">update</span>(<span class="params"></span>)&#123; <span class="comment">// æ¯ä¸€å¸§æ‰§è¡Œä¸€æ¬¡ï¼Œé™¤ç¬¬ä¸€å¸§ä¹‹å¤–</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">on_destory</span>(<span class="params"></span>) &#123; <span class="comment">// åˆ é™¤ä¹‹å‰æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">destory</span>(<span class="params"></span>) &#123;  <span class="comment">// åˆ é™¤å½“å‰å…ƒç´ </span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">on_destory</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> <span class="variable constant_">AC_GAME_OBJECTS</span>) &#123; <span class="comment">// of éå†çš„æ˜¯å€¼ï¼Œin éå†çš„æ˜¯ä¸‹æ ‡</span></span><br><span class="line">            <span class="keyword">const</span> obj = <span class="variable constant_">AC_GAME_OBJECTS</span>[i];</span><br><span class="line">            <span class="keyword">if</span>(obj === <span class="variable language_">this</span>)&#123;</span><br><span class="line">                <span class="variable constant_">AC_GAME_OBJECTS</span>.<span class="title function_">splice</span>(i);  <span class="comment">// åˆ é™¤ iä½ç½®å…ƒç´ </span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> last_timestamp; <span class="comment">// ä¸Šä¸€æ¬¡æ‰§è¡Œçš„æ—¶åˆ»</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">step</span> = timestamp =&gt;&#123;  <span class="comment">// ä¼ å…¥å‚æ•° timestamp å½“å‰æ—¶åˆ»</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> obj <span class="keyword">of</span> <span class="variable constant_">AC_GAME_OBJECTS</span>) &#123;  <span class="comment">// of éå†çš„æ˜¯å€¼ï¼Œin éå†çš„æ˜¯ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">if</span>(!obj.<span class="property">has_called_start</span>)&#123;  <span class="comment">// start å‡½æ•°è¿˜æ²¡æœ‰è¢«æ‰§è¡Œ</span></span><br><span class="line">            obj.<span class="property">has_called_start</span> = <span class="literal">true</span>;</span><br><span class="line">            obj.<span class="title function_">start</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            obj.<span class="property">timedelta</span> = timestamp - last_timestamp;</span><br><span class="line">            obj.<span class="title function_">update</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    last_timestamp = timestamp;</span><br><span class="line">    <span class="title function_">requestAnimationFrame</span>(step)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">requestAnimationFrame</span>(step)</span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºæ¸¸æˆåœ°å›¾"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ¸¸æˆåœ°å›¾"></a> åˆ›å»ºæ¸¸æˆåœ°å›¾</h3>
<ul>
<li>
<p>åœ¨<code>assets/scripts/</code>ç›®å½•ä¸‹åˆ›å»º<code>GameMap.js</code>æ–‡ä»¶ï¼Œå®ç°æ¸²æŸ“çš„é€»è¾‘</p>
</li>
<li>
<p>åœ¨<code>components/</code>ç›®å½•ä¸‹åˆ›å»º<code>GameMap.vue</code> å’Œ <code>PlayGround.vue</code> ç»„ä»¶ï¼Œå®ç°æ¸¸æˆåœ°å›¾çš„é¡µé¢åˆ›å»º</p>
</li>
<li>
<p><code>GameMap</code>ï¼šä¸»è¦æ˜¾ç¤ºæ¸¸æˆåœ°å›¾ï¼Œå¹¶è°ƒç”¨ js æ–‡ä»¶è¿›è¡Œåœ°å›¾æ¸²æŸ“</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- GameMap.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div ref=&quot;parent&quot; class=&quot;gamemap&quot;&gt;</span><br><span class="line">        &lt;canvas ref=&quot;canvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; GameMap &#125; from &quot;@/assets/scripts/GameMap&quot;;</span><br><span class="line">import &#123; ref, onMounted &#125; from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    setup() &#123;</span><br><span class="line">        let parent = ref(null);</span><br><span class="line">        let canvas = ref(null);</span><br><span class="line"></span><br><span class="line">        onMounted(() =&gt; &#123;</span><br><span class="line">            new GameMap(canvas.value.getContext(&#x27;2d&#x27;), parent.value)  // åˆ›å»ºGameMapå¯¹è±¡ï¼Œå¹¶ä¼ å…¥å‚æ•°</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        return &#123;</span><br><span class="line">            parent,</span><br><span class="line">            canvas</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    div.gamemap&#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        display: flex;  /* å±…ä¸­ï¼Œå¯ä»¥ä½¿æ°´å¹³å’Œå‚ç›´éƒ½å±…ä¸­ */</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>PlayGround</code>ï¼šä¸»è¦æ˜¾ç¤º pk é¡µé¢çš„å†…å®¹ï¼Œé™¤äº†æ¸¸æˆåœ°å›¾å¯èƒ½è¿˜åŒ…å«ç§¯åˆ†æ¿ç­‰å…¶ä»–å†…å®¹ï¼Œ</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- PlayGround.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;playground&quot;&gt;</span><br><span class="line">        &lt;GameMap /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import GameMap from &quot;./GameMap.vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">        GameMap,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    div.playground &#123;</span><br><span class="line">        width: 60vw;</span><br><span class="line">        height: 70vh;</span><br><span class="line">        /* background-color: lightblue; */  /* èƒŒæ™¯é¢œè‰²å¯ä»¥å»æ‰ */</span><br><span class="line">        margin: 40px auto;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¿®æ”¹åçš„ <code>PkIndexView.vue</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;PlayGround /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import PlayGround from &#x27;../../components/PlayGround.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">    PlayGround</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p><img src="SpringCourse/image-20220721162638515.png" alt="image-20220721162638515" /></p>
<h4 id="gamemapjsåˆ›å»ºæ ¼å­åœ°å›¾"><a class="markdownIt-Anchor" href="#gamemapjsåˆ›å»ºæ ¼å­åœ°å›¾"></a> <code>GameMap.js</code>åˆ›å»ºæ ¼å­åœ°å›¾</h4>
<p>å®šä¹‰åˆå§‹å˜é‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params">ctx, parent</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span> = ctx;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">parent</span> = parent;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">L</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">rows</span> = <span class="number">13</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cols</span> = <span class="number">13</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>é¦–å…ˆéœ€è¦è®¡ç®—æ¯ä¸ªå°æ­£æ–¹å½¢çš„å¤§å°ã€‚è§„å®šæ¸¸æˆåœ°å›¾ç”±13è¡Œï¼Œæ¯è¡Œ13ä¸ªå°æ­£æ–¹å½¢ç»„æˆã€‚</li>
</ul>
<p>æ‰€ä»¥å°æ­£æ–¹å½¢çš„è¾¹é•¿æ±‚è§£åŠæ³•ä¸ºï¼š<code>min&#123; height / rows, width / cols&#125;</code>ï¼Œç¼–å†™<code>update_size()</code>å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">update_size</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">L</span> = <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="variable language_">this</span>.<span class="property">parent</span>.<span class="property">clientWidth</span> / <span class="variable language_">this</span>.<span class="property">cols</span>, <span class="variable language_">this</span>.<span class="property">parent</span>.<span class="property">clientHeight</span> / <span class="variable language_">this</span>.<span class="property">rows</span>));</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">canvas</span>.<span class="property">width</span> = <span class="variable language_">this</span>.<span class="property">L</span> * <span class="variable language_">this</span>.<span class="property">cols</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">canvas</span>.<span class="property">height</span> = <span class="variable language_">this</span>.<span class="property">L</span> * <span class="variable language_">this</span>.<span class="property">rows</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">update_size</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//ç”»å›¾</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">fillStyle</span> = <span class="string">&#x27;green&#x27;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">fillRect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">canvas</span>.<span class="property">width</span>, <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">canvas</span>.<span class="property">height</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å¥‡å¶æ˜¾ç¤ºæ­£æ–¹å½¢åŒºåŸŸå†…çš„å°æ ¼å­</li>
</ul>
<p>å®šä¹‰ä¸¤ç§é¢œè‰²ï¼Œå¦‚æœæ˜¯å¶æ•°æ˜¾ç¤ºä¸€ç§é¢œè‰²ï¼Œå¦åˆ™æ˜¾ç¤ºå¦ä¸€ç§é¢œè‰²ã€‚ä¿®æ”¹<code>render()</code> å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;  <span class="comment">// æ¸²æŸ“</span></span><br><span class="line">    <span class="keyword">const</span> color_even = <span class="string">&quot;#AAD751&quot;</span>, color_odd = <span class="string">&quot;#A2D149&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> r = <span class="number">0</span>; r &lt; <span class="variable language_">this</span>.<span class="property">rows</span>; r ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="variable language_">this</span>.<span class="property">cols</span>; c ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>((r + c) % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">fillStyle</span> = color_even;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">fillStyle</span> = color_odd;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å·¦ä¸Šè§’å·¦è¾¹ï¼Œæ˜ç¡®canvasåæ ‡ç³»</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">fillRect</span>(c * <span class="variable language_">this</span>.<span class="property">L</span>, r * <span class="variable language_">this</span>.<span class="property">L</span>, <span class="variable language_">this</span>.<span class="property">L</span>, <span class="variable language_">this</span>.<span class="property">L</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">update_size</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="SpringCourse/image-20220721164332394.png" alt="image-20220721164332394" /></p>
<h4 id="åˆ›å»ºå¢™"><a class="markdownIt-Anchor" href="#åˆ›å»ºå¢™"></a> åˆ›å»ºå¢™</h4>
<p>åœ¨<code>scripts/</code>ç›®å½•ä¸‹åˆ›å»ºWall.js`</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AcGameObject</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./AcGameObject&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Wall</span> <span class="keyword">extends</span> <span class="title class_ inherited__">AcGameObject</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">r, c, gamemap</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">r</span> = r;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">c</span> = c;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">gamemap</span> = gamemap;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">color</span> = <span class="string">&quot;#B37226&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> L = <span class="variable language_">this</span>.<span class="property">gamemap</span>.<span class="property">L</span>;</span><br><span class="line">        <span class="keyword">const</span> ctx = <span class="variable language_">this</span>.<span class="property">gamemap</span>.<span class="property">ctx</span>;</span><br><span class="line"></span><br><span class="line">        ctx.<span class="property">fillStyle</span> = <span class="variable language_">this</span>.<span class="property">color</span>;</span><br><span class="line">        ctx.<span class="title function_">fillRect</span>(<span class="variable language_">this</span>.<span class="property">c</span> * L, <span class="variable language_">this</span>.<span class="property">r</span> * L, L, L);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ä¿®æ”¹gamemapjsç»™å››å‘¨æ·»åŠ å¢™"><a class="markdownIt-Anchor" href="#ä¿®æ”¹gamemapjsç»™å››å‘¨æ·»åŠ å¢™"></a> ä¿®æ”¹<code>GameMap.js</code>ç»™å››å‘¨æ·»åŠ å¢™</h4>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params">ctx, parent</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span> = ctx;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">parent</span> = parent;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">L</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">rows</span> = <span class="number">13</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cols</span> = <span class="number">13</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">wall</span> = []; <span class="comment">// æ·»åŠ å¢™</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">creat_Walls</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å¢™ true æ—  false</span></span><br><span class="line">    <span class="keyword">const</span> g = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> r = <span class="number">0</span>; r &lt; <span class="variable language_">this</span>.<span class="property">cols</span>; r ++ ) &#123;</span><br><span class="line">        g[r] = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="variable language_">this</span>.<span class="property">cols</span>; c ++ ) &#123;</span><br><span class="line">            g[r][c] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç»™å››å‘¨åŠ ä¸Šå¢™</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> r = <span class="number">0</span>; r &lt; <span class="variable language_">this</span>.<span class="property">rows</span>; r ++ ) &#123;</span><br><span class="line">        g[r][<span class="number">0</span>] = g[r][<span class="variable language_">this</span>.<span class="property">cols</span> - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="variable language_">this</span>.<span class="property">cols</span>; c ++ ) &#123;</span><br><span class="line">        g[<span class="number">0</span>][c] = g[<span class="variable language_">this</span>.<span class="property">rows</span> - <span class="number">1</span>][c] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> r = <span class="number">0</span>; r &lt; <span class="variable language_">this</span>.<span class="property">rows</span>; r ++ ) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="variable language_">this</span>.<span class="property">cols</span>; c ++ ) &#123;</span><br><span class="line">            <span class="keyword">if</span> (g[r][c]) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">wall</span>.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title class_">Wall</span>(r, c, <span class="variable language_">this</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">start</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">create_Walls</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="SpringCourse/image-20220721164838093.png" alt="image-20220721164838093" /></p>
<h4 id="åœ¨åœ°å›¾ä¸­éšæœºç”Ÿæˆå¢™"><a class="markdownIt-Anchor" href="#åœ¨åœ°å›¾ä¸­éšæœºç”Ÿæˆå¢™"></a> åœ¨åœ°å›¾ä¸­éšæœºç”Ÿæˆå¢™</h4>
<p>è¦æ±‚ï¼š</p>
<ul>
<li>åœ¨åœ°å›¾ä¸­éšæœºç”Ÿæˆå¢™ï¼Œå¹¶ä¸”æ˜¯æ²¿ä¸»å¯¹è§’çº¿è½´å¯¹ç§°ç”Ÿæˆï¼Œ</li>
<li>å·¦ä¸‹è§’å’Œå³ä¸Šè§’ä¸ä¼šç”Ÿæˆï¼Œç”¨æ¥åšè›‡çš„åˆå§‹ä½ç½®</li>
<li>ä¿è¯ä»å·¦ä¸‹è§’åˆ°å³ä¸Šè§’æ˜¯è¿é€šçš„ã€‚è¿™è¾¹ä½¿ç”¨ <code>flood fill</code>ç®—æ³•å®ç°ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">check_connectivity</span>(<span class="params">g, sx, sy, tx, ty</span>)&#123; <span class="comment">// åˆ¤æ–­æ˜¯å¦è¿é€š</span></span><br><span class="line">    <span class="keyword">if</span>(sx == tx &amp;&amp; sy == ty) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    g[sx][sy] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> dx = [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], dy = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++)&#123;</span><br><span class="line">        <span class="keyword">let</span> x = sx + dx[i], y = sy + dy[i];</span><br><span class="line">        <span class="keyword">if</span>(!g[x][y] &amp;&amp; <span class="variable language_">this</span>.<span class="title function_">check_connectivity</span>(g, x, y, tx, ty))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">create_Walls</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> g = [];</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–gæ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> r = <span class="number">0</span>; r &lt; <span class="variable language_">this</span>.<span class="property">rows</span>; r ++)&#123;</span><br><span class="line">        g[r] = [];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="variable language_">this</span>.<span class="property">cols</span>; c ++)&#123;</span><br><span class="line">            g[r][c] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç»™å››å‘¨åŠ ä¸Šéšœç¢ç‰©</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> r = <span class="number">0</span>; r &lt; <span class="variable language_">this</span>.<span class="property">rows</span>; r ++)&#123;</span><br><span class="line">        g[r][<span class="number">0</span>] = g[r][<span class="variable language_">this</span>.<span class="property">cols</span> - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="variable language_">this</span>.<span class="property">cols</span>; c ++)&#123;</span><br><span class="line">        g[<span class="number">0</span>][c] = g[<span class="variable language_">this</span>.<span class="property">rows</span> - <span class="number">1</span>][c] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºéšæœºéšœç¢ç‰©</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">inner_walls_count</span> / <span class="number">2</span>; i ++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">1000</span>; j ++) &#123;</span><br><span class="line">            <span class="keyword">let</span> r = <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">this</span>.<span class="property">rows</span>);</span><br><span class="line">            <span class="keyword">let</span> c = <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">this</span>.<span class="property">cols</span>);</span><br><span class="line">            <span class="keyword">if</span>(g[r][c] || g[c][r]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(r == <span class="variable language_">this</span>.<span class="property">rows</span> - <span class="number">2</span> &amp;&amp; c == <span class="number">1</span> || r == <span class="number">1</span> &amp;&amp; c == <span class="variable language_">this</span>.<span class="property">cols</span> - <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">            g[r][c] = g[c][r] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> copy_g = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(g)); <span class="comment">// å°† g å¤åˆ¶ä¸€é</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="title function_">check_connectivity</span>(copy_g, <span class="variable language_">this</span>.<span class="property">rows</span> - <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="variable language_">this</span>.<span class="property">cols</span> - <span class="number">2</span>)) </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> r = <span class="number">0</span>; r &lt; <span class="variable language_">this</span>.<span class="property">rows</span>; r ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="variable language_">this</span>.<span class="property">cols</span>; c ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(g[r][c])&#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">walls</span>.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title class_">Wall</span>(r, c, <span class="variable language_">this</span>));  <span class="comment">// å°† [r,c] ä½ç½®è®¾ç½®ä¸ºå¢™</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">start</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i ++ )</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="title function_">create_Walls</span>())</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="day05åˆ›å»ºèœå•ä¸æ¸¸æˆç•Œé¢-2"><a class="markdownIt-Anchor" href="#day05åˆ›å»ºèœå•ä¸æ¸¸æˆç•Œé¢-2"></a> day05ï¼šåˆ›å»ºèœå•ä¸æ¸¸æˆç•Œé¢ 2</h1>
<h2 id="ä¿®æ”¹åœ°å›¾"><a class="markdownIt-Anchor" href="#ä¿®æ”¹åœ°å›¾"></a> ä¿®æ”¹åœ°å›¾</h2>
<p>**åŸå› ï¼š**ä¸Šæ¬¡å®ç°çš„åœ°å›¾æ˜¯ä¸€ä¸ª<code>13 * 13</code>çš„æ­£æ–¹å½¢ï¼Œå¯èƒ½ä¼šé€ æˆä¸€ç§æƒ…å†µï¼šåœ¨æŸä¸€æ—¶åˆ»åï¼Œä¸¤ä¸ªé€‰æ‰‹çš„æ“ä½œä¼šé€ æˆä¸¤æ¡è›‡å¤´èµ°åˆ°åŒä¸€ä¸ªæ ¼å­ã€‚é™ä½äº†æ¸¸æˆçš„å…¬å¹³æ€§ã€‚å› æ­¤éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>**æ€æƒ³ï¼š**æˆ‘ä»¬åªéœ€è¦å°†ä¸¤æ¡è›‡çš„åæ ‡ <strong>æ”¹ä¸ºå’Œä¸ºå¥‡æ•°</strong> çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´å°†æ•´å¼ åœ°å›¾æ”¹ä¸º<code>13 * 14</code>å¤§å°ã€‚</p>
<p><strong>ä¿®æ”¹ä»£ç ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// GameMap.js ä¸­</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">rows</span> = <span class="number">13</span>;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">cols</span> = <span class="number">14</span>;</span><br></pre></td></tr></table></figure>
<h3 id="è¿å¸¦ä¿®æ”¹"><a class="markdownIt-Anchor" href="#è¿å¸¦ä¿®æ”¹"></a> è¿å¸¦ä¿®æ”¹ï¼š</h3>
<p>**åŸå› ï¼š**ä¿®æ”¹åœ°å›¾åä¼šé€ æˆæ¸¸æˆåœ°å›¾å˜æˆé•¿æ–¹å½¢ï¼Œä¸èƒ½å®ç°ä¸»å¯¹è§’çº¿è½´å¯¹ç§°ï¼Œæ‰€ä»¥éœ€è¦æŠŠè½´å¯¹ç§°æ”¹ä¸ºä¸­å¿ƒå¯¹ç§°ã€‚å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// GameMap.js ä¸­</span></span><br><span class="line"><span class="comment">// åˆ›å»ºéšæœºéšœç¢ç‰©</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">inner_walls_count</span> / <span class="number">2</span>; i ++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">1000</span>; j ++) &#123;</span><br><span class="line">        <span class="keyword">let</span> r = <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">this</span>.<span class="property">rows</span>);</span><br><span class="line">        <span class="keyword">let</span> c = <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">this</span>.<span class="property">cols</span>);</span><br><span class="line">        <span class="keyword">if</span>(g[r][c] || g[<span class="variable language_">this</span>.<span class="property">rows</span> - <span class="number">1</span> - r][<span class="variable language_">this</span>.<span class="property">cols</span> - <span class="number">1</span> - c]) <span class="keyword">continue</span>;  <span class="comment">// å› ä¸ºåœ°å›¾æ˜¯é•¿æ–¹å½¢ï¼Œæ‰€ä»¥éœ€è¦å®ç°éšœç¢ç‰©ä¸­å¿ƒå¯¹ç§°</span></span><br><span class="line">        <span class="keyword">if</span>(r == <span class="variable language_">this</span>.<span class="property">rows</span> - <span class="number">2</span> &amp;&amp; c == <span class="number">1</span> || r == <span class="number">1</span> &amp;&amp; c == <span class="variable language_">this</span>.<span class="property">cols</span> - <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">        g[r][c] = g[<span class="variable language_">this</span>.<span class="property">rows</span> - <span class="number">1</span> - r][<span class="variable language_">this</span>.<span class="property">cols</span> - <span class="number">1</span> - c] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="SpringCourse/image-20220723144936817.png" alt="image-20220723144936817" /></p>
<h2 id="å®ç°è›‡å¤´"><a class="markdownIt-Anchor" href="#å®ç°è›‡å¤´"></a> å®ç°è›‡å¤´</h2>
<p>**å®ç°æ€æƒ³ï¼š**æœ¬è´¨ä¸Šè›‡æ˜¯ç”±ä¸€å †è”ç³»çš„æ ¼å­ç»„æˆçš„åºåˆ—ï¼Œæ‰€ä»¥åªéœ€è¦æŠŠæ ¼å­è®°å½•ä¸‹æ¥å³å¯ã€‚</p>
<h3 id="å®ç°celljs"><a class="markdownIt-Anchor" href="#å®ç°celljs"></a> å®ç°<code>Cell.js</code></h3>
<p>åˆ›å»º<code>Cell.js</code>ç”¨äºå­˜å‚¨è›‡æ‰€å ç”¨çš„æ ¼å­ä¿¡æ¯ï¼Œ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Cell.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Cell</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">r, c</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">r</span> = r;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">c</span> = c;</span><br><span class="line">        <span class="comment">// æ›¿æ¢ä¸º canvas çš„åæ ‡ç³»</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = c + <span class="number">0.5</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> = r + <span class="number">0.5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å®ç°snakejs"><a class="markdownIt-Anchor" href="#å®ç°snakejs"></a> å®ç°<code>Snake.js</code></h3>
<ul>
<li>åˆ›å»º<code>Snake.js</code>å¯¹è±¡ï¼Œè¿›è¡Œè›‡çš„ç»˜åˆ¶æ¸²æŸ“</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Sanke.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AcGameObject</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./AcGameObject&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Cell</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./Cell&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Snake</span> <span class="keyword">extends</span> <span class="title class_ inherited__">AcGameObject</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">info, gamemap</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å–å‡ºåŸºæœ¬çš„id</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">id</span> = info.<span class="property">id</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">color</span> = info.<span class="property">color</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">gamemap</span> = gamemap; <span class="comment">// æ–¹ä¾¿è°ƒç”¨å‡½æ•°å’Œå‚æ•°</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å­˜æ”¾è›‡çš„èº«ä½“;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cells</span> = [<span class="keyword">new</span> <span class="title class_">Cell</span>(info.<span class="property">r</span>, info.<span class="property">c</span>)];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">start</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// ç”»å‡ºåŸºæœ¬çš„è›‡å¤´</span></span><br><span class="line">        <span class="keyword">const</span> L = <span class="variable language_">this</span>.<span class="property">gamemap</span>.<span class="property">L</span>;</span><br><span class="line">        <span class="keyword">const</span> ctx = <span class="variable language_">this</span>.<span class="property">gamemap</span>.<span class="property">ctx</span>;</span><br><span class="line"></span><br><span class="line">        ctx.<span class="property">fillStyle</span> = <span class="variable language_">this</span>.<span class="property">color</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> cell <span class="keyword">of</span> <span class="variable language_">this</span>.<span class="property">cells</span>) &#123;</span><br><span class="line">            ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">            ctx.<span class="title function_">arc</span>(cell.<span class="property">x</span> * L, cell.<span class="property">y</span> * L, L / <span class="number">2</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>);</span><br><span class="line">            ctx.<span class="title function_">fill</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¿®æ”¹<code>GameMap.js</code>ï¼Œåœ¨<code>GameMap.js</code>ä¸­åˆ›å»ºä¸¤æ¡è›‡çš„å¯¹è±¡ï¼Œæ–¹ä¾¿æ¯å¸§æ¸²æŸ“ä¸€æ¬¡ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// GameMap.js constructor ä¸­æ·»åŠ </span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">Snakes</span> = &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Snake</span>(&#123;id : <span class="number">0</span>, color : <span class="string">&quot;#4876ec&quot;</span>, r : <span class="variable language_">this</span>.<span class="property">rows</span> - <span class="number">2</span>, c : <span class="number">1</span>&#125;, <span class="variable language_">this</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Snake</span>(&#123;id : <span class="number">1</span>, color : <span class="string">&quot;#f94848&quot;</span>, r : <span class="number">1</span>, c : <span class="variable language_">this</span>.<span class="property">cols</span> - <span class="number">2</span>&#125;, <span class="variable language_">this</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æˆåŠŸç•Œé¢</strong></p>
<p><img src="SpringCourse/image-20220723145947427.png" alt="image-20220723145947427" /></p>
<h2 id="å®ç°è›‡çš„ç§»åŠ¨"><a class="markdownIt-Anchor" href="#å®ç°è›‡çš„ç§»åŠ¨"></a> å®ç°è›‡çš„ç§»åŠ¨</h2>
<p><strong>å®ç°æ€æƒ³ï¼š</strong></p>
<p>ç§»åŠ¨åº”è¯¥æ˜¯è¿è´¯çš„ï¼Œä½†æ˜¯è›‡çš„èº«ä½“æ˜¯ç”±ä¸€æ ¼ä¸€æ ¼è¿ç»­çš„æ ¼å­ç»„æˆçš„</p>
<blockquote>
<p>ä¸­é—´ä¿æŒä¸åŠ¨ï¼Œå¤´å’Œå°¾åŠ¨ï¼Œåœ¨å¤´éƒ¨åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œæœç€ç›®çš„åœ°ç§»åŠ¨ã€‚å°¾å·´æœç€ç›®çš„åœ°åŠ¨</p>
</blockquote>
<p>è›‡ç§»åŠ¨çš„æ¡ä»¶</p>
<blockquote>
<p>åŒæ—¶è·å–åˆ° ä¸¤ä¸ªäºº / ä¸¤ä¸ªæœºå™¨ çš„æ“ä½œæ‰èƒ½å¤Ÿç§»åŠ¨</p>
</blockquote>
<h3 id="æœ€ç®€å•çš„ç§»åŠ¨"><a class="markdownIt-Anchor" href="#æœ€ç®€å•çš„ç§»åŠ¨"></a> æœ€ç®€å•çš„ç§»åŠ¨</h3>
<p>åœ¨<code>Snake.js</code>ä¸­æ·»åŠ ä»£ç ï¼Œå®ç°è›‡å¤´çš„å‘å³ç§»åŠ¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AcGameObject</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./AcGameObject&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Cell</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./Cell&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Snake</span> <span class="keyword">extends</span> <span class="title class_ inherited__">AcGameObject</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">info, gamemap</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(); <span class="comment">// ç»§æ‰¿AcGameObjectçš„æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">id</span> = info.<span class="property">id</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">color</span> = info.<span class="property">color</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">gamemap</span> = gamemap;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cells</span> = [<span class="keyword">new</span> <span class="title class_">Cell</span>(info.<span class="property">r</span>, info.<span class="property">c</span>)]; <span class="comment">// å­˜æ”¾è›‡çš„èº«ä½“ï¼Œ cell[0] å­˜æ”¾è›‡å¤´</span></span><br><span class="line">        <span class="comment">// è¡¨ç¤ºç§»åŠ¨é€Ÿåº¦</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">speed</span> = <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="title function_">update_move</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// å‘å³ç§»åŠ¨</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">x</span> += <span class="variable language_">this</span>.<span class="property">speed</span> * <span class="variable language_">this</span>.<span class="property">timedelta</span> / <span class="number">1000</span>;</span><br><span class="line">        <span class="comment">//å‘ä¸Šç§»åŠ¨</span></span><br><span class="line">        <span class="comment">//this.cells[0].y -= this.speed * this.timedelta / 1000;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">update_move</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰€å‘ˆç°çš„æ•ˆæœæ˜¯ï¼šä¸¤ä¸ªå°çƒä¸€ç›´å‘å³ç§»åŠ¨ã€‚</p>
<h2 id="å®ç°è¿è´¯çš„ç§»åŠ¨"><a class="markdownIt-Anchor" href="#å®ç°è¿è´¯çš„ç§»åŠ¨"></a> å®ç°è¿è´¯çš„ç§»åŠ¨</h2>
<p>ç”±äºå¯èƒ½ä¼šäº§ç”Ÿä¸€äº›é—®é¢˜ï¼Œ ä¹Ÿå°±æ˜¯ä¸­é—´æŸä¸ªçŠ¶æ€ï¼Œæ²¡æœ‰å®Œå…¨ç§»å‡ºå»ï¼Œè›‡çš„èº«å­ä¼šå‡ºç°é—®é¢˜ã€‚</p>
<ul>
<li>ä¸­é—´ä¸åŠ¨ï¼Œé¦–å°¾åŠ¨ï¼åˆ›å»ºçš„è™šæ‹ŸèŠ‚ç‚¹æœç€ç›®çš„åœ°ç§»åŠ¨ã€‚åªæœ‰ä¸¤ä¸ªç‚¹åŠ¨ã€‚</li>
<li>è€ƒè™‘è›‡ä»€ä¹ˆæ—¶å€™åŠ¨? å›åˆåˆ¶æ¸¸æˆï¼Œä¸¤ä¸ªäººéƒ½æœ‰è¾“å…¥çš„æ—¶å€™ï¼Œæ‰å¯ä»¥ç§»åŠ¨ã€‚</li>
</ul>
<p>ä¿®æ”¹<code>Snake.js</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AcGameObject</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./AcGameObject&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Cell</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./Cell&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Snake</span> <span class="keyword">extends</span> <span class="title class_ inherited__">AcGameObject</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">info, gamemap</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">id</span> = info.<span class="property">id</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">color</span> = info.<span class="property">color</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">gamemap</span> = gamemap;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å­˜æ”¾è›‡çš„èº«ä½“;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cells</span> = [<span class="keyword">new</span> <span class="title class_">Cell</span>(info.<span class="property">r</span>, info.<span class="property">c</span>)];</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">speed</span> = <span class="number">5</span>; <span class="comment">// è›‡æ¯ç§’èµ°5æ ¼</span></span><br><span class="line">        <span class="comment">// new add</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">direction</span> = -<span class="number">1</span>; <span class="comment">// ç§»åŠ¨æ–¹å‘ï¼Œ-1è¡¨ç¤ºæ²¡æœ‰æŒ‡ä»¤ 0, 1, 2, 3è¡¨ç¤ºä¸Šå³ä¸‹å·¦ </span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">status</span> = <span class="string">&quot;idle&quot;</span>; <span class="comment">// idleé™æ­¢ï¼Œ move ç§»åŠ¨ die æ­»äº¡</span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æœ‰ä¸€ä¸ªâ€è£åˆ¤â€œæ¥åˆ¤æ–­ä¸¤æ¡è›‡æ˜¯å¦è¿›è¡Œç§»åŠ¨ï¼Œä½†æ˜¯&quot;è¿åŠ¨å‘˜&quot;ä¸èƒ½å½“â€è£åˆ¤â€œï¼Œæ‰€ä»¥éœ€è¦æŠŠåˆ¤æ–­çš„ä»£ç å†™åœ¨<code>GameMap.js</code>ä¸­</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// GameMap.js</span></span><br><span class="line"><span class="title function_">check_ready</span>(<span class="params"></span>) &#123; <span class="comment">// åˆ¤æ–­ä¸¤æ¡è›‡æ˜¯å¦å‡†å¤‡ä¸‹ä¸€å›åˆäº†</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">const</span> snake <span class="keyword">of</span> <span class="variable language_">this</span>.<span class="property">snakes</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (snake.<span class="property">status</span> !== <span class="string">&quot;idle&quot;</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      <span class="keyword">if</span> (snake.<span class="property">direction</span> === -<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨ <code>Snake.js</code>ä¸­æ›´æ–°ä¸‹ä¸€æ­¥è›‡çš„çŠ¶æ€ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">next_cell</span> = <span class="literal">null</span>; <span class="comment">//ä¸‹ä¸€æ­¥çš„ç›®æ ‡ä½ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">dr</span> = [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]; <span class="comment">// è¡Œåç§»é‡</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">dc</span> = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>]; <span class="comment">// åˆ—åç§»é‡</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">step</span> = <span class="number">0</span>;  <span class="comment">// è¡¨ç¤ºå›åˆæ•°</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">next_step</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> d = <span class="variable language_">this</span>.<span class="property">direction</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">next_cell</span> = <span class="keyword">new</span> <span class="title class_">Cell</span>(<span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">r</span> + <span class="variable language_">this</span>.<span class="property">dr</span>[d], <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">c</span> + <span class="variable language_">this</span>.<span class="property">dc</span>[d]);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">direction</span> = -<span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">status</span> = <span class="string">&quot;move&quot;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">step</span> ++ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åœ¨<code>GameMap.js</code>ä¸­å®ç°æ¯å¸§æ›´æ–°ä¸‹çŠ¶æ€</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// GameMap.js</span></span><br><span class="line"><span class="title function_">next_step</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> snake <span class="keyword">of</span> <span class="variable language_">this</span>.<span class="property">snake</span>) &#123;</span><br><span class="line">        snake.<span class="title function_">next_step</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">update_size</span>();</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">check_ready</span>()) &#123;  <span class="comment">// å¦‚æœä¸¤æ¡è›‡éƒ½å‡†å¤‡å¥½äº†</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">next_step</span>(); <span class="comment">// åˆ™è®©ä¸¤æ¡è›‡æ›´æ–°çŠ¶æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å®ç°è¯»å–é”®ç›˜çš„æ“ä½œ"><a class="markdownIt-Anchor" href="#å®ç°è¯»å–é”®ç›˜çš„æ“ä½œ"></a> å®ç°è¯»å–é”®ç›˜çš„æ“ä½œ</h2>
<p>ä»é”®ç›˜è·å–<code>w</code> <code>a</code> <code>s</code> <code>d</code> å’Œ  <code>â†‘</code> <code>â†“</code> <code>â†</code> <code>â†’</code> æ¥æ§åˆ¶ä¸¤æ¡è›‡ã€‚</p>
<p>åœ¨<code>GameMap.vue</code>ä¸­ä¿®æ”¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;canvas ref=&quot;canvas&quot; tabindex=&quot;0&quot;&gt;&lt;/canvas&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>ç»‘å®šäº‹ä»¶</li>
</ul>
<p>åœ¨<code>Snake.js</code>ä¸­åŠ å…¥ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œç”¨æ¥è·å–ç»™çš„ç§»åŠ¨æ–¹å‘ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="comment">//è¾…åŠ©å‡½æ•°</span></span><br><span class="line"><span class="title function_">set_direction</span>(<span class="params">d</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">direction</span> = d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>GameMap.js</code>ä¸­ä¿®æ”¹ï¼Œæ·»åŠ äº‹ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// GameMap.js</span></span><br><span class="line"><span class="title function_">add_listening_events</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">canvas</span>.<span class="title function_">focus</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> [snake0, snake1] = <span class="variable language_">this</span>.<span class="property">snakes</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">canvas</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®ç¬¬ä¸€æ¡è›‡çš„ç§»åŠ¨æ–¹å‘</span></span><br><span class="line">        <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;w&#x27;</span>) snake0.<span class="title function_">set_direction</span>(<span class="number">0</span>);  </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;d&#x27;</span>) snake0.<span class="title function_">set_direction</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;s&#x27;</span>) snake0.<span class="title function_">set_direction</span>(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;a&#x27;</span>) snake0.<span class="title function_">set_direction</span>(<span class="number">3</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®ç¬¬äºŒæ¡è›‡çš„ç§»åŠ¨æ–¹å‘</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;ArrowUp&#x27;</span>) snake1.<span class="title function_">set_direction</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;ArrowRight&#x27;</span>) snake1.<span class="title function_">set_direction</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;ArrowDown&#x27;</span>) snake1.<span class="title function_">set_direction</span>(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;ArrowLeft&#x27;</span>) snake1.<span class="title function_">set_direction</span>(<span class="number">3</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>Snake.js</code>ä¸­æ›´æ–°çŠ¶æ€ï¼Œè®©æ¯ä¸€å¸§æ‰§è¡Œä¸€æ¬¡æ›´æ–°çŠ¶æ€ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="title function_">update</span>(<span class="params"></span>) &#123; <span class="comment">// æ¯ä¸€å¸§æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="string">&#x27;move&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">uppdate_move</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å®ç°çœŸæ­£çš„ç§»åŠ¨"><a class="markdownIt-Anchor" href="#å®ç°çœŸæ­£çš„ç§»åŠ¨"></a> å®ç°çœŸæ­£çš„ç§»åŠ¨</h2>
<p>åœ¨<code>Snake.js</code>ä¸­ä¿®æ”¹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AcGameObject</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./AcGameObject&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Cell</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./Cell&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Snake</span> <span class="keyword">extends</span> <span class="title class_ inherited__">AcGameObject</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">info, gamemap</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">id</span> = info.<span class="property">id</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">color</span> = info.<span class="property">color</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">gamemap</span> = gamemap;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cells</span> = [<span class="keyword">new</span> <span class="title class_">Cell</span>(info.<span class="property">r</span>, info.<span class="property">c</span>)];  <span class="comment">// å­˜æ”¾è›‡çš„èº«ä½“ï¼Œcells[0]å­˜æ”¾è›‡å¤´</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">next_cell</span> = <span class="literal">null</span>;  <span class="comment">// ä¸‹ä¸€æ­¥çš„ç›®æ ‡ä½ç½®</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">speed</span> = <span class="number">5</span>;  <span class="comment">// è›‡æ¯ç§’èµ°5ä¸ªæ ¼å­</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">direction</span> = -<span class="number">1</span>;  <span class="comment">// -1è¡¨ç¤ºæ²¡æœ‰æŒ‡ä»¤ï¼Œ0ã€1ã€2ã€3è¡¨ç¤ºä¸Šå³ä¸‹å·¦</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">status</span> = <span class="string">&quot;idle&quot;</span>;  <span class="comment">// idleè¡¨ç¤ºé™æ­¢ï¼Œmoveè¡¨ç¤ºæ­£åœ¨ç§»åŠ¨ï¼Œdieè¡¨ç¤ºæ­»äº¡</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">dr</span> = [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>];  <span class="comment">// 4ä¸ªæ–¹å‘è¡Œçš„åç§»é‡</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">dc</span> = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>];  <span class="comment">// 4ä¸ªæ–¹å‘åˆ—çš„åç§»é‡</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">step</span> = <span class="number">0</span>;  <span class="comment">// è¡¨ç¤ºå›åˆæ•°</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">eps</span> = <span class="number">1e-2</span>;  <span class="comment">// å…è®¸çš„è¯¯å·®</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="title function_">start</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">set_direction</span>(<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">direction</span> = d;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">next_step</span>(<span class="params"></span>) &#123; <span class="comment">//è›‡çš„çŠ¶æ€å˜ä¸ºèµ°ä¸‹ä¸€æ­¥</span></span><br><span class="line">        <span class="keyword">const</span> d = <span class="variable language_">this</span>.<span class="property">direction</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">next_cell</span> = <span class="keyword">new</span> <span class="title class_">Cell</span>(<span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">r</span> + <span class="variable language_">this</span>.<span class="property">dr</span>[d], <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">c</span> + <span class="variable language_">this</span>.<span class="property">dc</span>[d]);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">direction</span> = -<span class="number">1</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">status</span> = <span class="string">&quot;move&quot;</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">step</span> ++ ;   </span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ±‚é•¿åº¦</span></span><br><span class="line">        <span class="keyword">const</span> k = <span class="variable language_">this</span>.<span class="property">cells</span>.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = k; i &gt; <span class="number">0</span>; i -- ) &#123; <span class="comment">// åˆå§‹å…ƒç´ ä¸å˜ æ¯ä¸€ä¸ªå…ƒç´ å¾€åç§»åŠ¨ä¸€ä½</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">cells</span>[i] = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">cells</span>[i - <span class="number">1</span>]));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">update_move</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> dx = <span class="variable language_">this</span>.<span class="property">next_cell</span>.<span class="property">x</span> - <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">x</span>;</span><br><span class="line">        <span class="keyword">const</span> dy = <span class="variable language_">this</span>.<span class="property">next_cell</span>.<span class="property">y</span> - <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">y</span>;</span><br><span class="line">        <span class="keyword">const</span> distance = <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(dx * dx + dy * dy);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (distance &lt; <span class="variable language_">this</span>.<span class="property">eps</span>) &#123;  <span class="comment">// èµ°åˆ°ç›®æ ‡ç‚¹äº†</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>] = <span class="variable language_">this</span>.<span class="property">next_cell</span>;  <span class="comment">// æ·»åŠ ä¸€ä¸ªæ–°è›‡å¤´</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">next_cell</span> = <span class="literal">null</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">status</span> = <span class="string">&quot;idle&quot;</span>;  <span class="comment">// èµ°å®Œäº†ï¼Œåœä¸‹æ¥</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> move_distance = <span class="variable language_">this</span>.<span class="property">speed</span> * <span class="variable language_">this</span>.<span class="property">timedelta</span> / <span class="number">1000</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">x</span> += move_distance * dx / distance;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">y</span> += move_distance * dy / distance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">update</span>(<span class="params"></span>) &#123;  <span class="comment">// æ¯ä¸€å¸§æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="string">&#x27;move&#x27;</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">update_move</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> L = <span class="variable language_">this</span>.<span class="property">gamemap</span>.<span class="property">L</span>;</span><br><span class="line">        <span class="keyword">const</span> ctx = <span class="variable language_">this</span>.<span class="property">gamemap</span>.<span class="property">ctx</span>;</span><br><span class="line"></span><br><span class="line">        ctx.<span class="property">fillStyle</span> = <span class="variable language_">this</span>.<span class="property">color</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> cell <span class="keyword">of</span> <span class="variable language_">this</span>.<span class="property">cells</span>) &#123;</span><br><span class="line">            ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">            ctx.<span class="title function_">arc</span>(cell.<span class="property">x</span> * L, cell.<span class="property">y</span> * L, L / <span class="number">2</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>);</span><br><span class="line">            ctx.<span class="title function_">fill</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è›‡å°¾ç§»åŠ¨"><a class="markdownIt-Anchor" href="#è›‡å°¾ç§»åŠ¨"></a> è›‡å°¾ç§»åŠ¨</h3>
<p>åœ¨<code>Snake.js</code>ä¸­æ·»åŠ ä»£ç ï¼Œåˆ¤æ–­è›‡å°¾æ˜¯å¦å¢é•¿ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="title function_">check_tail_increasing</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (step &lt;= <span class="number">10</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (step % <span class="number">3</span> === <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹<code>Snake.js</code>ï¼Œåˆ¤æ–­è›‡å°¾åœ¨ä¸‹ä¸€æ­¥ä¸­æ˜¯å¦å¢é•¿</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">next_cell</span> = <span class="literal">null</span>; <span class="comment">//ä¸‹ä¸€æ­¥çš„ç›®æ ‡ä½ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">dr</span> = [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]; <span class="comment">// è¡Œ</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">dc</span> = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>]; <span class="comment">//åˆ—</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">step</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">eps</span> = <span class="number">1e-2</span> <span class="comment">// å…è®¸çš„è¯¯å·®</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">next_step</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> d = <span class="variable language_">this</span>.<span class="property">direction</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">next_cell</span> = <span class="keyword">new</span> <span class="title class_">Cell</span>(<span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">r</span> + <span class="variable language_">this</span>.<span class="property">dr</span>[d], <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">c</span> + <span class="variable language_">this</span>.<span class="property">dc</span>[d]);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">direction</span> = -<span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">status</span> = <span class="string">&quot;move&quot;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">step</span> ++ ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ±‚é•¿åº¦</span></span><br><span class="line">    <span class="keyword">const</span> k = <span class="variable language_">this</span>.<span class="property">cells</span>.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = k; i &gt; <span class="number">0</span>; i -- ) &#123; <span class="comment">// åˆå§‹å…ƒç´ ä¸å˜ æ¯ä¸€ä¸ªå…ƒç´ å¾€åç§»åŠ¨ä¸€ä½</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cells</span>[i] = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">cells</span>[i - <span class="number">1</span>]));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">update_move</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> dx = <span class="variable language_">this</span>.<span class="property">next_cell</span>.<span class="property">x</span> - <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">x</span>;</span><br><span class="line">    <span class="keyword">const</span> dy = <span class="variable language_">this</span>.<span class="property">next_cell</span>.<span class="property">y</span> - <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">y</span>;</span><br><span class="line">    <span class="keyword">const</span> distance = <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(dx * dx + dy * dy);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (distance &lt; <span class="variable language_">this</span>.<span class="property">eps</span>) &#123;  <span class="comment">// èµ°åˆ°ç›®æ ‡ç‚¹äº†</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>] = <span class="variable language_">this</span>.<span class="property">next_cell</span>;  <span class="comment">// æ·»åŠ ä¸€ä¸ªæ–°è›‡å¤´</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">next_cell</span> = <span class="literal">null</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">status</span> = <span class="string">&quot;idle&quot;</span>;  <span class="comment">// èµ°å®Œäº†ï¼Œåœä¸‹æ¥</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">check_tail_increasing</span>()) &#123; <span class="comment">// è›‡ä¸å˜é•¿ã€‚</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">cells</span>.<span class="title function_">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> move_distance = <span class="variable language_">this</span>.<span class="property">speed</span> * <span class="variable language_">this</span>.<span class="property">timedelta</span> / <span class="number">1000</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">x</span> += move_distance * dx / distance;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">y</span> += move_distance * dy / distance;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">check_tail_increasing</span>()) &#123;  <span class="comment">// è›‡ä¸å˜é•¿</span></span><br><span class="line">            <span class="keyword">const</span> k = <span class="variable language_">this</span>.<span class="property">cells</span>.<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">const</span> tail = <span class="variable language_">this</span>.<span class="property">cells</span>[k - <span class="number">1</span>], tail_target = <span class="variable language_">this</span>.<span class="property">cells</span>[k - <span class="number">2</span>];</span><br><span class="line">            <span class="keyword">const</span> tail_dx = tail_target.<span class="property">x</span> - tail.<span class="property">x</span>;</span><br><span class="line">            <span class="keyword">const</span> tail_dy = tail_target.<span class="property">y</span> - tail.<span class="property">y</span>;</span><br><span class="line">            tail.<span class="property">x</span> += move_distance * tail_dx / distance;</span><br><span class="line">            tail.<span class="property">y</span> += move_distance * tail_dy / distance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å®ç°æ•ˆæœ</strong></p>
<p><img src="SpringCourse/image-20220723164245732.png" alt="image-20220723164245732" /></p>
<h2 id="ç¾åŒ–è›‡"><a class="markdownIt-Anchor" href="#ç¾åŒ–è›‡"></a> ç¾åŒ–è›‡</h2>
<p>ä¿®æ”¹<code>Snake.js</code>ï¼Œè®©è›‡å˜å¾—è¿è´¯ï¼Œç¼©å°ä¸€ç‚¹ï¼Œæ·»åŠ ä¸‹åˆ—ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> L = <span class="variable language_">this</span>.<span class="property">gamemap</span>.<span class="property">L</span>;</span><br><span class="line">    <span class="keyword">const</span> ctx = <span class="variable language_">this</span>.<span class="property">gamemap</span>.<span class="property">ctx</span>;</span><br><span class="line"></span><br><span class="line">    ctx.<span class="property">fillStyle</span> = <span class="variable language_">this</span>.<span class="property">color</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> cell <span class="keyword">of</span> <span class="variable language_">this</span>.<span class="property">cells</span>) &#123;</span><br><span class="line">        ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">        ctx.<span class="title function_">arc</span>(cell.<span class="property">x</span> * L, cell.<span class="property">y</span> * L, L / <span class="number">2</span> * <span class="number">0.8</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>);</span><br><span class="line">        ctx.<span class="title function_">fill</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; <span class="variable language_">this</span>.<span class="property">cells</span>.<span class="property">length</span>; i ++ ) &#123;</span><br><span class="line">        <span class="keyword">const</span> a = <span class="variable language_">this</span>.<span class="property">cells</span>[i - <span class="number">1</span>], b = <span class="variable language_">this</span>.<span class="property">cells</span>[i];</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">abs</span>(a.<span class="property">x</span> - b.<span class="property">x</span>) &lt; <span class="variable language_">this</span>.<span class="property">eps</span> &amp;&amp; <span class="title class_">Math</span>.<span class="title function_">abs</span>(a.<span class="property">y</span> - b.<span class="property">y</span>) &lt; <span class="variable language_">this</span>.<span class="property">eps</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">abs</span>(a.<span class="property">x</span> - b.<span class="property">x</span>) &lt; <span class="variable language_">this</span>.<span class="property">eps</span>) &#123;</span><br><span class="line">            ctx.<span class="title function_">fillRect</span>((a.<span class="property">x</span> - <span class="number">0.4</span>) * L, <span class="title class_">Math</span>.<span class="title function_">min</span>(a.<span class="property">y</span>, b.<span class="property">y</span>) * L, L * <span class="number">0.8</span>, <span class="title class_">Math</span>.<span class="title function_">abs</span>(a.<span class="property">y</span> - b.<span class="property">y</span>) * L);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ctx.<span class="title function_">fillRect</span>(<span class="title class_">Math</span>.<span class="title function_">min</span>(a.<span class="property">x</span>, b.<span class="property">x</span>) * L, (a.<span class="property">y</span> - <span class="number">0.4</span>) * L, <span class="title class_">Math</span>.<span class="title function_">abs</span>(a.<span class="property">x</span> - b.<span class="property">x</span>) * L, L * <span class="number">0.8</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å®ç°æ•ˆæœ</strong></p>
<p><img src="SpringCourse/image-20220723164420044.png" alt="image-20220723164420044" /></p>
<p>å®ç°å½“è›‡æ’å¢™æˆ–è€…æ’è‡ªå·±çš„èº«ä½“æˆ–è€…æ’å¯¹æ‰‹èº«ä½“ï¼Œåˆ¤å®šæ­»äº¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="title function_">next_step</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">gamemap</span>.<span class="title function_">check_valid</span>(<span class="variable language_">this</span>.<span class="property">next_cell</span>)) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">status</span> = <span class="string">&quot;die&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="string">&quot;die&quot;</span>) &#123;</span><br><span class="line">        ctx.<span class="property">fillStyle</span> = <span class="string">&quot;white&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ç°åæ•ˆæœï¼Œå½“åˆ¤å®šå¤±è´¥åï¼Œä¸èƒ½è¿›è¡Œä»»ä½•æ“ä½œã€‚</p>
<p><img src="SpringCourse/image-20220723164620339.png" alt="image-20220723164620339" /></p>
<h2 id="å®ç°çœ¼ç›"><a class="markdownIt-Anchor" href="#å®ç°çœ¼ç›"></a> å®ç°çœ¼ç›</h2>
<p>ä¿®æ”¹<code>Snake.js</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Snake.js</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">eye_direction</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">id</span> === <span class="number">1</span>) <span class="variable language_">this</span>.<span class="property">eye_direction</span> = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">eye_dx</span> = [</span><br><span class="line">    [-<span class="number">1</span>, <span class="number">1</span>];</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>];</span><br><span class="line">    [<span class="number">1</span>, -<span class="number">1</span>];</span><br><span class="line">    [-<span class="number">1</span>, -<span class="number">1</span>];</span><br><span class="line">];</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">eye_dy</span> = [</span><br><span class="line">    [-<span class="number">1</span>, -<span class="number">1</span>];</span><br><span class="line">    [-<span class="number">1</span>, <span class="number">1</span>];</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>];</span><br><span class="line">    [<span class="number">1</span>, -<span class="number">1</span>];</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">next_step</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">eye_direction</span> = d;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ctx.<span class="property">fillStyle</span> = <span class="string">&quot;black&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i ++ ) &#123;</span><br><span class="line">            <span class="keyword">const</span> eye_x = (<span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">x</span> + <span class="variable language_">this</span>.<span class="property">eye_dx</span>[<span class="variable language_">this</span>.<span class="property">eye_direction</span>][i] * <span class="number">0.15</span>) * L;</span><br><span class="line">            <span class="keyword">const</span> eye_y = (<span class="variable language_">this</span>.<span class="property">cells</span>[<span class="number">0</span>].<span class="property">y</span> + <span class="variable language_">this</span>.<span class="property">eye_dy</span>[<span class="variable language_">this</span>.<span class="property">eye_direction</span>][i] * <span class="number">0.15</span>) * L;</span><br><span class="line"></span><br><span class="line">            ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">            ctx.<span class="title function_">arc</span>(eye_x, eye_y, L * <span class="number">0.05</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>);</span><br><span class="line">            ctx.<span class="title function_">fill</span>();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æœ€ç»ˆæ•ˆæœ</strong></p>
<p><img src="SpringCourse/image-20220723164809072.png" alt="image-20220723164809072" /></p>
]]></content>
      <categories>
        <category>AcWing</category>
        <category>Course</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>JAVA</tag>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>AcWing ç®—æ³•åŸºç¡€è¯¾</title>
    <url>/2022/03/20/AcWing/Algorithm_Basic/</url>
    <content><![CDATA[<h2 id="å­¦ä¹ å¹³å°"><a class="markdownIt-Anchor" href="#å­¦ä¹ å¹³å°"></a> å­¦ä¹ å¹³å°</h2>
<p><strong><a href="https://www.acwing.com/activity/content/11/">AcWing ç®—æ³•åŸºç¡€è¯¾ </a></strong></p>
<h2 id="åŸºç¡€ç®—æ³•"><a class="markdownIt-Anchor" href="#åŸºç¡€ç®—æ³•"></a> åŸºç¡€ç®—æ³•</h2>
<h3 id="å¿«é€Ÿæ’åº"><a class="markdownIt-Anchor" href="#å¿«é€Ÿæ’åº"></a> å¿«é€Ÿæ’åº</h3>
<p><strong>ç®—æ³•æ€æƒ³</strong> <kbd>åˆ†æ²»</kbd></p>
<p>åˆ†æ”¯ç®—æ³•å¯åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ul>
<li>åˆ†æˆå­é—®é¢˜</li>
<li>é€’å½’å¤„ç†å­é—®é¢˜</li>
<li>å­é—®é¢˜åˆå¹¶</li>
</ul>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¿«é€Ÿæ’åºï¼šå…ˆæ’åºååˆ†æ²»</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Quick_sort</span><span class="params">(<span class="type">int</span> p[],<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span>;  <span class="comment">// è¾¹ç•Œé—®é¢˜</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> x = p[l + r &gt;&gt; <span class="number">1</span>], i = l - <span class="number">1</span>, j = r + <span class="number">1</span>;  <span class="comment">// åˆ†ç•Œç‚¹(å“¨å…µ)å–ä¸­é—´å€¼</span></span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        <span class="keyword">do</span> i++ ;<span class="keyword">while</span>(p[i] &lt; x);  <span class="comment">// åœ¨å·¦è¾¹æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”å“¨å…µå¤§çš„æ•°</span></span><br><span class="line">        <span class="keyword">do</span> j-- ;<span class="keyword">while</span>(p[j] &gt; x);  <span class="comment">// åœ¨å³è¾¹æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”å“¨å…µå°çš„æ•°</span></span><br><span class="line">        <span class="keyword">if</span>(i &lt; j) <span class="built_in">swap</span>(p[i],p[j]);  <span class="comment">// äº¤æ¢å·¦å³ä¸¤è¾¹çš„ä¸¤ä¸ªæ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Quick_sort</span>(p, l, j);  <span class="comment">// é€’å½’æ’åºå·¦è¾¹ç•Œ</span></span><br><span class="line">    <span class="built_in">Quick_sort</span>(p, j + <span class="number">1</span>, r);  <span class="comment">// é€’å½’æ’åºæœ‰è¾¹ç•Œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å½’å¹¶æ’åº"><a class="markdownIt-Anchor" href="#å½’å¹¶æ’åº"></a> å½’å¹¶æ’åº</h3>
<p><strong>ç®—æ³•æ€æƒ³</strong> <kbd>åˆ†æ²»</kbd></p>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å½’å¹¶æ’åºï¼šçº¿åˆ†æ²»åæ’åº</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Merge_sort</span><span class="params">(<span class="type">int</span> p[],<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r)<span class="keyword">return</span> ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„ä¸­é—´å€¼ä¸èƒ½å–(l+r+1)/2</span></span><br><span class="line">    <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">Merge_sort</span>(p,l,mid);</span><br><span class="line">    <span class="built_in">Merge_sort</span>(p,mid+<span class="number">1</span>,r);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œ</span></span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>,i = l,j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r)</span><br><span class="line">        <span class="keyword">if</span>(p[i] &lt;= p[j]) tmp[k ++] = p[i ++];</span><br><span class="line">        <span class="keyword">else</span> tmp[k ++] = p[j ++];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid) tmp[k ++]=p[i ++];</span><br><span class="line">    <span class="keyword">while</span>(j &lt;= r) tmp[k ++]=p[j ++];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i = l, j = <span class="number">0</span>;i &lt;= r; i ++, j ++) p[i]=tmp[j];</span><br><span class="line">    <span class="comment">//i=læ˜¯å› ä¸ºlæ°¸è¿œæ˜¯åˆ†ç»„çš„å·¦è¾¹ç•Œï¼Œä¸èƒ½å†™æˆi=0,åŒç†rä¹Ÿæ°¸è¿œæ˜¯åˆ†ç»„çš„å³è¾¹ç•Œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒåˆ†æŸ¥æ‰¾"><a class="markdownIt-Anchor" href="#äºŒåˆ†æŸ¥æ‰¾"></a> äºŒåˆ†æŸ¥æ‰¾</h3>
<p><strong>ç®—æ³•æ€æƒ³</strong> <kbd>äºŒåˆ†</kbd></p>
<p><strong>å®ç°æ€æƒ³</strong> å‡å®šç›®æ ‡å€¼åœ¨åŒºé—´<kbd>[l, r]</kbd> ä¸­ï¼Œæ¯æ¬¡å°†åŒºé—´é•¿åº¦ç¼©å°ä¸€åŠï¼Œå½“<kbd>l = r</kbd> æ—¶ï¼Œåˆ™å¯ä»¥å–åˆ°ç›®æ ‡å€¼ã€‚</p>
<p>æ•´æ•°äºŒåˆ†æŸ¥æ‰¾å­˜åœ¨ä¸¤ä¸ªæ¨¡æ¿ï¼Œå–å†³äºä¸­é—´å€¼çš„å–å€¼æ–¹æ³•ï¼š</p>
<ul>
<li>å½“<kbd>mid = l + r &gt;&gt; 1</kbd> æ—¶ï¼š</li>
</ul>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">bsearch</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å½“<kbd>mid = l + r + 1 &gt;&gt; 1</kbd> æ—¶ï¼š</li>
</ul>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">bsearch</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l = mid;</span><br><span class="line">        <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é«˜ç²¾åº¦åŠ æ³•"><a class="markdownIt-Anchor" href="#é«˜ç²¾åº¦åŠ æ³•"></a> é«˜ç²¾åº¦åŠ æ³•</h3>
<p><strong>ç®—æ³•æ€æƒ³</strong> <kbd>å¤§æ•°åŠ æ³•</kbd> ï¼›</p>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">add</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(B.<span class="built_in">size</span>() &gt; A.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="built_in">add</span>(B,A);  <span class="comment">// è®©ä¸¤ä¸ªå¤§æ•°ä¸­é•¿åº¦ç›¸å¯¹è¾ƒçŸ­çš„åšBï¼Œç›¸å¯¹è¾ƒé•¿çš„åšA</span></span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; C;  <span class="comment">// ç”¨äºå­˜æ”¾ç»“æœ</span></span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>; <span class="comment">// å­˜æ”¾è¿›ä½</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; A.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">        t += A[i];</span><br><span class="line">        <span class="keyword">if</span>(i &lt; B.<span class="built_in">size</span>()) t += B[i]; <span class="comment">//å¦‚æœBè¿˜æ²¡æœ‰éå†å®Œï¼Œéœ€è¦åŠ ä¸Šå¯¹åº”ä½ç½®ï¼Œè‹¥éå†å®Œï¼Œåˆ™ä¸éœ€è¦åŠ ä¸Šäº†ã€‚</span></span><br><span class="line">        C.<span class="built_in">push_back</span>(t % <span class="number">10</span>); <span class="comment">// è‹¥æœ‰è¿›ä½ï¼Œåˆ™åªå­˜æ”¾ä¸ªä½æ•°å­—</span></span><br><span class="line">        t /= <span class="number">10</span>; <span class="comment">//å°†è¿›ä½ä¿å­˜</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t) C.<span class="built_in">push_back</span>(t); <span class="comment">//æœ€åæœ‰è¿›ä½çš„è¯ï¼ˆè¿›ä½ä¸€å®šæ˜¯ä¸ªä½æ•°ï¼‰ï¼Œå°†è¿›ä½åŠ å…¥C</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é«˜ç²¾åº¦å‡æ³•"><a class="markdownIt-Anchor" href="#é«˜ç²¾åº¦å‡æ³•"></a> é«˜ç²¾åº¦å‡æ³•</h3>
<p><strong>ç®—æ³•æ€æƒ³</strong> <kbd>å¤§æ•°å‡æ³•</kbd> ï¼›</p>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// A - B;éœ€è¦é¦–å…ˆä½¿ç”¨bmpå‡½æ•°åˆ¤æ–­Aæ˜¯å¦å¤§äºBï¼›è‹¥Aå¤§äºBï¼Œåˆ™ç»“æœä¸ºæ­£æ•°å¹¶sub(A, B)ï¼›è‹¥Aå°äºBï¼Œåˆ™ç»“æœä¸ºè´Ÿæ•°ï¼Œéœ€è¦å…ˆè¾“å‡º&#x27;-&#x27;å¹¶sub(B, A)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­Aæ˜¯å¦å¤§äºBï¼Œè‹¥æ˜¯åˆ™è¿”å›true,å¦åˆ™è¿”å›false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">bmp</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(A.<span class="built_in">size</span>() != B.<span class="built_in">size</span>()) <span class="keyword">return</span> A.<span class="built_in">size</span>() &gt; B.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = A.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i --)  <span class="comment">// é•¿åº¦ç›¸åŒæ—¶ï¼Œä»åå¾€å‰éå†æ¯”è¾ƒå¤§å°</span></span><br><span class="line">        <span class="keyword">if</span>(A[i] != B[i])</span><br><span class="line">            <span class="keyword">return</span> A[i] &gt; B[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//ç›¸ç­‰</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é«˜ç²¾åº¦å‡æ³•</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">sub</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">    <span class="type">int</span> t= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i &lt; A.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        t = A[i] - t; <span class="comment">// è‹¥ä¹‹å‰æœ‰å€Ÿä½ï¼Œåˆ™éœ€è¦å…ˆå‡å»å€Ÿä½</span></span><br><span class="line">        <span class="keyword">if</span>(i &lt; B.<span class="built_in">size</span>()) t -= B[i];</span><br><span class="line">        C.<span class="built_in">push_back</span>((t + <span class="number">10</span>) % <span class="number">10</span>);</span><br><span class="line">        <span class="keyword">if</span>(t &lt; <span class="number">0</span>) t = <span class="number">1</span>;<span class="comment">// t &lt; 0 è¯æ˜æœ‰å€Ÿä½</span></span><br><span class="line">        <span class="keyword">else</span> t=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™ä¸ªåˆ¤æ–­æ˜¯ä¸ºäº†ç¡®ä¿ç»“æœä¸æ˜¯0ï¼Œè‹¥ç»“æœæ˜¯0ï¼Œåˆ™æœ€åä¸€ä¸ª0ä¸éœ€è¦å»æ‰</span></span><br><span class="line">    <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) C.<span class="built_in">pop_back</span>(); <span class="comment">//å–å‡ºå‰å¯¼0  è‹¥ç»“æœä¸º003ï¼Œåˆ™éœ€è¦å»æ‰00</span></span><br><span class="line">    <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é«˜ç²¾åº¦ä¹˜ä½ç²¾åº¦"><a class="markdownIt-Anchor" href="#é«˜ç²¾åº¦ä¹˜ä½ç²¾åº¦"></a> é«˜ç²¾åº¦ä¹˜ä½ç²¾åº¦</h3>
<p><strong>ç®—æ³•æ€æƒ³</strong> <code>å¤§æ•°ä¹˜æ³•</code></p>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// C = A * b, A &gt;= 0, b &gt;= 0</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">mul</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>() || t; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; A.<span class="built_in">size</span>()) t += A[i] * b;</span><br><span class="line">        C.<span class="built_in">push_back</span>(t % <span class="number">10</span>);</span><br><span class="line">        t /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) C.<span class="built_in">pop_back</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦"><a class="markdownIt-Anchor" href="#é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦"></a> é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦</h3>
<p><strong>ç®—æ³•æ€æƒ³</strong> <code>å¤§æ•°é™¤æ³•</code></p>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// A / b = C ... r, A &gt;= 0, b &gt; 0</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">div</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, <span class="type">int</span> b, <span class="type">int</span> &amp;r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">    r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = A.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">    &#123;</span><br><span class="line">        r = r * <span class="number">10</span> + A[i];</span><br><span class="line">        C.<span class="built_in">push_back</span>(r / b);</span><br><span class="line">        r %= b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">reverse</span>(C.<span class="built_in">begin</span>(), C.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) C.<span class="built_in">pop_back</span>();</span><br><span class="line">    <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å‰ç¼€å’Œ"><a class="markdownIt-Anchor" href="#å‰ç¼€å’Œ"></a> å‰ç¼€å’Œ</h3>
<p><strong>ä»€ä¹ˆæ˜¯å‰ç¼€å’Œ</strong></p>
<p>åŸæ•°ç»„ï¼š<kbd>a[1], a[2], a[3], a[4], a[5], â€¦, a[n]</kbd><br />
å‰ç¼€å’Œï¼š<kbd>S[i]</kbd>ä¸ºæ•°ç»„çš„å‰ ié¡¹å’Œ<br />
å‰ç¼€å’Œï¼š<kbd>S[i] = a[1] + a[2] + a[3] + â€¦ + a[i]</kbd></p>
<p>ä¸ºæ–¹ä¾¿æ±‚è§£ï¼Œä»¥åŠåç»­æ–¹ä¾¿è®¡ç®—ï¼Œé€šå¸¸ä»¤<kbd>S[0] = 0</kbd> ,<kbd>åŸæ•°ç»„</kbd> ä»¥åŠ<kbd>å‰ç¼€å’Œæ•°ç»„</kbd> çš„ä¸‹æ ‡ä»1å¼€å§‹ã€‚</p>
<p><strong>å‰ç¼€å’Œçš„ä½œç”¨</strong></p>
<p>å¿«é€Ÿæ±‚å‡ºå…ƒç´ ç»„ä¸­æŸæ®µåŒºé—´çš„å’Œã€‚</p>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">pSum</span><span class="params">(<span class="type">int</span> arr[])</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum[N];  <span class="comment">// å­˜æ”¾æ•°ç»„çš„å‰ç¼€å’Œ</span></span><br><span class="line">    sum[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        sum[i] = arr[i] + sum[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>äºŒç»´æ•°ç»„æ±‚è§£å‰ç¼€å’Œ</strong></p>
<p><strong>è®¡ç®—è¿‡ç¨‹</strong> <kbd>s[i, j] = s[i - 1, j] + s[i, j - 1] + s[i - 1, j - 1] + a[i, j]</kbd></p>
<p><img src="/img/AcWing/Basic/%E5%89%8D%E7%BC%80%E5%92%8C.png" alt="å‰ç¼€å’Œ" /></p>
<p>åŒæ ·çš„ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼ŒäºŒç»´æ•°ç»„ä¸‹æ ‡ä¹Ÿéœ€è¦ä» 1 å¼€å§‹</p>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[N][N], s[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m, q;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i][j]);</span><br><span class="line">            s[i][j] = s[i][j - <span class="number">1</span>] + s[i - <span class="number">1</span>][j] - s[i - <span class="number">1</span>][j - <span class="number">1</span>] + a[i][j]; <span class="comment">// æ±‚å‰ç¼€å’Œ</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (q--) &#123;</span><br><span class="line">        <span class="type">int</span> x1,y1,x2,y2;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2);</span><br><span class="line">        <span class="comment">// ç®—å­çŸ©é˜µçš„å’Œ</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, s[x2][y2] - s[x2][y1 - <span class="number">1</span>] - s[x1 - <span class="number">1</span>][y2] + s[x1 - <span class="number">1</span>][y1 - <span class="number">1</span>]); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å·®åˆ†"><a class="markdownIt-Anchor" href="#å·®åˆ†"></a> å·®åˆ†</h3>
<p><code>å·®åˆ†</code> å’Œ <code>å‰ç¼€å’Œ</code> æ˜¯ä¸€å¯¹äº’é€†è¿ç®—</p>
<p><strong>å®šä¹‰</strong> å¯¹äºä¸€ä¸ªç»™å®šçš„æ•°åˆ—Aï¼Œä»–çš„å·®åˆ†åºåˆ—Bå®šä¹‰ä¸ºï¼š</p>
<p><code>B[1] = A[1], B[i] = A[i] - A[i - 1](2 &lt;= i &lt;= n)</code></p>
<hr />
<h2 id="æ•°æ®ç»“æ„"><a class="markdownIt-Anchor" href="#æ•°æ®ç»“æ„"></a> æ•°æ®ç»“æ„</h2>
<h3 id="å•é“¾è¡¨"><a class="markdownIt-Anchor" href="#å•é“¾è¡¨"></a> å•é“¾è¡¨</h3>
<p>è¿™é‡Œé‡‡ç”¨<strong>æ•°ç»„æ¨¡æ‹Ÿ</strong>é“¾è¡¨ï¼Œå› ä¸ºé‡‡ç”¨new Node()çš„è¿‡ç¨‹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼›</p>
<ul>
<li>å•é“¾è¡¨ï¼šå¯ä»¥ç”¨äºå®ç°é‚»æ¥è¡¨(å­˜å‚¨æ ‘æˆ–å›¾)</li>
<li>åŒé“¾è¡¨ï¼šä¼˜åŒ–æŸäº›é—®é¢˜</li>
</ul>
<p><strong>å®ç°æ–¹æ³•</strong> å•é“¾è¡¨ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿçš„æ–¹æ³•ï¼šä½¿ç”¨ä¸¤ä¸ªæ•°ç»„<kbd>e[n]</kbd>; <kbd>ne[n]</kbd> å…¶ä¸­<kbd>e[i]</kbd>å­˜æ”¾ç¬¬iä¸ªå…ƒç´ çš„å€¼ï¼Œ<kbd>ne[i]</kbd>å­˜æ”¾ç¬¬iä¸ªå…ƒç´ çš„åç»§ä¸‹æ ‡ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//head è¡¨ç¤ºå¤´èŠ‚ç‚¹çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">//e[i] è¡¨ç¤ºèŠ‚ç‚¹içš„å€¼</span></span><br><span class="line"><span class="comment">//ne[n] è¡¨ç¤ºèŠ‚ç‚¹içš„nextçš„å€¼</span></span><br><span class="line"><span class="comment">//idx å­˜å‚¨å½“å‰å·²ç»ç”¨åˆ°äº†å“ªä¸ªç‚¹</span></span><br><span class="line"><span class="type">int</span> head, e[N], ne[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–é“¾è¡¨</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    head = <span class="number">-1</span>;</span><br><span class="line">    idx = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†xæ’åˆ°å¤´èŠ‚ç‚¹ä¹‹å‰</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_to_head</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    e[idx] = x;</span><br><span class="line">    ne[idx] = head;</span><br><span class="line">    head = idx;</span><br><span class="line">    idx ++ï¼›</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤ ä¸‹æ ‡æ˜¯kçš„ åé¢çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">del</span><span class="params">(<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    ne[k] = ne[ne[k]];  <span class="comment">// ç›¸å½“äº p-&gt;next = p-&gt;next-&gt;next</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨ä¸‹æ ‡ä¸ºkçš„èŠ‚ç‚¹åæ’å…¥ä¸€ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    e[idx] = x;</span><br><span class="line">    ne[idx] = ne[k];</span><br><span class="line">    ne[k] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  	<span class="built_in">init</span>(); </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŒé“¾è¡¨"><a class="markdownIt-Anchor" href="#åŒé“¾è¡¨"></a> åŒé“¾è¡¨</h3>
<p>åŒæ ·ä½¿ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨ï¼Œ</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> e[N], l[N], r[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ä¸‹æ ‡æ˜¯kçš„èŠ‚ç‚¹å³è¾¹æ’å…¥x</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> x)</span></span>&#123;  <span class="comment">//åœ¨kçš„å·¦è¾¹æ’å…¥çš„è¯ï¼Œç›´æ¥è°ƒç”¨ add(l[k], x)</span></span><br><span class="line">    e[idx] = x;</span><br><span class="line">    r[idx] = r[k];</span><br><span class="line">    l[idx] = k;</span><br><span class="line">    r[k] = idx;</span><br><span class="line">    l[r[idx]] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ é™¤ä¸‹æ ‡ä¸ºkçš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    r[l[k]] = r[k];</span><br><span class="line">    l[r[k]] = l[k];</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h3 id="æ ˆ"><a class="markdownIt-Anchor" href="#æ ˆ"></a> æ ˆ</h3>
<p>é‡‡ç”¨<strong>æ•°ç»„æ¨¡æ‹Ÿæ ˆ</strong></p>
<p><strong>å®ç°æ–¹æ³•</strong> <kbd>top</kbd>æ ˆé¡¶æŒ‡é’ˆï¼Œå½“<kbd>top == 0</kbd>æ—¶æ ˆç©ºï¼Œ<kbd>stk[N]</kbd>å­˜æ”¾å…ƒç´ </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> top, stk[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    cin &gt;&gt; m;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        string op;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">if</span>(op == <span class="string">&quot;push&quot;</span>)&#123;  <span class="comment">//å…¥æ ˆ</span></span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            stk[++ top] = x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op == <span class="string">&quot;pop&quot;</span>) top --;  <span class="comment">// å‡ºæ ˆ</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op == <span class="string">&quot;query&quot;</span>) cout &lt;&lt; stk[top] &lt;&lt;endl;  <span class="comment">//è¾“å‡ºæ ˆé¡¶å…ƒç´ </span></span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; (top ? <span class="string">&quot;NO&quot;</span> : <span class="string">&quot;YES&quot;</span>) &lt;&lt; endl; <span class="comment">// åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºï¼Œtopä¸º0 åˆ™æ ˆç©º</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#é˜Ÿåˆ—"></a> é˜Ÿåˆ—</h3>
<p>é‡‡ç”¨<strong>æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—</strong></p>
<p><strong>å®ç°æ–¹æ³•</strong> <kbd>tail</kbd>é˜Ÿå°¾æŒ‡é’ˆï¼Œ<kbd>head</kbd>é˜Ÿå¤´æŒ‡é’ˆï¼Œå½“<kbd>head == 0 || head &gt; tail</kbd>æ—¶é˜Ÿç©ºï¼Œ<kbd>que[N]</kbd>å­˜æ”¾å…ƒç´ </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> head, que[N], tail;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    cin &gt;&gt; m;</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        string op;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="keyword">if</span>(op == <span class="string">&quot;push&quot;</span>)&#123;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            que[++tail] = x;</span><br><span class="line">            <span class="keyword">if</span>(head == <span class="number">0</span>) head++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op == <span class="string">&quot;pop&quot;</span>) head ++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op == <span class="string">&quot;query&quot;</span>) cout &lt;&lt; que[head] &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(head == <span class="number">0</span> || tail &lt; head) cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="kmp"><a class="markdownIt-Anchor" href="#kmp"></a> KMP</h3>
<p><strong>å®šä¹‰</strong> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œå¯¹æš´åŠ›çš„é‚£ç§ä¸€ä¸€æ¯”å¯¹çš„æ–¹æ³•è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½¿æ—¶é—´å¤æ‚åº¦å¤§å¤§é™ä½ï¼Œ</p>
<p><strong>ç®—æ³•ä¹ æƒ¯</strong> ä¸‹æ ‡ä»1å¼€å§‹ï¼›å­˜åœ¨ä¸€ä¸ª<code>æ¨¡å¼ä¸²</code>ã€ä¸€ä¸ª<code>æ¨¡æ¿ä¸²</code></p>
<p><strong>ç®—æ³•ç²¾è®²</strong></p>
<p><a href="https://www.acwing.com/solution/content/14666/"> KMPå­—ç¬¦ä¸² </a></p>
<p><strong>ç®—æ³•æ€è·¯</strong></p>
<ul>
<li><code>s[n]</code>æ¨¡å¼ä¸²ï¼šå³æ¯”è¾ƒé•¿çš„å­—ç¬¦ä¸²</li>
<li><code>p[m]</code>æ¨¡æ¿ä¸²ï¼šå³æ¯”è¾ƒçŸ­çš„å­—ç¬¦ä¸²</li>
<li><code>ne[m]</code>éƒ¨åˆ†åŒ¹é…å€¼è¡¨ï¼šå­˜å‚¨çš„æ˜¯æ¯ä¸€ä¸ªä¸‹æ ‡å¯¹åº”çš„éƒ¨åˆ†åŒ¹é…å€¼</li>
</ul>
<p><kbd>p[1, j] == p[i - ne[j] + 1, i]</kbd></p>
<p><img src="/img/AcWing/Basic/KMP.png" alt="KMP" /></p>
<ul>
<li>æ ¸å¿ƒæ€æƒ³ï¼šåœ¨æ¯æ¬¡åŒ¹é…å¤±è´¥åï¼Œä¸æ˜¯æŠŠpä¸²å‘åç§»åŠ¨ä¸€ä½ï¼Œè€Œæ˜¯æŠŠpä¸²å¾€åç§»åŠ¨è‡³ä¸‹ä¸€æ¬¡å¯ä»¥å’Œå‰é¢éƒ¨åˆ†åŒ¹é…çš„ä½ç½®ï¼Œè¿™æ ·å°±å¯ä»¥è·³è¿‡å¤§å¤šæ•°çš„å¤±é…æ­¥éª¤ã€‚è€Œæ¯æ¬¡pä¸²ç§»åŠ¨çš„æ­¥æ•°å°±æ˜¯é€šè¿‡æŸ¥æ‰¾<code>ne[ ]</code>æ•°ç»„ç¡®å®šçš„ã€‚</li>
</ul>
<p><strong>åŒ¹é…æ€è·¯å’Œå®ç°ä»£ç </strong></p>
<p>KMPä¸»è¦åˆ†ä¸ºä¸¤æ­¥ï¼š<kbd>æ±‚è§£neæ•°ç»„</kbd> ï¼›<kbd>åŒ¹é…å­—ç¬¦ä¸²</kbd></p>
<p><code>s[n]</code>å’Œ<code>p[m]</code>éƒ½æ˜¯ä»1å¼€å§‹çš„ï¼Œ</p>
<ul>
<li><strong>æ±‚è§£neæ•°ç»„</strong></li>
</ul>
<p>å› ä¸º<code>p[m]</code>ä¸‹æ ‡ä»1å¼€å§‹ï¼Œæ‰€ä»¥<code>ne[1] = 0</code>ï¼Œæ±‚è§£<code>ne[]</code>æ—¶ç›´æ¥ä»ä¸‹æ ‡ä¸º2å¼€å§‹éå†ï¼Œi ã€‚jè¡¨ç¤ºå½“å‰å‰é¢æœ€å¤šåŒ¹é…äº†jä¸ªå­—ç¬¦ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€éæ›´æ¸…æ¥šã€‚</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>, j = <span class="number">0</span>; i &lt;= m; i++) <span class="comment">// ne[1]é»˜è®¤ä¸º0</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span>(j &amp;&amp; p[i] != p[j + <span class="number">1</span>]) j = next[j]; <span class="comment">//è‹¥å·²ç»åŒ¹é…äº†å­—ç¬¦ï¼Œä½†æ˜¯å½“å‰åˆä¸åŒ¹é…äº†ï¼Œåˆ™jéœ€è¦è¿”å›èµ·ç‚¹ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(p[i] == p[j + <span class="number">1</span>]) j++;</span><br><span class="line"></span><br><span class="line">    next[i] = j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>åŒ¹é…å­—ç¬¦ä¸²</strong></li>
</ul>
<p>i ä»1å¼€å§‹éå†sæ•°ç»„ï¼Œj ä»0å¼€å§‹éå†pæ•°ç»„ã€‚æ¯æ¬¡å°†<code>s[i]</code>å’Œ<code>p[j + 1]</code>è¿›è¡Œæ¯”è¾ƒã€‚è‹¥ç›¸ç­‰ï¼Œåˆ™åŒ¹é…ï¼›è‹¥ç¢°åˆ°ç¬¬iä¸ªå­—ç¬¦ä¸åŒ¹é…ï¼Œåˆ™ç›´æ¥å°†<kbd>j = ne[j]</kbd>ï¼Œi ä¸å˜ã€‚<strong>é€šè¿‡å°†éå†pçš„æŒ‡é’ˆå‰ç§»æ¥è¾¾åˆ°påç§»çš„æ•ˆæœã€‚</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span>(j &amp;&amp; s[i] != p[j + <span class="number">1</span>]) j = ne[j];</span><br><span class="line">    <span class="comment">//å¦‚æœjæœ‰å¯¹åº”pä¸²çš„å…ƒç´ ï¼Œ ä¸”s[i] != p[j+1], åˆ™å¤±é…ï¼Œ ç§»åŠ¨pä¸²</span></span><br><span class="line">    <span class="comment">//ç”¨whileæ˜¯ç”±äºç§»åŠ¨åå¯èƒ½ä»ç„¶å¤±é…ï¼Œæ‰€ä»¥è¦ç»§ç»­ç§»åŠ¨ç›´åˆ°åŒ¹é…æˆ–æ•´ä¸ªpä¸²ç§»åˆ°åé¢ï¼ˆj = 0)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(s[i] == p[j + <span class="number">1</span>]) j++;</span><br><span class="line">    <span class="comment">//å½“å‰å…ƒç´ åŒ¹é…ï¼Œjç§»å‘pä¸²ä¸‹ä¸€ä½</span></span><br><span class="line">    <span class="keyword">if</span>(j == m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//åŒ¹é…æˆåŠŸï¼Œè¿›è¡Œç›¸å…³æ“ä½œ</span></span><br><span class="line">        j = next[j];  <span class="comment">//ç»§ç»­åŒ¹é…ä¸‹ä¸€ä¸ªå­ä¸²</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="trie-æ ‘"><a class="markdownIt-Anchor" href="#trie-æ ‘"></a> Trie æ ‘</h3>
<p><strong>ç®—æ³•å®šä¹‰</strong> ç”¨äºå¿«é€Ÿå­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²é›†åˆçš„æ ‘ã€‚</p>
<p><strong>å®ç°æ€æƒ³</strong></p>
<ul>
<li><code>son[N][26]</code> å­˜æ”¾å°å†™å­—æ¯ï¼Œå› æ­¤æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šå¯ä»¥æ‰©å±•å‡º26è¾¹ï¼Œæ¯ä»£è¡¨ä¸€ä¸ªç‚¹ï¼Œæ¯åˆ—ä»£è¡¨è¯¥èŠ‚ç‚¹æ‰©å±•å‡ºä¸€æ¡è¾¹ã€‚</li>
<li><code>cnt[i]</code> ä»¥å½“å‰ç¬¬iä¸ªç»“å°¾çš„æœ‰å•è¯åˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚</li>
<li><code>idx</code> ä¸‹æ ‡ï¼Œidxä¸º0æ—¶ï¼Œå³ä»£è¡¨æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹ã€‚</li>
</ul>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ•°ç»„æ¨¡æ‹Ÿçš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> str[N];</span><br><span class="line"><span class="type">int</span> son[N][<span class="number">26</span>], cnt[N], idx;</span><br><span class="line"><span class="comment">//son[N][26]: å­˜æ”¾å°å†™å­—æ¯ï¼Œå› æ­¤æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šå¯ä»¥æ‰©å±•å‡º26æ¡è¾¹</span></span><br><span class="line"><span class="comment">//cnt[N]: ä»¥å½“å‰èŠ‚ç‚¹æ‰©å±•çš„èŠ‚ç‚¹æœ‰å¤šå°‘ä¸ªã€‚</span></span><br><span class="line"><span class="comment">//idx: ä¸‹æ ‡ï¼Œidxä¸º0æ˜¯æ—¢ä»£è¡¨æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">char</span> str[])</span></span>&#123;</span><br><span class="line">   	<span class="type">int</span> p = <span class="number">0</span>;  <span class="comment">// æ¯ä¸ªå•è¯éƒ½æ˜¯ä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; str[i]; i++) &#123;</span><br><span class="line">       	<span class="type">int</span> u = str[i] - <span class="string">&#x27;a&#x27;</span>; <span class="comment">// å°†å°å†™å­—æ¯è½¬æ¢ä¸º0~25çš„æ•°å­—</span></span><br><span class="line">        <span class="keyword">if</span>(!son[p][u]) son[p][u] = ++idx;  <span class="comment">//å¦‚æœpè¿™ä¸ªèŠ‚ç‚¹ä¸å­˜åœ¨uè¿™ä¸ªå­èŠ‚ç‚¹</span></span><br><span class="line">        p = son[p][u];  <span class="comment">//è·³è½¬åˆ°pè¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    cnt[p] ++;  <span class="comment">// </span></span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">//æŸ¥è¯¢å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">char</span> str[])</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; str[i]; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u = str[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(!son[p][u]) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//å¦‚æœpåæ²¡æœ‰uèŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¾“å‡º0</span></span><br><span class="line">        p = son[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt[p];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¹¶æŸ¥é›†"><a class="markdownIt-Anchor" href="#å¹¶æŸ¥é›†"></a> å¹¶æŸ¥é›†</h3>
<p><strong>ç›®çš„ï¼š</strong> åœ¨è¿‘ä¹<code>O(1)</code>çš„æ—¶é—´å¤æ‚åº¦å†…æ”¯æŒä¸‹é¢ä¸¤ä¸ªæ“ä½œ</p>
<p>â€‹		1.å°†ä¸¤ä¸ªé›†åˆåˆå¹¶ï¼›</p>
<p>â€‹		2.è¯¢é—®ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼›</p>
<p>**åŸç†ï¼š**æ¯ä¸ªé›†åˆç”¨ä¸€é¢—æ ‘è¡¨ç¤ºï¼Œæ ‘æ ¹çš„ç¼–å·å°±æ˜¯æ•´ä¸ªé›†åˆçš„ç¼–å·ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œ<code>p[x]</code>è¡¨ç¤ºxçš„çˆ¶èŠ‚ç‚¹ã€‚è‹¥<code>p[x] == x</code>ï¼Œåˆ™xä¸ºæ ¹èŠ‚ç‚¹</p>
<p><strong>é—®é¢˜1ï¼š</strong> å¦‚ä½•åˆ¤æ–­æ ‘æ ¹èŠ‚ç‚¹ï¼š <kbd>if(p[x] == x)</kbd></p>
<p><strong>é—®é¢˜2ï¼š</strong> å¦‚ä½•æ±‚xçš„é›†åˆç¼–å·ï¼š<kbd>while(p[x] != x) x = p[x]</kbd> ï¼›</p>
<p>**é—®é¢˜3ï¼š **å¦‚ä½•åˆå¹¶ä¸¤ä¸ªé›†åˆï¼š <code>p[x]</code>æ˜¯xçš„é›†åˆç¼–å·ï¼Œ<code>p[y]</code>æ˜¯yçš„é›†åˆç¼–å·ï¼Œåˆ™<kbd>p[x] = y</kbd> ï¼›</p>
<p><strong>ä¼˜åŒ–ï¼šè·¯å¾„å‹ç¼©ï¼š</strong> å½“æŸ¥è¯¢è¿‡ä¸€éåï¼Œå°†è·¯å¾„ä¸Šæ‰€æœ‰çš„èŠ‚ç‚¹ç›´æ¥æŒ‡å‘æ ¹èŠ‚ç‚¹ã€‚</p>
<h3 id="ä»£ç æ¨¡æ¿"><a class="markdownIt-Anchor" href="#ä»£ç æ¨¡æ¿"></a> ä»£ç æ¨¡æ¿</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> p[N]; <span class="comment">//å­˜æ”¾æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œç¬¬iä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºp[i]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ + è·¯å¾„å‹ç¼©ï¼ˆä¼˜åŒ–ï¼‰</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p[x] != x) <span class="comment">// å¦‚æœä¸æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        p[x] = <span class="built_in">find</span>(x);</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;                                                                                                                                           </span><br><span class="line"><span class="comment">// åˆå¹¶xï¼Œyæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    p[<span class="built_in">find</span>(x)] = <span class="built_in">find</span>(y);  <span class="comment">//å°†xçš„ç¥–å®—èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ç½®ä¸º yçš„ç¥–å®—èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­xï¼Œyæ˜¯å¦åœ¨åŒä¸€é›†åˆä¸­</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Judge</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">find</span>(x) == <span class="built_in">find</span>(y))	<span class="comment">//ç¥–å®—èŠ‚ç‚¹æ˜¯åŒä¸€ä¸ª</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å †"><a class="markdownIt-Anchor" href="#å †"></a> å †</h3>
<p><strong>ä½œç”¨</strong> ç»´æŠ¤ä¸€ä¸ªæ•°æ®é›†åˆï¼›</p>
<p><strong>éœ€è¦å®ç°çš„æ“ä½œ</strong></p>
<ul>
<li>æ’å…¥ä¸€ä¸ªæ•°ï¼›<kbd>heap[++size] = x; up(size)</kbd></li>
<li>æ±‚é›†åˆå½“ä¸­çš„æœ€å°å€¼ï¼›<kbd>heap[1];</kbd></li>
<li>åˆ é™¤æœ€å°å€¼ï¼›<kbd>heap[1] = heap[size]; sizeâ€“; down(1);</kbd></li>
<li>åˆ é™¤ä»»æ„å…ƒç´ ï¼›<kbd>heap[k] = heap[size]; sizeâ€“; down(k); up(k);</kbd></li>
<li>ä¿®æ”¹ä»»æ„å…ƒç´ ï¼›<kbd>heap[k] = x; down(size); up(size);</kbd></li>
</ul>
<p><strong>åŸºæœ¬ç»“æ„</strong> æ˜¯ä¸€é¢—<code>å®Œå…¨äºŒå‰æ ‘</code>ï¼ˆé™¤äº†æœ€åä¸€å±‚èŠ‚ç‚¹ä¹‹å¤–ï¼Œä¸Šå±‚èŠ‚ç‚¹éƒ½æ˜¯éç©ºï¼Œæœ€åä¸€å±‚èŠ‚ç‚¹æ˜¯ä»å·¦åˆ°å³ä¾æ¬¡æ’å¸ƒï¼‰</p>
<ul>
<li>å°æ ¹å †ï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½æ»¡è¶³å°äºç­‰äºå·¦å³ä¸¤è¾¹çš„èŠ‚ç‚¹ã€‚</li>
</ul>
<p><strong>å­˜å‚¨æ•°æ®ç»“æ„</strong> ä½¿ç”¨æ•°ç»„å­˜å‚¨ï¼Œ1å·èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼ˆä¸‹æ ‡ä»1å¼€å§‹ï¼‰ï¼Œå·¦å„¿å­æ˜¯<code>2x</code> ï¼›å³å„¿å­æ˜¯<code>2x+1</code></p>
<ul>
<li><code>h[N]</code>å­˜å‚¨å †ä¸­çš„å€¼, h[1]æ˜¯å †é¡¶ï¼Œxçš„å·¦å„¿å­æ˜¯<code>2x</code>, å³å„¿å­æ˜¯<code>2x + 1</code></li>
<li><code>ph[k]</code>å­˜å‚¨ç¬¬kä¸ªæ’å…¥çš„ç‚¹åœ¨å †ä¸­çš„ä½ç½®</li>
<li><code>hp[k]</code>å­˜å‚¨å †ä¸­ä¸‹æ ‡æ˜¯kçš„ç‚¹æ˜¯ç¬¬å‡ ä¸ªæ’å…¥çš„</li>
<li><code>size</code> å †ä¸­å…ƒç´ çš„ä¸ªæ•°</li>
</ul>
<p><strong>éœ€è¦çš„æ“ä½œ</strong></p>
<ul>
<li><code>down(x)</code> å°†xèŠ‚ç‚¹å¾€ä¸‹ç§»</li>
<li><code>up(x)</code> å°†xèŠ‚ç‚¹å¾€ä¸Šç§»</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// h[N]å­˜å‚¨å †ä¸­çš„å€¼, h[1]æ˜¯å †é¡¶ï¼Œxçš„å·¦å„¿å­æ˜¯2x, å³å„¿å­æ˜¯2x + 1</span></span><br><span class="line"><span class="comment">// ph[k]å­˜å‚¨ç¬¬kä¸ªæ’å…¥çš„ç‚¹åœ¨å †ä¸­çš„ä½ç½®</span></span><br><span class="line"><span class="comment">// hp[k]å­˜å‚¨å †ä¸­ä¸‹æ ‡æ˜¯kçš„ç‚¹æ˜¯ç¬¬å‡ ä¸ªæ’å…¥çš„</span></span><br><span class="line"><span class="type">int</span> h[N], ph[N], hp[N], size;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº¤æ¢ä¸¤ä¸ªç‚¹ï¼ŒåŠå…¶æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heap_swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">swap</span>(ph[hp[a]],ph[hp[b]]);</span><br><span class="line">    <span class="built_in">swap</span>(hp[a], hp[b]);</span><br><span class="line">    <span class="built_in">swap</span>(h[a], h[b]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">down</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t = u;</span><br><span class="line">    <span class="keyword">if</span> (u * <span class="number">2</span> &lt;= size &amp;&amp; h[u * <span class="number">2</span>] &lt; h[t]) t = u * <span class="number">2</span>;  <span class="comment">// å­˜åœ¨å·¦å­©å­å¹¶ä¸”å·¦å­©å­æ¯”è¾ƒå°</span></span><br><span class="line">    <span class="keyword">if</span> (u * <span class="number">2</span> + <span class="number">1</span> &lt;= size &amp;&amp; h[u * <span class="number">2</span> + <span class="number">1</span>] &lt; h[t]) t = u * <span class="number">2</span> + <span class="number">1</span>;  <span class="comment">// å­˜åœ¨å³å­©å­å¹¶ä¸”æœ‰å­©å­æ¯”è¾ƒå°</span></span><br><span class="line">    <span class="keyword">if</span> (u != t)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">heap_swap</span>(u, t); <span class="comment">// äº¤æ¢çˆ¶äº²èŠ‚ç‚¹ å’Œ ç›¸å¯¹è¾ƒå°çš„å­èŠ‚ç‚¹ </span></span><br><span class="line">        <span class="built_in">down</span>(t);  <span class="comment">//é€’å½’éå†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">up</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (u / <span class="number">2</span> &amp;&amp; h[u] &lt; h[u / <span class="number">2</span>])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">heap_swap</span>(u, u / <span class="number">2</span>);</span><br><span class="line">        u &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(n)å»ºå †</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = n / <span class="number">2</span>; i; i -- ) <span class="built_in">down</span>(i);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å“ˆå¸Œè¡¨"><a class="markdownIt-Anchor" href="#å“ˆå¸Œè¡¨"></a> å“ˆå¸Œè¡¨</h3>
<ul>
<li><strong>å­˜å‚¨ç»“æ„</strong> ï¼šä¸‹é¢ä¸¤ç§æ–¹æ³•æ˜¯ä¸ºäº†è§£å†³æ˜ å°„å†²çªçš„ã€‚æ˜ å°„å†²çªæ˜¯æŒ‡å°†ä¸¤ä¸ªä¸åŒçš„æ•°æ˜ å°„åˆ°åŒä¸€ä¸ªæ•°ä¸Šã€‚
<ul>
<li>å¼€æ”¾å¯»å€æ³•</li>
<li>æ‹‰é“¾æ³•ï¼šå½¢çŠ¶ç±»ä¼¼äºé‚»æ¥è¡¨ï¼Œå°†æ˜ å°„åˆ°åŒä¸€ä¸ªä½ç½®çš„æ•°ç”¨ä¸€ä¸ªé“¾æ”¾åœ¨ä¸‹é¢ã€‚</li>
</ul>
</li>
<li><strong>å­—ç¬¦ä¸²å“ˆå¸Œæ–¹å¼</strong></li>
</ul>
<p><strong>ä½œç”¨</strong> ï¼šå°†ä¸€å †è¾ƒå¤§èŒƒå›´çš„æ•°æ˜ å°„åˆ°è¾ƒå°èŒƒå›´çš„ä¸€å †æ•°ä¸­ã€‚</p>
<h3 id="stlç®€ä»‹"><a class="markdownIt-Anchor" href="#stlç®€ä»‹"></a> STLç®€ä»‹</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">vector, å˜é•¿æ•°ç»„ï¼Œå€å¢çš„æ€æƒ³</span><br><span class="line">    <span class="built_in">size</span>()  è¿”å›å…ƒç´ ä¸ªæ•°</span><br><span class="line">    <span class="built_in">empty</span>()  è¿”å›æ˜¯å¦ä¸ºç©º</span><br><span class="line">    <span class="built_in">clear</span>()  æ¸…ç©º</span><br><span class="line">    <span class="built_in">front</span>()/<span class="built_in">back</span>()</span><br><span class="line">    <span class="built_in">push_back</span>()/<span class="built_in">pop_back</span>()</span><br><span class="line">    <span class="built_in">begin</span>()/<span class="built_in">end</span>()</span><br><span class="line">    []</span><br><span class="line">    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼ŒæŒ‰å­—å…¸åº</span><br><span class="line"></span><br><span class="line">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;</span><br><span class="line">    first, ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    second, ç¬¬äºŒä¸ªå…ƒç´ </span><br><span class="line">    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼Œä»¥firstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œä»¥secondä¸ºç¬¬äºŒå…³é”®å­—ï¼ˆå­—å…¸åºï¼‰</span><br><span class="line"></span><br><span class="line">stringï¼Œå­—ç¬¦ä¸²</span><br><span class="line">    <span class="built_in">size</span>()/<span class="built_in">length</span>()  è¿”å›å­—ç¬¦ä¸²é•¿åº¦</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">clear</span>()</span><br><span class="line">    <span class="built_in">substr</span>(èµ·å§‹ä¸‹æ ‡ï¼Œ(å­ä¸²é•¿åº¦))  è¿”å›å­ä¸²</span><br><span class="line">    <span class="built_in">c_str</span>()  è¿”å›å­—ç¬¦ä¸²æ‰€åœ¨å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€</span><br><span class="line"></span><br><span class="line">queue, é˜Ÿåˆ—</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">push</span>()  å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    <span class="built_in">front</span>()  è¿”å›é˜Ÿå¤´å…ƒç´ </span><br><span class="line">    <span class="built_in">back</span>()  è¿”å›é˜Ÿå°¾å…ƒç´ </span><br><span class="line">    <span class="built_in">pop</span>()  å¼¹å‡ºé˜Ÿå¤´å…ƒç´ </span><br><span class="line"></span><br><span class="line">priority_queue, ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯å¤§æ ¹å †</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">push</span>()  æ’å…¥ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    <span class="built_in">top</span>()  è¿”å›å †é¡¶å…ƒç´ </span><br><span class="line">    <span class="built_in">pop</span>()  å¼¹å‡ºå †é¡¶å…ƒç´ </span><br><span class="line">    å®šä¹‰æˆå°æ ¹å †çš„æ–¹å¼ï¼špriority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; q;</span><br><span class="line"></span><br><span class="line">stack, æ ˆ</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">push</span>()  å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    <span class="built_in">top</span>()  è¿”å›æ ˆé¡¶å…ƒç´ </span><br><span class="line">    <span class="built_in">pop</span>()  å¼¹å‡ºæ ˆé¡¶å…ƒç´ </span><br><span class="line"></span><br><span class="line">deque, åŒç«¯é˜Ÿåˆ—</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">clear</span>()</span><br><span class="line">    <span class="built_in">front</span>()/<span class="built_in">back</span>()</span><br><span class="line">    <span class="built_in">push_back</span>()/<span class="built_in">pop_back</span>()</span><br><span class="line">    <span class="built_in">push_front</span>()/<span class="built_in">pop_front</span>()</span><br><span class="line">    <span class="built_in">begin</span>()/<span class="built_in">end</span>()</span><br><span class="line">    []</span><br><span class="line"></span><br><span class="line">set, map, multiset, multimap, åŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ—</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">clear</span>()</span><br><span class="line">    <span class="built_in">begin</span>()/<span class="built_in">end</span>()</span><br><span class="line">    ++, -- è¿”å›å‰é©±å’Œåç»§ï¼Œæ—¶é—´å¤æ‚åº¦ <span class="built_in">O</span>(logn)</span><br><span class="line"></span><br><span class="line">    set/<span class="function">multiset</span></span><br><span class="line"><span class="function">        <span class="title">insert</span><span class="params">()</span>  æ’å…¥ä¸€ä¸ªæ•°</span></span><br><span class="line"><span class="function">        <span class="title">find</span><span class="params">()</span>  æŸ¥æ‰¾ä¸€ä¸ªæ•°</span></span><br><span class="line"><span class="function">        <span class="title">count</span><span class="params">()</span>  è¿”å›æŸä¸€ä¸ªæ•°çš„ä¸ªæ•°</span></span><br><span class="line"><span class="function">        <span class="title">erase</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            <span class="params">(<span class="number">1</span>)</span> è¾“å…¥æ˜¯ä¸€ä¸ªæ•°xï¼Œåˆ é™¤æ‰€æœ‰x   <span class="title">O</span><span class="params">(k + logn)</span></span></span><br><span class="line"><span class="function">            <span class="params">(<span class="number">2</span>)</span> è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ é™¤è¿™ä¸ªè¿­ä»£å™¨</span></span><br><span class="line"><span class="function">        <span class="title">lower_bound</span><span class="params">()</span>/<span class="title">upper_bound</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            <span class="title">lower_bound</span><span class="params">(x)</span>  è¿”å›å¤§äºç­‰äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="function">            <span class="title">upper_bound</span><span class="params">(x)</span>  è¿”å›å¤§äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="function">    map/multimap</span></span><br><span class="line"><span class="function">        <span class="title">insert</span><span class="params">()</span>  æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair</span></span><br><span class="line"><span class="function">        <span class="title">erase</span><span class="params">()</span>  è¾“å…¥çš„å‚æ•°æ˜¯pairæˆ–è€…è¿­ä»£å™¨</span></span><br><span class="line"><span class="function">        <span class="title">find</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        []  æ³¨æ„multimapä¸æ”¯æŒæ­¤æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="title">O</span><span class="params">(logn)</span></span></span><br><span class="line"><span class="function">        <span class="title">lower_bound</span><span class="params">()</span>/<span class="title">upper_bound</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">unordered_set, unordered_map, unordered_multiset, unordered_multimap, å“ˆå¸Œè¡¨</span></span><br><span class="line"><span class="function">    å’Œä¸Šé¢ç±»ä¼¼ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="title">O</span><span class="params">(<span class="number">1</span>)</span></span></span><br><span class="line"><span class="function">    ä¸æ”¯æŒ <span class="title">lower_bound</span><span class="params">()</span>/<span class="title">upper_bound</span><span class="params">()</span>ï¼Œ è¿­ä»£å™¨çš„++ï¼Œ--</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">bitset, åœ§ä½</span></span><br><span class="line"><span class="function">    bitset&lt;10000&gt; s</span>;</span><br><span class="line">    ~, &amp;, |, ^</span><br><span class="line">    &gt;&gt;, &lt;&lt;</span><br><span class="line">    ==, !=</span><br><span class="line">    []</span><br><span class="line"></span><br><span class="line">    <span class="built_in">count</span>()  è¿”å›æœ‰å¤šå°‘ä¸ª<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">any</span>()  åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª<span class="number">1</span></span><br><span class="line">    <span class="built_in">none</span>()  åˆ¤æ–­æ˜¯å¦å…¨ä¸º<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">set</span>()  æŠŠæ‰€æœ‰ä½ç½®æˆ<span class="number">1</span></span><br><span class="line">    <span class="built_in">set</span>(k, v)  å°†ç¬¬kä½å˜æˆv</span><br><span class="line">    <span class="built_in">reset</span>()  æŠŠæ‰€æœ‰ä½å˜æˆ<span class="number">0</span></span><br><span class="line">    <span class="built_in">flip</span>()  ç­‰ä»·äº~</span><br><span class="line">    <span class="built_in">flip</span>(k) æŠŠç¬¬kä½å–å</span><br></pre></td></tr></table></figure>
<hr />
<h2 id="æœç´¢ä¸å›¾è®º"><a class="markdownIt-Anchor" href="#æœç´¢ä¸å›¾è®º"></a> æœç´¢ä¸å›¾è®º</h2>
<h3 id="dfsä¸bfs"><a class="markdownIt-Anchor" href="#dfsä¸bfs"></a> DFSä¸BFS</h3>
<p><strong>å¯¹æ¯”</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>æ•°æ®ç»“æ„</th>
<th>ç©ºé—´</th>
<th>æ€§è´¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>DFS</td>
<td>stack</td>
<td>O(h)</td>
<td>ä¸å…·æœ‰æœ€çŸ­æ€§</td>
</tr>
<tr>
<td>BFS</td>
<td>queue</td>
<td>O(2<sup>h</sup>)</td>
<td>â€œæœ€çŸ­è·¯â€</td>
</tr>
</tbody>
</table>
<h4 id="æ·±åº¦ä¼˜å…ˆæœç´¢-dfs"><a class="markdownIt-Anchor" href="#æ·±åº¦ä¼˜å…ˆæœç´¢-dfs"></a> æ·±åº¦ä¼˜å…ˆæœç´¢ DFS</h4>
<p><strong>ç®—æ³•ï¼š</strong> <code>å›æº¯</code>ã€<code>å‰ªæ</code></p>
<h4 id="å®½åº¦ä¼˜å…ˆæœç´¢-bfs"><a class="markdownIt-Anchor" href="#å®½åº¦ä¼˜å…ˆæœç´¢-bfs"></a> å®½åº¦ä¼˜å…ˆæœç´¢ BFS</h4>
<p>ç±»ä¼¼äºå±‚åºéå†</p>
<h3 id="æ ‘ä¸å›¾çš„éå†æ‹“æ‰‘æ’åº"><a class="markdownIt-Anchor" href="#æ ‘ä¸å›¾çš„éå†æ‹“æ‰‘æ’åº"></a> æ ‘ä¸å›¾çš„éå†ï¼šæ‹“æ‰‘æ’åº</h3>
<p>æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾</p>
<h4 id="æ ‘ä¸å›¾çš„å­˜å‚¨"><a class="markdownIt-Anchor" href="#æ ‘ä¸å›¾çš„å­˜å‚¨"></a> æ ‘ä¸å›¾çš„å­˜å‚¨</h4>
<ul>
<li>æœ‰å‘å›¾
<ul>
<li>é‚»æ¥çŸ©é˜µï¼šäºŒç»´æ•°ç»„ï¼Œé€‚ç”¨äºç¨ å¯†å›¾ï¼Œ<code>T(n) = O(n ^ 2)</code></li>
<li>é‚»æ¥è¡¨ï¼šnä¸ªèŠ‚ç‚¹å¯¹åº”nä¸ªå•é“¾è¡¨ï¼Œé€‚ç”¨äºç¨€ç–å›¾ã€‚</li>
</ul>
</li>
</ul>
<p><strong>é‚»æ¥è¡¨</strong></p>
<ul>
<li><code>h[N]</code>ï¼šæ‰€æœ‰å¤´èŠ‚ç‚¹çš„é›†åˆ</li>
<li><code>e[N]</code>ï¼šå­˜æ¯ä¸ªèŠ‚ç‚¹çš„å€¼</li>
<li><code>ne[N]</code>ï¼šå­˜æ¯ä¸ªèŠ‚ç‚¹çš„nextå€¼</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¹äºæ¯ä¸ªç‚¹kï¼Œå¼€ä¸€ä¸ªå•é“¾è¡¨ï¼Œå­˜å‚¨kæ‰€æœ‰å¯ä»¥èµ°åˆ°çš„ç‚¹ã€‚h[k]å­˜å‚¨è¿™ä¸ªå•é“¾è¡¨çš„å¤´ç»“ç‚¹</span></span><br><span class="line"><span class="type">int</span> h[N], e[N], ne[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ ä¸€æ¡è¾¹a-&gt;b</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ; <span class="comment">// å¤´æ’</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">idx = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);</span><br></pre></td></tr></table></figure>
<h4 id="æ ‘ä¸å›¾çš„æ·±åº¦ä¼˜å…ˆéå†"><a class="markdownIt-Anchor" href="#æ ‘ä¸å›¾çš„æ·±åº¦ä¼˜å…ˆéå†"></a> æ ‘ä¸å›¾çš„æ·±åº¦ä¼˜å…ˆéå†</h4>
<p>åªè€ƒè™‘æœ‰å‘å›¾å³å¯ã€‚</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<code>O(n + m)</code>ï¼Œnè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•°</li>
</ul>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    st[u] = <span class="literal">true</span>; <span class="comment">// st[u] è¡¨ç¤ºç‚¹uå·²ç»è¢«éå†è¿‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[u]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span> (!st[j]) <span class="built_in">dfs</span>(j);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ ‘ä¸å›¾çš„å®½åº¦ä¼˜å…ˆéå†"><a class="markdownIt-Anchor" href="#æ ‘ä¸å›¾çš„å®½åº¦ä¼˜å…ˆéå†"></a> æ ‘ä¸å›¾çš„å®½åº¦ä¼˜å…ˆéå†</h4>
<ul>
<li>éœ€è¦ä½¿ç”¨åˆ°é˜Ÿåˆ—ï¼Œåœ¨å¯¹äºŒå‰æ ‘ä½¿ç”¨å®½åº¦æœ‰ç‚¹éå†æ—¶ï¼Œå…¶å®å°±æ˜¯å¯¹äºŒå‰æ ‘è¿›è¡Œå±‚åºéå†ã€‚</li>
</ul>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">st[<span class="number">1</span>] = <span class="literal">true</span>; <span class="comment">// è¡¨ç¤º1å·ç‚¹å·²ç»è¢«éå†è¿‡</span></span><br><span class="line">q.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (q.<span class="built_in">size</span>())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">    q.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span> (!st[j])</span><br><span class="line">        &#123;</span><br><span class="line">            st[j] = <span class="literal">true</span>; <span class="comment">// è¡¨ç¤ºç‚¹jå·²ç»è¢«éå†è¿‡</span></span><br><span class="line">            q.<span class="built_in">push</span>(j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ‹“æ‰‘æ’åº"><a class="markdownIt-Anchor" href="#æ‹“æ‰‘æ’åº"></a> æ‹“æ‰‘æ’åº</h4>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<code>O(n + m)</code>ï¼Œnè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•°</li>
</ul>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">topsort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// d[i] å­˜å‚¨ç‚¹içš„å…¥åº¦</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (!d[i])</span><br><span class="line">            q[ ++ tt] = i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (hh &lt;= tt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = q[hh ++ ];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (-- d[j] == <span class="number">0</span>)</span><br><span class="line">                q[ ++ tt] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæ‰€æœ‰ç‚¹éƒ½å…¥é˜Ÿäº†ï¼Œè¯´æ˜å­˜åœ¨æ‹“æ‰‘åºåˆ—ï¼›å¦åˆ™ä¸å­˜åœ¨æ‹“æ‰‘åºåˆ—ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> tt == n - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æœ€çŸ­è·¯å¾„é—®é¢˜"><a class="markdownIt-Anchor" href="#æœ€çŸ­è·¯å¾„é—®é¢˜"></a> æœ€çŸ­è·¯å¾„é—®é¢˜</h3>
<p><font color='orange'>å¸¸è§çš„<code>æœ€çŸ­è·¯å¾„</code>é—®é¢˜</font> ï¼šnç‚¹çš„æ•°é‡ï¼Œmè¾¹çš„æ•°é‡ã€‚</p>
<ul>
<li><code>å•æºæœ€çŸ­è·¯å¾„</code>
<ul>
<li>æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°
<ul>
<li>æœ´ç´ <code>Dijkstra</code>ç®—æ³• ï¼š<code>O(n^2)</code> é€‚ç”¨äºç¨ å¯†å›¾</li>
<li>å †ä¼˜åŒ–ç‰ˆçš„<code>Dijkstra</code>ç®—æ³•ï¼š<code>O(m * logn)</code> é€‚ç”¨äºç¨€ç–å›¾</li>
</ul>
</li>
<li>å­˜åœ¨è´Ÿæƒè¾¹
<ul>
<li><code>Bellman-Ford</code> ï¼š <code>O(nm)</code></li>
<li><code>SPFA</code> :  ä¸€èˆ¬æ˜¯<code>O(m)</code>ï¼Œæœ€åæ˜¯<code>O(nm)</code></li>
</ul>
</li>
</ul>
</li>
<li><code>å¤šæºæ±‡æœ€çŸ­è·¯å¾„</code> ï¼š
<ul>
<li><code>Floyd</code>ç®—æ³•ï¼š<code>O(n^3)</code></li>
</ul>
</li>
</ul>
<p><img src="/img/AcWing/Basic/shortLoad.png" alt="shortLoad" /></p>
<h4 id="æœ´ç´ dijkstra"><a class="markdownIt-Anchor" href="#æœ´ç´ dijkstra"></a> æœ´ç´ <code>Dijkstra</code></h4>
<ul>
<li>ä½¿ç”¨<code>é‚»æ¥çŸ©é˜µ</code>å­˜å‚¨ï¼Œæœ‰å‘å›¾ï¼šæ— å‘å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„æœ‰å‘å›¾ã€‚</li>
<li><code>s[i]</code> ï¼šå½“å‰å·²ç¡®å®šæœ€çŸ­è·¯å¾„çš„ç‚¹ã€‚</li>
<li><code>dist[i]</code> ï¼šç¬¬<code>i</code>ä¸ªèŠ‚ç‚¹è·ç¦»èµ·ç‚¹(1å·ç‚¹)çš„è·ç¦»ã€‚åˆå§‹åŒ–<code>dist[1] = 0</code>ã€<code>disst[i] = +Max</code></li>
<li><code>g[N][N]</code> ï¼šå­˜å‚¨æ¯æ¡è¾¹ï¼Œä¸‹æ ‡ä»1å¼€å§‹</li>
</ul>
<p><img src="/img/AcWing/Basic/Dijkstra.png" alt="Dijkstra" /></p>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> g[N][N];  <span class="comment">// å­˜å‚¨æ¯æ¡è¾¹</span></span><br><span class="line"><span class="type">int</span> dist[N];  <span class="comment">// å­˜å‚¨1å·ç‚¹åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class="line"><span class="type">bool</span> st[N];   <span class="comment">// å­˜å‚¨æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æ˜¯å¦å·²ç»ç¡®å®šï¼Œfalse:æœªç¡®å®šï¼Œtrueï¼šå·²ç¡®å®š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·¯ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist); <span class="comment">// åˆå§‹åŒ–distæ•°ç»„ï¼Œå°†æ¯ä¸ªå…ƒç´ åˆå§‹åŒ–ä¸ºæ­£æ— ç©·å¤§ã€‚</span></span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i ++ ) <span class="comment">// å¾ªç¯å‰n-1ä¸ªèŠ‚ç‚¹å³å¯ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸ç”¨åˆ¤æ–­ã€‚</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;     <span class="comment">// åœ¨è¿˜æœªç¡®å®šæœ€çŸ­è·¯çš„ç‚¹ä¸­ï¼Œå¯»æ‰¾è·ç¦»æœ€å°çš„ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++ )</span><br><span class="line">            <span class="keyword">if</span> (!st[j] &amp;&amp; (t == <span class="number">-1</span> || dist[t] &gt; dist[j])) <span class="comment">//åœ¨æ‰€æœ‰st[j] == false ä¸­æ‰¾åˆ°distæœ€ä¸‹çš„ç‚¹ã€‚</span></span><br><span class="line">                t = j;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++ )</span><br><span class="line">            dist[j] = <span class="built_in">min</span>(dist[j], dist[t] + g[t][j]);</span><br><span class="line"></span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (dist[n] == <span class="number">0x3f3f3f3f</span>) <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">// ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å’Œnä¸è¿é€š</span></span><br><span class="line">    <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å †ä¼˜åŒ–ç‰ˆçš„dijkstra"><a class="markdownIt-Anchor" href="#å †ä¼˜åŒ–ç‰ˆçš„dijkstra"></a> å †ä¼˜åŒ–ç‰ˆçš„<code>Dijkstra</code></h4>
<ul>
<li>ä½¿ç”¨å †å¯¹æœ´ç´ <code>Dijkstra</code>ç®—æ³•è¿›è¡Œä¼˜åŒ–</li>
<li>å †ï¼šä½¿ç”¨c++é‡Œé¢çš„ä¼˜å…ˆé˜Ÿåˆ—ã€‚</li>
<li>æ•°æ®ç»“æ„ï¼šå› ä¸ºé’ˆå¯¹ç¨€ç–å›¾ï¼Œæ‰€ä»¥é‡‡ç”¨<code>é‚»æ¥è¡¨</code>çš„æ–¹å¼å­˜å‚¨ã€‚</li>
</ul>
<p><strong>ä»£ç æ¨¡æ¿</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;      <span class="comment">// ç‚¹çš„æ•°é‡</span></span><br><span class="line"><span class="type">int</span> h[N], w[N], e[N], ne[N], idx;       <span class="comment">// é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹</span></span><br><span class="line"><span class="type">int</span> dist[N];        <span class="comment">// å­˜å‚¨æ‰€æœ‰ç‚¹åˆ°1å·ç‚¹çš„è·ç¦»</span></span><br><span class="line"><span class="type">bool</span> st[N];     <span class="comment">// å­˜å‚¨æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»æ˜¯å¦å·²ç¡®å®š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; heap; <span class="comment">// å®šä¹‰ä¼˜å…ˆé˜Ÿåˆ—ä»£æ›¿å †ï¼Œè¿™æ ·å®šä¹‰æ˜¯å°æ ¹å †</span></span><br><span class="line">    heap.<span class="built_in">push</span>(&#123;<span class="number">0</span>, <span class="number">1</span>&#125;);      <span class="comment">// firstå­˜å‚¨è·ç¦»ï¼Œsecondå­˜å‚¨èŠ‚ç‚¹ç¼–å·</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (heap.<span class="built_in">size</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> t = heap.<span class="built_in">top</span>();</span><br><span class="line">        heap.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> ver = t.second, distance = t.first;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (st[ver]) <span class="keyword">continue</span>;</span><br><span class="line">        st[ver] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[ver]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (dist[j] &gt; distance + w[i])</span><br><span class="line">            &#123;</span><br><span class="line">                dist[j] = distance + w[i];</span><br><span class="line">                heap.<span class="built_in">push</span>(&#123;dist[j], j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (dist[n] == <span class="number">0x3f3f3f3f</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr />
<h2 id="æ•°å­¦çŸ¥è¯†"><a class="markdownIt-Anchor" href="#æ•°å­¦çŸ¥è¯†"></a> æ•°å­¦çŸ¥è¯†</h2>
<h3 id="æ•°è®º"><a class="markdownIt-Anchor" href="#æ•°è®º"></a> æ•°è®º</h3>
<h4 id="è´¨æ•°"><a class="markdownIt-Anchor" href="#è´¨æ•°"></a> è´¨æ•°</h4>
<p><strong>Def</strong> åœ¨å¤§äº1çš„æ•´æ•°ä¸­ï¼Œå¦‚æœåªåŒ…å«1å’Œæ•´æ•°è¿™ä¸¤ä¸ªçº¦æ•°ï¼Œå°±è¢«ç§°ä¸ºè´¨æ•°ï¼Œæˆ–è€…ç´ æ•°ã€‚</p>
<p><strong>è´¨æ•°çš„åˆ¤å®šâ€”è¯•é™¤æ³•</strong></p>
<p>å®ç°æ€æƒ³ ï¼ši ä» 2 æšä¸¾åˆ° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msqrt><mi>n</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.23972em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8002800000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathdefault">n</span></span></span><span style="top:-2.76028em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.23972em;"><span></span></span></span></span></span></span></span></span> ä¼šç¼©å‡å¾ªç¯ï¼Œä½†æ˜¯<code>sqrt(n)</code>æ‰§è¡Œè¾ƒæ…¢ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨ã€‚<code>O(sqrt(n))</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">is_prime</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= x / i; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>åˆ†è§£è´¨å› æ•°â€”è¯•é™¤æ³•</strong></p>
<p>å®ç°æ€æƒ³ï¼šä»å°åˆ°å¤§æšä¸¾æ‰€æœ‰æ•°ï¼Œ<code>O(sqrt(n))</code>ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">divide</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= x / i; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>) <span class="comment">// i ä¸€å®šæ˜¯è´¨æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (x % i == <span class="number">0</span>) x /= i, s ++ ;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span> (x &gt; <span class="number">1</span>) cout &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æœ´ç´ ç­›æ³•æ±‚ç´ æ•°â€”åŸƒæ°ç­›æ³•</strong></p>
<p>å®ç°æ€æƒ³ï¼šä»2éå†åˆ°nï¼Œéå†åˆ°ç¬¬iä¸ªæ•°çš„æ—¶å€™ï¼Œè‹¥è¯¥æ•°æ²¡æœ‰è¢«åˆ é™¤ï¼Œåˆ™åŠ å…¥è´¨æ•°æ•°ç»„ï¼Œç„¶ååˆ é™¤è¯¥æ•°çš„æ‰€æœ‰å€æ•°ã€‚<code>O(n * loglogn)</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> primes[N], cnt;     <span class="comment">// primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•°</span></span><br><span class="line"><span class="type">bool</span> st[N];         <span class="comment">// st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_primes</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (st[i]) <span class="keyword">continue</span>; <span class="comment">//å¦‚æœç¬¬iä¸ªæ•°å·²ç»è¢«åˆ æ‰ï¼Œè·³è¿‡</span></span><br><span class="line">        primes[cnt ++ ] = i; <span class="comment">// å¦‚æœç¬¬iä¸ªæ•°è¿˜æ²¡æœ‰è¢«åˆ æ‰ï¼Œåˆ™è¯´æ˜ä»2~i-1æ²¡æœ‰å€¼æ˜¯içš„å› å­</span></span><br><span class="line">        <span class="comment">// åˆ é™¤ è´¨æ•°i çš„æ‰€æœ‰å€æ•°ï¼Œè¿™é‡Œä»…åˆ é™¤è´¨æ•°çš„å€æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + i; j &lt;= n; j += i)</span><br><span class="line">            st[j] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>çº¿æ€§ç­›æ³•æ±‚ç´ æ•°</strong></p>
<p><img src="/img/AcWing/Basic/%E7%BA%BF%E6%80%A7%E7%AD%9B%E6%B3%95%E6%B1%82%E7%B4%A0%E6%95%B0.png" alt="çº¿æ€§ç­›æ³•æ±‚ç´ æ•°" /></p>
<p>ç›¸è¾ƒäº<code>åŸƒæ°ç­›æ³•</code>å¿«å°†è¿‘ä¸€å€ã€‚</p>
<p>å®ç°æ€æƒ³ï¼šnåªä¼šè¢«å®ƒçš„æœ€å°è´¨å› å­ç­›æ‰ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> primes[N], cnt;     <span class="comment">// primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•°</span></span><br><span class="line"><span class="type">bool</span> st[N];         <span class="comment">// st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_primes</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!st[i]) primes[cnt ++ ] = i; <span class="comment">// å¦‚æœæ˜¯è´¨æ•°ï¼ŒåŠ å…¥è‡³è´¨æ•°æ•°ç»„</span></span><br><span class="line">        <span class="comment">// ä»å°åˆ°å¤§æšä¸¾æ‰€æœ‰çš„è´¨æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; primes[j] &lt;= n / i; j ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            st[primes[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % primes[j] == <span class="number">0</span>) <span class="keyword">break</span>; <span class="comment">// primes[j] ä¸€å®šæ˜¯içš„æœ€å°è´¨å› å­</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="çº¦æ•°"><a class="markdownIt-Anchor" href="#çº¦æ•°"></a> çº¦æ•°</h4>
<p><strong>è¯•é™¤æ³•æ±‚æ‰€æœ‰çº¦æ•°</strong></p>
<p>å®ç°æ€æƒ³ç±»ä¼¼äºè¯•é™¤æ³•æ±‚è´¨æ•°ã€‚<code>O(sqrt(n))</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">get_divisors</span><span class="params">(<span class="type">int</span> x)</span>  <span class="comment">//ä½¿ç”¨vectoræ•°ç»„å­˜æ”¾æ‰€æœ‰çº¦æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= x / i; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(i);</span><br><span class="line">            <span class="keyword">if</span> (i != x / i) res.<span class="built_in">push_back</span>(x / i);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">sort</span>(res.<span class="built_in">begin</span>(), res.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>çº¦æ•°ä¸ªæ•°</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">å¦‚æœ N = p1<span class="built_in">^</span>c1 * p2<span class="built_in">^</span>c2 * ... *pk<span class="built_in">^</span>ck</span><br><span class="line">çº¦æ•°ä¸ªæ•°ï¼š (c1 + 1) * (c2 + 1) * ... * (ck + 1)</span><br><span class="line">çº¦æ•°ä¹‹å’Œï¼š (p1<span class="built_in">^</span>0 + p1<span class="built_in">^</span>1 + ... + p1<span class="built_in">^</span>c1) * ... * (pk<span class="built_in">^</span>0 + pk<span class="built_in">^</span>1 + ... + pk<span class="built_in">^</span>ck)</span><br></pre></td></tr></table></figure>
<h3 id="ç»„åˆè®¡æ•°"><a class="markdownIt-Anchor" href="#ç»„åˆè®¡æ•°"></a> ç»„åˆè®¡æ•°</h3>
<h3 id="é«˜æ–¯æ¶ˆå…ƒ"><a class="markdownIt-Anchor" href="#é«˜æ–¯æ¶ˆå…ƒ"></a> é«˜æ–¯æ¶ˆå…ƒ</h3>
<h3 id="ç®€å•åšå¼ˆè®º"><a class="markdownIt-Anchor" href="#ç®€å•åšå¼ˆè®º"></a> ç®€å•åšå¼ˆè®º</h3>
]]></content>
      <categories>
        <category>AcWing</category>
        <category>Course</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•æé«˜è¯¾ - åŠ¨æ€è§„åˆ’</title>
    <url>/2022/08/17/AcWing/dynamicProgram/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ å¹³å°"><a class="markdownIt-Anchor" href="#å­¦ä¹ å¹³å°"></a> å­¦ä¹ å¹³å°</h1>
<p><a href="https://www.acwing.com/about/"> AcWing </a> ã€ <a href="https://leetcode.cn/"> LeetCode </a></p>
<h1 id="æ ¸å¿ƒå¥—è·¯"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒå¥—è·¯"></a> æ ¸å¿ƒå¥—è·¯</h1>
<p><img src="/img/AcWing/dynamicProgram/DP.png" alt="DP" /></p>
<h1 id="æ•°å­—ä¸‰è§’æ¨¡å‹çº¿æ€§dp"><a class="markdownIt-Anchor" href="#æ•°å­—ä¸‰è§’æ¨¡å‹çº¿æ€§dp"></a> æ•°å­—ä¸‰è§’æ¨¡å‹ã€çº¿æ€§DPã€‘</h1>
<h2 id="é¢˜ç›®1æ‘˜èŠ±ç”Ÿ"><a class="markdownIt-Anchor" href="#é¢˜ç›®1æ‘˜èŠ±ç”Ÿ"></a> é¢˜ç›®1ï¼šæ‘˜èŠ±ç”Ÿ</h2>
<p><a href="https://www.acwing.com/problem/content/1017/"> æ‘˜èŠ±ç”Ÿ </a></p>
<h3 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h3>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i][j]</code>
<ul>
<li>é›†åˆï¼šèµ°åˆ°ç¬¬ <em>i</em> è¡Œç¬¬ <em>j</em> åˆ—æ—¶æ‹¿åˆ°çš„æœ€å¤§èŠ±ç”Ÿæ•°</li>
<li>å±æ€§ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜å¯ä»¥æ ¹æ®ä¸Šä¸€æ­¥æ˜¯ä»å“ªä¸ªæ–¹å‘æ¥çš„è¿›è¡Œåˆ’åˆ†
<ul>
<li>é€‰æ‹©ä»åŒ—è¾¹æ¥çš„ï¼š<code>f[i][j] = f[i - 1][j] + arr[i]</code></li>
<li>é€‰æ‹©ä»è¥¿è¾¹æ¥çš„ï¼š<code>f[i][j] = f[i][j - 1] + arr[i]</code></li>
</ul>
</li>
</ul>
<p><strong>é›†åˆåˆ’åˆ†çš„åŸåˆ™</strong></p>
<ul>
<li>ä¸€èˆ¬åŸåˆ™ï¼šä¸é‡ä¸æ¼ï¼Œä¸é‡ä¸ä¸€å®šéƒ½è¦æ»¡è¶³ï¼ˆä¸€èˆ¬æ±‚æ•°é‡æ—¶è¦æ»¡è¶³ï¼‰</li>
<li>å¦‚ä½•å°†ç°æœ‰çš„é›†åˆåˆ’åˆ†ä¸ºæ›´å°çš„å­é›†ï¼Œä½¿å¾—æ‰€æœ‰çš„å­é›†éƒ½å¯ä»¥è®¡ç®—å‡ºæ¥ã€‚</li>
</ul>
<h3 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// f[i][j] = max(f[i - 1][j], f[i][j - 1]) + w[i][j]  å‘å—èµ°å’Œå‘ä¸œèµ°çš„èŠ±ç”Ÿæ•°</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n, a, b;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">while</span>(n --) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">        ll f[a + <span class="number">1</span>][b + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= a; i ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= b; j ++)</span><br><span class="line">                f[i][j] = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= a; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= b; j ++) &#123;</span><br><span class="line">                cin &gt;&gt; x;</span><br><span class="line">                f[i][j] = <span class="built_in">max</span>(f[i - <span class="number">1</span>][j], f[i][j - <span class="number">1</span>]) + x;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; f[a][b] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * a * b )ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°æ®çš„ç»„æ•°ï¼Œ<em>a</em> æ˜¯æ¯ç»„æ•°æ®çš„è¡Œæ•°ï¼Œ<em>b</em> æ˜¯æ¯ç»„æ•°æ®çš„åˆ—æ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[][]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š1122 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š2520 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2æœ€ä½é€šè¡Œè´¹"><a class="markdownIt-Anchor" href="#é¢˜ç›®2æœ€ä½é€šè¡Œè´¹"></a> é¢˜ç›®2ï¼šæœ€ä½é€šè¡Œè´¹</h2>
<p><a href="https://www.acwing.com/problem/content/1020/"> æœ€ä½é€šè¡Œè´¹ </a></p>
<h3 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯</h3>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<p>å› ä¸ºä»å·¦ä¸Šè§’èµ°åˆ°å³ä¸‹è§’æ±‚æœ€å°å€¼å¹¶ä¸”æ¯ä¸ªä½ç½®çš„å€¼éƒ½æ˜¯å¤§äº0çš„ï¼Œæ‰€ä»¥åªèƒ½å‘ä¸‹æˆ–å‘å³èµ°ã€‚</p>
<p>å› ä¸ºæ±‚æœ€å°å€¼ï¼Œæ‰€ä»¥ç¬¬0è¡Œå’Œç¬¬0åˆ—éœ€è¦èµ‹åˆå§‹å€¼ä¸º<code>1e9</code></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i][j]</code>
<ul>
<li>é›†åˆï¼šèµ°åˆ°ç¬¬ <em>i</em> è¡Œç¬¬ <em>j</em> åˆ—æ—¶çš„æœ€ä½é€šè¡Œè´¹</li>
<li>å±æ€§ï¼šminï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜å¯ä»¥æ ¹æ®ä¸Šä¸€æ­¥æ˜¯ä»å“ªä¸ªæ–¹å‘æ¥çš„è¿›è¡Œåˆ’åˆ†
<ul>
<li>é€‰æ‹©ä»åŒ—è¾¹æ¥çš„ï¼š<code>f[i][j] = f[i - 1][j] + arr[i]</code></li>
<li>é€‰æ‹©ä»è¥¿è¾¹æ¥çš„ï¼š<code>f[i][j] = f[i][j - 1] + arr[i]</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i ++) </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= n; j ++)</span><br><span class="line">            f[i][j] = <span class="number">1e9</span>; <span class="comment">// å°†æ‰€æœ‰çš„f[i][j] = 1e9</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j ++)&#123;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; j == <span class="number">1</span>) f[i][j] = x; <span class="comment">// f[1][1] = x</span></span><br><span class="line">            <span class="keyword">else</span> f[i][j] = <span class="built_in">min</span>(f[i - <span class="number">1</span>][j], f[i][j - <span class="number">1</span>]) + x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; f[n][n] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * n )ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ­£æ–¹å½¢å®½åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[][]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š33 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š344 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®3æ–¹æ ¼å–æ•°"><a class="markdownIt-Anchor" href="#é¢˜ç›®3æ–¹æ ¼å–æ•°"></a> é¢˜ç›®3ï¼šæ–¹æ ¼å–æ•°â­</h2>
<p><a href="https://www.acwing.com/problem/content/1029/"> æ–¹æ ¼å–æ•° </a></p>
<h3 id="æ€è·¯-3"><a class="markdownIt-Anchor" href="#æ€è·¯-3"></a> æ€è·¯</h3>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[k][i1][i2]</code>
<ul>
<li>é›†åˆï¼šè¡¨ç¤ºä¸¤æ¡è·¯çº¿åˆ†åˆ«ä»<code>[1][1]</code>ã€<code>[1][1]</code>èµ°åˆ°<code>[i1][k - i1]</code>å’Œ <code>[i2][k - i2]</code>çš„è·¯çº¿çš„æœ€å¤§å€¼æ€»å’Œã€‚å…¶ä¸­ <em>k</em> ä¿è¯äº†ä¸¤æ¡è·¯çº¿çš„åŒæ­¥è¿›è¡Œã€‚</li>
<li>å±æ€§ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜æ ¹æ®ä»ä¸Šä¸€æ­¥èµ°åˆ°å½“å‰ä½ç½®çš„æ“ä½œ
<ul>
<li>ä¸¤æ¡è·¯çº¿èµ°åˆ°åŒä¸€ä½ç½® <code>i1 == i2</code>ï¼šåˆ™åªéœ€è¦åŠ ä¸€æ¬¡ <code>w[i1][j1]</code>ï¼Œå¦åˆ™è¿˜éœ€è¦å†åŠ ä¸Š<code>w[i2][j2]</code>ï¼Œå› æ­¤<code>t = w[i1][j1] || t = w[i1][j1] + w[i2][j2]</code></li>
<li><code>i1</code>ä»ä¸Šå‘ä¸‹ï¼Œ<code>i2</code>ä»ä¸Šå‘ä¸‹ï¼š<code>f[k][i1][i2] = max(f[k][i1][i2], f[k - 1][i1 - 1][i2 - 1] + t)</code></li>
<li><code>i1</code>ä»ä¸Šå‘ä¸‹ï¼Œ<code>i2</code>ä»å·¦å‘å³ï¼š<code>f[k][i1][i2] = max(f[k][i1][i2], f[k - 1][i1 - 1][i2] + t)</code></li>
<li><code>i1</code>ä»å·¦å‘å³ï¼Œ<code>i2</code>ä»ä¸Šå‘ä¸‹ï¼š<code>f[k][i1][i2] = max(f[k][i1][i2], f[k - 1][i1][i2 - 1] + t)</code></li>
<li><code>i1</code>ä»å·¦å‘å³ï¼Œ<code>i2</code>ä»å·¦å‘å³ï¼š<code>f[k][i1][i2] = max(f[k][i1][i2], f[k - 1][i1][i2] + t)</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-3"><a class="markdownIt-Anchor" href="#é¢˜è§£-3"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">15</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> w[N][N];</span><br><span class="line"><span class="type">int</span> f[N * <span class="number">2</span>][N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="type">int</span> a, b, c;</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; a &gt;&gt; b &gt;&gt; c, a || b || c) w[a][b] = c;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">2</span>; k &lt;= n * <span class="number">2</span>; k ++) <span class="comment">// k è¡¨ç¤ºæ¨ªçºµåæ ‡ä¹‹å’Œï¼Œä»(1, 1)åˆ°(n, n)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i1 = <span class="number">1</span>; i1 &lt;= n; i1 ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i2 = <span class="number">1</span>; i2 &lt;= n; i2 ++)&#123;</span><br><span class="line">                <span class="type">int</span> j1 = k - i1, j2 = k - i2; <span class="comment">// è®¡ç®—å‡ºä¸¤æ¡è·¯çº¿å¯¹åº”çš„çºµåæ ‡</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(j1 &gt;= <span class="number">1</span> &amp;&amp; j1 &lt;= n &amp;&amp; j2 &gt;= <span class="number">1</span> &amp;&amp; j2 &lt;= n) &#123; <span class="comment">// çºµåæ ‡éœ€è¦åœ¨åˆæ³•ä½ç½®</span></span><br><span class="line">                    <span class="type">int</span> t = w[i1][j1];</span><br><span class="line">                    <span class="keyword">if</span>(i1 != i2) t += w[i2][j2]; <span class="comment">// è‹¥ä¸¤ä¸ªä½ç½®ä¸é‡åˆï¼Œéœ€è¦åŠ ä¸Šä¸¤ä¸ªä½ç½®ï¼Œå¦åˆ™åŠ ä¸€æ¬¡ä»…å¯</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="type">int</span> &amp;x = f[k][i1][i2]; <span class="comment">// ä½¿ç”¨ x ä»£æ›¿f[k][i1][i2]</span></span><br><span class="line">                    x = <span class="built_in">max</span>(x, f[k - <span class="number">1</span>][i1 - <span class="number">1</span>][i2 - <span class="number">1</span>] + t); <span class="comment">// i1ä¸‹ï¼Œi2ä¸‹</span></span><br><span class="line">                    x = <span class="built_in">max</span>(x, f[k - <span class="number">1</span>][i1 - <span class="number">1</span>][i2] + t); <span class="comment">// i1ä¸‹ï¼Œi2å³</span></span><br><span class="line">                    x = <span class="built_in">max</span>(x, f[k - <span class="number">1</span>][i1][i2 - <span class="number">1</span>] + t); <span class="comment">// i1å³ï¼Œi2ä¸‹</span></span><br><span class="line">                    x = <span class="built_in">max</span>(x, f[k - <span class="number">1</span>][i1][i2] + t); <span class="comment">// i1å³ï¼Œi2å³</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    cout &lt;&lt; f[n + n][n][n] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * n )ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ–¹æ ¼çš„å®½åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * n * n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[][][]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š11 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š216 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š11/11</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®3ä¼ çº¸æ¡"><a class="markdownIt-Anchor" href="#é¢˜ç›®3ä¼ çº¸æ¡"></a> é¢˜ç›®3ï¼šä¼ çº¸æ¡â­</h2>
<p><a href="https://www.acwing.com/problem/content/277/"> ä¼ çº¸æ¡ </a></p>
<h3 id="æ€è·¯-4"><a class="markdownIt-Anchor" href="#æ€è·¯-4"></a> æ€è·¯</h3>
<p>å’Œæ–¹æ ¼å–æ•°çš„è§£é¢˜æ€æƒ³å®Œå…¨ä¸€è‡´</p>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[k][i1][i2]</code>
<ul>
<li>é›†åˆï¼šè¡¨ç¤ºä¸¤æ¡è·¯çº¿åˆ†åˆ«ä»<code>[1][1]</code>ã€<code>[1][1]</code>èµ°åˆ°<code>[i1][k - i1]</code>å’Œ <code>[i2][k - i2]</code>çš„è·¯çº¿çš„æœ€å¤§å€¼æ€»å’Œã€‚å…¶ä¸­ <em>k</em> ä¿è¯äº†ä¸¤æ¡è·¯çº¿çš„åŒæ­¥è¿›è¡Œã€‚</li>
<li>å±æ€§ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜æ ¹æ®ä»ä¸Šä¸€æ­¥èµ°åˆ°å½“å‰ä½ç½®çš„æ“ä½œ
<ul>
<li>ä¸¤æ¡è·¯çº¿èµ°åˆ°åŒä¸€ä½ç½® <code>i1 == i2</code>ï¼šåˆ™åªéœ€è¦åŠ ä¸€æ¬¡ <code>w[i1][j1]</code>ï¼Œå¦åˆ™è¿˜éœ€è¦å†åŠ ä¸Š<code>w[i2][j2]</code>ï¼Œå› æ­¤<code>t = w[i1][j1] || t = w[i1][j1] + w[i2][j2]</code></li>
<li><code>i1</code>ä»ä¸Šå‘ä¸‹ï¼Œ<code>i2</code>ä»ä¸Šå‘ä¸‹ï¼š<code>f[k][i1][i2] = max(f[k][i1][i2], f[k - 1][i1 - 1][i2 - 1] + t)</code></li>
<li><code>i1</code>ä»ä¸Šå‘ä¸‹ï¼Œ<code>i2</code>ä»å·¦å‘å³ï¼š<code>f[k][i1][i2] = max(f[k][i1][i2], f[k - 1][i1 - 1][i2] + t)</code></li>
<li><code>i1</code>ä»å·¦å‘å³ï¼Œ<code>i2</code>ä»ä¸Šå‘ä¸‹ï¼š<code>f[k][i1][i2] = max(f[k][i1][i2], f[k - 1][i1][i2 - 1] + t)</code></li>
<li><code>i1</code>ä»å·¦å‘å³ï¼Œ<code>i2</code>ä»å·¦å‘å³ï¼š<code>f[k][i1][i2] = max(f[k][i1][i2], f[k - 1][i1][i2] + t)</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-4"><a class="markdownIt-Anchor" href="#é¢˜è§£-4"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">55</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> w[N][N];</span><br><span class="line"><span class="type">int</span> f[N * <span class="number">2</span>][N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++)</span><br><span class="line">            cin &gt;&gt; w[i][j];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">2</span>; k &lt;= n + m; k ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i1 = <span class="number">1</span>; i1 &lt;= n; i1 ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i2 = <span class="number">1</span>; i2 &lt;= n; i2 ++) &#123;</span><br><span class="line">                <span class="type">int</span> j1 = k - i1, j2 = k - i2;</span><br><span class="line">                <span class="keyword">if</span>(j1 &gt;= <span class="number">1</span> &amp;&amp; j1 &lt;= m &amp;&amp; j2 &gt;= <span class="number">1</span> &amp;&amp; j2 &lt;= m) &#123;</span><br><span class="line">                    <span class="type">int</span> t = w[i1][j1];</span><br><span class="line">                    <span class="keyword">if</span>(i1 != i2) t += w[i2][j2];</span><br><span class="line">                    <span class="type">int</span> &amp;x = f[k][i1][i2];</span><br><span class="line">                    x = <span class="built_in">max</span>(x, f[k - <span class="number">1</span>][i1 - <span class="number">1</span>][i2 - <span class="number">1</span>] + t);</span><br><span class="line">                    x = <span class="built_in">max</span>(x, f[k - <span class="number">1</span>][i1 - <span class="number">1</span>][i2] + t);</span><br><span class="line">                    x = <span class="built_in">max</span>(x, f[k - <span class="number">1</span>][i1][i2 - <span class="number">1</span>] + t);</span><br><span class="line">                    x = <span class="built_in">max</span>(x, f[k - <span class="number">1</span>][i1][i2] + t);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    cout &lt;&lt; f[n + m][n][n] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m )ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ–¹æ ¼çš„å®½åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * n * n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[][][]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š33 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š1112 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹"><a class="markdownIt-Anchor" href="#æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹"></a> æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹</h1>
<h2 id="é¢˜ç›®1æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ä¼"><a class="markdownIt-Anchor" href="#é¢˜ç›®1æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ä¼"></a> é¢˜ç›®1ï¼šæ€ªç›—åŸºå¾·çš„æ»‘ç¿”ä¼</h2>
<p><a href="https://www.acwing.com/problem/content/1019/"> æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ä¼ </a></p>
<h3 id="æ€è·¯-5"><a class="markdownIt-Anchor" href="#æ€è·¯-5"></a> æ€è·¯</h3>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i]</code>
<ul>
<li>é›†åˆï¼šè¡¨ç¤ºä»¥ç¬¬ <em>i</em> ä¸ªæ•°æ®ç»“å°¾çš„æ•°å€¼ä¸Šå‡å­åºåˆ—çš„é›†åˆ</li>
<li>å±æ€§ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜æ ¹æ®ä¸Šå‡å­åºåˆ—çš„å€’æ•°ç¬¬äºŒä½æ˜¯æ•°ç»„ä¸­çš„ç¬¬å‡ ä¸ªæ•°
<ul>
<li>ç¬¬ <em>i</em> ä¸ªæ•°æ®å°±æ˜¯æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç¬¬ä¸€ä½ï¼Œåˆ™<code>f[i] = 1</code></li>
<li>ç¬¬ <em>j</em> ä¸ªæ•°æ®æ˜¯ä»¥ç¬¬ <em>i</em> ä¸ªæ•°æ®ç»“å°¾çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„å€’æ•°ç¬¬äºŒä¸ªä½ï¼Œåˆ™éœ€è¦æ»¡è¶³ <code>1 &lt;= j &lt;= i &amp;&amp; a[j] &lt; a[i]</code>,åˆ™<code>f[i] = f[j] + 1</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-5"><a class="markdownIt-Anchor" href="#é¢˜è§£-5"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// f[i] è¡¨ç¤ºä»¥ç¬¬iä¸ªæ•°ç»“å°¾çš„æ•°å€¼ä¸Šå‡å­åºåˆ—çš„é›†åˆ  max</span></span><br><span class="line"><span class="comment">// f[i] æŒ‰ç…§å‰ä¸€ä½æ˜¯ç¬¬å‡ ä¸ªæ•°å­—åˆ’åˆ†ï¼Œjä» 1åˆ°iï¼Œ</span></span><br><span class="line"><span class="comment">// f[i] åˆå§‹ä¸º1ï¼Œå‰é¢æ²¡æœ‰æ¯”ç¬¬iä¸ªæ•°å­—å°çš„</span></span><br><span class="line"><span class="comment">// è‹¥a[j] &lt; a[i] åˆ™ f[i] = max(f[i], f[j] + 1);</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> k, n;</span><br><span class="line"><span class="type">int</span> a[N], f[N], d[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; k;</span><br><span class="line">    <span class="keyword">while</span>(k --) &#123;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="type">int</span> resUp = <span class="number">0</span>, resDown = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">            cin &gt;&gt; a[i];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;  <span class="comment">// æ±‚ä¸Šå‡å­åºåˆ—</span></span><br><span class="line">            f[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i] &gt; a[j])</span><br><span class="line">                    f[i] = <span class="built_in">max</span>(f[i], f[j] + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;  <span class="comment">// æ±‚ä¸‹é™å­åºåˆ—</span></span><br><span class="line">            d[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i] &lt; a[j])</span><br><span class="line">                    d[i] = <span class="built_in">max</span>(d[i], d[j] + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">            resUp = <span class="built_in">max</span>(resUp, f[i]);</span><br><span class="line">            resDown = <span class="built_in">max</span>(resDown, d[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; <span class="built_in">max</span>(resDown, resUp) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯å»ºç­‘çš„ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š88 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š344 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2ç™»å±±"><a class="markdownIt-Anchor" href="#é¢˜ç›®2ç™»å±±"></a> é¢˜ç›®2ï¼šç™»å±±â­</h2>
<p><a href="https://www.acwing.com/problem/content/1016/"> ç™»å±± </a></p>
<h3 id="æ€è·¯-6"><a class="markdownIt-Anchor" href="#æ€è·¯-6"></a> æ€è·¯</h3>
<p>æ ¹æ®é¢˜æ„åˆ†æå¯çŸ¥ï¼Œæœ¬é¢˜æ˜¯<strong>å…ˆä¸Šå‡å­åºåˆ—åˆ°æŸä¸ªç‚¹ä¹‹åæ˜¯ä¸‹é™å­åºåˆ—</strong>ï¼Œå› æ­¤éœ€è¦åˆ†åˆ«æ±‚å‡ºä¸Šå‡å­åºåˆ—å’Œä¸‹é™å­åºåˆ—ï¼Œç„¶åéå†ä¸€éï¼Œæ‰¾å‡ºåœ¨æŸä¸ªç‚¹ä¸Šå‡å­åºåˆ—åŠ ä¸Šä¸‹é™å­åºåˆ—å¹¶<strong>å‡ä¸€</strong>æœ€å¤§ï¼Œå› ä¸ºåœ¨æœ€é«˜ç‚¹çš„æ—¶å€™åŠ äº†ä¸¤æ¬¡ã€‚</p>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i]</code>ã€<code>d[i]</code>
<ul>
<li>é›†åˆï¼š<code>f[i]</code>è¡¨ç¤ºä»¥ç¬¬ <em>i</em> ä¸ªæ•°æ®ç»“å°¾çš„æ•°å€¼ä¸Šå‡å­åºåˆ—çš„é›†åˆï¼Œ<code>f[i]</code>è¡¨ç¤ºä»¥ç¬¬ <em>i</em> ä¸ªæ•°æ®å¼€å§‹çš„æ•°å€¼ä¸‹é™å­åºåˆ—çš„é›†åˆï¼ˆå°±æ˜¯ä»åå¾€å‰æ‰¾ä¸Šå‡å­åºåˆ—ï¼‰</li>
<li>å±æ€§ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜æ ¹æ®ä¸Šå‡å­åºåˆ—çš„å€’æ•°ç¬¬äºŒä½æ˜¯æ•°ç»„ä¸­çš„ç¬¬å‡ ä¸ªæ•°
<ul>
<li>ç¬¬ <em>i</em> ä¸ªæ•°æ®å°±æ˜¯æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç¬¬ä¸€ä½ï¼Œåˆ™<code>f[i] = 1</code></li>
<li>ç¬¬ <em>j</em> ä¸ªæ•°æ®æ˜¯ä»¥ç¬¬ <em>i</em> ä¸ªæ•°æ®ç»“å°¾çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„å€’æ•°ç¬¬äºŒä¸ªä½ï¼Œåˆ™éœ€è¦æ»¡è¶³ <code>1 &lt;= j &lt;= i &amp;&amp; a[j] &lt; a[i]</code>,åˆ™<code>f[i] = f[j] + 1</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-6"><a class="markdownIt-Anchor" href="#é¢˜è§£-6"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æœ€å¼€å§‹å¯èƒ½æ˜¯ä¸Šå‡å­åºåˆ—ï¼Œå½“èµ°åˆ°æŸä¸ªç‚¹åï¼Œä¸èƒ½ç»§ç»­ä¸Šå‡äº†ï¼Œè½¬ä¸ºä¸‹é™å­åºåˆ—ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N], f[N], d[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; a[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;  <span class="comment">// ä»å‰å¾€åæ±‚ä¸Šå‡å­åºåˆ—</span></span><br><span class="line">        f[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j ++) </span><br><span class="line">            <span class="keyword">if</span>(a[i] &gt; a[j])</span><br><span class="line">                f[i] = <span class="built_in">max</span>(f[i], f[j] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n; i; i --) &#123;  <span class="comment">// ä»åå¾€å‰æ±‚ä¸Šå‡å­åºåˆ—</span></span><br><span class="line">        d[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = n; j &gt; i; j --)</span><br><span class="line">            <span class="keyword">if</span>(a[i] &gt; a[j])</span><br><span class="line">                d[i] = <span class="built_in">max</span>(d[i], d[j] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) res = <span class="built_in">max</span>(res, f[i] + d[i] - <span class="number">1</span>); <span class="comment">// åœ¨é¡¶ç‚¹ä½ç½®å¤šåŠ äº†1</span></span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ™¯ç‚¹ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š51 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š216 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š11/11 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®3åˆå”±é˜Ÿå½¢"><a class="markdownIt-Anchor" href="#é¢˜ç›®3åˆå”±é˜Ÿå½¢"></a> é¢˜ç›®3ï¼šåˆå”±é˜Ÿå½¢</h2>
<p><a href="https://www.acwing.com/problem/content/484/"> åˆå”±é˜Ÿå½¢ </a></p>
<h3 id="æ€è·¯-7"><a class="markdownIt-Anchor" href="#æ€è·¯-7"></a> æ€è·¯</h3>
<p>å’Œã€é¢˜ç›®2ï¼šç™»å±±ã€‘æ€è·¯å®Œå…¨ä¸€æ ·</p>
<h3 id="é¢˜è§£-7"><a class="markdownIt-Anchor" href="#é¢˜è§£-7"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N], f[N], g[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">        f[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j ++)</span><br><span class="line">            <span class="keyword">if</span>(a[i] &gt; a[j])</span><br><span class="line">                f[i] = <span class="built_in">max</span>(f[i], f[j] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n; i ; i--)&#123;</span><br><span class="line">        g[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = n; j &gt; i; j --)</span><br><span class="line">            <span class="keyword">if</span>(a[i] &gt; a[j])</span><br><span class="line">                g[i] = <span class="built_in">max</span>(g[i], g[j] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) res = <span class="built_in">max</span>(res, f[i] + g[i] - <span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; n - res &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯å­¦ç”Ÿä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š20 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š220 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š11/11 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®4å‹å¥½åŸå¸‚"><a class="markdownIt-Anchor" href="#é¢˜ç›®4å‹å¥½åŸå¸‚"></a> é¢˜ç›®4ï¼šå‹å¥½åŸå¸‚â­</h2>
<p><a href="https://www.acwing.com/problem/content/1014/"> å‹å¥½åŸå¸‚ </a></p>
<h3 id="æ€è·¯-8"><a class="markdownIt-Anchor" href="#æ€è·¯-8"></a> æ€è·¯</h3>
<p><strong>åˆ†æ</strong>ï¼šå»ºé€ çš„æ¡¥äº’ä¸å½±å“ï¼ŒæŒ‰ç…§å·¦è¾¹åŸå¸‚ç¼–å·ä»å°åˆ°å¤§è¿›è¡Œæ’åºåï¼Œä¸è‡ªå·±å¯¹åº”çš„å³è¾¹åŸå¸‚ä¹Ÿåº”è¯¥æ—¶ä»å°åˆ°å¤§çš„ã€‚å¦åˆ™å°±ä¼šäº¤å‰ã€‚</p>
<p>æ‰€ä»¥å¯ä»¥ä½¿ç”¨<code>pair&lt;int, int&gt;</code>è¿›è¡Œä¿å­˜æ¯å¯¹å‹å¥½åŸå¸‚çš„ç¼–å·ï¼Œç„¶åä»¥<code>first</code>è¿›è¡Œæ’åºåï¼Œå¯¹æ’åºåçš„<code>second</code>ç¼–å·æ±‚æœ€é•¿ä¸Šå‡å­åºåˆ—å³å¯ã€‚</p>
<h3 id="é¢˜è§£-8"><a class="markdownIt-Anchor" href="#é¢˜è§£-8"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">PII q[N];</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;q[i].first, &amp;q[i].second);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(q, q + n); <span class="comment">// æŒ‰ç…§å·¦è¾¹çš„æ•°è¿›è¡Œä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">    <span class="type">int</span> res;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++)&#123;</span><br><span class="line">        f[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; i; j ++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(q[i].second &gt; q[j].second)</span><br><span class="line">                f[i] = <span class="built_in">max</span>(f[i], f[j] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        res = <span class="built_in">max</span>(res, f[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯åŸå¸‚ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š284 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š352 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®4æœ€å¤§ä¸Šå‡å­åºåˆ—çš„å’Œ"><a class="markdownIt-Anchor" href="#é¢˜ç›®4æœ€å¤§ä¸Šå‡å­åºåˆ—çš„å’Œ"></a> é¢˜ç›®4ï¼šæœ€å¤§ä¸Šå‡å­åºåˆ—çš„å’Œ</h2>
<p><a href="https://www.acwing.com/problem/content/1018/"> æœ€å¤§ä¸Šå‡å­åºåˆ—çš„å’Œ </a></p>
<h3 id="æ€è·¯-9"><a class="markdownIt-Anchor" href="#æ€è·¯-9"></a> æ€è·¯</h3>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i]</code>
<ul>
<li>é›†åˆï¼šè¡¨ç¤ºä»¥ç¬¬ <em>i</em> ä¸ªæ•°æ®ç»“å°¾çš„æ•°å€¼ä¸Šå‡å­åºåˆ—çš„å’Œ</li>
<li>å±æ€§ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜æ ¹æ®ä¸Šå‡å­åºåˆ—çš„å€’æ•°ç¬¬äºŒä½æ˜¯æ•°ç»„ä¸­çš„ç¬¬å‡ ä¸ªæ•°
<ul>
<li>ç¬¬ <em>i</em> ä¸ªæ•°æ®å°±æ˜¯æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç¬¬ä¸€ä½ï¼Œåˆ™<code>f[i] = 1</code></li>
<li>ç¬¬ <em>j</em> ä¸ªæ•°æ®æ˜¯ä»¥ç¬¬ <em>i</em> ä¸ªæ•°æ®ç»“å°¾çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„å€’æ•°ç¬¬äºŒä¸ªä½ï¼Œåˆ™éœ€è¦æ»¡è¶³ <code>1 &lt;= j &lt;= i &amp;&amp; a[j] &lt; a[i]</code>,åˆ™<code>f[i] = f[j] + a[i]</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-9"><a class="markdownIt-Anchor" href="#é¢˜è§£-9"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¡¨ç¤ºä»¥iç»“å°¾çš„æœ€å¤§ä¸Šå‡å­åºåˆ—çš„å’Œ</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N], f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; a[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">        f[i] = a[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i] &gt; a[j])</span><br><span class="line">                f[i] = <span class="built_in">max</span>(f[i], f[j] + a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) res = <span class="built_in">max</span>(res, f[i]);</span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯åºåˆ—é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š39 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š216 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š11/11 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®5æ‹¦æˆªå¯¼å¼¹"><a class="markdownIt-Anchor" href="#é¢˜ç›®5æ‹¦æˆªå¯¼å¼¹"></a> é¢˜ç›®5ï¼šæ‹¦æˆªå¯¼å¼¹â—</h2>
<h3 id="æ€è·¯-10"><a class="markdownIt-Anchor" href="#æ€è·¯-10"></a> æ€è·¯</h3>
<p>æœ¬é¢˜éš¾ç‚¹ï¼šå¤„ç†æ•°æ®çš„è¾“å…¥ã€ç¬¬äºŒå°é—®</p>
<p>ç¬¬ä¸€å°é—®çš„è§£é¢˜æ€è·¯å°±æ˜¯ ã€æœ€é•¿ä¸Šå‡å­åºåˆ—ã€‘çš„æ ‡å‡†è§£é¢˜æ€è·¯ã€‚</p>
<p>ç¬¬äºŒå°é—®ä¸ç†è§£</p>
<h3 id="é¢˜è§£-10"><a class="markdownIt-Anchor" href="#é¢˜è§£-10"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> h[N], f[N], q[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¤„ç†ä¸€æ•´è¡Œè¾“å…¥</span></span><br><span class="line">    string line;</span><br><span class="line">    <span class="built_in">getline</span>(cin, line);</span><br><span class="line">    <span class="function">stringstream <span class="title">ssin</span><span class="params">(line)</span></span>;</span><br><span class="line">    <span class="keyword">while</span>(ssin &gt;&gt; h[n]) n ++;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// dp</span></span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>, cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">        f[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; i; j ++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(h[j] &gt;= h[i])</span><br><span class="line">                f[i] = <span class="built_in">max</span>(f[i], f[j] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        res = <span class="built_in">max</span>(res, f[i]);  <span class="comment">// è®¡ç®—æœ€å¤šèƒ½æ‹¦æˆªçš„å¯¼å¼¹æ•°</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸å¤ªç†è§£</span></span><br><span class="line">        <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (k &lt; cnt &amp;&amp; q[k] &lt; h[i]) k ++ ;</span><br><span class="line">        <span class="keyword">if</span> (k == cnt) q[cnt ++ ] = h[i];</span><br><span class="line">        <span class="keyword">else</span> q[k] = h[i];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯åºåˆ—é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š39 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š216 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š11/11 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="èƒŒåŒ…æ¨¡å‹"><a class="markdownIt-Anchor" href="#èƒŒåŒ…æ¨¡å‹"></a> èƒŒåŒ…æ¨¡å‹</h1>
<h2 id="é¢˜ç›®1èƒŒåŒ…é—®é¢˜"><a class="markdownIt-Anchor" href="#é¢˜ç›®1èƒŒåŒ…é—®é¢˜"></a> é¢˜ç›®1ï¼šèƒŒåŒ…é—®é¢˜</h2>
<p><a href="https://www.acwing.com/problem/content/2/"> èƒŒåŒ…é—®é¢˜ </a></p>
<h3 id="æ€è·¯-11"><a class="markdownIt-Anchor" href="#æ€è·¯-11"></a> æ€è·¯</h3>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i][j]</code>
<ul>
<li>é›†åˆï¼šåªä»å‰ <em>i</em> ä¸ªç‰©å“ä¸­é€‰æ‹©å¹¶ä¸”æ€»ä½“ç§¯å°äºç­‰äº <em>j</em> çš„æ‰€æœ‰é€‰æ³•ã€‚</li>
<li>å±æ€§ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜å¯ä»¥æ ¹æ®æ˜¯å¦é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“æ¥åˆ’åˆ†
<ul>
<li>ä¸é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“ï¼š<code>f[i][j] = f[i - 1][j]</code></li>
<li>é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“ï¼šå¯ä»¥å…ˆè®¡ç®—ä¸é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“å¹¶ä¸”æ€»ä½“ç§¯ä¸è¶…è¿‡ <code>j - v[i]</code>çš„é€‰æ³•å†åŠ ä¸Šç¬¬ <em>i</em> ä»¶ç‰©å“çš„ä»·å€¼<code>w[i]</code>ã€‚æ‰€ä»¥æœ€åçš„è¡¨ç¤ºä¸ºï¼š <code>f[i][j] = f[i - 1][j - v[i]] + w[i]</code></li>
</ul>
</li>
</ul>
<p><strong>é›†åˆåˆ’åˆ†çš„åŸåˆ™</strong> â­</p>
<ul>
<li>ä¸€èˆ¬åŸåˆ™ï¼šä¸é‡ä¸æ¼ï¼Œä¸é‡ä¸ä¸€å®šéƒ½è¦æ»¡è¶³ï¼ˆä¸€èˆ¬æ±‚æ•°é‡æ—¶è¦æ»¡è¶³ï¼‰</li>
<li>å¦‚ä½•å°†ç°æœ‰çš„é›†åˆåˆ’åˆ†ä¸ºæ›´å°çš„å­é›†ï¼Œä½¿å¾—æ‰€æœ‰çš„å­é›†éƒ½å¯ä»¥è®¡ç®—å‡ºæ¥ã€‚</li>
</ul>
<h3 id="é¢˜è§£-11"><a class="markdownIt-Anchor" href="#é¢˜è§£-11"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">äºŒç»´è¡¨ç¤º</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">ä¸€ç»´è¡¨ç¤º-ä¼˜åŒ–</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;<span class="comment">//nä¸ªç‰©å“ï¼ŒèƒŒåŒ…å®¹é‡æ˜¯m</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            f[i][j] = f[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= v[i])&#123;  <span class="comment">// å½“ç¬¬iä»¶ç‰©å“çš„ä½“ç§¯ä¸è¶…è¿‡jæ—¶</span></span><br><span class="line">                f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - v[i]] + w[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= m; i++)</span><br><span class="line">        res = <span class="built_in">max</span>(res, f[n][i]);</span><br><span class="line">    cout &lt;&lt; res;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯ç‰©å“æ•°å’ŒèƒŒåŒ…ä½“ç§¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š54 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š4184 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = m; v[i] &lt;= j; j --)  <span class="comment">// ä»å¤§åˆ°å°åˆ¤æ–­æ˜¯ä¸ºäº†æ±‚è§£f[j - v[i]] + w[i]æ—¶çš„ä»ç„¶æ—¶i - 1å±‚çš„</span></span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]);</span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯ç‰©å“æ•°å’ŒèƒŒåŒ…ä½“ç§¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š54 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š4184 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2å®Œå…¨èƒŒåŒ…é—®é¢˜"><a class="markdownIt-Anchor" href="#é¢˜ç›®2å®Œå…¨èƒŒåŒ…é—®é¢˜"></a> é¢˜ç›®2ï¼šå®Œå…¨èƒŒåŒ…é—®é¢˜</h2>
<p><a href="https://www.acwing.com/problem/content/3/"> å®Œå…¨èƒŒåŒ…é—®é¢˜ </a></p>
<h3 id="æ€è·¯-12"><a class="markdownIt-Anchor" href="#æ€è·¯-12"></a> æ€è·¯</h3>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i][j]</code>
<ul>
<li><strong>é›†åˆ</strong>ï¼šåªä»å‰ <em>i</em> ä¸ªç‰©å“ä¸­é€‰æ‹©å¹¶ä¸”æ€»ä½“ç§¯å°äºç­‰äº <em>j</em> çš„æ‰€æœ‰é€‰æ³•ã€‚</li>
<li><strong>å±æ€§</strong>ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜å¯ä»¥æ ¹æ®é€‰æ‹© <em>k</em> ä¸ªç¬¬ <em>i</em> ä»¶ç‰©å“æ¥åˆ’åˆ†
<ul>
<li>é€‰æ‹©ç¬¬ <em>k</em> ä¸ªç¬¬ <em>i</em> ä»¶ç‰©å“ï¼šå’Œ <strong>èƒŒåŒ…é—®é¢˜</strong> ä¸­çš„é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“ç±»ä¼¼ï¼Œ<code>f[i][j] = f[i - 1][j - k * v[i]] + k * w[i]</code>ï¼Œå…¶ä¸­ <code>k âˆˆ &#123;0, 1, 2, ..., s[i]&#125;</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-12"><a class="markdownIt-Anchor" href="#é¢˜è§£-12"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">ä¸‰é‡å¾ªç¯-TLE</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">åŒé‡å¾ªç¯-äºŒç»´è¡¨ç¤º</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">åŒé‡å¾ªç¯-ä¸€ç»´è¡¨ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">   	</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k * v[i] &lt;= j; k ++)&#123;  <span class="comment">// éå†ç¬¬iä¸ªç‰©å“çš„é€‰æ‹©ä¸ªæ•°</span></span><br><span class="line">                f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - k * v[i]] + k * w[i]);</span><br><span class="line">            &#125;</span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯ç‰©å“æ•°å’ŒèƒŒåŒ…ä½“ç§¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š54 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š4184 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j ++)&#123;</span><br><span class="line">            f[i][j] = f[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= v[i])</span><br><span class="line">                f[i][j] = <span class="built_in">max</span>(f[i][j], f[i][j - v[i]] + w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯ç‰©å“æ•°å’ŒèƒŒåŒ…ä½“ç§¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š54 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š4184 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = v[i]; j &lt;= m; j ++)</span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]);</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯ç‰©å“æ•°å’ŒèƒŒåŒ…ä½“ç§¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š54 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š4184 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®3é‡‡è¯"><a class="markdownIt-Anchor" href="#é¢˜ç›®3é‡‡è¯"></a> é¢˜ç›®3ï¼šé‡‡è¯</h2>
<p><a href="https://www.acwing.com/problem/content/submission/425/"> é‡‡è¯ </a></p>
<h3 id="æ€è·¯-13"><a class="markdownIt-Anchor" href="#æ€è·¯-13"></a> æ€è·¯</h3>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i][j]</code>
<ul>
<li>é›†åˆï¼šåªä»å‰ <em>i</em> ä¸ªç‰©å“ä¸­é€‰æ‹©å¹¶ä¸”æ€»ä½“ç§¯å°äºç­‰äº <em>j</em> çš„æ‰€æœ‰é€‰æ³•ã€‚</li>
<li>å±æ€§ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜å¯ä»¥æ ¹æ®æ˜¯å¦é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“æ¥åˆ’åˆ†
<ul>
<li>ä¸é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“ï¼š<code>f[i][j] = f[i - 1][j]</code></li>
<li>é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“ï¼šå¯ä»¥å…ˆè®¡ç®—ä¸é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“å¹¶ä¸”æ€»ä½“ç§¯ä¸è¶…è¿‡ <code>j - v[i]</code>çš„é€‰æ³•å†åŠ ä¸Šç¬¬ <em>i</em> ä»¶ç‰©å“çš„ä»·å€¼<code>w[i]</code>ã€‚æ‰€ä»¥æœ€åçš„è¡¨ç¤ºä¸ºï¼š <code>f[i][j] = f[i - 1][j - v[i]] + w[i]</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-13"><a class="markdownIt-Anchor" href="#é¢˜è§£-13"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">äºŒç»´è¡¨ç¤º</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">ä¸€ç»´è¡¨ç¤º-ä¼˜åŒ–</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;<span class="comment">//nä¸ªç‰©å“ï¼ŒèƒŒåŒ…å®¹é‡æ˜¯m</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            f[i][j] = f[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= v[i])&#123;  <span class="comment">// å½“ç¬¬iä»¶ç‰©å“çš„ä½“ç§¯ä¸è¶…è¿‡jæ—¶</span></span><br><span class="line">                f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - v[i]] + w[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= m; i++)</span><br><span class="line">        res = <span class="built_in">max</span>(res, f[n][i]);</span><br><span class="line">    cout &lt;&lt; res;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯ç‰©å“æ•°å’ŒèƒŒåŒ…ä½“ç§¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š18 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š604 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>, M = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> w[N], v[N];</span><br><span class="line"><span class="type">int</span> f[M];  <span class="comment">// f[i][j] è¡¨ç¤ºæ‹¿åˆ°ç¬¬iä¸ªç‰©å“å¹¶ä¸”æ€»é‡é‡ä¸è¶…è¿‡jçš„ä»·å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; m &gt;&gt; n;  <span class="comment">// nï¼šæ€»ä½“ç§¯ï¼Œ mï¼šç‰©å“ä¸ªæ•°</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= v[i]; j --) &#123; <span class="comment">// æ€»ä½“ç§¯</span></span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]);  <span class="comment">// æ‹¿ç¬¬iä¸ªç‰©å“</span></span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯ç‰©å“æ•°å’ŒèƒŒåŒ…ä½“ç§¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š18 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š220 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®4è£…ç®±é—®é¢˜"><a class="markdownIt-Anchor" href="#é¢˜ç›®4è£…ç®±é—®é¢˜"></a> é¢˜ç›®4ï¼šè£…ç®±é—®é¢˜</h2>
<p><a href="https://www.acwing.com/problem/content/1026/"> è£…ç®±é—®é¢˜ </a></p>
<h3 id="æ€è·¯-14"><a class="markdownIt-Anchor" href="#æ€è·¯-14"></a> æ€è·¯</h3>
<p>åŸºç¡€ ã€01èƒŒåŒ…ã€‘é—®é¢˜</p>
<h3 id="é¢˜è§£-14"><a class="markdownIt-Anchor" href="#é¢˜è§£-14"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">ä¸€ç»´è¡¨ç¤º-ä¼˜åŒ–</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">40</span>, V = <span class="number">20010</span>;</span><br><span class="line"><span class="type">int</span> n, m; <span class="comment">// n ç‰©å“ä¸ªæ•°</span></span><br><span class="line"><span class="type">int</span> v[N];</span><br><span class="line"><span class="type">int</span> f[V]; <span class="comment">// f[j]è¡¨ç¤ºæ€»ä½“ç§¯ä¸è¶…è¿‡jçš„ç‰©å“æ€»ä½“ç§¯ï¼Œæœ€å¤§å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; m &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i];</span><br><span class="line">    <span class="comment">// for(int i = 0; i &lt;= m; i ++) f[i] = n;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= v[i]; j --)&#123;</span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + v[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    cout &lt;&lt; m - f[m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯ç‰©å“æ•°å’ŒèƒŒåŒ…ä½“ç§¯</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š19 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š344 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š8/8 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®5å® ç‰©å°ç²¾çµä¹‹æ”¶æœ"><a class="markdownIt-Anchor" href="#é¢˜ç›®5å® ç‰©å°ç²¾çµä¹‹æ”¶æœ"></a> é¢˜ç›®5ï¼šå® ç‰©å°ç²¾çµä¹‹æ”¶æœâ­â­</h2>
<p><a href="https://www.acwing.com/problem/content/1024/"> å® ç‰©å°ç²¾çµä¹‹æ”¶æœ </a></p>
<h3 id="æ€è·¯-15"><a class="markdownIt-Anchor" href="#æ€è·¯-15"></a> æ€è·¯</h3>
<p><strong>ã€äºŒç»´01èƒŒåŒ…é—®é¢˜ã€‘</strong></p>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i][j][k]</code>
<ul>
<li>é›†åˆï¼šåªä»å‰ <em>i</em> ä¸ªç‰©å“ä¸­é€‰æ‹© å¹¶ä¸” èŠ±è´¹1å°äºç­‰äº <em>j</em>  å¹¶ä¸” èŠ±è´¹2ä¸è¶…è¿‡ <em>k</em> çš„æ‰€æœ‰é€‰æ³•ã€‚ ä¸‹é¢çš„é¢˜è§£æŒ‰ç…§01èƒŒåŒ…é—®é¢˜çš„ä¼˜åŒ–æ–¹æ³•è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæ‰€ä»¥åªéœ€è¦äºŒç»´ã€‚</li>
<li>å±æ€§ï¼šmaxï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œæ•°é‡ï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜å¯ä»¥æ ¹æ®æ˜¯å¦é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“æ¥åˆ’åˆ†
<ul>
<li>ä¸é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“ï¼š<code>f[i][j][k] = f[i - 1][j][k]</code></li>
<li>é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“ï¼šå¯ä»¥å…ˆè®¡ç®—ä¸é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“å¹¶ä¸”æ€»ä½“ç§¯ä¸è¶…è¿‡ <code>j - v[i]</code>çš„é€‰æ³•å†åŠ ä¸Šç¬¬ <em>i</em> ä»¶ç‰©å“çš„ä»·å€¼<code>w[i]</code>ã€‚æ‰€ä»¥æœ€åçš„è¡¨ç¤ºä¸ºï¼š <code>f[i][j][k] = f[i - 1][j - v1[i]][k - v2[i]] + w[i]</code></li>
</ul>
</li>
</ul>
<p>å¦å¤–æœ¬é¢˜å­˜åœ¨é™·é˜±ï¼Œå½“ç²¾é›¶ä½“åŠ›å€¼å°äºç­‰äº0æ—¶ä¸èƒ½è¢«æŠ“ï¼Œæ‰€ä»¥æœ€åè¾“å‡ºçš„ç»“æœæ˜¯ <code>f[m][t - 1]</code>ï¼Œè‡³å°‘ä¿ç•™ä¸€æ»´ä½“åŠ›ã€‚</p>
<h3 id="é¢˜è§£-15"><a class="markdownIt-Anchor" href="#é¢˜è§£-15"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">äºŒç»´è¡¨ç¤º-ä¼˜åŒ–</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>, M = <span class="number">1010</span>, K = <span class="number">510</span>;</span><br><span class="line"><span class="type">int</span> m, t, n; <span class="comment">// mç²¾çµçƒæ•°é‡ï¼Œtåˆå§‹ä½“åŠ›å€¼ï¼Œnå°ç²¾çµæ•°é‡</span></span><br><span class="line"><span class="type">int</span> v1[N], v2[N]; <span class="comment">// v1éœ€è¦çš„ç²¾çµçƒæ•°ï¼Œv2å¯¹çš®å¡ä¸˜é€ æˆçš„ä¼¤å®³</span></span><br><span class="line"><span class="type">int</span> f[M][K]; </span><br><span class="line"><span class="comment">// f[i][j][k] è¡¨ç¤ºåªä»å‰iä¸ªæ•°ä¸­é€‰æ‹©å¹¶ä¸”èŠ±è´¹1ä¸è¶…è¿‡jå¹¶ä¸”èŠ±è´¹2ä¸è¶…è¿‡kçš„æ‰€æœ‰é€‰æ³•çš„æœ€å¤§å€¼ã€‚</span></span><br><span class="line"><span class="comment">// ä¼˜åŒ–ä¸€ç»´ï¼Œå˜æˆä¸¤ç»´ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; m &gt;&gt; t &gt;&gt; n;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v1[i] &gt;&gt; v2[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//dp</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= v1[i]; j --)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = t - <span class="number">1</span>; k &gt;= v2[i]; k --) &#123;</span><br><span class="line">                f[j][k] = <span class="built_in">max</span>(f[j][k], f[j - v1[i]][k - v2[i]] + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">    cout &lt;&lt; f[m][t - <span class="number">1</span>] &lt;&lt; <span class="string">&quot; &quot;</span>;  <span class="comment">// å› ä¸ºç²¾çµä½“åŠ›å°äºç­‰äº0ä¹Ÿä¸ä¼šè¢«æ”¶æœï¼Œæ‰€ä»¥éœ€è¦t - 1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æ‰¾åˆ°æ»¡è¶³ æœ€å¤§ä»·å€¼ çš„æ‰€æœ‰çŠ¶æ€é‡Œï¼Œç¬¬äºŒç»´è´¹ç”¨æ¶ˆè€—æœ€å°‘çš„</span></span><br><span class="line">    <span class="type">int</span> const_health = t;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt;= t - <span class="number">1</span>; k ++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(f[m][k] == f[m][t - <span class="number">1</span>]) &#123; </span><br><span class="line">            const_health = <span class="built_in">min</span>(const_health, k);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; t - const_health &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m * t)ï¼Œå…¶ä¸­ mç²¾çµçƒæ•°é‡ï¼Œtåˆå§‹ä½“åŠ›å€¼ï¼Œnå°ç²¾çµæ•°é‡</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(m * k)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š841 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š2268 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š13/13 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®6æ•°å­—ç»„åˆ"><a class="markdownIt-Anchor" href="#é¢˜ç›®6æ•°å­—ç»„åˆ"></a> é¢˜ç›®6ï¼šæ•°å­—ç»„åˆâ­</h2>
<p><a href="https://www.acwing.com/problem/content/280/"> æ•°å­—ç»„åˆ </a></p>
<h3 id="æ€è·¯-16"><a class="markdownIt-Anchor" href="#æ€è·¯-16"></a> æ€è·¯</h3>
<p>æœ¬é¢˜å’Œä¸Šé¢ã€01èƒŒåŒ…é—®é¢˜ã€‘ä¸åŒçš„ç‚¹æ˜¯<strong>å±æ€§</strong>ï¼Œæœ¬é¢˜æ±‚è§£çš„<strong>å±æ€§</strong>æ˜¯æ•°é‡<code>count</code></p>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i][j]</code>
<ul>
<li>é›†åˆï¼šåªä»å‰ <em>i</em> ä¸ªç‰©å“ä¸­é€‰æ‹©å¹¶ä¸”æ€»ä½“ç§¯å°äºç­‰äº <em>j</em> çš„æ‰€æœ‰é€‰æ³•ã€‚</li>
<li>å±æ€§ï¼šcountï¼Œï¼ˆå±æ€§çš„é€‰æ‹©æœ‰ï¼šmaxï¼Œminï¼Œcountï¼‰</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šçŠ¶æ€è®¡ç®—çš„å®è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œæœ¬é¢˜å¯ä»¥æ ¹æ®æ˜¯å¦é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“æ¥åˆ’åˆ†
<ul>
<li>ä¸é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“ï¼š<code>f[i][j] = f[i - 1][j]</code></li>
<li>é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“ï¼šå¯ä»¥å…ˆè®¡ç®—ä¸é€‰æ‹©ç¬¬ <em>i</em> ä»¶ç‰©å“å¹¶ä¸”æ€»ä½“ç§¯ä¸è¶…è¿‡ <code>j - v[i]</code>çš„é€‰æ³•ã€‚æ‰€ä»¥æœ€åçš„è¡¨ç¤ºä¸ºï¼š <code>f[i][j] = f[i - 1][j - v[i]]</code></li>
<li>æ‰€ä»¥<code>f[i][j] = f[i - 1][j] + f[i - 1][j - v[i]]</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-16"><a class="markdownIt-Anchor" href="#é¢˜è§£-16"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">äºŒç»´</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åªä»å‰iä¸ªç‰©å“ä¸­é€‰å¹¶ä¸”æ°å¥½æ˜¯jçš„ æ•°é‡</span></span><br><span class="line"><span class="comment">// å±æ€§ï¼šæ•°é‡</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>, M = <span class="number">10010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> f[M];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; a[i];</span><br><span class="line">    </span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">1</span>; <span class="comment">// f[0][0] = 1; ç©ºé›†</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= a[i]; j --)&#123;</span><br><span class="line">            f[j] = f[j] + f[j - a[i]];  <span class="comment">// ä¸é€‰ç¬¬iä¸ª + é€‰ç¬¬iä¸ª</span></span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; f[m];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ n æ˜¯æ•´æ•°ä¸ªæ•°ï¼Œm æ˜¯ç›®æ ‡å’Œ</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(m)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š15 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š344 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š11/11 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®7ä¹°ä¹¦"><a class="markdownIt-Anchor" href="#é¢˜ç›®7ä¹°ä¹¦"></a> é¢˜ç›®7ï¼šä¹°ä¹¦</h2>
<h3 id="æ€è·¯-17"><a class="markdownIt-Anchor" href="#æ€è·¯-17"></a> æ€è·¯</h3>
<p>å’Œ ã€æ•°å­—ç»„åˆã€‘æ€è·¯ç±»ä¼¼ï¼Œéœ€è¦æ˜ç¡®èƒŒåŒ…çš„ä½“ç§¯ï¼šå°æ˜æ‹¥æœ‰çš„é’±æ•°ï¼Œæ¯ä¸ªç‰©å“çš„ä½“ç§¯ï¼šæ¯æœ¬ä¹¦çš„ä»·æ ¼ã€‚</p>
<h3 id="é¢˜è§£-17"><a class="markdownIt-Anchor" href="#é¢˜è§£-17"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">äºŒç»´</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">50</span>, <span class="number">100</span>&#125;;</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span>; i ++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = a[i]; j &lt;= n; j ++)</span><br><span class="line">            f[j] = f[j] + f[j - a[i]];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; f[n];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n)ï¼Œå…¶ä¸­ n æ˜¯å°æ˜æ‹¥æœ‰çš„é’±æ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(m)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š15 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š216 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®8è´§å¸ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#é¢˜ç›®8è´§å¸ç³»ç»Ÿ"></a> é¢˜ç›®8ï¼šè´§å¸ç³»ç»Ÿ</h2>
<h3 id="æ€è·¯-18"><a class="markdownIt-Anchor" href="#æ€è·¯-18"></a> æ€è·¯</h3>
<p>å’Œ ã€æ•°å­—ç»„åˆã€‘æ€è·¯ç±»ä¼¼ï¼Œéœ€è¦æ˜ç¡®èƒŒåŒ…çš„ä½“ç§¯ï¼šéœ€è¦ç»„æˆçš„é¢å€¼mï¼Œæ¯ä¸ªç‰©å“çš„ä½“ç§¯ï¼šæ¯ä¸ªè´§å¸çš„é¢å€¼ï¼Œç‰©ç§æ•°é‡ï¼šn</p>
<h3 id="é¢˜è§£-18"><a class="markdownIt-Anchor" href="#é¢˜è§£-18"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">äºŒç»´</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">20</span>, M = <span class="number">3010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line">ll f[M];  <span class="comment">// f[j] è¡¨ç¤ºé¢å€¼ä¸ºjçš„æ–¹æ¡ˆæ•°ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; a[i];</span><br><span class="line">    </span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = a[i]; j &lt;= m; j ++)</span><br><span class="line">            f[j] += f[j - a[i]];</span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * m)ï¼Œå…¶ä¸­ n æ˜¯è´§å¸ç§ç±»æ•°ï¼Œmæ˜¯é¢å€¼</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(m)</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š12 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š220 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š11/11 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="çŠ¶æ€æœºæ¨¡å‹"><a class="markdownIt-Anchor" href="#çŠ¶æ€æœºæ¨¡å‹"></a> çŠ¶æ€æœºæ¨¡å‹</h1>
<h1 id="çŠ¶æ€å‹ç¼©dp"><a class="markdownIt-Anchor" href="#çŠ¶æ€å‹ç¼©dp"></a> çŠ¶æ€å‹ç¼©DP</h1>
<p><strong>çŠ¶æ€å‹ç¼©DP</strong></p>
<ul>
<li>æ£‹ç›˜å¼ï¼ˆåŸºäºè¿é€šæ€§ï¼‰</li>
<li>é›†åˆ</li>
</ul>
<h1 id="åŒºé—´dp"><a class="markdownIt-Anchor" href="#åŒºé—´dp"></a> åŒºé—´DP</h1>
<h2 id="é¢˜ç›®1çŸ³å­åˆå¹¶"><a class="markdownIt-Anchor" href="#é¢˜ç›®1çŸ³å­åˆå¹¶"></a> é¢˜ç›®1ï¼šçŸ³å­åˆå¹¶</h2>
<p><a href="https://www.acwing.com/problem/content/284/">çŸ³å­åˆå¹¶</a></p>
<h3 id="æ€è·¯-19"><a class="markdownIt-Anchor" href="#æ€è·¯-19"></a> æ€è·¯</h3>
<p><strong>åŠ¨æ€è§„åˆ’åˆ†æ</strong></p>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š<code>f[i][j]</code>
<ul>
<li><strong>é›†åˆ</strong>ï¼šæ‰€æœ‰å°†ç¬¬ <em>i</em> å †çŸ³å­åˆ°ç¬¬ <em>j</em> å †çŸ³å­åˆå¹¶æˆä¸€å †çŸ³å­çš„åˆå¹¶æ–¹å¼</li>
<li><strong>å±æ€§</strong>ï¼šmin</li>
</ul>
</li>
<li><strong>çŠ¶æ€è®¡ç®—</strong>ï¼šæœ¬è´¨å°±æ˜¯ <strong>é›†åˆåˆ’åˆ†</strong> ï¼Œä»¥åˆ†ç•Œçº¿çš„ä½ç½®è¿›è¡Œåˆ†ç±»ã€‚
<ul>
<li>å°†åŒºé—´åˆ†ä¸º<code>f[i][k]</code> å’Œ <code>f[k + 1][j]</code>ï¼Œåˆ™æ€»ä»£ä»·ä¸º<code>f[i][k] + f[k + 1][j] +s[j] - s[i - 1]</code>ï¼Œ <code>s[]</code>ä¸ºå‰ç¼€å’Œæ•°ç»„</li>
<li><code>f[i][j] = main(f[i][k] + f[k + 1][j] +s[j] - s[i - 1])</code>ï¼Œ<code>k âˆˆ &#123; i ~ j -1 &#125;</code></li>
</ul>
</li>
</ul>
<h3 id="é¢˜è§£-19"><a class="markdownIt-Anchor" href="#é¢˜è§£-19"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">åŒºé—´DP</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> s[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; s[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) s[i] += s[i - <span class="number">1</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len = <span class="number">2</span>; len &lt;= n; len ++) <span class="comment">// éå†éœ€è¦è®¡ç®—çš„çŸ³å­çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i + len - <span class="number">1</span> &lt;= n; i ++)&#123; <span class="comment">// éå†å½“å‰å †ä¸­çš„å·¦å³è¾¹ç•Œ</span></span><br><span class="line">            <span class="type">int</span> l = i, r = i + len - <span class="number">1</span>;</span><br><span class="line">            f[l][r] = <span class="number">1e9</span>; <span class="comment">// åˆå§‹è¯f[][]æ•°ç»„</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = l; k &lt; r; k ++) &#123; <span class="comment">// åœ¨å·¦å³è¾¹ç•Œå†…å†å°†çŸ³å­åˆ’åˆ†ä¸ºä¸¤å †</span></span><br><span class="line">                f[l][r] = <span class="built_in">min</span>(f[l][r], f[l][k] + f[k + <span class="number">1</span>][r] + s[r] - s[l - <span class="number">1</span>]); </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    cout &lt;&lt; f[<span class="number">1</span>][n] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n ^ 3)ï¼Œå…¶ä¸­ <em>n</em> æ˜¯çŸ³å­çš„ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ä¿å­˜çŠ¶æ€<code>f[][]</code></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š157 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š1368 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š11/11</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>AcWing</category>
        <category>Course</category>
        <category>åŠ¨æ€è§„åˆ’</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>LeetCode</tag>
        <tag>DP</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•æé«˜è¯¾ - æœç´¢</title>
    <url>/2022/09/01/AcWing/Search/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ å¹³å°"><a class="markdownIt-Anchor" href="#å­¦ä¹ å¹³å°"></a> å­¦ä¹ å¹³å°</h1>
<p><a href="https://www.acwing.com/about/"> AcWing </a> ã€ <a href="https://leetcode.cn/"> LeetCode </a></p>
<p>ğŸ’¡ï¼šæ¨¡æ¿é¢˜ã€â­ï¼šç»å…¸é¢˜ï¼Œç±»å‹ä¸å¤ªä¸€æ ·ã€â—ï¼šéš¾é¢˜ï¼Œå­˜åœ¨ä¸ç†è§£</p>
<h1 id="flood-fill"><a class="markdownIt-Anchor" href="#flood-fill"></a> Flood Fill</h1>
<blockquote>
<p>é¡¾åæ€ä¹‰ä¸ºæ´ªæ°´è¦†ç›–æ³•ï¼Œæ¯æ¬¡æŠŠç»è¿‡éå†çš„ç‚¹çœ‹ä½œå·²ç»è¢«è¦†ç›–çš„ç‚¹ï¼Œç„¶åæ ¹æ®é¢˜ç›®è¦æ±‚å‘å‘¨å›´æ²¡æœ‰éå†çš„ç‚¹æ‰©å±•å³å¯ã€‚</p>
</blockquote>
<p>ä¸»è¦æ˜¯é€šè¿‡<code>bfs</code>æ±‚è§£æ˜¯å¦è¿é€šé—®é¢˜ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æ±‚è§£è¿é€šå›¾çš„æ•°é‡æˆ–è€…å¤§å°ï¼Œåªéœ€è¦è¿›è¡Œå˜å½¢å³å¯ã€‚</p>
<p>ä¸ºä»€ä¹ˆä»ä¸€ä¸ªç‚¹å¼€å§‹éå†ä½¿ç”¨<code>bfs</code>éå†åˆ°ç›®æ ‡èŠ‚ç‚¹æ—¶ï¼Œå³ä¸ºæœ€çŸ­è·ç¦»ï¼š</p>
<p>é˜Ÿåˆ—çš„æ€§è´¨ï¼š<strong>ä¸¤æ®µæ€§</strong> ï¼ˆä¾‹å¦‚æ•°çš„çš„å±‚åºéå†ï¼Œé˜Ÿåˆ—ä¸­<strong>æœ€å¤š</strong>åªå­˜ç›¸é‚»ä¸¤å±‚ä¸­çš„å…ƒç´ ï¼‰ã€<strong>å•è°ƒæ€§</strong></p>
<h2 id="é¢˜ç›®1æ± å¡˜è®¡æ•°"><a class="markdownIt-Anchor" href="#é¢˜ç›®1æ± å¡˜è®¡æ•°"></a> é¢˜ç›®1ï¼šæ± å¡˜è®¡æ•° ğŸ’¡</h2>
<p><a href="https://www.acwing.com/activity/content/problem/content/1468/"> æ± å¡˜è®¡æ•° </a></p>
<h3 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h3>
<p>æœ¬é¢˜ä¸º<strong>å…«è¿é€šé—®é¢˜</strong>ï¼Œå³ä¸€ä¸ªç‚¹çš„è¿é€šç‚¹æœ‰å…«ä¸ªæ–¹å‘ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨åŒé‡<code>for</code>å¾ªç¯éå†è¿™å…«ä¸ªç‚¹ï¼Œç‰¹åˆ«æ³¨æ„ï¼Œéœ€è¦å°†è‡ªå·±â€æ‰£æ‰â€œã€‚</p>
<p>æœ¬é¢˜çš„å±æ€§æ˜¯ï¼šæ•°é‡ï¼Œå³ä¸ºè®¡ç®—è¿é€šåŒºåŸŸçš„æ•°é‡ã€‚å› æ­¤çŠ¶æ€æ•°ç»„<code>st[][]</code>ä½¿ç”¨<code>bool</code>ç±»å‹å³å¯</p>
<p>éœ€è¦ç”¨åˆ°çš„æ•°ç»„ï¼š</p>
<ul>
<li><code>g[][]</code>ï¼šä¿å­˜åŸæ¥çš„åœ°å›¾</li>
<li><code>q[][]</code>ï¼š<code>pair&lt;int, int&gt;</code>ç±»å‹æ•°ç»„ï¼Œä¸»è¦ç”¨äºæ¨¡æ‹Ÿé˜Ÿåˆ—ï¼Œæ¯æ¬¡éå†ä¸€ä¸ªç‚¹ï¼Œå°†è¯¥ç‚¹çš„æ¨ªçºµåæ ‡å­˜å…¥é˜Ÿåˆ—ä¸­ã€‚</li>
<li><code>st[][]</code>ï¼šçŠ¶æ€æ•°ç»„ï¼Œç”¨æ¥è®°å½•æŸä¸ªä½ç½®çš„ç‚¹æ˜¯å¦è¢«éå†è¿‡ã€‚</li>
</ul>
<h3 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">char</span> g[N][N];</span><br><span class="line">PII que[N * N]; <span class="comment">// å­˜æ”¾æ˜¯æ°´çš„åæ ‡</span></span><br><span class="line"><span class="type">bool</span> used[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> sx, <span class="type">int</span> sy)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">0</span>; <span class="comment">// hhé˜Ÿå¤´æŒ‡é’ˆï¼Œtté˜Ÿå°¾æŒ‡é’ˆ</span></span><br><span class="line">    que[<span class="number">0</span>] = &#123;sx, sy&#125;;</span><br><span class="line">    used[sx][sy] = <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(hh &lt;= tt) &#123; <span class="comment">// å½“é˜Ÿåˆ—ä¸ç©º</span></span><br><span class="line">        PII t = que[hh ++]; <span class="comment">// å°†é˜Ÿå¤´å…ƒç´ å–å‡ºå¹¶ä¸”å‡ºé˜Ÿ</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = t.x - <span class="number">1</span>; i &lt;= t.x + <span class="number">1</span>; i ++) <span class="comment">// éå†3 * 3çš„åŒºé—´èŒƒå›´</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = t.y - <span class="number">1</span>; j &lt;= t.y + <span class="number">1</span>; j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i == t.x &amp;&amp; j == t.y) <span class="keyword">continue</span>; <span class="comment">// å°†è‡ªå·±å»æ‰</span></span><br><span class="line">                <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt;= n || j &lt; <span class="number">0</span> || j &gt;= m) <span class="keyword">continue</span>; <span class="comment">// å‡ºç•Œ</span></span><br><span class="line">                <span class="keyword">if</span>(g[i][j] == <span class="string">&#x27;.&#x27;</span> || used[i][j]) <span class="keyword">continue</span>; <span class="comment">// å¦‚æœå½“å‰ç‚¹ä¸æ˜¯æ°´å‘ï¼Œæˆ–è€…å·²ç»è¢«éå†è¿‡äº†</span></span><br><span class="line">                </span><br><span class="line">                que[++ tt] = &#123;i, j&#125;;  <span class="comment">// å°†è¯¥ç‚¹å…¥é˜Ÿ</span></span><br><span class="line">                used[i][j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, g[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j ++)</span><br><span class="line">            <span class="keyword">if</span>(g[i][j] == <span class="string">&#x27;W&#x27;</span> &amp;&amp; !used[i][j]) &#123; <span class="comment">// å¦‚æœå½“å‰ä½ç½®æ˜¯æ°´å‘å¹¶ä¸”æ²¡æœ‰è¢«åˆ¤æ–­è¿‡</span></span><br><span class="line">                <span class="built_in">bfs</span>(i, j);  <span class="comment">// éå†å’Œè¯¥æ°´å‘è¿é€šçš„æ‰€æœ‰æ°´å‘ã€‚</span></span><br><span class="line">                cnt ++;</span><br><span class="line">            &#125;</span><br><span class="line">    cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * a * b )ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°æ®çš„ç»„æ•°ï¼Œ<em>a</em> æ˜¯æ¯ç»„æ•°æ®çš„è¡Œæ•°ï¼Œ<em>b</em> æ˜¯æ¯ç»„æ•°æ®çš„åˆ—æ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œæ¨¡æ‹Ÿé˜Ÿåˆ—æœ€åæƒ…å†µå­˜æ”¾æ‰€æœ‰çš„ç‚¹</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š328 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š7392 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2åŸå ¡é—®é¢˜"><a class="markdownIt-Anchor" href="#é¢˜ç›®2åŸå ¡é—®é¢˜"></a> é¢˜ç›®2ï¼šåŸå ¡é—®é¢˜</h2>
<p><a href="https://www.acwing.com/problem/content/1100/">åŸå ¡é—®é¢˜</a></p>
<h3 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯</h3>
<p>æ±‚æˆ¿é—´æ€»æ•°çš„æ€è·¯å’Œã€æ± å¡˜è®¡æ•°ã€‘å®Œå…¨ç›¸åŒï¼Œæœ¬é¢˜ä¸º4è¿é€šé—®é¢˜ã€‚è¾“å‡ºæœ€å¤§æˆ¿é—´çš„é¢ç§¯ï¼Œæ¯æ¬¡å‡ºé˜Ÿåˆ™å½“å‰æˆ¿é—´é¢ç§¯+1ã€‚å–æœ€å¤§å€¼å³å¯ã€‚</p>
<h3 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1è¥¿ï¼Œ2åŒ—ï¼Œ4ä¸œï¼Œ8å—</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">55</span>, M = N * N;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> g[N][N];</span><br><span class="line">PII q[M];</span><br><span class="line"><span class="type">bool</span> st[N][N]; <span class="comment">// æ¯ä¸ªç‚¹çš„çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> sx, <span class="type">int</span> sy)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">0</span>; <span class="comment">// é˜Ÿå¤´æŒ‡é’ˆ, é˜Ÿå°¾æŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">int</span> area = <span class="number">0</span>; <span class="comment">// è¿é€šå—çš„é¢ç§¯</span></span><br><span class="line">    </span><br><span class="line">    q[<span class="number">0</span>] = &#123;sx, sy&#125;;</span><br><span class="line">    st[sx][sy] = <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(hh &lt;= tt) &#123;</span><br><span class="line">        PII t = q[hh ++]; <span class="comment">// å–å‡ºé˜Ÿå¤´å…ƒç´ </span></span><br><span class="line">        area ++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++)&#123;</span><br><span class="line">            <span class="type">int</span> a = t.x + dx[i], b = t.y + dy[i]; <span class="comment">// [a][b]åˆ†åˆ«æ˜¯ä¸Šä¸‹å·¦å³æ˜¯ä¸ªæˆ¿é—´</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(a &lt; <span class="number">0</span> || a &gt;= m || b &lt; <span class="number">0</span> || b &gt;= n) <span class="keyword">continue</span>;  <span class="comment">// è¶Šç•Œ</span></span><br><span class="line">            <span class="keyword">if</span>(st[a][b]) <span class="keyword">continue</span>; <span class="comment">// ä½ç½®ä¸º0ï¼Œæˆ–è€…å·²ç»è¢«éå†è¿‡äº†</span></span><br><span class="line">            <span class="keyword">if</span>(g[t.x][t.y] &gt;&gt; i &amp; <span class="number">1</span>) <span class="keyword">continue</span>; <span class="comment">// ç¬¬iä¸ªä½ç½®ä¸ºå¢™</span></span><br><span class="line">            </span><br><span class="line">            q[++ tt] = &#123;a, b&#125;;</span><br><span class="line">            st[a][b] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> area;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; m &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++) </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j ++) &#123;</span><br><span class="line">            cin &gt;&gt; g[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>, maxs = <span class="number">0</span>; <span class="comment">// cnt:è¿é€šå—ä¸ªæ•°ï¼Œmaxs:æœ€å¤§é¢ç§¯</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++) </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j ++)</span><br><span class="line">            <span class="keyword">if</span>(!st[i][j])&#123;</span><br><span class="line">                maxs = <span class="built_in">max</span>(maxs, <span class="built_in">bfs</span>(i, j));</span><br><span class="line">                cnt ++;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">    cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; maxs &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(n * a * b )ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°æ®çš„ç»„æ•°ï¼Œ<em>a</em> æ˜¯æ¯ç»„æ•°æ®çš„è¡Œæ•°ï¼Œ<em>b</em> æ˜¯æ¯ç»„æ•°æ®çš„åˆ—æ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(n * n)ï¼Œæ¨¡æ‹Ÿé˜Ÿåˆ—æœ€åæƒ…å†µå­˜æ”¾æ‰€æœ‰çš„ç‚¹</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š328 ms</p>
<p>å†…å­˜æ¶ˆè€—ï¼š7392 KB</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10/10 ä¸ªæ•°æ®</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>AcWing</category>
        <category>Course</category>
        <category>æœç´¢</category>
      </categories>
      <tags>
        <tag>AcWing</tag>
        <tag>LeetCode</tag>
        <tag>æœç´¢</tag>
        <tag>å›¾è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•…éšœæ³¨å…¥&amp;æ£€æµ‹æµç¨‹</title>
    <url>/2022/03/22/LLVM/01faultInjection/</url>
    <content><![CDATA[<h1 id="æ•…éšœæ³¨å…¥æ£€æµ‹æµç¨‹"><a class="markdownIt-Anchor" href="#æ•…éšœæ³¨å…¥æ£€æµ‹æµç¨‹"></a> æ•…éšœæ³¨å…¥&amp;æ£€æµ‹æµç¨‹</h1>
<h2 id="cpuæ•…éšœæ³¨å…¥æ£€æµ‹æµç¨‹"><a class="markdownIt-Anchor" href="#cpuæ•…éšœæ³¨å…¥æ£€æµ‹æµç¨‹"></a> CPUæ•…éšœæ³¨å…¥&amp;æ£€æµ‹æµç¨‹</h2>
<h3 id="å¤„ç†æºç¨‹åº"><a class="markdownIt-Anchor" href="#å¤„ç†æºç¨‹åº"></a> å¤„ç†æºç¨‹åº</h3>
<ol>
<li><strong>å°†æºä»£ç è½¬æ¢æˆä¸­é—´ä»£ç ï¼Œåˆ’åˆ†äº†åŸºæœ¬å—</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">clang -S -g -emit-llvm dm_dist.c -o dm_dist.ll</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>**ç»™ä¸­é—´ä»£ç æ·»åŠ å…¨å±€å˜é‡ï¼š**è°ƒç”¨<code>Pass</code> <code>AddGlobalSig.so</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">opt -load ../AddGlobalSig.so -AddGlobalSig -S dm_dist.ll -o dm_dist.ll</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>**å¯¹æ¯ä¸ªåŸºæœ¬å—è¿›è¡Œè„†å¼±æ€§åˆ†æï¼›**å¹¶å°†ç»“æœè¾“å‡ºè‡³<code>allindex.txt</code>æ–‡ä»¶ä¸­</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">opt -load ../Index.so -Index -disable-output dm_dist.ll 2&gt; allindex.txt</span><br></pre></td></tr></table></figure>
<p><code>allindex.txt</code>æ–‡ä»¶é‡Œé¢çš„å†…å®¹ä¸ºï¼ˆåŸºæœ¬å—å·ï¼Œæ¯ä¸ªåŸºæœ¬å—é‡Œçš„æŒ‡ä»¤æ•°é‡ï¼‰</p>
<ol start="4">
<li>**æ‰§è¡Œæ’åºç¨‹åºï¼Œ**å°†<code>allindex.txt</code>æ–‡ä»¶çš„å†…å®¹æŒ‰ç…§åŸºæœ¬å—æŒ‡ä»¤æ•°é‡ä»å°åˆ°å¤§æ’åºï¼Œå¹¶è¾“å‡ºå‰n/3-1ä¸ªåŸºæœ¬å—çš„å—å·è‡³<code>index.txt</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pthon3 sort.py &gt; index.txt</span><br></pre></td></tr></table></figure>
<ol start="5">
<li><strong>å°†è„†å¼±æ€§é«˜çš„åŸºæœ¬å—è¿›è¡Œå†æ‹†åˆ†.</strong> è¿™é‡Œçš„<code>$line</code>æ˜¯ <code>index.txt</code> é‡Œé¢å­˜æ”¾çš„å€¼</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> `<span class="built_in">cat</span> index.txt`</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	/home/yy2/Desktop/llvm/build/bin/opt -load /home/yy2/Desktop/llvm/build/lib/SplitBlock.so -SplitBlock -S -index <span class="variable">$line</span> dm_dist.ll -o dm_dist.ll</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<ol start="6">
<li><strong>ä½¿ç”¨<code>CFCSS</code>å¯¹ä¸­é—´ä»£ç è¿›è¡Œæ’æ¡©</strong> ä½¿ç”¨<code>Passï¼šCFCSS.so</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">opt -load ../CFCSS.so -CFCSS -S dm_dist.ll -o cfcss.ll</span><br></pre></td></tr></table></figure>
<ol start="7">
<li><strong>ç¼–è¯‘.llæ–‡ä»¶ç”Ÿæˆå¯æ‰§è¡Œç¨‹åº</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">clang cfcss.ll -o dm_dist/dm_dist_cf</span><br></pre></td></tr></table></figure>
<h3 id="æ•…éšœæ³¨å…¥"><a class="markdownIt-Anchor" href="#æ•…éšœæ³¨å…¥"></a> æ•…éšœæ³¨å…¥</h3>
<p><strong>è°ƒç”¨<code>auto.sh</code>è¿›è¡Œè‡ªåŠ¨åŒ–æ³¨å…¥</strong></p>
<p>$1 å¾…æ³¨å…¥ç¨‹åº    $2 ç¨‹åºçš„è¾“å…¥æ–‡ä»¶(ä¸æ‡‚)    $3 è¿è¡Œæ¬¡æ•°   $4 p/r æ•…éšœæ³¨å…¥æ–¹å¼  $5 å®ˆæŠ¤è¿›ç¨‹æ£€æµ‹æ—¶é—´é—´éš”</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./auto.sh ../qt/TestProgram/dm_dist/dm_dist_cf input_small.dat <span class="string">&quot;2500&quot;</span> <span class="string">&quot;r&quot;</span> <span class="string">&quot;3&quot;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨<code>auto.sh</code>é‡Œé¢è°ƒç”¨<code>gdb</code>å·¥å…·è¿›è¡Œæ•…éšœæ³¨å…¥ã€‚<code>start.py</code></p>
<h3 id="ç»“æœåˆ†æ"><a class="markdownIt-Anchor" href="#ç»“æœåˆ†æ"></a> ç»“æœåˆ†æ</h3>
<p>è°ƒç”¨pythonæ–‡ä»¶è¿›è¡Œç»“æœåˆ†æ:ä½¿ç”¨äº†<code>statistics.py</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3 ../qt/CPUControl/fault_inject/statistics.py inject.output inject.correct</span><br></pre></td></tr></table></figure>
<h2 id="å¯„å­˜å™¨æ•…éšœæ³¨å…¥æ£€æµ‹æµç¨‹"><a class="markdownIt-Anchor" href="#å¯„å­˜å™¨æ•…éšœæ³¨å…¥æ£€æµ‹æµç¨‹"></a> å¯„å­˜å™¨æ•…éšœæ³¨å…¥&amp;æ£€æµ‹æµç¨‹</h2>
<h3 id="æ ‡ç­¾æ‰©å±•"><a class="markdownIt-Anchor" href="#æ ‡ç­¾æ‰©å±•"></a> æ ‡ç­¾æ‰©å±•</h3>
<ol>
<li><strong>ä½¿ç”¨clangå°†æºç¨‹åºè½¬åŒ–ä¸ºä¸­é—´ä»£ç </strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">clang dm.cpp --target=arm-v7-linux-gnueabi -emit-llvm -g -S -o dm.ll</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><strong>åŠ å›ºç¨‹åº,ç»™ä¸­é—´ä»£ç æ·»åŠ ç¼–å·</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">opt -load ../pass/build/libgenLLFIIndex/libgenLLFIIndex.so -genllfiindexpass -S dm.ll -o dm_id.ll</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><strong>åŠ å›ºï¼Œé€šè¿‡å†—ä½™è¿›è¡Œç¨‹åºåŠ å›º</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">opt -load ../pass/build/libdmr/libdmr.so -eddi -select_set_file=../xzt_jcq/index.txt -S dm_id.ll -o dm_df.ll</span><br></pre></td></tr></table></figure>
<h3 id="äº¤å‰ç¼–è¯‘"><a class="markdownIt-Anchor" href="#äº¤å‰ç¼–è¯‘"></a> äº¤å‰ç¼–è¯‘</h3>
<ol>
<li><strong>ç¼–è¯‘ç¨‹åºï¼Œç”Ÿæˆé“¾æ¥æ–‡ä»¶</strong> ç”Ÿæˆ.oæ–‡ä»¶</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">clang dm_df.ll --target=arm-v7-linux-gnueabi -c -o dm_df.o</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><strong>é“¾æ¥ç¨‹åºï¼Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">arm-linux-gnueabi-gcc dm_df.o exec.o -static -o dm_df</span><br></pre></td></tr></table></figure>
<h3 id="æ•…éšœæ³¨å…¥-2"><a class="markdownIt-Anchor" href="#æ•…éšœæ³¨å…¥-2"></a> æ•…éšœæ³¨å…¥</h3>
<p>é€šè¿‡<code>gem5</code>å¯¹å¯æ‰§è¡Œç¨‹åºè¿›è¡Œæ•…éšœæ³¨å…¥</p>
<p>é€šè¿‡forå¾ªç¯æ‰§è¡Œnæ¬¡å‘½ä»¤ï¼Œä»è€Œè¿›è¡Œnæ¬¡æ•…éšœæ³¨å…¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">../res/gemFI/build/ARM/gem5.opt ../res/gemFI/configs/example/se.py -c dm_df</span><br></pre></td></tr></table></figure>
<h3 id="ç»“æœåˆ†æ-2"><a class="markdownIt-Anchor" href="#ç»“æœåˆ†æ-2"></a> ç»“æœåˆ†æ</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python ./.statistics.py</span><br></pre></td></tr></table></figure>
<h2 id="ioæ•…éšœæ³¨å…¥æ£€æµ‹æµç¨‹"><a class="markdownIt-Anchor" href="#ioæ•…éšœæ³¨å…¥æ£€æµ‹æµç¨‹"></a> IOæ•…éšœæ³¨å…¥&amp;æ£€æµ‹æµç¨‹</h2>
<h3 id="åŠ å›º"><a class="markdownIt-Anchor" href="#åŠ å›º"></a> åŠ å›º</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">arm-linux-gnueabi-g++ ../qt/IO/benchmark/dm/ManagerTask.cpp ../Desktop/qt/IO/benchmark/dm/dm.cpp -static -g -o /../Desktop/qt/IO/benchmark/dm/IOFaultTolerance</span><br><span class="line">arm-linux-gnueabi-g++ ../Desktop/qt/IO/benchmark/dm/dm_dist.cpp ../Desktop/qt/IO/benchmark/dm/exec.cpp -static -g -o ../Desktop/qt/IO/benchmark/dm/dm_dist.out</span><br></pre></td></tr></table></figure>
<h3 id="æ•…éšœæ³¨å…¥-3"><a class="markdownIt-Anchor" href="#æ•…éšœæ³¨å…¥-3"></a> æ•…éšœæ³¨å…¥</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">../home/yy2/res/gemFI/build/ARM/gem5.opt /home/yy2/res/gemFI/configs/example/se.py -c </span><br><span class="line">../Desktop/qt/IO/benchmark/dm/dm.out</span><br><span class="line">../res/gemFI/build/ARM/gem5.opt /gemFI/configs/example/se.py -c ../Desktop/qt/IO/benchmark/dm/IOFaultTolerance</span><br></pre></td></tr></table></figure>
<h3 id="ç»“æœåˆ†æ-3"><a class="markdownIt-Anchor" href="#ç»“æœåˆ†æ-3"></a> ç»“æœåˆ†æ</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python statistic.py <span class="comment">#è°ƒç”¨çš„æ˜¯/home/yy2/Desktop/qt/IO/benchmark/dm/fiwork/fi/golden/out.txt</span></span><br></pre></td></tr></table></figure>
<h2 id="llvm-ir"><a class="markdownIt-Anchor" href="#llvm-ir"></a> LLVM IR</h2>
<p>ç”Ÿæˆ.llæ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">../Desktop/llvm/build/bin/clang -S -g -emit-llvm dm_dist.c -o dm_dist.ll</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LLVM</category>
      </categories>
      <tags>
        <tag>LLVM</tag>
        <tag>æ•…éšœæ³¨å…¥</tag>
      </tags>
  </entry>
  <entry>
    <title>LLVM Passç¼–å†™åŠè¿è¡Œ</title>
    <url>/2022/03/22/LLVM/02PassWriteProcess/</url>
    <content><![CDATA[<h1 id="passç¼–å†™è¿è¡Œ"><a class="markdownIt-Anchor" href="#passç¼–å†™è¿è¡Œ"></a> Passç¼–å†™è¿è¡Œ</h1>
<h2 id="ç¼–å†™pass"><a class="markdownIt-Anchor" href="#ç¼–å†™pass"></a> ç¼–å†™Pass</h2>
<ol>
<li>åœ¨<code>llvm/lib/Transforms/</code>ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ï¼Œå‘½åä¸º<code>MyPass</code></li>
</ol>
<p><img src="/img/LLVM/Pass1.png" alt="Pass1" /></p>
<ol start="2">
<li>åœ¨<code>MyPass</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«ä¸º<code>MyPass.cpp</code>ã€<code>CMakeLists.txt</code></li>
</ol>
<p><img src="/img/LLVM/Pass2.png" alt="image-20220102144652248" /></p>
<ol start="3">
<li>å¯¹<code>MyPass.cpp</code>ä»¥åŠ<code>CMakeLists.txt</code>æ–‡ä»¶è¿›è¡Œç¼–å†™ã€‚</li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">#MyPass.cpp</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/raw_ostream.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Analysis/LoopInfo.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEBUG_TYPE <span class="string">&quot;hello&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">MyPass</span> : <span class="keyword">public</span> FunctionPass&#123;</span><br><span class="line">        <span class="type">static</span> <span class="type">char</span> ID;</span><br><span class="line">        <span class="built_in">MyPass</span>() : <span class="built_in">FunctionPass</span>(ID)&#123;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span> <span class="keyword">override</span></span>&#123;</span><br><span class="line">            LoopInfo *LI = &amp;<span class="built_in">getAnalysis</span>&lt;LoopInfoWrapperPass&gt;().<span class="built_in">getLoopInfo</span>();</span><br><span class="line">            <span class="built_in">errs</span>()&lt;&lt;<span class="string">&quot;Function &quot;</span>&lt;&lt;F.<span class="built_in">getName</span>() &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">            <span class="keyword">for</span>(Loop *L : *LI)</span><br><span class="line">                <span class="built_in">countBlocksInLoop</span>(L,<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">countBlocksInLoop</span><span class="params">(Loop *L,<span class="type">unsigned</span> nest)</span></span>&#123;</span><br><span class="line">            <span class="type">unsigned</span> num_Blocks=<span class="number">0</span>;</span><br><span class="line">            Loop::block_iterator bb;</span><br><span class="line">            <span class="keyword">for</span>(bb = L-&gt;<span class="built_in">block_begin</span>();bb!=L-&gt;<span class="built_in">block_end</span>();++bb)</span><br><span class="line">                num_Blocks++;</span><br><span class="line">            <span class="built_in">errs</span>()&lt;&lt;<span class="string">&quot;Loop level &quot;</span>&lt;&lt; nest &lt;&lt;<span class="string">&quot;has&quot;</span>&lt;&lt;num_Blocks&lt;&lt;<span class="string">&quot; blocks\n&quot;</span>;</span><br><span class="line">            std::vector&lt;Loop*&gt; subLoops = L-&gt;<span class="built_in">getSubLoops</span>();</span><br><span class="line">            Loop::iterator j,f;</span><br><span class="line">            <span class="keyword">for</span>(j = subLoops.<span class="built_in">begin</span>(),f=subLoops.<span class="built_in">end</span>();j!=f;++j)</span><br><span class="line">                <span class="built_in">countBlocksInLoop</span>(*j, nest+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">getAnalysisUsage</span><span class="params">(AnalysisUsage &amp;AU)</span> <span class="type">const</span> <span class="keyword">override</span></span>&#123;</span><br><span class="line">            AU.<span class="built_in">addRequired</span>&lt;LoopInfoWrapperPass&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> MyPass::ID=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">static</span> RegisterPass&lt;MyPass&gt; <span class="title">X</span><span class="params">(<span class="string">&quot;MyPass&quot;</span>,<span class="string">&quot;Function Block Count&quot;</span>,<span class="literal">false</span>,<span class="literal">false</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line"><span class="params">#</span>CMakeLists.txt</span><br><span class="line">cmake<span class="built_in">_</span>minimum<span class="built_in">_</span>required(VERSION 3.5)</span><br><span class="line"></span><br><span class="line">add<span class="built_in">_</span>llvm<span class="built_in">_</span>loadable<span class="built_in">_</span>module(MyPass</span><br><span class="line">	MyPass.cpp</span><br><span class="line">	)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>å¯¹Transforms/æ–‡ä»¶å¤¹ä¸‹é¢çš„CMakeLists.txtæ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚</li>
</ol>
<p><img src="/img/LLVM/Pass3.png" alt="image-20220102145118378" /></p>
<h2 id="ç¼–è¯‘ç”Ÿæˆsoæ–‡ä»¶"><a class="markdownIt-Anchor" href="#ç¼–è¯‘ç”Ÿæˆsoæ–‡ä»¶"></a> ç¼–è¯‘ç”Ÿæˆ.soæ–‡ä»¶</h2>
<p>åœ¨<code>llvm/build/</code>ç›®å½•ä¸‹é¢æ‰§è¡Œ<code>make</code>æŒ‡ä»¤ï¼Œåˆ™ä¼šç¼–è¯‘ç”ŸæˆåŠ¨æ€é“¾æ¥åº“<code>.so</code>æ–‡ä»¶ï¼Œç”Ÿæˆçš„æ–‡ä»¶åœ¨<code>llvm/build/lib/</code>ç›®å½•ä¸‹é¢ã€‚</p>
<h2 id="ç¼–å†™æµ‹è¯•ç¨‹åº"><a class="markdownIt-Anchor" href="#ç¼–å†™æµ‹è¯•ç¨‹åº"></a> ç¼–å†™æµ‹è¯•ç¨‹åº</h2>
<p>ç¼–å†™<code>.c</code>æˆ–<code>.cpp</code>æ–‡ä»¶ï¼Œç„¶åç”¨<code>clang</code>å·¥å…·å¯¹æºç¨‹åºè¿›è¡Œç¼–è¯‘ï¼Œç”Ÿæˆ<code>LLVM IR</code>ä¸­é—´ä»£ç ã€‚</p>
<h2 id="è¿è¡Œpass"><a class="markdownIt-Anchor" href="#è¿è¡Œpass"></a> è¿è¡ŒPass</h2>
<p>é€šè¿‡è°ƒç”¨æµ‹è¯•ç¨‹åºè¿è¡Œ<code>Pass</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">opt -load ../Desktop/llvm/build/lib/MyPass.so -MyPass -disable-output testPra.ll</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LLVM</category>
      </categories>
      <tags>
        <tag>LLVM</tag>
        <tag>Pass</tag>
      </tags>
  </entry>
  <entry>
    <title>908.æœ€å°å·®å€¼</title>
    <url>/2022/04/30/LeetCode/20220430/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/smallest-range-i/"> æœ€å°å·®å€¼ 1 </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>å…ˆæ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œç„¶åç”¨äºŒè€…çš„å·®åœ¨å‡å» 2 * kï¼Œè‹¥å°äºç­‰äº 0ï¼Œåˆ™ç»“æœä¸º 0ï¼Œå¦åˆ™ï¼Œç»“æœä¸ºå·®å€¼ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">smallestRangeI</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> min = <span class="number">10000</span>, max = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(min &gt; nums[i])  <span class="comment">// æ‰¾æœ€å°å€¼</span></span><br><span class="line">                min = nums[i];</span><br><span class="line">            <span class="keyword">if</span>(max &lt; nums[i])  <span class="comment">// æ‰¾æœ€å¤§å€¼</span></span><br><span class="line">                max = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(max - min &lt;= k * <span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (max - min - k * <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š132 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†52.57%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š83.3 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†57.45%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š48 / 48</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>1305.ä¸¤é¢—äºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ </title>
    <url>/2022/05/01/LeetCode/20220501/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/all-elements-in-two-binary-search-trees/"> ä¸¤é¢—äºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´  </a></p>
<h2 id="æ€è·¯-1"><a class="markdownIt-Anchor" href="#æ€è·¯-1"></a> æ€è·¯ 1</h2>
<p>å…ˆå‰åºéå†ä¸¤ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œå°†æ‰€æœ‰èŠ‚ç‚¹çš„å€¼å­˜æ”¾è‡³<code>vector&lt;int&gt;</code>ä¸­ï¼Œç„¶ååœ¨è¿›è¡Œæ’åºã€‚</p>
<h2 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯ 2</h2>
<p>å…ˆè¿›è¡Œä¸­åºéå†ï¼Œå¾—åˆ°ä¸¤ä¸ªäºŒå‰æœç´¢æ ‘å¯¹åº”çš„æ•°ç»„ï¼Œè¯¥æ•°ç»„å‡ä¸ºæœ‰åºï¼ˆä»å°åˆ°å¤§ï¼‰ï¼Œç„¶åè¿›è¡Œå½’å¹¶å³å¯ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">é¢˜è§£ 2</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="comment">// äºŒå‰æ ‘çš„å‰åºéå†</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">preTraverse</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span>;</span><br><span class="line">        res.<span class="built_in">push_back</span>(root-&gt;val);</span><br><span class="line">        <span class="built_in">preTraverse</span>(root-&gt;left);</span><br><span class="line">        <span class="built_in">preTraverse</span>(root-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">getAllElements</span><span class="params">(TreeNode* root1, TreeNode* root2)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">preTraverse</span>(root1);</span><br><span class="line">        <span class="built_in">preTraverse</span>(root2);</span><br><span class="line">        <span class="built_in">sort</span>(res.<span class="built_in">begin</span>(), res.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O((n + m) * log(n + m))</em>ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«ä¸ºä¸¤æ£µäºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n + m)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š120 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†82.38%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š83.3 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†60.43%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š48 / 48</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="comment">// ä¸­åºéå†</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">InoTraversal</span><span class="params">(TreeNode* root, vector&lt;<span class="type">int</span>&gt;&amp; nums)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="built_in">InoTraversal</span>(root-&gt;left, nums);</span><br><span class="line">        nums.<span class="built_in">push_back</span>(root-&gt;val);</span><br><span class="line">        <span class="built_in">InoTraversal</span>(root-&gt;right, nums);       </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">getAllElements</span><span class="params">(TreeNode* root1, TreeNode* root2)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; nums1, nums2;</span><br><span class="line">        <span class="built_in">InoTraversal</span>(root1, nums1);</span><br><span class="line">        <span class="built_in">InoTraversal</span>(root2, nums2);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; nums1.<span class="built_in">size</span>() &amp;&amp; j &lt; nums2.<span class="built_in">size</span>())&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums1[i] &lt; nums2[j])</span><br><span class="line">                res.<span class="built_in">push_back</span>(nums1[i++]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                res.<span class="built_in">push_back</span>(nums2[j++]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; nums1.<span class="built_in">size</span>()) res.<span class="built_in">push_back</span>(nums1[i++]);</span><br><span class="line">        <span class="keyword">while</span>(j &lt; nums2.<span class="built_in">size</span>()) res.<span class="built_in">push_back</span>(nums2[j++]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O((n + m))</em>ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«ä¸ºä¸¤æ£µäºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n + m)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š116 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†88.62%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š85.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†6.23%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š48 / 48</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æ’åº</tag>
        <tag>LeetCode</tag>
        <tag>äºŒå‰æœç´¢æ ‘</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
      </tags>
  </entry>
  <entry>
    <title>591.æ ‡ç­¾éªŒè¯å™¨</title>
    <url>/2022/05/02/LeetCode/20220502-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/tag-validator/"> æ ‡ç­¾éªŒè¯å™¨ </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>å¦‚æœå½“å‰å­—ç¬¦ä¸º <strong>&lt;</strong>ï¼Œéœ€è¦è€ƒè™‘ä¸‹é¢å››ç§æƒ…å†µï¼š</p>
<ul>
<li>å¦‚æœä¸‹ä¸€ä¸ªå­—ç¬¦ä¸º <strong>/</strong>ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªç»“æŸæ ‡ç­¾ã€‚æˆ‘ä»¬éœ€è¦å®šä½ä¸‹ä¸€ä¸ª <strong>&gt;</strong> çš„ä½ç½® <strong>j</strong>ï¼Œæ­¤æ—¶ <code>code[i+2..jâˆ’1]</code> å°±æ˜¯è¯¥ç»“æŸæ ‡ç­¾çš„åç§°ã€‚æˆ‘ä»¬éœ€è¦åˆ¤æ–­è¯¥åç§°ä¸å½“å‰æ ˆé¡¶çš„åç§°æ˜¯å¦åŒ¹é…ï¼Œå¦‚æœåŒ¹é…ï¼Œè¯´æ˜åç§°çš„æ ‡ç­¾å·²ç»é—­åˆï¼Œæˆ‘ä»¬éœ€è¦å°†å½“å‰æ ˆé¡¶çš„åç§°å¼¹å‡ºã€‚åŒæ—¶æ ¹æ®è§„åˆ™ <strong>1</strong>ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯æ•´ä¸ª <strong>code</strong> è¢«é—­åˆæ ‡ç­¾åŒ…å›´ï¼Œå› æ­¤å¦‚æœæ ˆä¸­å·²ç»æ²¡æœ‰æ ‡ç­¾ï¼Œä½†æ˜¯ <strong>j</strong> å¹¶ä¸æ˜¯ <strong>code</strong> çš„æœ«å°¾ï¼Œé‚£ä¹ˆè¯´æ˜åç»­è¿˜ä¼šæœ‰å­—ç¬¦ï¼Œå®ƒä»¬ä¸è¢«é—­åˆæ ‡ç­¾åŒ…å›´ã€‚</li>
<li>å¦‚æœä¸‹ä¸€ä¸ªå­—ç¬¦ä¸º <strong>!</strong>ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ª <strong>cdata</strong>ï¼Œæˆ‘ä»¬éœ€è¦ç»§ç»­å¾€åè¯» 77 ä¸ªå­—ç¬¦ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ä¸º \texttt{[CDATA[}[CDATA[ã€‚åœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬å®šä½ä¸‹ä¸€ä¸ª <strong>]]&gt;</strong> çš„ä½ç½® <strong>j</strong>ï¼Œæ­¤æ—¶ <code>code[i+9..jâˆ’1]</code> å°±æ˜¯ <strong>cdata</strong> ä¸­çš„å†…å®¹ï¼Œå®ƒä¸éœ€è¦è¢«è§£æï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸å¿…è¿›è¡Œä»»ä½•éªŒè¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ ¹æ®è§„åˆ™ <strong>1</strong>ï¼Œæ ˆä¸­éœ€è¦å­˜åœ¨è‡³å°‘ä¸€ä¸ªå¼€æ”¾çš„æ ‡ç­¾ã€‚</li>
<li>å¦‚æœä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ºå¤§å†™å­—æ¯ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªå¼€å§‹æ ‡ç­¾ã€‚æˆ‘ä»¬éœ€è¦å®šä½ä¸‹ä¸€ä¸ª <strong>&gt;</strong> çš„ä½ç½® <strong>j</strong>ï¼Œæ­¤æ—¶ <code>code[i+2..jâˆ’1]</code> å°±æ˜¯è¯¥å¼€å§‹æ ‡ç­¾çš„åç§°ã€‚æˆ‘ä»¬éœ€è¦åˆ¤æ–­è¯¥åç§°æ˜¯å¦æ°å¥½ç”± 1 è‡³ 9 ä¸ªå¤§å†™å­—æ¯ç»„æˆï¼Œå¦‚æœæ˜¯ï¼Œè¯´æ˜è¯¥æ ‡ç­¾åˆæ³•ï¼Œæˆ‘ä»¬éœ€è¦å°†è¯¥åç§°æ”¾å…¥æ ˆé¡¶ã€‚</li>
<li>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œæˆ–è€…ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸å±äºä¸Šè¿°ä¸‰ç§æƒ…å†µï¼Œé‚£ä¹ˆ <strong>code</strong> æ˜¯ä¸åˆæ³•çš„ã€‚</li>
</ul>
<p>å¦‚æœå½“å‰çš„å­—ç¬¦ä¸ºå…¶å®ƒå­—ç¬¦ï¼Œé‚£ä¹ˆæ ¹æ®è§„åˆ™ 1ï¼Œæ ˆä¸­éœ€è¦å­˜åœ¨è‡³å°‘ä¸€ä¸ªå¼€æ”¾çš„æ ‡ç­¾ã€‚</p>
<p>åœ¨éå†å®Œæˆåï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¿è¯æ­¤æ—¶æ ˆä¸­æ²¡æœ‰ä»»ä½•ï¼ˆè¿˜æ²¡æœ‰ç»“æŸçš„ï¼‰æ ‡ç­¾ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string code)</span> </span>&#123;</span><br><span class="line">        stack&lt;string&gt; stk;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>, n = code.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">while</span>(i &lt; n)&#123;</span><br><span class="line">            <span class="keyword">if</span>(code[i] == <span class="string">&#x27;&lt;&#x27;</span>)&#123;  <span class="comment">// å½“å‰å­—ç¬¦ä¸º &lt;</span></span><br><span class="line">                <span class="keyword">if</span>(i == n - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(code[i + <span class="number">1</span>] &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; code[i + <span class="number">1</span>] &lt;= <span class="string">&#x27;Z&#x27;</span>)&#123;  <span class="comment">// ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å¤§å†™å­—æ¯</span></span><br><span class="line">                    <span class="type">int</span> j = code.<span class="built_in">find</span>(<span class="string">&#x27;&gt;&#x27;</span>, i);  <span class="comment">// ä»iå¼€å§‹æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ª &gt;ï¼Œå¹¶è¿”å›å…¶ä¸‹æ ‡</span></span><br><span class="line">                    <span class="keyword">if</span>(j == string::npos) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// ä¸å­˜åœ¨ &gt;</span></span><br><span class="line">                    string str = code.<span class="built_in">substr</span>(i + <span class="number">1</span>, j - i - <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span>(str.<span class="built_in">length</span>() &lt; <span class="number">1</span> || str.<span class="built_in">length</span>() &gt; <span class="number">9</span>) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// åˆ¤æ–­é•¿åº¦æ˜¯å¦åˆæ³•</span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; str.<span class="built_in">size</span>(); k ++)&#123;  <span class="comment">// åˆ¤æ–­æ˜¯å¦å…¨ä¸ºå¤§å†™å­—æ¯</span></span><br><span class="line">                        <span class="keyword">if</span>(str[k] &lt; <span class="string">&#x27;A&#x27;</span> || str[k] &gt; <span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    stk.<span class="built_in">push</span>(str);</span><br><span class="line">                    i = j + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(code[i + <span class="number">1</span>] == <span class="string">&#x27;/&#x27;</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> j = code.<span class="built_in">find</span>(<span class="string">&#x27;&gt;&#x27;</span>, i);</span><br><span class="line">                    <span class="keyword">if</span>(j == string::npos) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    string str = code.<span class="built_in">substr</span>(i + <span class="number">2</span>, j - i - <span class="number">2</span>);</span><br><span class="line">                    <span class="keyword">if</span>(stk.<span class="built_in">empty</span>() || stk.<span class="built_in">top</span>() != str) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// å¦‚æœæ ˆé¡¶å…ƒç´ ä¸ºç©º æˆ–è€… å’Œæ ˆé¡¶å…ƒç´ ä¸åŒ¹é…</span></span><br><span class="line">                    stk.<span class="built_in">pop</span>();</span><br><span class="line">                    i = j + <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span>(stk.<span class="built_in">empty</span>() &amp;&amp; i != n) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// å¦‚æœæ ˆä¸ºç©ºï¼Œä½†æ˜¯è¿˜æ²¡éå†åˆ°å­—ç¬¦ä¸²æœ«å°¾</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(code[i + <span class="number">1</span>] == <span class="string">&#x27;!&#x27;</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(stk.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    string str = code.<span class="built_in">substr</span>(i + <span class="number">2</span>, <span class="number">7</span>);  <span class="comment">// å¾€åè¯»7ä¸ªå­—ç¬¦</span></span><br><span class="line">                    <span class="keyword">if</span>(str != <span class="string">&quot;[CDATA[&quot;</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    <span class="type">int</span> j = code.<span class="built_in">find</span>(<span class="string">&quot;]]&gt;&quot;</span>, i);</span><br><span class="line">                    <span class="keyword">if</span>(j == string::npos) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    i = j + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(stk.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// å½“å‰å­—ç¬¦ä¸ºå…¶ä»–å­—ç¬¦ï¼Œä½†æ˜¯æ ˆä¸ºç©ºäº†ï¼Œ</span></span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stk.<span class="built_in">empty</span>(); <span class="comment">// å¯èƒ½è¿˜å­˜åœ¨æ ˆæœ€åè¿˜ä¸ç©ºçš„æƒ…å†µ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>code</em> çš„é•¿åº¦ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹ <em>code</em> è¿›è¡Œä¸€æ¬¡éå†ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºæ ˆå­˜å‚¨æ ‡ç­¾åç§°éœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success æ‰§è¡Œç»“æœ simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š6.3 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†96.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š260 / 260</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ ˆ</tag>
        <tag>å­—ç¬¦ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title>937.é‡æ–°æ’åˆ—æ—¥å¿—æ–‡ä»¶</title>
    <url>/2022/05/03/LeetCode/20220503-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/reorder-data-in-log-files/"> é‡æ–°æ’åˆ—æ—¥å¿—æ–‡ä»¶ </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<ul>
<li>æ€è·¯1ï¼šå…ˆéå†ä¸€è¾¹æ•°ç»„ï¼Œåˆ†åˆ«å°†å­—æ¯æ—¥å¿—å’Œæ•°å­—æ—¥å¿—å­˜å…¥<code>vector&lt;string&gt;</code>ä¸­ï¼Œç„¶åå°†å­—æ¯æ—¥å¿—ä½¿ç”¨è‡ªå®šä¹‰æ’åºè¿›è¡Œæ’åºï¼Œå†å°†æ•°å­—æ—¥å¿—åŠ å…¥æ’åºåçš„å­—æ¯æ—¥å¿—å³å¯ã€‚</li>
<li>æ€è·¯2ï¼šç›´æ¥ä½¿ç”¨ <code>stable_sort</code>è¿›è¡Œè‡ªå®šä¹‰æ’åº.</li>
</ul>
<h2 id="stable_sort-å’Œ-sort-çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#stable_sort-å’Œ-sort-çš„åŒºåˆ«"></a> <code>stable_sort</code> å’Œ <code>sort</code> çš„åŒºåˆ«</h2>
<ul>
<li><code>sort</code>æ˜¯å¿«é€Ÿæ’åºå®ç°ï¼Œå› æ­¤æ˜¯ä¸ç¨³å®šçš„ï¼›<code>stable_sort</code>æ˜¯å½’å¹¶æ’åºå®ç°ï¼Œå› æ­¤æ˜¯ç¨³å®šçš„ã€‚ï¼ˆè¿™é‡Œçš„ç¨³å®šæ˜¯æŒ‡æ’åºåç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¿æŒä¸å˜ï¼‰</li>
<li>å¯¹äºç›¸ç­‰çš„å…ƒç´ <code>sort</code>å¯èƒ½æ”¹å˜é¡ºåºï¼Œ<code>stable_sort</code>ä¿è¯æ’åºåç›¸ç­‰çš„å…ƒç´ æ¬¡åºä¸å˜ã€‚</li>
<li>å¦‚æœæä¾›äº†æ¯”è¾ƒå‡½æ•°ï¼Œ<code>sort</code>ä¸è¦æ±‚æ¯”è¾ƒå‡½æ•°çš„å‚æ•°è¢«é™å®šä¸º<code>const</code>ï¼Œè€Œ<code>stable_sort</code>åˆ™è¦æ±‚å‚æ•°è¢«é™å®šä¸º<code>const</code>ï¼Œå¦åˆ™ç¼–è¯‘ä¸èƒ½é€šè¿‡ã€‚</li>
</ul>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">é¢˜è§£2</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">reorderLogFiles</span><span class="params">(vector&lt;string&gt;&amp; logs)</span> </span>&#123;</span><br><span class="line">        vector&lt;string&gt; dig;  <span class="comment">// ä¿å­˜æ•°å­—æ—¥å¿—</span></span><br><span class="line">        vector&lt;string&gt; let;  <span class="comment">// ä¿å­˜å­—æ¯æ—¥å¿—</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; logs.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            string str = logs[i];</span><br><span class="line">            <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(; j &lt; str.<span class="built_in">size</span>(); j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(str[j] == <span class="string">&#x27; &#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(str[j + <span class="number">1</span>] &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; str[j + <span class="number">1</span>] &lt;= <span class="string">&#x27;9&#x27;</span>)&#123; <span class="comment">//æ˜¯æ•°å­—æ—¥å¿—</span></span><br><span class="line">                dig.<span class="built_in">push_back</span>(str);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123; <span class="comment">// æ˜¯å­—æ¯æ—¥å¿—</span></span><br><span class="line">                let.<span class="built_in">push_back</span>(str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(let.<span class="built_in">begin</span>(), let.<span class="built_in">end</span>(), [](string &amp;a, string &amp;b) &#123;  <span class="comment">//è‡ªå®šä¹‰sortæ’åº</span></span><br><span class="line">            <span class="type">int</span> x = a.<span class="built_in">find</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="type">int</span> y = b.<span class="built_in">find</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            string stra = a.<span class="built_in">substr</span>(x + <span class="number">1</span>);</span><br><span class="line">            string strb = b.<span class="built_in">substr</span>(y + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(stra != strb) <span class="keyword">return</span> stra &lt; strb;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> a &lt; b;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; dig.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            let.<span class="built_in">push_back</span>(dig[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> let;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * log n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>logs</em> çš„å­—ç¬¦æ•°ï¼Œæ˜¯å¹³å‡æƒ…å†µä¸‹å†…ç½®æ’åºçš„æ—¶é—´å¤æ‚åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œé¢å¤–å­˜æ”¾æ—¥å¿—çš„æ•°ç»„</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š16 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†23.57%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š12.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†31.52%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š65 / 65</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">reorderLogFiles</span><span class="params">(vector&lt;string&gt;&amp; logs)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">stable_sort</span>(logs.<span class="built_in">begin</span>(), logs.<span class="built_in">end</span>(), [&amp;](<span class="type">const</span> string &amp;a, <span class="type">const</span> string &amp;b)&#123;  <span class="comment">// stable_sort</span></span><br><span class="line">            <span class="type">int</span> x = a.<span class="built_in">find_first_of</span>(<span class="string">&quot; &quot;</span>); <span class="comment">// æ‰¾åˆ°açš„ç¬¬ä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line">            <span class="type">int</span> y = b.<span class="built_in">find_first_of</span>(<span class="string">&quot; &quot;</span>); <span class="comment">// æ‰¾åˆ°bçš„ç¬¬ä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line">            <span class="type">bool</span> isDigital_a = <span class="built_in">isdigit</span>(a[x + <span class="number">1</span>]);</span><br><span class="line">            <span class="type">bool</span> isDigital_b = <span class="built_in">isdigit</span>(b[y + <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span>(isDigital_a &amp;&amp; isDigital_b)&#123;  <span class="comment">// ä¸¤ä¸ªéƒ½æ˜¯æ•°å­—æ—¥å¿—</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(!isDigital_a &amp;&amp; !isDigital_b) &#123; <span class="comment">// ä¸¤ä¸ªéƒ½æ˜¯å­—æ¯æ—¥å¿—</span></span><br><span class="line">                string stra = a.<span class="built_in">substr</span>(x + <span class="number">1</span>);</span><br><span class="line">                string strb = b.<span class="built_in">substr</span>(y + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(stra != strb) <span class="keyword">return</span> stra &lt; strb;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">return</span> a &lt; b;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> isDigital_a ? <span class="literal">false</span> : <span class="literal">true</span>;  <span class="comment">// åˆ¤æ–­aæ˜¯å¦æ˜¯æ•°å­—æ—¥å¿—ï¼Œè‹¥aæ˜¯æ•°å­—æ—¥å¿—ï¼Œåˆ™è¿”å›false</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> logs;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * log n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>logs</em> çš„å­—ç¬¦æ•°ï¼Œæ˜¯å¹³å‡æƒ…å†µä¸‹å†…ç½®æ’åºçš„æ—¶é—´å¤æ‚åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œé¢å¤–å­˜æ”¾æ—¥å¿—çš„æ•°ç»„</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š12 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†59.80%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š10.9 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†83.87%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š65 / 65</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æ’åº</tag>
        <tag>LeetCode</tag>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</title>
    <url>/2022/05/02/LeetCode/20220502-02/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/"> åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® </a></p>
<h2 id="æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ ‡ç­¾"></a> æ ‡ç­¾</h2>
<p><code>äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿</code></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>ä½¿ç”¨äºŒåˆ†ç®—æ³•çš„ä¸¤ä¸ªæ¨¡æ¿åˆ†åˆ«å¯ä»¥æ±‚å‡ºå…ƒç´ å‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½®å’Œæœ€åä¸€ä¸ªä½ç½®ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£ 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">searchRange</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">if</span>(nums.<span class="built_in">size</span>() == <span class="number">0</span>)&#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(<span class="number">-1</span>);</span><br><span class="line">            res.<span class="built_in">push_back</span>(<span class="number">-1</span>);</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r)&#123;  <span class="comment">//ç¬¬ä¸€ä¸ªæ¨¡æ¿</span></span><br><span class="line">            <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &gt;= target) r = mid;</span><br><span class="line">            <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(nums[l] != target)&#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(<span class="number">-1</span>);</span><br><span class="line">            res.<span class="built_in">push_back</span>(<span class="number">-1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(l);</span><br><span class="line">            l = <span class="number">0</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r)&#123;  <span class="comment">// ç¬¬äºŒä¸ªæ¨¡æ¿</span></span><br><span class="line">                <span class="type">int</span> mid = (l + r + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(nums[mid] &lt;= target) l = mid;</span><br><span class="line">                <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res.<span class="built_in">push_back</span>(r);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(log n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚äºŒåˆ†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ˜¯<em>O(log n)</em>ï¼Œä¸€å…±æ‰§è¡Œä¸¤æ¬¡ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯<em>O(log n)</em></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œåªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†93.27%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š13.3 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†34.09%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š88 / 88</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>äºŒåˆ†æŸ¥æ‰¾</tag>
      </tags>
  </entry>
  <entry>
    <title>78.å­é›†</title>
    <url>/2022/05/03/LeetCode/20220503-03/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/subsets/"> å­é›† </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>å…ˆç¡®å®šéœ€è¦çš„å­æ•°ç»„çš„å¤§å°ï¼Œï¼ˆä» 0 åˆ° <code>nums.size()</code> ä¾æ¬¡éå†ï¼‰ï¼Œç„¶åé€’å½’è¿›è¡Œé€‰æ‹©ï¼Œæ¯æ¬¡é€’å½’éƒ½ä»ä¸Šä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä½ç½®å¼€å§‹ï¼Œç›´åˆ°ä¸´æ—¶æ•°ç»„çš„å¤§å°ç­‰äºå½“å‰ç¡®å®šçš„æ‰€éœ€å­æ•°ç»„çš„å¤§å°ï¼Œå°†å…¶åŠ å…¥ç»“æœæ•°ç»„ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">    <span class="comment">// x å½“å‰éœ€è¦å­é›†çš„å¤§å°ï¼Œ npc åº”è¯¥å¼€å§‹ä½ç½®</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(vector&lt;<span class="type">int</span>&gt; nums, <span class="type">int</span> x, <span class="type">int</span> npc)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x == arr.<span class="built_in">size</span>())&#123; <span class="comment">// å½“å‰å­é›†çš„å¤§å°æ»¡è¶³ç›®å‰æ‰€éœ€çš„å¤§å°</span></span><br><span class="line">            res.<span class="built_in">push_back</span>(arr);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = npc; i &lt; nums.<span class="built_in">size</span>(); i ++)&#123;  <span class="comment">// ä»npc å¼€å§‹éå†</span></span><br><span class="line">            arr.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">            <span class="built_in">dfs</span>(nums, x, i + <span class="number">1</span>);</span><br><span class="line">            arr.<span class="built_in">pop_back</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">subsets</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= nums.<span class="built_in">size</span>(); i++)&#123;  <span class="comment">// éå†ï¼Œiä»£è¡¨éœ€è¦å­é›†çš„å¤§å°ï¼Œ</span></span><br><span class="line">            <span class="built_in">dfs</span>(nums, i, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * 2 ^ n)</em>ï¼Œä¸€å…± <em>2 ^ n</em> ä¸ªçŠ¶æ€ï¼Œæ¯ç§çŠ¶æ€éœ€è¦ O*(<em>n</em>) çš„æ—¶é—´æ¥æ„é€ å­é›†ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(<em>n</em>)ã€‚ä¸´æ—¶æ•°ç»„ <em>arr</em> çš„ç©ºé—´ä»£ä»·æ˜¯ O*(<em>n</em>)ï¼Œé€’å½’æ—¶æ ˆç©ºé—´çš„ä»£ä»·ä¸º <em>O</em>(<em>n</em>)ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†43.18%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š7.6 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†13.53%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š10 / 10</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="å»¶ä¼¸é¢˜ç›®"><a class="markdownIt-Anchor" href="#å»¶ä¼¸é¢˜ç›®"></a> å»¶ä¼¸é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/subsets-ii/"> å­é›† II </a></p>
<h2 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯</h2>
<ul>
<li>æ€è·¯1ï¼šåœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šï¼Œå½“æ»¡è¶³æ¡ä»¶æ—¶ä½¿ç”¨<code>map</code> è¿›è¡Œå»é‡ï¼Œè‹¥é‡å¤åˆ™ä¸åŠ å…¥ï¼Œåä¹‹åˆ™åŠ å…¥ã€‚ï¼ˆéœ€è¦å…ˆæ’åºï¼‰</li>
<li>æ€è·¯2ï¼šé€’å½’æ³•å®ç°å­æ ‘æšä¸¾ï¼Œåœ¨é€’å½’æ—¶ï¼Œè‹¥å‘ç°æ²¡æœ‰é€‰æ‹©ä¸Šä¸€ä¸ªæ•°ï¼Œå¹¶ä¸”å½“å‰æ•°å­—ä¸ä¸Šä¸€ä¸ªæ•°å­—ç›¸åŒï¼Œåˆ™å¯ä»¥è·³è¿‡å½“å‰ç”Ÿæˆçš„å­é›†ã€‚</li>
</ul>
<h2 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">ä½¿ç”¨hashè¡¨</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    map&lt;vector&lt;<span class="type">int</span>&gt;, <span class="type">int</span>&gt; hsp;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(vector&lt;<span class="type">int</span>&gt; nums, <span class="type">int</span> x, <span class="type">int</span> npc)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr.<span class="built_in">size</span>() == x)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hsp[arr] == <span class="number">1</span>) <span class="keyword">return</span>;  <span class="comment">//ä½¿ç”¨mapè¿›è¡Œåˆ¤æ–­æ˜¯å¦æœ‰é‡å¤çš„</span></span><br><span class="line">            res.<span class="built_in">push_back</span>(arr);</span><br><span class="line">            hsp[arr] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = npc; i &lt; nums.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            arr.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">            <span class="built_in">dfs</span>(nums, x, i + <span class="number">1</span>);</span><br><span class="line">            arr.<span class="built_in">pop_back</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">subsetsWithDup</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= nums.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            <span class="built_in">dfs</span>(nums, i, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * 2 ^ n)</em>ï¼Œä¸€å…± <em>2 ^ n</em> ä¸ªçŠ¶æ€ï¼Œæ¯ç§çŠ¶æ€éœ€è¦ O*(<em>n</em>) çš„æ—¶é—´æ¥æ„é€ å­é›†ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(<em>n</em>)ã€‚ä¸´æ—¶æ•°ç»„ <em>arr</em> çš„ç©ºé—´ä»£ä»·æ˜¯ O*(<em>n</em>)ï¼Œé€’å½’æ—¶æ ˆç©ºé—´çš„ä»£ä»·ä¸º <em>O</em>(<em>n</em>)ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š12 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†5.73%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š9.5 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†13.58%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š20 / 20</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(vector&lt;<span class="type">int</span>&gt; nums, <span class="type">int</span> x, <span class="type">bool</span> pre)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x == nums.<span class="built_in">size</span>())&#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(arr);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">dfs</span>(nums, x + <span class="number">1</span>, <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(!pre &amp;&amp; x &gt; <span class="number">0</span> &amp;&amp; nums[x] == nums[x - <span class="number">1</span>]) <span class="comment">// ä¸Šä¸€ä¸ªæ•°å’Œå½“å‰æ•°ç›¸ç­‰ï¼Œå¹¶ä¸”ä¸Šä¸€ä¸ªæ•°æ²¡æœ‰è¢«åŠ å…¥</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        arr.<span class="built_in">push_back</span>(nums[x]);</span><br><span class="line">        <span class="built_in">dfs</span>(nums, x + <span class="number">1</span>, <span class="literal">true</span>);</span><br><span class="line">        arr.<span class="built_in">pop_back</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">subsetsWithDup</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">dfs</span>(nums, <span class="number">0</span>, <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * 2 ^ n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>nums</em> çš„é•¿åº¦ã€‚æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º *O(n * log n) <em>ã€‚æœ€åæƒ…å†µä¸‹ <em>nums</em> ä¸­æ— é‡å¤å…ƒç´ ï¼Œéœ€è¦æšä¸¾å…¶æ‰€æœ‰ <em>2 ^ n</em> ä¸ªå­é›†ï¼Œæ¯ä¸ªå­é›†åŠ å…¥ç­”æ¡ˆæ—¶éœ€è¦æ‹·è´ä¸€ä»½ï¼Œè€—æ—¶ <em>O(n)</em> ï¼Œä¸€å…±éœ€è¦ <em>O(n * 2 ^ n) + O(n) = O(n * 2 ^ n)</em> çš„æ—¶é—´æ¥æ„é€ å­é›†ã€‚ç”±äºåœ¨æ¸è¿›æ„ä¹‰ä¸Š <em>O(n * log n) * å°äº</em>O(n * 2 ^ n)</em> ï¼Œæ•…æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n * 2 ^ n)</em><br />
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(<em>n</em>)ã€‚ä¸´æ—¶æ•°ç»„ <em>arr</em> çš„ç©ºé—´ä»£ä»·æ˜¯ O*(<em>n</em>)ï¼Œé€’å½’æ—¶æ ˆç©ºé—´çš„ä»£ä»·ä¸º <em>O</em>(<em>n</em>)ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†54.66%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š15.6 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†5.03%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š20 / 20</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>é€’å½’</tag>
        <tag>å›æº¯</tag>
      </tags>
  </entry>
  <entry>
    <title>1090.å—æ ‡ç­¾å½±å“çš„æœ€å¤§å€¼</title>
    <url>/2022/05/03/LeetCode/20220503-02/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/largest-values-from-labels/"> å—æ ‡ç­¾å½±å“çš„æœ€å¤§å€¼ </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>ä½¿ç”¨<code>vector&lt;pair&lt;int, int&gt;&gt;</code> å°† <em>values</em> å’Œ <em>labels</em> å¯¹åº”èµ·æ¥ï¼Œç„¶åæŒ‰ç…§ <em>values</em> ä»å¤§åˆ°å°è¿›è¡Œæ’åºï¼Œæ¯æ¬¡åœ¨æ»¡è¶³å¯¹åº”çš„æ ‡ç­¾æ²¡æœ‰è¾¾åˆ°ä¸Šé™æ—¶ï¼ˆä½¿ç”¨<code>unordered_map</code>è¿›è¡Œè®¡æ•°ï¼‰ï¼Œä¼˜å…ˆå–æœ€å¤§çš„å³å¯ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; arr;</span><br><span class="line">    unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; hsp;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">largestValsFromLabels</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; values, vector&lt;<span class="type">int</span>&gt;&amp; labels, <span class="type">int</span> numWanted, <span class="type">int</span> useLimit)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; values.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            arr.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(values[i], labels[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), [](pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; &amp;a, pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; &amp;b)&#123;  <span class="comment">// å°†arræ•°ç»„ä»å¤§åˆ°å°è¿›è¡Œæ’åº</span></span><br><span class="line">            <span class="keyword">return</span> a.first &gt; b.first;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; arr.<span class="built_in">size</span>() &amp;&amp; numWanted; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hsp[arr[i].second] &lt; useLimit)&#123;</span><br><span class="line">                hsp[arr[i].second] ++;</span><br><span class="line">                res += arr[i].first;</span><br><span class="line">                numWanted--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * log n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>values</em> çš„å¤§å°ï¼Œä¸»è¦æ˜¯ <code>sort()</code>å‡½æ•°çš„æ—¶é—´å‘å¤æ‚åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œæ•°ç»„å’Œå“ˆå¸Œè¡¨å¯¹åº”çš„ç©ºé—´</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š24 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†80.30%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š19.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†65.15%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š81 / 81</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æ’åº</tag>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
        <tag>è´ªå¿ƒ</tag>
        <tag>å“ˆå¸Œè¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>1823.æ‰¾å‡ºæ¸¸æˆçš„è·èƒœè€…</title>
    <url>/2022/05/04/LeetCode/20220504-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/find-the-winner-of-the-circular-game/"> æ‰¾å‡ºæ¸¸æˆçš„è·èƒœè€… </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>ä½¿ç”¨é˜Ÿåˆ—å°†æ‰€æœ‰æ•°å­—å­˜å‚¨èµ·æ¥ï¼Œç„¶åè¿›è¡Œå¾ªç¯éå†ç›´åˆ°é˜Ÿåˆ—ä¸­åªå‰©ä¸€ä¸ªå…ƒç´ ï¼Œæ¯æ¬¡å¾ªç¯å…ˆå°† k å‡ä¸€ï¼Œå°†é˜Ÿå¤´å…ƒç´ ä½¿ç”¨ä¸´æ—¶å˜é‡ä¿å­˜èµ·æ¥ï¼Œç„¶åå‡ºé˜Ÿï¼Œdang k ä¸ç­‰äº0æ—¶ï¼Œå°†åˆšå‡ºé˜Ÿçš„å…ƒç´ å†æ¬¡å…¥é˜Ÿï¼Œè‹¥ k ç­‰äº0ï¼Œåˆ™éœ€è¦æ›´æ–° k ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findTheWinner</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; que;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">            que.<span class="built_in">push</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> x = k;</span><br><span class="line">        <span class="keyword">while</span>(que.<span class="built_in">size</span>() &gt; <span class="number">1</span>)&#123;  <span class="comment">// å¾ªç¯éå†ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­åªå‰©ä¸€äºº</span></span><br><span class="line">            x --;</span><br><span class="line">            <span class="type">int</span> top = que.<span class="built_in">front</span>();</span><br><span class="line">            que.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span>(x != <span class="number">0</span>)&#123;  <span class="comment">// å½“è¿˜æ²¡åˆ°ç¬¬kä¸ªï¼Œåˆ™å†æ¬¡å…¥æ ˆ</span></span><br><span class="line">                que.<span class="built_in">push</span>(top);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;  <span class="comment">// åˆ°ç¬¬kä¸ªï¼Œåˆ™éœ€è¦æ›´æ–°xï¼Œå†æ¬¡è®¡æ•°</span></span><br><span class="line">                x = k;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> que.<span class="built_in">front</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * k)</em>ï¼Œå…¶ä¸­ n æ˜¯åšæ¸¸æˆçš„å°ä¼™ä¼´æ•°é‡ï¼Œ<em>k</em> æ˜¯æ¯ä¸€è½®ç¦»å¼€åœˆå­çš„å°ä¼™ä¼´çš„è®¡æ•°ã€‚åˆå§‹æ—¶éœ€è¦å°† <em>n</em> ä¸ªå…ƒç´ åŠ å…¥é˜Ÿåˆ—ï¼Œæ¯ä¸€è½®éœ€è¦å°† <em>k</em> ä¸ªå…ƒç´ ä»é˜Ÿåˆ—ä¸­å–å‡ºï¼Œå°† <em>kâˆ’1</em> ä¸ªå…ƒç´ åŠ å…¥é˜Ÿåˆ—ï¼Œä¸€å…±æœ‰ <em>nâˆ’1</em> è½®ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ <em>O(n * k)</em>ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œé˜Ÿåˆ—æœ€å¤šæœ‰nä¸ªå…ƒç´ ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š72 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†11.70%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š23.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†15.31%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š95 / 95</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°å­¦</tag>
        <tag>æ•°ç»„</tag>
        <tag>é€’å½’</tag>
        <tag>é˜Ÿåˆ—</tag>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>933.æœ€è¿‘è¯·æ±‚çš„æ¬¡æ•°</title>
    <url>/2022/05/06/LeetCode/20220506-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<h4 id="æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°"><a class="markdownIt-Anchor" href="#æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°"></a> <a href="https://leetcode-cn.com/problems/number-of-recent-calls/"> æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•° </a></h4>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>ä½¿ç”¨é˜Ÿåˆ—ï¼Œæ¯æ¬¡å°†æ–°çš„ t åŠ å…¥é˜Ÿåˆ—ï¼Œç„¶åå¾ªç¯åˆ¤æ–­å¯¹å¤´å…ƒç´ æ˜¯å¦å¤§äº t - 3000ï¼Œè‹¥å°äºåˆ™å‡ºé˜Ÿï¼Œå¦åˆ™ç»“æŸå¾ªç¯ï¼Œæœ€åè¿”å›é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•°å³å¯ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RecentCounter</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> count;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; que;</span><br><span class="line">    <span class="built_in">RecentCounter</span>() &#123;</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(!que.<span class="built_in">empty</span>()) que.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">ping</span><span class="params">(<span class="type">int</span> t)</span> </span>&#123;</span><br><span class="line">        que.<span class="built_in">push</span>(t);</span><br><span class="line">        <span class="keyword">while</span>(que.<span class="built_in">front</span>() &lt; t - <span class="number">3000</span>)&#123;</span><br><span class="line">            que.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> que.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your RecentCounter object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * RecentCounter* obj = new RecentCounter();</span></span><br><span class="line"><span class="comment"> * int param_1 = obj-&gt;ping(t);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯è°ƒç”¨ ping çš„æ¬¡æ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œé˜Ÿåˆ—ä¸­å…ƒç´ çš„ä¸ªæ•°</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š144 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†32.54%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š56.1 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†24.97%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š68 / 68</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>é˜Ÿåˆ—</tag>
        <tag>è®¾è®¡</tag>
        <tag>æ•°æ®æµ</tag>
      </tags>
  </entry>
  <entry>
    <title>47.å…¨æ’åˆ— II</title>
    <url>/2022/05/04/LeetCode/20220504-02/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/permutations-ii/"> å…¨æ’åˆ— II </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>å¯¹æ•°ç»„è¿›è¡Œé€’å½’ï¼Œè‹¥å½“å‰å…ƒç´ å’Œä¸Šä¸€æ¬¡é€’å½’é€‰æ‹©çš„å…ƒç´ ç›¸åŒï¼Œåˆ™ç›´æ¥è·³è¿‡ï¼ˆç›¸å½“äºå‰ªæï¼‰ï¼Œè‹¥å½“å‰å…ƒç´ ä¸ç­‰äºä¸Šä¸€æ¬¡å…ƒç´ ä¸”æ²¡æœ‰è¢«é€‰æ‹©è¿‡ï¼Œåˆ™å¯ä»¥é€‰æ‹©ï¼ŒåŠ å…¥æ•°ç»„ï¼Œç›´åˆ°ä¸´æ—¶æ•°ç»„çš„å¤§å°ç­‰äº <code>nums</code> æ•°ç»„çš„å¤§å°ï¼Œåˆ™å°†è¯¥ä¸´æ—¶æ•°æ®åŠ å…¥è‡³ç»“æœæ•°ç»„ä¸­ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    vector&lt;<span class="type">bool</span>&gt; used;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, vector&lt;<span class="type">int</span>&gt;&amp; arr)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr.<span class="built_in">size</span>() == nums.<span class="built_in">size</span>())&#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(arr);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> x = <span class="number">-11</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(x == nums[i]) <span class="keyword">continue</span>;  <span class="comment">// å½“å‰ä½ç½®åˆšé€‰è¿‡çš„xå’Œå½“å‰å€¼ç›¸ç­‰ã€‚åˆ™ç›´æ¥è·³è¿‡</span></span><br><span class="line">            <span class="keyword">if</span>(!used[i])&#123;  <span class="comment">// å½“å‰å€¼æ²¡æœ‰è¢«é€‰æ‹©</span></span><br><span class="line">                used[i] = <span class="literal">true</span>;</span><br><span class="line">                arr.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">                <span class="built_in">dfs</span>(nums, arr);</span><br><span class="line">                used[i] = <span class="literal">false</span>;</span><br><span class="line">                x = arr[arr.<span class="built_in">size</span>() - <span class="number">1</span>];</span><br><span class="line">                arr.<span class="built_in">pop_back</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">permuteUnique</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) used.<span class="built_in">push_back</span>(<span class="literal">false</span>);</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">        <span class="built_in">dfs</span>(nums, arr);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * n!)</em></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O( n)</em>ï¼Œç»“æœæ•°ç»„ä¸­æœ€å¤šæœ‰ n ä¸ªå…ƒç´ çš„æ•°ç»„</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†91.98%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š8.7 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†56.14%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š33 / 33</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
        <tag>é€’å½’</tag>
        <tag>å›æº¯</tag>
      </tags>
  </entry>
  <entry>
    <title>713.ä¹˜ç§¯å°äºkçš„å­æ•°ç»„</title>
    <url>/2022/05/05/LeetCode/20220505-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/subarray-product-less-than-k/"> ä¹˜ç§¯å°äº K çš„å­æ•°ç»„ </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<ul>
<li>ä½¿ç”¨ <code>queue</code> é˜Ÿåˆ—å®ç° <code>æ»‘åŠ¨çª—å£</code> ï¼Œå½“å‰å…ƒç´ å…¥é˜Ÿåï¼Œè‹¥é˜Ÿåˆ—ä¸­æ€»çš„ä¹˜ç§¯å°äº kï¼Œåˆ™ç»§ç»­éå†ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè‹¥é˜Ÿåˆ—ä¸­æ€»çš„ä¹˜ç§¯å¤§äºç­‰äº kï¼Œåˆ™ä¾æ¬¡å‡ºé˜Ÿï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­çš„æ€»å…ƒç´ ä¹˜ç§¯å°äº kï¼Œæ¯ä¸ªéå†åéœ€è¦å°†é˜Ÿåˆ—ä¸­çš„æ€»å…ƒç´ ä¸ªæ•°åŠ è‡³ç»“æœå˜é‡ä¸­ã€‚</li>
<li>ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆä»£è¡¨ <code>æ»‘åŠ¨çª—å£</code> çš„ä¸¤ä¸ªè¾¹ç•Œã€‚</li>
</ul>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">é¢˜è§£2</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numSubarrayProductLessThanK</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(k == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; que;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            que.<span class="built_in">push</span>(nums[i]);</span><br><span class="line">            sum *= nums[i];</span><br><span class="line">            <span class="keyword">while</span>(!que.<span class="built_in">empty</span>() &amp;&amp; sum &gt;= k)&#123;</span><br><span class="line">                <span class="type">int</span> top = que.<span class="built_in">front</span>();</span><br><span class="line">                que.<span class="built_in">pop</span>();</span><br><span class="line">                sum /= top;</span><br><span class="line">            &#125;</span><br><span class="line">            res += que.<span class="built_in">size</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>nums</em> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œé˜Ÿåˆ—æœ€å¤šæœ‰ <em>n</em> ä¸ªå…ƒç´ </li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š68 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†53.23%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š63 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†5.26%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š97 / 97</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> res;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numSubarrayProductLessThanK</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; nums.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            sum *= nums[j];</span><br><span class="line">            <span class="keyword">while</span>(i &lt;= j &amp;&amp; sum &gt;= k)&#123;</span><br><span class="line">                sum /= nums[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            res += j - i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>nums</em> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š52 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†96.72%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š59.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†65.17%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š97 / 97</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
        <tag>æ»‘åŠ¨çª—å£</tag>
      </tags>
  </entry>
  <entry>
    <title>209.é•¿åº¦æœ€å°çš„å­æ•°ç»„</title>
    <url>/2022/05/05/LeetCode/20220505-02/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode-cn.com/problems/minimum-size-subarray-sum/"> é•¿åº¦æœ€å°çš„å­æ•°ç»„ </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<ul>
<li>ä½¿ç”¨åŒæŒ‡é’ˆè®°å½•æ»‘åŠ¨çª—å£çš„å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œå½“æ»¡è¶³æ¡ä»¶åï¼Œè¿›è¡Œåˆ¤æ–­å¹¶è®°å½•ç»“æœã€‚</li>
</ul>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minSubArrayLen</span><span class="params">(<span class="type">int</span> target, vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = INT_MAX;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; nums.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            sum += nums[j];</span><br><span class="line">            <span class="keyword">while</span>(i &lt;= j &amp;&amp; sum &gt;= target)&#123;</span><br><span class="line">                res = <span class="built_in">min</span>(res, j - i + <span class="number">1</span>);  </span><br><span class="line">                sum -= nums[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res == INT_MAX ? <span class="number">0</span> : res;  <span class="comment">// è‹¥æ˜¯æœ€åè¿˜æ²¡æœ‰æ‰¾åˆ°åŒºé—´ï¼Œåˆ™ä¸º 0 </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>nums</em> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†61.48%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š10.2 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†71.05%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š19 / 19</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
        <tag>æ»‘åŠ¨çª—å£</tag>
      </tags>
  </entry>
  <entry>
    <title>942.å¢å‡å­—ç¬¦ä¸²åŒ¹é…</title>
    <url>/2022/05/09/LeetCode/20220509-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/di-string-match/"> å¢å‡å­—ç¬¦ä¸²åŒ¹é… </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>å®šä¹‰ä¸¤ä¸ªå˜é‡ï¼Œ<code>l</code> è¡¨ç¤ºæœ€å°å€¼0ï¼Œ<code>h</code>è¡¨ç¤ºæœ€å¤§å€¼ <code>s.size()</code>,ç„¶åéå†å½“å‰å…ƒç´ ï¼Œè‹¥å½“å‰å…ƒç´ æ˜¯ <code>I</code>ï¼Œåˆ™å½“å‰ä½ç½®éœ€è¦èµ‹å€¼ <code>l</code>å¹¶æ›´æ–°<code>l</code>çš„å€¼ï¼Œåä¹‹ï¼Œåˆ™èµ‹å€¼<code>h</code>çš„å€¼ï¼Œå¹¶æ›´æ–°<code>h</code>çš„å€¼ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">diStringMatch</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, h = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">res</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == <span class="string">&#x27;I&#x27;</span>)  <span class="comment">// å½“å‰å­—ç¬¦æ˜¯ I æ—¶ï¼Œæ·»åŠ æ­¤æ—¶æœ€å°çš„</span></span><br><span class="line">                res[i] = l ++;</span><br><span class="line">            <span class="keyword">else</span>  <span class="comment">// å½“å‰å­—ç¬¦æ˜¯ D æ—¶ï¼Œæ·»åŠ æ­¤æ—¶æœ€å¤§çš„</span></span><br><span class="line">                res[i] = h --;</span><br><span class="line">        &#125;</span><br><span class="line">        res[n] = l; <span class="comment">// æ·»åŠ æœ€åä¸€ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯å­—ç¬¦ä¸² s çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œæ•°ç»„é•¿åº¦ ä¸º <em>n + 1</em>ï¼Œä½†è¿”å›å€¼ä¸è®¡å…¥ç©ºé—´å¤æ‚åº¦</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†88.53%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š8.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†73.80%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š95 / 95</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°å­¦</tag>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>æ•°ç»„</tag>
        <tag>è´ªå¿ƒ</tag>
        <tag>åŒæŒ‡é’ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>442.æ•°ç»„ä¸­çš„é‡å¤æ•°æ®</title>
    <url>/2022/05/10/LeetCode/20220510-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/find-all-duplicates-in-an-array/"> æ•°ç»„ä¸­é‡å¤çš„æ•°æ® </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>ä½¿ç”¨ <code>unordered_map</code> ä¿å­˜æ¯ä¸ªæ•´æ•°å‡ºç°çš„æ¬¡æ•°ï¼Œæœ€åéå†ä¸€éå“ˆå¸Œè¡¨ï¼Œå°†æ•´æ•°å‡ºç°æ¬¡æ•°ä¸º 2 çš„æ•´æ•°å­˜å…¥ç»“æœæ•°ç»„ä¸­ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findDuplicates</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; hsp;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            hsp[nums[i]] ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> it = hsp.<span class="built_in">begin</span>(); it != hsp.<span class="built_in">end</span>(); it++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(it-&gt;second == <span class="number">2</span>)&#123;</span><br><span class="line">                res.<span class="built_in">push_back</span>(it-&gt;first);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ <em>nums</em> çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå®šä¹‰çš„å“ˆå¸Œè¡¨çš„å¤§å°</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š68 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†19.03%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š43.5 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†9.79%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š28 / 28</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
        <tag>å“ˆå¸Œè¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>449.åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘</title>
    <url>/2022/05/11/LeetCode/20220511-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/serialize-and-deserialize-bst/"> åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘</a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p><strong>ååºéå†</strong>ï¼šäºŒå‰æœç´¢æ ‘å¯æ ¹æ®ååºéå†çš„ç»“æœå°†å…¶æ¢å¤ã€‚</p>
<p>åºåˆ—åŒ–ï¼šåªéœ€è¦å¯¹äºŒå‰æœç´¢æ ‘è¿›è¡Œååºéå†ï¼Œå†å°†æ•°ç»„ç¼–ç æˆå­—ç¬¦ä¸²å³å¯ã€‚</p>
<p>ååºåˆ—åŒ–æ—¶ï¼Œéœ€è¦å…ˆå°†å­—ç¬¦ä¸²è§£ç æˆååºéå†çš„æ•°ç»„ã€‚åœ¨å°†ååºéå†çš„æ•°ç»„æ¢å¤æˆäºŒå‰æœç´¢æ ‘æ—¶ï¼Œä¸éœ€è¦å…ˆæ’åºå¾—åˆ°ä¸­åºéå†çš„æ•°ç»„å†æ ¹æ®ä¸­åºå’Œååºéå†çš„æ•°ç»„æ¥æ¢å¤äºŒå‰æ ‘ï¼Œè€Œå¯ä»¥æ ¹æ®æœ‰åºæ€§ç›´æ¥ç”±ååºéå†çš„æ•°ç»„æ¢å¤äºŒå‰æœç´¢æ ‘ã€‚ååºéå†å¾—åˆ°çš„æ•°ç»„ä¸­ï¼Œæ ¹ç»“ç‚¹çš„å€¼ä½äºæ•°ç»„æœ«å°¾ï¼Œå·¦å­æ ‘çš„èŠ‚ç‚¹å‡å°äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå³å­æ ‘çš„èŠ‚ç‚¹å‡å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå¯ä»¥æ ¹æ®è¿™äº›æ€§è´¨è®¾è®¡é€’å½’å‡½æ•°æ¢å¤äºŒå‰æœç´¢æ ‘ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Codec</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">    <span class="function">string <span class="title">serialize</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        string res;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">        <span class="built_in">postTraversal</span>(root, arr);</span><br><span class="line">        <span class="keyword">if</span>(arr.<span class="built_in">size</span>() == <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; arr.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            res += <span class="built_in">to_string</span>(arr[i]) + <span class="string">&quot;,&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.<span class="built_in">substr</span>(<span class="number">0</span>, res.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">postTraversal</span><span class="params">(TreeNode* root, vector&lt;<span class="type">int</span>&gt; &amp;arr)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="built_in">postTraversal</span>(root-&gt;left, arr);</span><br><span class="line">        <span class="built_in">postTraversal</span>(root-&gt;right, arr);</span><br><span class="line">        arr.<span class="built_in">emplace_back</span>(root-&gt;val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">    <span class="function">TreeNode* <span class="title">deserialize</span><span class="params">(string data)</span> </span>&#123;</span><br><span class="line">        TreeNode* root;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">        <span class="built_in">transArr</span>(data, arr);</span><br><span class="line">        <span class="keyword">if</span>(arr.<span class="built_in">size</span>() == <span class="number">0</span>) &#123;</span><br><span class="line">            root = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// int n = arr.size();</span></span><br><span class="line">        <span class="comment">// root-&gt;val = arr[n - 1];</span></span><br><span class="line">        root = <span class="built_in">dfs</span>(arr);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">transArr</span><span class="params">(string data, vector&lt;<span class="type">int</span>&gt; &amp;arr)</span></span>&#123;  <span class="comment">// å°†string æ‹†åˆ†ä¸ºæ•´æ•°æ•°ç»„</span></span><br><span class="line">        <span class="type">int</span> npc = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; data.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i == data.<span class="built_in">size</span>() - <span class="number">1</span>)&#123;</span><br><span class="line">                string str = data.<span class="built_in">substr</span>(npc, i - npc + <span class="number">1</span>);</span><br><span class="line">                arr.<span class="built_in">emplace_back</span>(<span class="built_in">stoi</span>(str));</span><br><span class="line">                npc = i + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(data[i] == <span class="string">&#x27;,&#x27;</span>)&#123;</span><br><span class="line">                string str = data.<span class="built_in">substr</span>(npc, i - npc);</span><br><span class="line">                arr.<span class="built_in">emplace_back</span>(<span class="built_in">stoi</span>(str));</span><br><span class="line">                npc = i + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">TreeNode* <span class="title">dfs</span><span class="params">(vector&lt;<span class="type">int</span>&gt; arr)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr.<span class="built_in">size</span>() == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> npc = arr[n - <span class="number">1</span>];</span><br><span class="line">        TreeNode* root = <span class="keyword">new</span> <span class="built_in">TreeNode</span>(npc);</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> root;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> x = <span class="built_in">find</span>(arr, npc); <span class="comment">// å¯»æ‰¾æœ€åä¸€ä¸ªå°äº æ ¹èŠ‚ç‚¹çš„ä¸‹æ ‡ï¼Œåˆ™xå·¦è¾¹çš„éƒ½æ˜¯è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œå³è¾¹çš„éƒ½æ˜¯è¯¥èŠ‚ç‚¹çš„å³å­æ ‘</span></span><br><span class="line">        <span class="keyword">if</span>(x &gt;= <span class="number">0</span>)&#123;  </span><br><span class="line">            root-&gt;left = <span class="built_in">dfs</span>(<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">begin</span>() + x));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(x &lt;= n - <span class="number">2</span>)&#123;</span><br><span class="line">            root-&gt; right = <span class="built_in">dfs</span>(<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(arr.<span class="built_in">begin</span>() + x, arr.<span class="built_in">begin</span>() + n - <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(vector&lt;<span class="type">int</span>&gt; arr, <span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; arr.<span class="built_in">size</span>() - <span class="number">1</span>; i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[i] &gt; x)&#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Your Codec object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">// Codec* ser = new Codec();</span></span><br><span class="line"><span class="comment">// Codec* deser = new Codec();</span></span><br><span class="line"><span class="comment">// string tree = ser-&gt;serialize(root);</span></span><br><span class="line"><span class="comment">// TreeNode* ans = deser-&gt;deserialize(tree);</span></span><br><span class="line"><span class="comment">// return ans;</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œ<em>serialize</em> éœ€è¦ <em>O(n)</em> æ—¶é—´éå†æ¯ä¸ªç‚¹ã€‚<em>deserialize</em> éœ€è¦ <em>O(n)</em> æ—¶é—´æ¢å¤æ¯ä¸ªç‚¹</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œ<em>serialize</em> éœ€è¦ <em>O(n)</em> ç©ºé—´æ•°ç»„ä¿å­˜æ¯ä¸ªç‚¹çš„å€¼ï¼Œé€’å½’çš„æ·±åº¦æœ€æ·±ä¹Ÿä¸º <em>O(n)</em>ã€‚<em>deserialize</em> éœ€è¦ <em>O(n)</em> ç©ºé—´ç”¨æ•°ç»„ä¿å­˜æ¯ä¸ªç‚¹çš„å€¼ï¼Œé€’å½’çš„æ·±åº¦æœ€æ·±ä¹Ÿä¸º <em>O(n)</em>ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š36 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†44.95%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š36.3 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†12.22%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š62 / 62</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>äºŒå‰æœç´¢æ ‘</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>è®¾è®¡</tag>
        <tag>æ ‘</tag>
        <tag>å¹¿åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>944.åˆ åˆ—é€ åº</title>
    <url>/2022/05/12/LeetCode/20220512-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/delete-columns-to-make-sorted/"> åˆ åˆ—é€ åº </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>æš´åŠ›è§£æ³•ï¼šéå†äºŒç»´æ•°ç»„ï¼Œå…ˆéå†åˆ—ï¼Œå†éå†è¡Œã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minDeletionSize</span><span class="params">(vector&lt;string&gt;&amp; strs)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; strs[<span class="number">0</span>].<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; strs.<span class="built_in">size</span>(); j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(strs[j][i] &lt; strs[j - <span class="number">1</span>][i])&#123;</span><br><span class="line">                    res ++;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * m)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯å­—ç¬¦ä¸²çš„ä¸ªæ•°ï¼Œmæ˜¯æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š36 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†68.31%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š11.9 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†33.14%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š85 / 85</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>é¢è¯•é¢˜ 01.05.ä¸€æ¬¡ç¼–è¾‘</title>
    <url>/2022/05/13/LeetCode/20220513-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/one-away-lcci/"> ä¸€æ¬¡ç¼–è¾‘ </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>åˆ†ç±»è®¨è®ºï¼š</p>
<ul>
<li>å½“ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰æ—¶ï¼Œç›´æ¥è¿”å› <code>True</code></li>
<li>å½“ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ç›¸å·®è¶…è¿‡2æ—¶ï¼Œç›´æ¥è¿”å› <code>False</code></li>
<li>å½“ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦ç›¸å·®ä¸º 1 æ—¶ï¼Œåˆ™è°ƒç”¨å‡½æ•°åˆ¤æ–­æ˜¯å¦åªå­˜åœ¨ä¸€å¤„ç¼–è¾‘</li>
<li>å½“ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦ç›¸ç­‰æ—¶ï¼Œéå†ä¸€éå­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æ¯ä¸ªä½ç½®çš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥ä¸ç›¸ç­‰çš„ä¸ªæ•°å¤§äº 1 æ—¶ï¼Œåˆ™è¿”å› <code>False</code> ï¼Œå¦åˆ™è¿”å› <code>True</code></li>
</ul>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// a æ˜¯è¾ƒå¤§çš„å­—ç¬¦ä¸²ï¼Œbæ˜¯è¾ƒå°çš„å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isDelete</span><span class="params">(string a, string b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            string str = a;</span><br><span class="line">            str.<span class="built_in">erase</span>(i, <span class="number">1</span>);  <span class="comment">// åˆ é™¤ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">            <span class="keyword">if</span>(str == b) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">oneEditAway</span><span class="params">(string first, string second)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> firstLen = first.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> secondLen = second.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(first == second) <span class="keyword">return</span> <span class="literal">true</span>; </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">abs</span>(firstLen - secondLen) &gt; <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">abs</span>(firstLen - secondLen) == <span class="number">1</span>) &#123; <span class="comment">// æ’å…¥æˆ–è€…åˆ é™¤ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">            <span class="keyword">if</span>(firstLen &gt; secondLen)</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">isDelete</span>(first, second);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">isDelete</span>(second, first);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; first.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(first[i] != second[i])&#123;</span><br><span class="line">                    num ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> num == <span class="number">1</span> || num == <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæœ€å¤šéå†ä¸€éå­—ç¬¦ä¸²</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œåˆ¤æ–­æ˜¯å¦åˆ é™¤æ—¶ï¼Œéœ€è¦æ‰¾ä¸€ä¸ªä¸´æ—¶å˜é‡å­˜å‚¨å­—ç¬¦ä¸²</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š6.2 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†19.66%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š1146 / 1146</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>åŒæŒ‡é’ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>82.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II</title>
    <url>/2022/05/14/LeetCode/20220514-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-list-ii/"> åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>é¦–å…ˆå†åŸæœ‰çš„é“¾è¡¨å‰é¢æ’å…¥ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œå¯ä»¥å‡å°‘å¤´æŒ‡é’ˆå˜åŒ–ã€‚è‹¥ <code>cur-&gt;next-&gt;val == cur-&gt;next-&gt;next-&gt;val</code> åˆ™åˆ é™¤ <code>cur-&gt;next</code>,ç„¶åä¾æ¬¡åˆ¤æ–­ï¼Œå°†æ‰€æœ‰é‡å¤çš„èŠ‚ç‚¹å…¨éƒ¨åˆ é™¤ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">deleteDuplicates</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">nullptr</span> || head-&gt;next == <span class="literal">nullptr</span>) <span class="keyword">return</span> head;</span><br><span class="line">        ListNode* dummy = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>, head);</span><br><span class="line">        ListNode* cur = dummy;</span><br><span class="line">        <span class="keyword">while</span>(cur-&gt;next &amp;&amp; cur-&gt;next-&gt;next)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur-&gt;next-&gt;val == cur-&gt;next-&gt;next-&gt;val)&#123;</span><br><span class="line">                <span class="type">int</span> x = cur-&gt;next-&gt;val;  <span class="comment">// è®°å½•ä¸‹ä¸€èŠ‚ç‚¹çš„å€¼</span></span><br><span class="line">                <span class="keyword">while</span> (cur-&gt;next &amp;&amp; cur-&gt;next-&gt;val == x) &#123; <span class="comment">// å¾ªç¯åˆ é™¤å’Œä¸‹ä¸€èŠ‚ç‚¹å€¼ç›¸ç­‰çš„æ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">                    cur-&gt;next = cur-&gt;next-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                cur = cur-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯é“¾è¡¨ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œæœ€å¤šéå†ä¸€éé“¾è¡¨</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä½¿ç”¨æ–°çš„é“¾è¡¨è¿›è¡Œéå†</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†92.06%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š10.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†65.46%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š166 / 166</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>åŒæŒ‡é’ˆ</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>812.æœ€å¤§ä¸‰è§’å½¢é¢ç§¯</title>
    <url>/2022/05/15/LeetCode/20220515-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/largest-triangle-area/"> æœ€å¤§ä¸‰è§’å½¢é¢ç§¯ </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>æš´åŠ›è§£æ³•ï¼šä¸‰é‡å¾ªç¯ã€‚ä¸»è¦æ˜¯è®¡ç®—ä¸‰è§’å½¢é¢ç§¯çš„å…¬å¼</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">triangleArea</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> y1, <span class="type">int</span> x2, <span class="type">int</span> y2, <span class="type">int</span> x3, <span class="type">int</span> y3)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.5</span> * <span class="built_in">abs</span>(x1 * y2 + x2 * y3 + x3 * y1 - x1 * y3 - x2 * y1 - x3 * y2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">largestTriangleArea</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp; points)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = points.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">double</span> ret = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> k = j + <span class="number">1</span>; k &lt; n; k++) &#123;</span><br><span class="line">                    ret = <span class="built_in">max</span>(ret, <span class="built_in">triangleArea</span>(points[i][<span class="number">0</span>], points[i][<span class="number">1</span>], points[j][<span class="number">0</span>], points[j][<span class="number">1</span>], points[k][<span class="number">0</span>], points[k][<span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n ^ 3)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†78.81%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š7.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†54.24%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š57 / 57</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°å­¦</tag>
        <tag>æ•°ç»„</tag>
        <tag>å‡ ä½•</tag>
      </tags>
  </entry>
  <entry>
    <title>é¢è¯•é¢˜ 04.06.åç»§è€…</title>
    <url>/2022/05/16/LeetCode/20220516-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/successor-lcci/"> åç»§è€… </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>ç›´æ¥è¿›è¡Œä¸­åºéå†ï¼Œå½“æ‰¾åˆ°æŒ‡å®šèŠ‚ç‚¹æ—¶ï¼Œè®© <code>loop = true</code>ï¼Œç„¶åç»§ç»­é€’å½’ï¼Œè‹¥<code>loop &amp;&amp; !res</code> æ—¶ï¼Œåˆ™èµ‹å€¼ï¼Œå¦åˆ™ <code>return</code></p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    TreeNode *res = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="type">bool</span> loop = <span class="literal">false</span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">InorderTra</span><span class="params">(TreeNode *root, TreeNode* p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">NULL</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="built_in">InorderTra</span>(root-&gt;left, p);</span><br><span class="line">        <span class="keyword">if</span>(loop)&#123;  <span class="comment">// å·²ç»æ‰¾åˆ°æŒ‡å®šèŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span>(res == <span class="literal">NULL</span>)  <span class="comment">// ä¸‹ä¸€èŠ‚ç‚¹è¿˜æ²¡ç¡®å®š</span></span><br><span class="line">                res = root;</span><br><span class="line">            <span class="keyword">else</span>  <span class="comment">// ä¸‹ä¸€èŠ‚ç‚¹å·²ç»ç¡®å®š</span></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(root == p) loop = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">InorderTra</span>(root-&gt;right, p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">TreeNode* <span class="title">inorderSuccessor</span><span class="params">(TreeNode* root, TreeNode* p)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">InorderTra</span>(root, p);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯äºŒå‰æ ‘ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š20 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†98.29%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š22.2 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†83.77%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š24 / 24</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>äºŒå‰æœç´¢æ ‘</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>æ ‘</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>953.éªŒè¯å¤–æ˜Ÿè¯­è¯å…¸</title>
    <url>/2022/05/17/LeetCode/20220517-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/verifying-an-alien-dictionary/"> éªŒè¯å¤–æ˜Ÿè¯­è¯å…¸ </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>æš´åŠ›è§£æ³•ï¼šå°† <code>words</code>ä¸­çš„å•è¯æŒ‰ç…§ <code>order</code> çš„å­—å…¸åºè¿›è¡Œæ’åºåä¸åŸæ•°ç»„è¿›è¡Œå¯¹æ¯”ï¼Œè‹¥ç›¸åŒåˆ™è¿”å› <code>true</code>ï¼Œè‹¥å­˜åœ¨ä¸åŒåˆ™è¿”å› <code>false</code></p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isAlienSorted</span><span class="params">(vector&lt;string&gt;&amp; words, string order)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; hsp;</span><br><span class="line">        <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; order.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            hsp[order[i]] = num ++;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;string&gt; arr;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; words.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            arr.<span class="built_in">emplace_back</span>(words[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), [&amp;](string &amp;a, string &amp;b)&#123;</span><br><span class="line">            <span class="type">int</span> len_a = a.<span class="built_in">size</span>();</span><br><span class="line">            <span class="type">int</span> len_b = b.<span class="built_in">size</span>();</span><br><span class="line">            <span class="type">int</span> len = <span class="built_in">min</span>(len_a, len_b);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i] == b[i]) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">return</span> hsp[a[i]] &lt; hsp[b[i]];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> len_a &lt; len_b;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; arr.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[i] != words[i])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * logn)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œéœ€è¦å¦å¤–ä¸€ä¸ªæ•°ç»„ä¿å­˜æ’åºåçš„words</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†28.37%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š10.1 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†5.05%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š120 / 120</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>æ•°ç»„</tag>
        <tag>å“ˆå¸Œè¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>462.æœ€å°‘ç§»åŠ¨æ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰ II</title>
    <url>/2022/05/19/LeetCode/20220519-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/minimum-moves-to-equal-array-elements-ii/"> æœ€å°‘ç§»åŠ¨æ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰ II </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>æ’åºåå¯»æ‰¾ä¸­é—´ä½ç½®çš„å€¼ï¼Œå¦‚æœæ•°ç»„å…ƒç´ ä¸ªæ•°æ˜¯å¥‡æ•°ï¼Œåˆ™ç›´æ¥å–ä¸­é—´å€¼ï¼Œå¦‚æœæ˜¯å¶æ•°ï¼Œåˆ™å–ä¸­é—´ä¸¤å€¼çš„å¹³å‡å€¼ï¼Œç„¶åéå†ä¸€éæ•°ç»„ï¼Œæ¯æ¬¡è®¡ç®—å½“å‰å…ƒç´ å’Œä¸­é—´å€¼å·®çš„ç»å¯¹å€¼å¹¶åŠ å…¥åˆ°ç»“æœä¸­ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minMoves2</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(n % <span class="number">2</span>) &#123; <span class="comment">// å¥‡æ•°</span></span><br><span class="line">            x = nums[n / <span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> r = nums[n / <span class="number">2</span>];</span><br><span class="line">            <span class="type">int</span> l = nums[n / <span class="number">2</span> - <span class="number">1</span>];</span><br><span class="line">            x = (r + l) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">            res += <span class="built_in">abs</span>(nums[i] - x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * logn)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œæ’åºæ—¶é—´å¤æ‚åº¦æ˜¯<em>O(n * logn)</em>ï¼Œè®¡ç®—æ—¶é—´å¤æ‚åº¦æ˜¯<em>O(n)</em>ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯<em>O(n * logn)</em></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†88.62%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š10.7 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†11.78%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š30 / 30</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æ’åº</tag>
        <tag>LeetCode</tag>
        <tag>æ•°å­¦</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>961.åœ¨é•¿åº¦ 2N çš„æ•°ç»„ä¸­æ‰¾å‡ºé‡å¤ N æ¬¡çš„å…ƒç´ </title>
    <url>/2022/05/21/LeetCode/20220521-01/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/n-repeated-element-in-size-2n-array/"> åœ¨é•¿åº¦ 2N çš„æ•°ç»„ä¸­æ‰¾å‡ºé‡å¤ N æ¬¡çš„å…ƒç´  </a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>åˆ©ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œè‹¥æ¬¡æ•°ç­‰äº <code>nums.size() / 2</code>åˆ™è¿”å›è¯¥æ•°å­—ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">repeatedNTimes</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>() / <span class="number">2</span>;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; hsp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            hsp[nums[i]] ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> it = hsp.<span class="built_in">begin</span>(); it != hsp.<span class="built_in">end</span>(); it++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(it-&gt;second == n)</span><br><span class="line">                <span class="keyword">return</span> it-&gt;first;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œ</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š44 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†28.13%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š29.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†25.96%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š102 / 102</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
        <tag>å“ˆå¸Œè¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>473.ç«æŸ´æ‹¼æ­£æ–¹å½¢â­</title>
    <url>/2022/06/01/LeetCode/20220601/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<h4 id="ç«æŸ´æ‹¼æ­£æ–¹å½¢"><a class="markdownIt-Anchor" href="#ç«æŸ´æ‹¼æ­£æ–¹å½¢"></a> <a href="https://leetcode.cn/problems/matchsticks-to-square/"> ç«æŸ´æ‹¼æ­£æ–¹å½¢ </a></h4>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>ä¸ºäº†å‡å°‘æœç´¢é‡ï¼Œéœ€è¦å¯¹ç«æŸ´é•¿åº¦ä»å¤§åˆ°å°è¿›è¡Œæ’åºã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> index, vector&lt;<span class="type">int</span>&gt; &amp;matchsticks, vector&lt;<span class="type">int</span>&gt; &amp;edges, <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == matchsticks.<span class="built_in">size</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; edges.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            edges[i] += matchsticks[index];</span><br><span class="line">            <span class="keyword">if</span> (edges[i] &lt;= len &amp;&amp; <span class="built_in">dfs</span>(index + <span class="number">1</span>, matchsticks, edges, len)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            edges[i] -= matchsticks[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">makesquare</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;matchsticks)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> totalLen = <span class="built_in">accumulate</span>(matchsticks.<span class="built_in">begin</span>(), matchsticks.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (totalLen % <span class="number">4</span> != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(matchsticks.<span class="built_in">begin</span>(), matchsticks.<span class="built_in">end</span>(), <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;()); <span class="comment">// å‡å°‘æœç´¢é‡</span></span><br><span class="line"></span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">edges</span><span class="params">(<span class="number">4</span>)</span></span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">dfs</span>(<span class="number">0</span>, matchsticks, edges, totalLen / <span class="number">4</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(4 ^ n)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œé€’å½’æ ˆéœ€è¦å  <em>O(n)</em> çš„ç©ºé—´</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š248 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†20.09%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š9.6 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†76.84%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š185 / 185</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>æ•°ç»„</tag>
        <tag>å›æº¯</tag>
        <tag>ä½è¿ç®—</tag>
        <tag>çŠ¶æ€å‹ç¼©</tag>
      </tags>
  </entry>
  <entry>
    <title>498.å¯¹è§’çº¿éå†</title>
    <url>/2022/06/14/LeetCode/20220614/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®"></a> é¢˜ç›®</h2>
<p><a href="https://leetcode.cn/problems/diagonal-traverse/">å¯¹è§’çº¿éå†</a></p>
<h2 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h2>
<p>è¿›è¡Œæ¨¡æ‹Ÿï¼Œæœ‰å‘å³ä¸Šå’Œå·¦ä¸‹ä¸¤ä¸ªæ–¹å‘çš„åŒºåˆ«ã€‚åˆ†åˆ«æ‰¾å‡ºåœ¨è¾¹ç•Œéœ€è¦æ”¹å˜çš„åæ ‡æ–¹æ³•ã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findDiagonalOrder</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; mat)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">        <span class="type">int</span> row = mat.<span class="built_in">size</span>(), col = mat[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            cout &lt;&lt; x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;      &quot;</span> &lt;&lt; flag &lt;&lt; endl;</span><br><span class="line">            res.<span class="built_in">push_back</span>(mat[x][y]);</span><br><span class="line">            <span class="keyword">if</span> (x == row - <span class="number">1</span> &amp;&amp; y == col - <span class="number">1</span> ) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(flag) &#123;  <span class="comment">// flag ä¸ºtrueæ—¶å‘å³ä¸Šè§’</span></span><br><span class="line">                <span class="keyword">if</span>(y == col - <span class="number">1</span>)&#123;</span><br><span class="line">                    x ++;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(x == <span class="number">0</span>) &#123;</span><br><span class="line">                    y ++;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    x --;</span><br><span class="line">                    y ++;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(x == row - <span class="number">1</span>) &#123;</span><br><span class="line">                    y ++;</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (y == <span class="number">0</span>) &#123;</span><br><span class="line">                    x ++;</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    x ++;</span><br><span class="line">                    y --;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n + m)</em>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„è¡Œæ•°ï¼Œmæ˜¯æ•°ç»„åˆ—æ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š104 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†8.27%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š17.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†78.97%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š32 / 32</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
        <tag>æ¨¡æ‹Ÿ</tag>
        <tag>çŸ©é˜µ</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode ç¬¬291åœºå‘¨èµ›</title>
    <url>/2022/05/02/LeetCode/291WeeklyCompetition/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®-1ç§»é™¤æŒ‡å®šæ•°å­—å¾—åˆ°çš„æœ€å¤§ç»“æœ"><a class="markdownIt-Anchor" href="#é¢˜ç›®-1ç§»é™¤æŒ‡å®šæ•°å­—å¾—åˆ°çš„æœ€å¤§ç»“æœ"></a> é¢˜ç›® 1ï¼šç§»é™¤æŒ‡å®šæ•°å­—å¾—åˆ°çš„æœ€å¤§ç»“æœ</h2>
<p><a href="https://leetcode-cn.com/problems/remove-digit-from-number-to-maximize-result/"> ç§»é™¤æŒ‡å®šæ•°å­—å¾—åˆ°çš„æœ€å¤§ç»“æœ </a></p>
<h3 id="æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ ‡ç­¾"></a> æ ‡ç­¾</h3>
<p><code>å­—ç¬¦ä¸²</code></p>
<h3 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h3>
<p>éå†ä¸€éå­—ç¬¦ä¸²ï¼Œå½“é‡åˆ°æŒ‡å®šå­—ç¬¦æ—¶ï¼Œä½¿ç”¨ <code>erase</code> å‡½æ•°åˆ é™¤è¯¥å­—ç¬¦ï¼Œç„¶åä½¿ç”¨ <code>compare()</code>å‡½æ•°è¿›è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œæ‰€ä»¥å°±ç›¸å½“äºæ¯”è¾ƒçš„æ˜¯å¯¹åº”æ•´å‹çš„å¤§å°ã€‚æœ€åä¿å­˜æœ€å¤§çš„å³å¯ã€‚</p>
<h3 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">removeDigit</span><span class="params">(string number, <span class="type">char</span> digit)</span> </span>&#123;</span><br><span class="line">        string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; number.<span class="built_in">length</span>(); i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(number[i] == digit)&#123;</span><br><span class="line">                string str = number;  <span class="comment">// ç”¨äºä¸´æ—¶ä¿å­˜åŸæ¥çš„string</span></span><br><span class="line">                str.<span class="built_in">erase</span>(i, <span class="number">1</span>); <span class="comment">// åˆ é™¤è¯¥å­—ç¬¦ï¼Œä»iå¼€å§‹åˆ é™¤ï¼Œåˆ é™¤1ä¸ªå­—ç¬¦</span></span><br><span class="line">                <span class="keyword">if</span>(res == <span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line">                    res = str;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(res.<span class="built_in">compare</span>(str) &lt; <span class="number">0</span>)&#123;  <span class="comment">// æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°</span></span><br><span class="line">                    res = str;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n ^ 2)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>number</em> çš„é•¿åº¦ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹ <em>number</em> è¿›è¡Œä¸€æ¬¡éå†ï¼Œä½†æ˜¯<code>erase</code>å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦ä¸º<em>O(n)</em>ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºå­˜å‚¨æ ‡ç»“æœéœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š6.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š112 / 112</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®-2å¿…é¡»æ‹¿èµ·çš„æœ€å°è¿ç»­å¡ç‰Œæ•°"><a class="markdownIt-Anchor" href="#é¢˜ç›®-2å¿…é¡»æ‹¿èµ·çš„æœ€å°è¿ç»­å¡ç‰Œæ•°"></a> é¢˜ç›® 2ï¼šå¿…é¡»æ‹¿èµ·çš„æœ€å°è¿ç»­å¡ç‰Œæ•°</h2>
<p><a href="https://leetcode-cn.com/problems/minimum-consecutive-cards-to-pick-up/"> å¿…é¡»æ‹¿èµ·çš„æœ€å°è¿ç»­å¡ç‰Œæ•° </a></p>
<h3 id="æ ‡ç­¾-2"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-2"></a> æ ‡ç­¾</h3>
<p><code>é˜Ÿåˆ—</code>ã€<code>å“ˆå¸Œè¡¨</code></p>
<h3 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯</h3>
<p>ä½¿ç”¨é˜Ÿåˆ—å­˜å‚¨å…ƒç´ ï¼Œè‹¥å°†è¦åŠ å…¥çš„å…ƒç´ å·²ç»å­˜åœ¨äºé˜Ÿåˆ—ä¸­ï¼Œåˆ™å¼€å§‹å‡ºé˜Ÿï¼ŒçŸ¥é“é˜Ÿåˆ—ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œç„¶åå’Œ<code>res</code>æ¯”è¾ƒå¤§å°ï¼Œè‹¥<code>res</code>å¤§äºé˜Ÿåˆ—å…ƒç´ ä¸ªæ•° åŠ  2ï¼ˆå› ä¸ºæ­¤æ—¶å½“å‰å…ƒç´ è¿˜æ²¡åŠ å…¥ï¼Œå¹¶ä¸”å’Œå…¶ç›¸åŒçš„å…ƒç´ ä¹Ÿå·²ç»å‡ºé˜Ÿäº†ï¼Œæ‰€ä»¥éœ€è¦åŠ  2ï¼‰ã€‚ç„¶åå°†å½“å‰å…ƒç´ å…¥é˜Ÿï¼Œç»§ç»­å¾€åéå†ã€‚</p>
<p>åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦å­˜åœ¨äºé˜Ÿåˆ—ä¸­éœ€è¦ä½¿ç”¨<code>unordered_map&lt;int, int&gt;</code>å“ˆå¸Œè¡¨è¿›è¡Œå­˜å‚¨ï¼Œè¡¨ç¤º K åœ¨å“ˆå¸Œè¡¨ä¸­çš„ä¸ªæ•°ä¸º V ã€‚</p>
<h3 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumCardPickup</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; cards)</span> </span>&#123;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; que; <span class="comment">// é˜Ÿåˆ—</span></span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; hsp;  <span class="comment">// å“ˆå¸Œè¡¨</span></span><br><span class="line">        que.<span class="built_in">push</span>(cards[<span class="number">0</span>]);</span><br><span class="line">        hsp[cards[<span class="number">0</span>]] ++;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; cards.<span class="built_in">size</span>())&#123;</span><br><span class="line">            <span class="keyword">if</span>(hsp[cards[i]] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">while</span>(hsp[cards[i]] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> top = que.<span class="built_in">front</span>();</span><br><span class="line">                    hsp[top] --;</span><br><span class="line">                    que.<span class="built_in">pop</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(res == <span class="number">-1</span> || res &gt; (que.<span class="built_in">size</span>() + <span class="number">2</span>)) res = que.<span class="built_in">size</span>() + <span class="number">2</span>;</span><br><span class="line">                hsp[cards[i]] ++;</span><br><span class="line">                que.<span class="built_in">push</span>(cards[i++]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                hsp[cards[i]] ++;</span><br><span class="line">                que.<span class="built_in">push</span>(cards[i++]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>cards</em> çš„é•¿åº¦ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹ <em>cards</em> è¿›è¡Œä¸€æ¬¡éå†.</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(2 * n)</em>ï¼Œå³ä¸ºé˜Ÿåˆ—å’Œå“ˆå¸Œè¡¨æ‰€éœ€è¦çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š372 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š116.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š78 / 78</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®-3å«æœ€å¤š-k-ä¸ªå¯æ•´é™¤å…ƒç´ çš„å­æ•°ç»„"><a class="markdownIt-Anchor" href="#é¢˜ç›®-3å«æœ€å¤š-k-ä¸ªå¯æ•´é™¤å…ƒç´ çš„å­æ•°ç»„"></a> é¢˜ç›® 3ï¼šå«æœ€å¤š K ä¸ªå¯æ•´é™¤å…ƒç´ çš„å­æ•°ç»„ â­</h2>
<p><a href="https://leetcode-cn.com/problems/k-divisible-elements-subarrays/"> å«æœ€å¤š K ä¸ªå¯æ•´é™¤å…ƒç´ çš„å­æ•°ç»„ </a></p>
<h3 id="æ ‡ç­¾-3"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-3"></a> æ ‡ç­¾</h3>
<p><code>å“ˆå¸Œè¡¨</code>ã€<code>å­—ç¬¦ä¸²</code></p>
<h3 id="æ€è·¯-3"><a class="markdownIt-Anchor" href="#æ€è·¯-3"></a> æ€è·¯</h3>
<p>å¯¹ <code>nums</code> æ•°ç»„è¿›è¡ŒåŒé‡å¾ªç¯ï¼Œç¬¬ä¸€é‡ç¡®å®šå¼€å§‹çš„ä½ç½®*ï¼ˆ0 ~ nums.size() - 1ï¼‰* ï¼Œç„¶åä¾æ¬¡éå†æ•°ç»„ï¼Œä½¿ç”¨æ•´å‹å˜é‡ <em>count</em> è®°å½•å‡ºç°èƒ½æ•´é™¤ <em>p</em> çš„ä¸ªæ•°ï¼Œå½“ <em>count</em> å¤§äº <em>k</em> æ—¶ï¼Œå°±è·³å‡ºå¾ªç¯ã€‚å¦åˆ™å°†è¯¥å…ƒç´ è½¬ä¸ºå­—ç¬¦ä¸²åŠ å…¥ <em>str</em> ä¸­ï¼Œ<strong>æ³¨æ„</strong>  éœ€è¦åœ¨æ¯ä¸ªæ•°åé¢åŠ ä¸ª <code>,</code>ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°è¿ç»­åŠ å…¥ 1,9å’Œç›´æ¥åŠ å…¥19é€ æˆçš„æ­§ä¹‰ã€‚æœ€åå°†<em>str</em> ç›´æ¥åŠ å…¥<code>unordered_map</code> ä¸­è¿›è¡Œå»é‡ã€‚æœ€åç»“æœä¸º<code>unordered_map</code>çš„ä¸ªæ•°ã€‚</p>
<p>å»é‡ä¹Ÿå¯ä»¥ä½¿ç”¨<code>map&lt;vector&lt;int&gt;, int&gt;</code></p>
<h3 id="unordered_map-å’Œ-map-çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#unordered_map-å’Œ-map-çš„åŒºåˆ«"></a> unordered_map å’Œ map çš„åŒºåˆ«</h3>
<ul>
<li><code>map</code>ï¼Œ<code>set</code>åº•å±‚æ˜¯çº¢é»‘æ ‘ï¼Œæœ‰åºçš„ï¼Œå­˜å‚¨çš„æ•°æ®ç±»å‹å¯ä»¥è‡ªå®šä¹‰ï¼Œç©ºé—´æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜</li>
<li><code>unordered_map</code>ï¼Œ<code>unordered_set</code>åº•å±‚å®ç°çš„æ—¶å“ˆå¸Œè¡¨ï¼Œæ— åºå­˜å‚¨ï¼ŒæŸ¥è¯¢ã€æ’å…¥æ—¶é—´ç©ºé—´å¤æ‚åº¦æ¯”è¾ƒä½ï¼ˆç›¸è¾ƒäºä¸Šé¢ä¸¤ä¸ªï¼‰ï¼Œä½†æ˜¯ç¼ºç‚¹å°±æ˜¯æ•°æ®ç±»å‹åªèƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚ï¼š<code>int</code>ï¼Œ<code>char</code>ï¼Œ<code>float</code>ï¼Œ<code>string</code>ç­‰ã€‚</li>
</ul>
<h3 id="é¢˜è§£-3"><a class="markdownIt-Anchor" href="#é¢˜è§£-3"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">ä½¿ç”¨unordered_map</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">ä½¿ç”¨map</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countDistinct</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;string, <span class="type">int</span>&gt; hsp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            <span class="type">int</span> count = <span class="number">0</span>;  <span class="comment">// è®°å½•èƒ½è¢«pæ•´é™¤çš„ä¸ªæ•°</span></span><br><span class="line">            string str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i; j &lt; nums.<span class="built_in">size</span>(); j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[j] % p == <span class="number">0</span>) count ++;</span><br><span class="line">                <span class="keyword">if</span>(count &gt; k) <span class="keyword">break</span>;</span><br><span class="line">                str += <span class="built_in">to_string</span>(nums[j]); <span class="comment">// å°†æ•´å‹è½¬ä¸ºstringç±»å‹ï¼Œå¹¶æ·»åŠ åˆ°strä¸­</span></span><br><span class="line">                str += <span class="string">&quot;,&quot;</span>; <span class="comment">// é˜²æ­¢å‡ºç° 1 9  å’Œ 19 ä¸€æ ·çš„æƒ…å†µ</span></span><br><span class="line">                hsp[str] ++;  <span class="comment">// ä½¿ç”¨unordered_mapè¿›è¡Œå»é‡</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// cout &lt;&lt; hsp.size() &lt;&lt; endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hsp.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n ^ 2)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>nums</em> çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O((1 + n) * n / 2)</em>ï¼Œå³ä¸º <em>unordered_map</em> åšå¤šéœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š492 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š204.6 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š129 / 129</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countDistinct</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">        map&lt;vector&lt;<span class="type">int</span>&gt;, <span class="type">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            <span class="type">int</span> count = <span class="number">0</span>;  <span class="comment">// è®°å½•èƒ½è¢«pæ•´é™¤çš„ä¸ªæ•°</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i; j &lt; nums.<span class="built_in">size</span>(); j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[j] % p == <span class="number">0</span>) count ++;</span><br><span class="line">                <span class="keyword">if</span>(count &gt; k) <span class="keyword">break</span>;</span><br><span class="line">                res[<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(nums.<span class="built_in">begin</span>() + i, nums.<span class="built_in">begin</span>() + j + <span class="number">1</span>)] = <span class="number">1</span>; <span class="comment">// æ·»åŠ å…¥map</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// cout &lt;&lt; hsp.size() &lt;&lt; endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n ^ 2)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>nums</em> çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O((1 + n) * n / 2)</em>ï¼Œå³ä¸º <em>map</em> åšå¤šéœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š1220 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š261 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š129 / 129</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®-4å­—ç¬¦ä¸²çš„æ€»å¼•åŠ›"><a class="markdownIt-Anchor" href="#é¢˜ç›®-4å­—ç¬¦ä¸²çš„æ€»å¼•åŠ›"></a> é¢˜ç›® 4ï¼šå­—ç¬¦ä¸²çš„æ€»å¼•åŠ› â­â­</h2>
<p><a href="https://leetcode-cn.com/problems/total-appeal-of-a-string/"> å­—ç¬¦ä¸²çš„æ€»å¼•åŠ› </a></p>
<h3 id="æ ‡ç­¾-4"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-4"></a> æ ‡ç­¾</h3>
<p><code>å­—ç¬¦ä¸²</code>ã€<code>å“ˆå¸Œè¡¨</code>ã€<code>åŠ¨æ€è§„åˆ’</code></p>
<h3 id="æ€è·¯-4"><a class="markdownIt-Anchor" href="#æ€è·¯-4"></a> æ€è·¯</h3>
<p>åˆ†ç±»è®¨è®ºï¼š</p>
<ul>
<li>å¦‚æœ <em>s[i]</em> ä¹‹å‰æ²¡æœ‰é‡åˆ°è¿‡ï¼Œé‚£ä¹ˆè‡´è°¢å­ä¸²çš„å¼•åŠ›å€¼éƒ½ä¼šå¢åŠ  1ï¼Œè¿™äº›å­ä¸²çš„å¼•åŠ›å€¼ä¹‹å’Œä¼šå¢åŠ  iï¼Œå†åŠ ä¸Š1ï¼Œå³ <em>s[i]</em> å•ç‹¬ç»„æˆçš„å­ä¸²çš„å¼•åŠ›å€¼ã€‚</li>
<li>å¦‚æœ <em>s[i]</em> ä¹‹å‰é‡åˆ°è¿‡ï¼Œè®¾å…¶ä¸Šæ¬¡å‡ºç°çš„ä¸‹æ ‡ä¸º <em>j</em>ï¼Œé‚£ä¹ˆå‘å­ä¸² <code>s[0...i - 1], s[1...i - 1], s[2...i - 1], ..., s[j...i - 1]</code> çš„æœ«å°¾æ·»åŠ <code>s[i]</code>åï¼Œè¿™äº›å­ä¸²çš„å¼•åŠ›å€¼æ˜¯ä¸ä¼šå˜åŒ–çš„ï¼Œå› ä¸º <code>s[i]</code> å·²ç»åœ¨ <code>s[j]</code> å‡ºç°è¿‡äº†ï¼›è€Œå­ä¸²<code>s[j + 1 .. i - 1], s[j + 2 .. i - 1], .. ,s[i - 1 .. i - 1]</code>ç”±äºä¸åŒ…å« <code>s[i]</code>,è¿™äº›å­ä¸²çš„å¼•åŠ›å€¼éƒ½ä¼šå¢åŠ  1ï¼Œå› æ­¤æœ‰ <code>i - j - 1</code>ä¸ªå­ä¸²çš„å¼•åŠ›å€¼ä¼šå¢åŠ  1ï¼Œè¿™äº›å­ä¸²çš„å¼•åŠ›å€¼ä¹‹å’Œä¼šå¢åŠ  <code>i - j -1</code>ï¼Œåœ¨åŠ ä¸Š 1ï¼Œå³ <code>s[i]</code> å•ç‹¬ç»„æˆçš„å­ä¸²çš„å¼•åŠ›å€¼ã€‚</li>
</ul>
<h3 id="é¢˜è§£-4"><a class="markdownIt-Anchor" href="#é¢˜è§£-4"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">appealSum</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">pos</span><span class="params">(<span class="number">26</span>, <span class="number">-1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>, sum = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="type">int</span> a = s[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            sum += i - pos[a];</span><br><span class="line">            res += sum;</span><br><span class="line">            pos[a] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>s</em> çš„é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(âˆ£Î£âˆ£)</em>ï¼Œå…¶ä¸­ <em>âˆ£Î£âˆ£</em> ä¸ºå­—ç¬¦é›†åˆçš„å¤§å°ï¼Œæœ¬é¢˜ä¸­å­—ç¬¦å‡ä¸ºå°å†™å­—æ¯ï¼Œæ‰€ä»¥ <em>âˆ£Î£âˆ£=26</em>ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š20 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š10.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š76 / 76</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
        <category>å‘¨èµ›</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode ç¬¬292åœºå‘¨èµ›</title>
    <url>/2022/05/09/LeetCode/292WeeklyCompetition/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®1å­—ç¬¦ä¸²ä¸­æœ€å¤§çš„-3-ä½ç›¸åŒæ•°å­—"><a class="markdownIt-Anchor" href="#é¢˜ç›®1å­—ç¬¦ä¸²ä¸­æœ€å¤§çš„-3-ä½ç›¸åŒæ•°å­—"></a> é¢˜ç›®1ï¼šå­—ç¬¦ä¸²ä¸­æœ€å¤§çš„ 3 ä½ç›¸åŒæ•°å­—</h2>
<p><a href="https://leetcode.cn/problems/largest-3-same-digit-number-in-string/"> å­—ç¬¦ä¸²ä¸­æœ€å¤§çš„ 3 ä½ç›¸åŒæ•°å­— </a></p>
<h3 id="æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ ‡ç­¾"></a> æ ‡ç­¾</h3>
<p><code>å­—ç¬¦ä¸²</code></p>
<h3 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h3>
<p>éå†ä¸€éæ•°ç»„ï¼Œæ¯æ¬¡ä»ç¬¬ i ä¸ªä½ç½®æˆªå–é•¿åº¦ä¸º 3 å­—ç¬¦ä¸²ï¼Œç„¶ååˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œè‹¥ç¬¦åˆï¼Œåˆ™æ›´æ–°ç»“æœã€‚</p>
<h3 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">largestGoodInteger</span><span class="params">(string num)</span> </span>&#123;</span><br><span class="line">        string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; num.<span class="built_in">size</span>() - <span class="number">2</span>; i ++)&#123;</span><br><span class="line">            string str = num.<span class="built_in">substr</span>(i, <span class="number">3</span>);</span><br><span class="line">            <span class="keyword">if</span>(str[<span class="number">0</span>] == str[<span class="number">1</span>] &amp;&amp; str[<span class="number">1</span>] == str[<span class="number">2</span>] &amp;&amp; res &lt; str)&#123;</span><br><span class="line">                res = str;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º å­—ç¬¦ä¸² <em>num</em> çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š6.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š140 / 140</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2ç»Ÿè®¡å€¼ç­‰äºå­æ ‘å¹³å‡å€¼çš„èŠ‚ç‚¹æ•°"><a class="markdownIt-Anchor" href="#é¢˜ç›®2ç»Ÿè®¡å€¼ç­‰äºå­æ ‘å¹³å‡å€¼çš„èŠ‚ç‚¹æ•°"></a> é¢˜ç›®2ï¼šç»Ÿè®¡å€¼ç­‰äºå­æ ‘å¹³å‡å€¼çš„èŠ‚ç‚¹æ•°</h2>
<p><a href="https://leetcode.cn/problems/count-nodes-equal-to-average-of-subtree/"> ç»Ÿè®¡å€¼ç­‰äºå­æ ‘å¹³å‡å€¼çš„èŠ‚ç‚¹æ•° </a></p>
<h3 id="æ ‡ç­¾-2"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-2"></a> æ ‡ç­¾</h3>
<p><code>äºŒå‰æ ‘</code>ã€<code>ååºéå†</code>ã€<code>pair</code></p>
<h3 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯</h3>
<ol>
<li>é€’å½’å‡½æ•°ä¸è¿”å›å€¼
<ul>
<li>ç”¨pair&lt;int,int&gt;ä½œä¸ºè¿”å›å€¼è®°å½•ä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æ€»å€¼ä¸èŠ‚ç‚¹ä¸ªæ•°</li>
<li><code>pair&lt;int,int&gt; getAvgVal(TreeNode* root)&#123;&#125;</code></li>
</ul>
</li>
<li>é€’å½’å‡½æ•°å‡ºå£
<ul>
<li>å¦‚æœé‡åˆ°ç©ºèŠ‚ç‚¹ è¿”å›{0,0}</li>
<li><code>if(root==nullptr) return &#123;0,0&#125;;</code></li>
</ul>
</li>
<li>å•å±‚é€’å½’é€»è¾‘
<ul>
<li>ç”¨l_pairæ¥ä½éå†è¿‡ç¨‹ä¸­å·¦å­æ ‘çš„ pair&lt;&gt;;</li>
<li>ç”¨r_pairæ¥ä½éå†è¿‡ç¨‹ä¸­å³å­æ ‘çš„ pair&lt;&gt;;</li>
<li>è®¡ç®—å½“å‰èŠ‚ç‚¹çš„ pair&lt;&gt;;</li>
<li>åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œ++ans;</li>
<li>è¿”å›å½“å‰èŠ‚ç‚¹çš„ pair&lt;&gt;;</li>
</ul>
</li>
</ol>
<h3 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// æ€»æ•°ï¼Œä¸ªæ•°</span></span><br><span class="line">    <span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">getAvgVal</span><span class="params">(TreeNode* root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span> &#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pair_l = <span class="built_in">getAvgVal</span>(root-&gt;left);</span><br><span class="line">        pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pair_r = <span class="built_in">getAvgVal</span>(root-&gt;right);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> sum = pair_l.first + pair_r.first + root-&gt;val;</span><br><span class="line">        <span class="type">int</span> count = pair_l.second + pair_r.second + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; cur = &#123;sum, count&#125;;</span><br><span class="line">        <span class="keyword">if</span>(sum / count == root-&gt;val) res++;</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">averageOfSubtree</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; per = <span class="built_in">getAvgVal</span>(root);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š6.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š140 / 140</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®3ç»Ÿè®¡æ‰“å­—æ–¹æ¡ˆæ•°"><a class="markdownIt-Anchor" href="#é¢˜ç›®3ç»Ÿè®¡æ‰“å­—æ–¹æ¡ˆæ•°"></a> é¢˜ç›®3ï¼šç»Ÿè®¡æ‰“å­—æ–¹æ¡ˆæ•°</h2>
<p><a href="https://leetcode.cn/problems/count-number-of-texts/"> ç»Ÿè®¡æ‰“å­—æ–¹æ¡ˆæ•° </a></p>
<h2 id="é¢˜ç›®4æ£€æŸ¥æ˜¯å¦æœ‰åˆæ³•æ‹¬å·å­—ç¬¦ä¸²è·¯å¾„"><a class="markdownIt-Anchor" href="#é¢˜ç›®4æ£€æŸ¥æ˜¯å¦æœ‰åˆæ³•æ‹¬å·å­—ç¬¦ä¸²è·¯å¾„"></a> é¢˜ç›®4ï¼šæ£€æŸ¥æ˜¯å¦æœ‰åˆæ³•æ‹¬å·å­—ç¬¦ä¸²è·¯å¾„</h2>
<p><a href="https://leetcode.cn/problems/check-if-there-is-a-valid-parentheses-string-path/"> æ£€æŸ¥æ˜¯å¦æœ‰åˆæ³•æ‹¬å·å­—ç¬¦ä¸²è·¯å¾„ </a></p>
]]></content>
      <categories>
        <category>LeetCode</category>
        <category>å‘¨èµ›</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode ç¬¬293åœºå‘¨èµ›</title>
    <url>/2022/05/16/LeetCode/293WeeklyCompetition/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®1ç§»é™¤å­—æ¯å¼‚ä½è¯åçš„ç»“æœæ•°ç»„"><a class="markdownIt-Anchor" href="#é¢˜ç›®1ç§»é™¤å­—æ¯å¼‚ä½è¯åçš„ç»“æœæ•°ç»„"></a> é¢˜ç›®1ï¼šç§»é™¤å­—æ¯å¼‚ä½è¯åçš„ç»“æœæ•°ç»„</h2>
<p><a href="https://leetcode.cn/problems/find-resultant-array-after-removing-anagrams/"> ç§»é™¤å­—æ¯å¼‚ä½è¯åçš„ç»“æœæ•°ç»„ </a></p>
<h3 id="æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ ‡ç­¾"></a> æ ‡ç­¾</h3>
<p><code>æ’åº</code>ã€<code>æ•°ç»„</code>ã€<code>å­—ç¬¦ä¸²</code></p>
<h3 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h3>
<p>å…ˆå°† <code>words</code> ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œç„¶åé€†åºéå†ï¼Œè‹¥å½“å‰å­—ç¬¦ä¸²å’Œå‰ä¸€å­—ç¬¦ä¸²ç›¸ç­‰ï¼Œåˆ™åˆ é™¤<strong>åŸæ•°ç»„</strong>ä¸­çš„è¯¥ä½ç½®çš„å­—ç¬¦ä¸²ã€‚æœ€åè¿”å›åŸæ•°ç»„</p>
<h3 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">removeAnagrams</span><span class="params">(vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        vector&lt;string&gt; arr;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; words.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            string str = words[i];</span><br><span class="line">            <span class="built_in">sort</span>(str.<span class="built_in">begin</span>(), str.<span class="built_in">end</span>());</span><br><span class="line">            arr.<span class="built_in">emplace_back</span>(str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = arr.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt; <span class="number">0</span>; i --)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[i] == arr[i - <span class="number">1</span>])&#123;</span><br><span class="line">                words.<span class="built_in">erase</span>(words.<span class="built_in">begin</span>() + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> words;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„ <code>words</code> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä¿å­˜æ¯ä¸ªå­—ç¬¦ä¸²æ’åºåçš„æ•°ç»„</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š13.2 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š201 / 201</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2ä¸å«ç‰¹æ®Šæ¥¼å±‚çš„æœ€å¤§è¿ç»­æ¥¼å±‚æ•°"><a class="markdownIt-Anchor" href="#é¢˜ç›®2ä¸å«ç‰¹æ®Šæ¥¼å±‚çš„æœ€å¤§è¿ç»­æ¥¼å±‚æ•°"></a> é¢˜ç›®2ï¼šä¸å«ç‰¹æ®Šæ¥¼å±‚çš„æœ€å¤§è¿ç»­æ¥¼å±‚æ•°</h2>
<p><a href="https://leetcode.cn/problems/maximum-consecutive-floors-without-special-floors/"> ä¸å«ç‰¹æ®Šæ¥¼å±‚çš„æœ€å¤§è¿ç»­æ¥¼å±‚æ•° </a></p>
<h3 id="æ ‡ç­¾-2"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-2"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>æ’åº</code>ã€<code>æ•°å­¦</code></p>
<h3 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯</h3>
<p>å°†ç‰¹æ®Šæ¥¼å±‚æ•°ç»„ <code>special</code> è¿›è¡Œæ’åºï¼Œç„¶ååˆ†åˆ«è®¡ç®—æ¯ä¸¤ä¸ªç‰¹æ®Šæ¥¼å±‚ä¹‹é—´çš„æ¥¼å±‚æ•°ï¼Œå–æœ€å¤§å€¼ã€‚ç„¶åå†å’Œä¸¤ç«¯çš„æ¥¼å±‚æ•°ä½œæ¯”è¾ƒï¼Œå–æœ€å¤§å€¼ã€‚</p>
<h3 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxConsecutive</span><span class="params">(<span class="type">int</span> bottom, <span class="type">int</span> top, vector&lt;<span class="type">int</span>&gt;&amp; special)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(special.<span class="built_in">begin</span>(), special.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n = special.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; special.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            res = <span class="built_in">max</span>(res, special[i] - special[i - <span class="number">1</span>] - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä¸¤ç«¯çš„æ¥¼å±‚è®¡ç®—</span></span><br><span class="line">        res = <span class="built_in">max</span>(res, special[<span class="number">0</span>] - bottom);</span><br><span class="line">        res = <span class="built_in">max</span>(res, top - special[n - <span class="number">1</span>]); </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„ <code>special</code> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š176 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š56.7 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š80 / 80</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®3æŒ‰ä½ä¸ç»“æœå¤§äºé›¶çš„æœ€é•¿ç»„åˆ"><a class="markdownIt-Anchor" href="#é¢˜ç›®3æŒ‰ä½ä¸ç»“æœå¤§äºé›¶çš„æœ€é•¿ç»„åˆ"></a> é¢˜ç›®3ï¼šæŒ‰ä½ä¸ç»“æœå¤§äºé›¶çš„æœ€é•¿ç»„åˆ</h2>
<p><a href="https://leetcode.cn/problems/largest-combination-with-bitwise-and-greater-than-zero/"> æŒ‰ä½ä¸ç»“æœå¤§äºé›¶çš„æœ€é•¿ç»„åˆ </a></p>
<h2 id="é¢˜ç›®4ç»Ÿè®¡åŒºé—´ä¸­çš„æ•´æ•°æ•°ç›®"><a class="markdownIt-Anchor" href="#é¢˜ç›®4ç»Ÿè®¡åŒºé—´ä¸­çš„æ•´æ•°æ•°ç›®"></a> é¢˜ç›®4ï¼šç»Ÿè®¡åŒºé—´ä¸­çš„æ•´æ•°æ•°ç›®</h2>
<p><a href="https://leetcode.cn/problems/count-integers-in-intervals/"> ç»Ÿè®¡åŒºé—´ä¸­çš„æ•´æ•°æ•°ç›® </a></p>
]]></content>
      <categories>
        <category>LeetCode</category>
        <category>å‘¨èµ›</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode ç¬¬294åœºå‘¨èµ›</title>
    <url>/2022/05/23/LeetCode/294WeeklyCompetition/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®1å­—æ¯åœ¨å­—ç¬¦ä¸²ä¸­çš„ç™¾åˆ†æ¯”"><a class="markdownIt-Anchor" href="#é¢˜ç›®1å­—æ¯åœ¨å­—ç¬¦ä¸²ä¸­çš„ç™¾åˆ†æ¯”"></a> é¢˜ç›®1ï¼šå­—æ¯åœ¨å­—ç¬¦ä¸²ä¸­çš„ç™¾åˆ†æ¯”</h2>
<p><a href="https://leetcode.cn/problems/percentage-of-letter-in-string/">å­—æ¯åœ¨å­—ç¬¦ä¸²ä¸­çš„ç™¾åˆ†æ¯”</a></p>
<h3 id="æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ ‡ç­¾"></a> æ ‡ç­¾</h3>
<p><code>å­—ç¬¦ä¸²</code></p>
<h3 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h3>
<p>éå†ä¸€éå­—ç¬¦ä¸²ï¼Œç»Ÿè®¡ç›®æ ‡å­—ç¬¦çš„ä¸ªæ•°ï¼Œç„¶åå…ˆä¹˜100å†é™¤ä»¥å­—ç¬¦ä¸²çš„å¤§å°ã€‚</p>
<h3 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">percentageLetter</span><span class="params">(string s, <span class="type">char</span> letter)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">float</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == letter)</span><br><span class="line">                num ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// cout &lt;&lt; n &lt;&lt; &quot; &quot; &lt;&lt; num &lt;&lt; endl;</span></span><br><span class="line">        <span class="keyword">return</span> num * <span class="number">100</span> / n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºå­—ç¬¦ä¸² <em>s</em> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š5.9 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†50.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š85 / 85</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2è£…æ»¡çŸ³å¤´çš„èƒŒåŒ…çš„æœ€å¤§æ•°é‡"><a class="markdownIt-Anchor" href="#é¢˜ç›®2è£…æ»¡çŸ³å¤´çš„èƒŒåŒ…çš„æœ€å¤§æ•°é‡"></a> é¢˜ç›®2ï¼šè£…æ»¡çŸ³å¤´çš„èƒŒåŒ…çš„æœ€å¤§æ•°é‡</h2>
<p><a href="https://leetcode.cn/problems/maximum-bags-with-full-capacity-of-rocks/">è£…æ»¡çŸ³å¤´çš„èƒŒåŒ…çš„æœ€å¤§æ•°é‡</a></p>
<h3 id="æ ‡ç­¾-2"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-2"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>æ’åº</code></p>
<h3 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯</h3>
<p>å…ˆè®¡ç®—å‡ºæ¯ä¸ªèƒŒåŒ…å‰©ä½™çš„ç©ºé—´å¹¶ä¿å­˜è‡³ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç„¶åå°†è¯¥æ•°ç»„ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œéå†ä¸€éï¼Œè‹¥å½“å‰ä½ç½®çš„å…ƒç´ å°äºé¢å¤–çš„çŸ³å¤´æ•°é‡ï¼Œå¹¶ä¸”é¢å¤–çš„çŸ³å¤´æ•°é‡å¤§äº0ï¼Œåˆ™å°† <code>additionalRocks -= arr[i]</code> å¹¶ä¸”è£…æ»¡çŸ³å¤´çš„èƒŒåŒ…æ•°åŠ ä¸€ã€‚</p>
<h3 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maximumBags</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; capacity, vector&lt;<span class="type">int</span>&gt;&amp; rocks, <span class="type">int</span> additionalRocks)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; capacity.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            arr.<span class="built_in">push_back</span>(capacity[i] - rocks[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> nums = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; arr.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                nums ++;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(additionalRocks &gt; <span class="number">0</span> &amp;&amp; additionalRocks &gt;= arr[i])&#123;</span><br><span class="line">                additionalRocks -= arr[i];</span><br><span class="line">                nums++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * logn)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„çš„å¤§å°ï¼Œæ’åºè€—æ—¶ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œéœ€è¦ä¸€ä¸ªé¢å¤–çš„æ•°ç»„ä¿å­˜æ¯ä¸ªèƒŒåŒ…å‰©ä½™çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š144 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š87.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š79 / 79</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®3è¡¨ç¤ºä¸€ä¸ªæŠ˜çº¿å›¾çš„æœ€å°‘çº¿æ®µæ•°"><a class="markdownIt-Anchor" href="#é¢˜ç›®3è¡¨ç¤ºä¸€ä¸ªæŠ˜çº¿å›¾çš„æœ€å°‘çº¿æ®µæ•°"></a> é¢˜ç›®3ï¼šè¡¨ç¤ºä¸€ä¸ªæŠ˜çº¿å›¾çš„æœ€å°‘çº¿æ®µæ•°</h2>
<p><a href="https://leetcode.cn/problems/minimum-lines-to-represent-a-line-chart/">è¡¨ç¤ºä¸€ä¸ªæŠ˜çº¿å›¾çš„æœ€å°‘çº¿æ®µæ•°</a></p>
<h3 id="æ ‡ç­¾-3"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-3"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>æ’åº</code>ã€<code>æ•°å­¦</code></p>
<h3 id="æ€è·¯-3"><a class="markdownIt-Anchor" href="#æ€è·¯-3"></a> æ€è·¯</h3>
<p>å…ˆå°†æ‰€æœ‰çš„ç‚¹æŒ‰ç…§æ¨ªåæ ‡ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œç›´æ¥ä½¿ç”¨ <code>sort(stockPrices.begin(), stockPrices.end());</code> è¿›è¡Œæ’åºå³å¯ã€‚ç„¶åéå†ä¸€éå‡½æ•°ï¼Œæ¯æ¬¡è®¡ç®—å½“å‰å…ƒç´ å’Œå‰ä¸€å…ƒç´ ç»„æˆçš„çº¿æ®µçš„æ–œç‡æ˜¯å¦å’Œå‰ä¸€æ®µæ–œç‡ç›¸åŒï¼Œè‹¥ä¸åŒï¼Œåˆ™ç»“æœåŠ ä¸€ã€‚éœ€è¦ä½¿ç”¨ä¸€ä¸ªå˜é‡è®°å½•å‰ä¸€æ–œç‡ï¼Œå†ä¸ç›¸åŒæ—¶æ›´æ–°è¯¥å˜é‡ã€‚</p>
<p><code>sort(stockPrices.begin(), stockPrices.end());</code>ï¼Œé»˜è®¤æŒ‰ç…§æ•°ç»„çš„ç¬¬ä¸€åˆ—è¿›è¡Œå‡åºæ’åºã€‚</p>
<p><code>sort(stockPrices.rbegin(), stockPrices.rend());</code>ï¼Œé»˜è®¤æŒ‰ç…§æ•°ç»„çš„ç¬¬ä¸€åˆ—è¿›è¡Œé™åºæ’åˆ—ã€‚</p>
<h3 id="é¢˜è§£-3"><a class="markdownIt-Anchor" href="#é¢˜è§£-3"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumLines</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; stockPrices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(stockPrices.<span class="built_in">size</span>() == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(stockPrices.<span class="built_in">size</span>() == <span class="number">2</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">sort</span>(stockPrices.<span class="built_in">begin</span>(), stockPrices.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">long</span> <span class="type">double</span> pre = <span class="number">2e9</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; stockPrices.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="type">int</span> x1 = stockPrices[i - <span class="number">1</span>][<span class="number">0</span>], y1 = stockPrices[i - <span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> x2 = stockPrices[i][<span class="number">0</span>], y2 = stockPrices[i][<span class="number">1</span>];</span><br><span class="line">            <span class="type">long</span> <span class="type">double</span> cur = (<span class="type">long</span> <span class="type">double</span>)(y2 - y1) / (<span class="type">long</span> <span class="type">double</span>)(x2 - x1);</span><br><span class="line">            <span class="keyword">if</span>(cur != pre)&#123;</span><br><span class="line">                res ++;</span><br><span class="line">                pre = cur;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * logn)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„çš„å¤§å°ï¼Œæ’åºè€—æ—¶ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š392 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š98.3 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š79 / 79</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®4å·«å¸ˆçš„æ€»åŠ›é‡å’Œ"><a class="markdownIt-Anchor" href="#é¢˜ç›®4å·«å¸ˆçš„æ€»åŠ›é‡å’Œ"></a> é¢˜ç›®4ï¼šå·«å¸ˆçš„æ€»åŠ›é‡å’Œ</h2>
<p><a href="https://leetcode.cn/problems/sum-of-total-strength-of-wizards/">å·«å¸ˆçš„æ€»åŠ›é‡å’Œ</a></p>
]]></content>
      <categories>
        <category>LeetCode</category>
        <category>å‘¨èµ›</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‹ç‰Œé¢è¯•å­¦ä¹ è®¡åˆ’[Leetcode 75]</title>
    <url>/2022/06/28/LeetCode/Leetcode75/</url>
    <content><![CDATA[<h1 id="day01å‰ç¼€å’Œ"><a class="markdownIt-Anchor" href="#day01å‰ç¼€å’Œ"></a> day01ï¼šå‰ç¼€å’Œ</h1>
<h2 id="é¢˜ç›®1"><a class="markdownIt-Anchor" href="#é¢˜ç›®1"></a> é¢˜ç›®1</h2>
<p><a href="https://leetcode.cn/problems/running-sum-of-1d-array/"> ä¸€ç»´æ•°ç»„çš„åŠ¨æ€å’Œ </a></p>
<h3 id="æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ ‡ç­¾"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>å‰ç¼€å’Œ</code></p>
<h3 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">runningSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">        arr.<span class="built_in">push_back</span>(nums[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; nums.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            arr.<span class="built_in">push_back</span>(arr[i - <span class="number">1</span>] + nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>nums</em> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†49.82%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š8.2 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†65.68%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š53 / 53</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2"><a class="markdownIt-Anchor" href="#é¢˜ç›®2"></a> é¢˜ç›®2</h2>
<p><a href="https://leetcode.cn/problems/find-pivot-index/">å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡</a></p>
<h3 id="æ ‡ç­¾-2"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-2"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>å‰ç¼€å’Œ</code></p>
<h3 id="æ€è·¯"><a class="markdownIt-Anchor" href="#æ€è·¯"></a> æ€è·¯</h3>
<p>å…ˆæ±‚å‡ºå‰ç¼€å’Œæ•°ç»„ï¼Œæ±‚è§£å‰å¯ä»¥å°†å‰ç¼€å’Œæ•°ç»„ç½®ä¸º0ï¼Œæ–¹ä¾¿åç»­è®¡ç®—ã€‚éå†å‰ç¼€å’Œæ•°ç»„ï¼Œiä»1åˆ°<code>n-1</code></p>
<ul>
<li>å·¦è¾¹ï¼š<code>arr[i] - arr[0]</code></li>
<li>å³è¾¹ï¼š<code>arr[n - 1] - arr[i]</code></li>
</ul>
<h3 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">pivotIndex</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; arr;  <span class="comment">// ä¿å­˜å‰ç¼€å’Œ</span></span><br><span class="line">        arr.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            arr.<span class="built_in">push_back</span>(arr[i] + nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; arr.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            <span class="type">int</span> l = arr[i - <span class="number">1</span>] - arr[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> r = arr[n - <span class="number">1</span>] - arr[i];</span><br><span class="line">            <span class="keyword">if</span>(l == r) <span class="keyword">return</span> i - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>nums</em> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä¿å­˜å‰ç¼€å’Œæ•°ç»„ç”¨åˆ°</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š28 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†17.17%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š31.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†5.02%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š745 / 745</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="day02å­—ç¬¦ä¸²"><a class="markdownIt-Anchor" href="#day02å­—ç¬¦ä¸²"></a> day02ï¼šå­—ç¬¦ä¸²</h1>
<h2 id="é¢˜ç›®1-2"><a class="markdownIt-Anchor" href="#é¢˜ç›®1-2"></a> é¢˜ç›®1</h2>
<p><a href="https://leetcode.cn/problems/isomorphic-strings/"> åŒæ„å­—ç¬¦ä¸² </a></p>
<h3 id="æ ‡ç­¾-3"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-3"></a> æ ‡ç­¾</h3>
<p><code>å­—ç¬¦ä¸²</code>ã€<code>å“ˆå¸Œè¡¨</code></p>
<h3 id="æ€è·¯-2"><a class="markdownIt-Anchor" href="#æ€è·¯-2"></a> æ€è·¯</h3>
<p>ä½¿ç”¨å“ˆå¸Œè¡¨<code>unordered_map</code>å­˜å‚¨ä¸¤ä¸ªå•è¯ä¹‹é—´çš„æ˜ å°„å…³ç³»å³å¯ã€‚</p>
<h3 id="é¢˜è§£-3"><a class="markdownIt-Anchor" href="#é¢˜è§£-3"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isIsomorphic</span><span class="params">(string s, string t)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; hsp;</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; map;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hsp[s[i]] == <span class="number">0</span> &amp;&amp; map[t[i]] == <span class="number">0</span>)&#123;</span><br><span class="line">                hsp[s[i]] = t[i] - <span class="string">&#x27;a&#x27;</span> + <span class="number">1</span>;</span><br><span class="line">                map[t[i]] = s[i] - <span class="string">&#x27;a&#x27;</span> + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(hsp[s[i]] != t[i] - <span class="string">&#x27;a&#x27;</span> + <span class="number">1</span> || map[t[i]] != s[i] - <span class="string">&#x27;a&#x27;</span> + <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>nums</em> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(2 * n)</em>ï¼Œ éœ€è¦ä½¿ç”¨ä¸¤ä¸ªå“ˆå¸Œè¡¨</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†56.60%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š6.7 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†85.03%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š43 / 43</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2-2"><a class="markdownIt-Anchor" href="#é¢˜ç›®2-2"></a> é¢˜ç›®2</h2>
<p><a href="https://leetcode.cn/problems/is-subsequence/"> åˆ¤æ–­å­åºåˆ— </a></p>
<h3 id="æ ‡ç­¾-4"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-4"></a> æ ‡ç­¾</h3>
<p><code>å­—ç¬¦ä¸²</code>ã€<code>åŒæŒ‡é’ˆ</code>ã€<code>åŠ¨æ€è§„åˆ’</code></p>
<h3 id="é¢˜è§£-4"><a class="markdownIt-Anchor" href="#é¢˜è§£-4"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isSubsequence</span><span class="params">(string s, string t)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; t.<span class="built_in">size</span>(); j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i == s.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s[i] == t[j])&#123;</span><br><span class="line">                i ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i == s.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„ <em>t</em> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š6.2 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†63.35%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š17 / 17</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="day03é“¾è¡¨"><a class="markdownIt-Anchor" href="#day03é“¾è¡¨"></a> day03ï¼šé“¾è¡¨</h1>
<h2 id="é¢˜ç›®1-3"><a class="markdownIt-Anchor" href="#é¢˜ç›®1-3"></a> é¢˜ç›®1</h2>
<p><a href="https://leetcode.cn/problems/merge-two-sorted-lists/">åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a></p>
<h3 id="æ ‡ç­¾-5"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-5"></a> æ ‡ç­¾</h3>
<p><code>é€’å½’</code>ã€<code>é“¾è¡¨</code></p>
<h3 id="é¢˜è§£-5"><a class="markdownIt-Anchor" href="#é¢˜è§£-5"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* list1, ListNode* list2)</span> </span>&#123;</span><br><span class="line">        ListNode *list = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>);</span><br><span class="line">        ListNode *head = list;</span><br><span class="line">        ListNode *p = list1;</span><br><span class="line">        ListNode *q = list2;</span><br><span class="line">        <span class="keyword">while</span>(p &amp;&amp; q)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p -&gt; val &lt;= q -&gt; val)&#123;</span><br><span class="line">                ListNode *x = <span class="keyword">new</span> <span class="built_in">ListNode</span>(p-&gt;val);</span><br><span class="line">                head-&gt;next = x;</span><br><span class="line">                head = head-&gt;next;</span><br><span class="line">                p = p-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                ListNode *x = <span class="keyword">new</span> <span class="built_in">ListNode</span>(q-&gt;val);</span><br><span class="line">                head-&gt;next = x;</span><br><span class="line">                head = head-&gt;next;</span><br><span class="line">                q = q-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            ListNode *x = <span class="keyword">new</span> <span class="built_in">ListNode</span>(p-&gt;val);</span><br><span class="line">            head-&gt;next = x;</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(q)&#123;</span><br><span class="line">            ListNode *x = <span class="keyword">new</span> <span class="built_in">ListNode</span>(q-&gt;val);</span><br><span class="line">            head-&gt;next = x;</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">            q = q-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n + m)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º<code>list1</code> çš„é•¿åº¦ï¼Œ<em>m</em> æ˜¯ <code>list2</code> çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n + m)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š12 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†9.40%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š14.5 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†15.85%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š208 / 208</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2-3"><a class="markdownIt-Anchor" href="#é¢˜ç›®2-3"></a> é¢˜ç›®2</h2>
<p><a href="https://leetcode.cn/problems/reverse-linked-list/">åè½¬é“¾è¡¨</a></p>
<h3 id="æ ‡ç­¾-6"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-6"></a> æ ‡ç­¾</h3>
<p><code>é€’å½’</code>ã€<code>é“¾è¡¨</code></p>
<h3 id="é¢˜è§£-6"><a class="markdownIt-Anchor" href="#é¢˜è§£-6"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">nullptr</span> || head-&gt;next == <span class="literal">nullptr</span>) <span class="keyword">return</span> head; </span><br><span class="line">        ListNode* l = head;  <span class="comment">// æŒ‡å‘å¤´èŠ‚ç‚¹</span></span><br><span class="line">        ListNode* r = head;  <span class="comment">// æŒ‡å‘å°¾èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span>(r-&gt;next)&#123;</span><br><span class="line">            r = r-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* p = head;</span><br><span class="line">        ListNode* q= head-&gt;next;</span><br><span class="line">        ListNode* k = head-&gt;next-&gt;next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(k)&#123;  <span class="comment">// èŠ‚ç‚¹æŒ‡é’ˆåè½¬</span></span><br><span class="line">            q-&gt;next = p;</span><br><span class="line">            p = q;</span><br><span class="line">            q = k;</span><br><span class="line">            k = k-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        q-&gt;next = p; <span class="comment">// æœ€åä¸¤ä¸ªèŠ‚ç‚¹è¿›è¡Œäº¤æ¢</span></span><br><span class="line"></span><br><span class="line">        head = r;</span><br><span class="line">        l -&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º<code>head</code> çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†49.83%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†71.06%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š28 / 28</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="day04é“¾è¡¨-åŒæŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#day04é“¾è¡¨-åŒæŒ‡é’ˆ"></a> day04ï¼šé“¾è¡¨ã€åŒæŒ‡é’ˆ</h1>
<h2 id="é¢˜ç›®1-4"><a class="markdownIt-Anchor" href="#é¢˜ç›®1-4"></a> é¢˜ç›®1</h2>
<p><a href="https://leetcode.cn/problems/middle-of-the-linked-list/">é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹</a></p>
<h3 id="æ ‡ç­¾-7"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-7"></a> æ ‡ç­¾</h3>
<p><code>é“¾è¡¨</code>ã€<code>åŒæŒ‡é’ˆ</code></p>
<h3 id="é¢˜è§£-7"><a class="markdownIt-Anchor" href="#é¢˜è§£-7"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">middleNode</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> nums = <span class="number">0</span>;</span><br><span class="line">        ListNode *p = head;</span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            nums++;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> a = nums / <span class="number">2</span>;</span><br><span class="line">        p = head;</span><br><span class="line">        <span class="keyword">while</span>(a --)&#123;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º<code>head</code> çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š6.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†81.83%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š36 / 36</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2-4"><a class="markdownIt-Anchor" href="#é¢˜ç›®2-4"></a> é¢˜ç›®2</h2>
<p><a href="https://leetcode.cn/problems/linked-list-cycle-ii/">ç¯å½¢é“¾è¡¨ II</a></p>
<h3 id="æ ‡ç­¾-8"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-8"></a> æ ‡ç­¾</h3>
<p><code>é“¾è¡¨</code>ã€<code>å“ˆå¸Œè¡¨</code>ã€<code>åŒæŒ‡é’ˆ</code></p>
<h3 id="é¢˜è§£-8"><a class="markdownIt-Anchor" href="#é¢˜è§£-8"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">å“ˆå¸Œè¡¨</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">å¿«æ…¢æŒ‡é’ˆ</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode *<span class="title">detectCycle</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;ListNode *&gt; visited;</span><br><span class="line">        <span class="keyword">while</span>(head != <span class="literal">NULL</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(visited.<span class="built_in">count</span>(head))&#123;</span><br><span class="line">                <span class="keyword">return</span> head;</span><br><span class="line">            &#125;</span><br><span class="line">            visited.<span class="built_in">insert</span>(head);</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º<code>head</code> çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š16 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†8.32%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š9.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†6.32%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š16 / 16</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode *<span class="title">detectCycle</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">        ListNode *slow = head, *fast = head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            slow = slow-&gt;next;</span><br><span class="line">            <span class="keyword">if</span> (fast-&gt;next == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            fast = fast-&gt;next-&gt;next;</span><br><span class="line">            <span class="keyword">if</span> (fast == slow) &#123;</span><br><span class="line">                ListNode *ptr = head;</span><br><span class="line">                <span class="keyword">while</span> (ptr != slow) &#123;</span><br><span class="line">                    ptr = ptr-&gt;next;</span><br><span class="line">                    slow = slow-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> ptr;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º<code>head</code> çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†73.20%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š7.3 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†97.45%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š16 / 16</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="day05"><a class="markdownIt-Anchor" href="#day05"></a> day05ï¼š</h1>
<h2 id="é¢˜ç›®1-5"><a class="markdownIt-Anchor" href="#é¢˜ç›®1-5"></a> é¢˜ç›®1</h2>
<p><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/"> ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº </a></p>
<h3 id="æ ‡ç­¾-9"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-9"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>åŠ¨æ€è§„åˆ’</code></p>
<h3 id="é¢˜è§£-9"><a class="markdownIt-Anchor" href="#é¢˜è§£-9"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">ä¸€æ¬¡éå†</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">æš´åŠ›è§£æ³•</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxProfit</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> inf = <span class="number">1e9</span>;</span><br><span class="line">        <span class="type">int</span> minprice = inf, maxprofit = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> price: prices) &#123;</span><br><span class="line">            maxprofit = <span class="built_in">max</span>(maxprofit, price - minprice);</span><br><span class="line">            minprice = <span class="built_in">min</span>(price, minprice);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxprofit;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>prices</em> æ•°ç»„çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š104 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†61.28%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š91 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†85.19%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š211 / 211</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxProfit</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; prices.<span class="built_in">size</span>() - <span class="number">1</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; prices.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">                res = <span class="built_in">max</span>(res, prices[j] - prices[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n ^ 2)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>prices</em> æ•°ç»„çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š104 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†61.28%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š91 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†85.19%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š211 / 211</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2-5"><a class="markdownIt-Anchor" href="#é¢˜ç›®2-5"></a> é¢˜ç›®2</h2>
<p><a href="https://leetcode.cn/problems/longest-palindrome/"> æœ€é•¿å›æ–‡ä¸² </a></p>
<h3 id="æ ‡ç­¾-10"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-10"></a> æ ‡ç­¾</h3>
<p><code>è´ªå¿ƒ</code>ã€<code>å“ˆå¸Œè¡¨</code>ã€<code>å­—ç¬¦ä¸²</code></p>
<h3 id="é¢˜è§£-10"><a class="markdownIt-Anchor" href="#é¢˜è§£-10"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">longestPalindrome</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; hsp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            hsp[s[i]] ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt;::iterator it = hsp.<span class="built_in">begin</span>(); it != hsp.<span class="built_in">end</span>(); it++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(it-&gt;second %  <span class="number">2</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                res += (it-&gt;second - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                res += it-&gt;second;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag) res += <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>s</em> çš„å¤§å°</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œç”¨å“ˆå¸Œè¡¨</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š6.6 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†14.52%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š95 / 95</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="day06æ ‘"><a class="markdownIt-Anchor" href="#day06æ ‘"></a> day06ï¼šæ ‘</h1>
<h2 id="é¢˜ç›®1-6"><a class="markdownIt-Anchor" href="#é¢˜ç›®1-6"></a> é¢˜ç›®1</h2>
<p><a href="https://leetcode.cn/problems/n-ary-tree-preorder-traversal/"> N å‰æ ‘çš„å‰åºéå† </a></p>
<h3 id="æ ‡ç­¾-11"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-11"></a> æ ‡ç­¾</h3>
<p><code>æ ˆ</code>ã€<code>æ ‘</code>ã€<code>æ·±åº¦ä¼˜å…ˆæœç´¢</code></p>
<h3 id="é¢˜è§£-11"><a class="markdownIt-Anchor" href="#é¢˜è§£-11"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Definition for a Node.</span></span><br><span class="line"><span class="comment">class Node &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    int val;</span></span><br><span class="line"><span class="comment">    vector&lt;Node*&gt; children;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Node() &#123;&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Node(int _val) &#123;</span></span><br><span class="line"><span class="comment">        val = _val;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Node(int _val, vector&lt;Node*&gt; _children) &#123;</span></span><br><span class="line"><span class="comment">        val = _val;</span></span><br><span class="line"><span class="comment">        children = _children;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(Node* root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line">        res.<span class="built_in">push_back</span>(root-&gt;val);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; root-&gt;children.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            <span class="built_in">dfs</span>(root-&gt;children[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">preorder</span><span class="params">(Node* root)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">dfs</span>(root);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º<em>N</em> å‰æ ‘çš„èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š16 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†67.73%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š11.1 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†82.02%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š38 / 38</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2-6"><a class="markdownIt-Anchor" href="#é¢˜ç›®2-6"></a> é¢˜ç›®2</h2>
<p><a href="https://leetcode.cn/problems/binary-tree-level-order-traversal/"> äºŒå‰æ ‘çš„å±‚åºéå† </a></p>
<h3 id="æ ‡ç­¾-12"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-12"></a> æ ‡ç­¾</h3>
<p><code>æ ‘</code>ã€<code>å¹¿åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>äºŒå‰æ ‘</code></p>
<h3 id="é¢˜è§£-12"><a class="markdownIt-Anchor" href="#é¢˜è§£-12"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    queue&lt;TreeNode*&gt; que;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(TreeNode* root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(que.<span class="built_in">empty</span>()) <span class="keyword">return</span> ; </span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">        <span class="type">int</span> npc = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(!que.<span class="built_in">empty</span>() &amp;&amp; num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode* top = que.<span class="built_in">front</span>();</span><br><span class="line">            que.<span class="built_in">pop</span>();</span><br><span class="line">            num--;</span><br><span class="line">            arr.<span class="built_in">push_back</span>(top-&gt;val);</span><br><span class="line">            <span class="keyword">if</span>(top-&gt;left)&#123;</span><br><span class="line">                que.<span class="built_in">push</span>(top-&gt;left);</span><br><span class="line">                npc ++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(top-&gt;right)&#123;</span><br><span class="line">                que.<span class="built_in">push</span>(top-&gt;right);</span><br><span class="line">                npc ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res.<span class="built_in">push_back</span>(arr);</span><br><span class="line">        num = npc;</span><br><span class="line">        <span class="built_in">dfs</span>(root);</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">levelOrder</span>(TreeNode* root) &#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span> res;</span><br><span class="line">        que.<span class="built_in">push</span>(root);</span><br><span class="line">        num ++;</span><br><span class="line">        <span class="built_in">dfs</span>(root);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸º <em>2</em> å‰æ ‘çš„èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œéœ€è¦ä½¿ç”¨é˜Ÿåˆ—ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†22.90%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š12.9 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†8.27%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š34 / 34</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="day07äºŒåˆ†æŸ¥æ‰¾"><a class="markdownIt-Anchor" href="#day07äºŒåˆ†æŸ¥æ‰¾"></a> day07ï¼šäºŒåˆ†æŸ¥æ‰¾</h1>
<h2 id="é¢˜ç›®1-7"><a class="markdownIt-Anchor" href="#é¢˜ç›®1-7"></a> é¢˜ç›®1</h2>
<p><a href="https://leetcode.cn/problems/binary-search/"> äºŒåˆ†æŸ¥æ‰¾ </a></p>
<h3 id="æ ‡ç­¾-13"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-13"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>äºŒåˆ†æŸ¥æ‰¾</code></p>
<h3 id="é¢˜è§£-13"><a class="markdownIt-Anchor" href="#é¢˜è§£-13"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿1</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿2</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">search</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">            <span class="type">int</span> mid = (l + r + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &lt;= target) l = mid;</span><br><span class="line">            <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(nums[l] != target) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(logn)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„çš„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š20 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†98.15%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š26.9 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†54.09%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š47 / 47</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">search</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">            <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &gt;= target)</span><br><span class="line">                r = mid;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(nums[l] != target) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(logn)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„é•¿åº¦</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š48 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†7.34%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š27 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†5.73%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š47 / 47</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2-7"><a class="markdownIt-Anchor" href="#é¢˜ç›®2-7"></a> é¢˜ç›®2</h2>
<p><a href="https://leetcode.cn/problems/first-bad-version/">ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬</a></p>
<h3 id="æ ‡ç­¾-14"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-14"></a> æ ‡ç­¾</h3>
<p><code>äºŒåˆ†æŸ¥æ‰¾</code>ã€<code>äº¤äº’</code></p>
<h3 id="é¢˜è§£-14"><a class="markdownIt-Anchor" href="#é¢˜è§£-14"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// The API isBadVersion is defined for you.</span></span><br><span class="line"><span class="comment">// bool isBadVersion(int version);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">firstBadVersion</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">1</span>, r = n;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">            <span class="type">int</span> mid = (l &gt;&gt; <span class="number">1</span>) + (r &gt;&gt; <span class="number">1</span>);  <span class="comment">//  é˜²æ­¢è®¡ç®—æ—¶æº¢å‡ºï¼Œä¸¤ä¸ªè¿‡å¤§çš„æ•°ç›¸åŠ æº¢å‡º</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">isBadVersion</span>(mid)) r = mid; </span><br><span class="line">            <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(logn)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºç»™å®šç‰ˆæœ¬çš„æ•°é‡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š5.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†47.59%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š23 / 23</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="day08äºŒå‰æœç´¢æ ‘"><a class="markdownIt-Anchor" href="#day08äºŒå‰æœç´¢æ ‘"></a> day08ï¼šäºŒå‰æœç´¢æ ‘â­</h1>
<h2 id="é¢˜ç›®1-8"><a class="markdownIt-Anchor" href="#é¢˜ç›®1-8"></a> é¢˜ç›®1</h2>
<h4 id="éªŒè¯äºŒå‰æœç´¢æ ‘"><a class="markdownIt-Anchor" href="#éªŒè¯äºŒå‰æœç´¢æ ‘"></a> <a href="https://leetcode.cn/problems/validate-binary-search-tree/">éªŒè¯äºŒå‰æœç´¢æ ‘</a></h4>
<h3 id="æ ‡ç­¾-15"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-15"></a> æ ‡ç­¾</h3>
<p><code>æ ‘</code>ã€<code>æ·±åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>äºŒå‰æœç´¢æ ‘</code>ã€<code>äºŒå‰æ ‘</code></p>
<h3 id="é¢˜è§£-15"><a class="markdownIt-Anchor" href="#é¢˜è§£-15"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é¢˜è§£1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValidBST</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        stack&lt;TreeNode*&gt; stack;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> inorder = (<span class="type">long</span> <span class="type">long</span>)INT_MIN - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!stack.<span class="built_in">empty</span>() || root != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (root != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                stack.<span class="built_in">push</span>(root);</span><br><span class="line">                root = root -&gt; left;</span><br><span class="line">            &#125;</span><br><span class="line">            root = stack.<span class="built_in">top</span>();</span><br><span class="line">            stack.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="comment">// å¦‚æœä¸­åºéå†å¾—åˆ°çš„èŠ‚ç‚¹çš„å€¼å°äºç­‰äºå‰ä¸€ä¸ª inorderï¼Œè¯´æ˜ä¸æ˜¯äºŒå‰æœç´¢æ ‘</span></span><br><span class="line">            <span class="keyword">if</span> (root -&gt; val &lt;= inorder) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            inorder = root -&gt; val;</span><br><span class="line">            root = root -&gt; right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚äºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šè¢«è®¿é—®ä¸€æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º<em>O(n)</em></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚æ ˆæœ€å¤šå­˜å‚¨ <em>n</em> ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤éœ€è¦é¢å¤–çš„ <em>O</em>(<em>n</em>) çš„ç©ºé—´ã€‚ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†97.63%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š21.1 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†59.44%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š80 / 80</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2-8"><a class="markdownIt-Anchor" href="#é¢˜ç›®2-8"></a> é¢˜ç›®2</h2>
<p><a href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree/">äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a></p>
<h3 id="æ ‡ç­¾-16"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-16"></a> æ ‡ç­¾</h3>
<p><code>æ ‘</code>ã€<code>æ·±åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>äºŒå‰æœç´¢æ ‘</code>ã€<code>äºŒå‰æ ‘</code></p>
<h3 id="æ€è·¯-3"><a class="markdownIt-Anchor" href="#æ€è·¯-3"></a> æ€è·¯</h3>
<p><a href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree/solution/er-cha-sou-suo-shu-de-zui-jin-gong-gong-zu-xian-26/">é¢˜è§£æ€è·¯</a></p>
<ul>
<li>äºŒæ¬¡éå†</li>
</ul>
<p>æ¯æ¬¡éå†éƒ½è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°èŠ‚ç‚¹<code>p</code>æˆ–è€…èŠ‚ç‚¹<code>q</code>çš„è·¯å¾„ã€‚ç„¶åæŒ¨ä¸ªæ¯”å¯¹ï¼Œæœ€åä¸€ä¸ªä¸¤ä¸ªä½ç½®çš„èŠ‚ç‚¹ç›¸åŒçš„èŠ‚ç‚¹ï¼Œåˆ™è¯¥èŠ‚ç‚¹æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹çš„å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ã€‚</p>
<ul>
<li>ä¸€æ¬¡éå†</li>
</ul>
<h3 id="é¢˜è§£-16"><a class="markdownIt-Anchor" href="#é¢˜è§£-16"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">ä¸¤æ¬¡éå†</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">ä¸€æ¬¡éå†</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;TreeNode *&gt; <span class="title">findPath</span><span class="params">(TreeNode* root, TreeNode* target)</span></span>&#123;</span><br><span class="line">        vector&lt;TreeNode* &gt; path;</span><br><span class="line">        TreeNode *node = root;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(node != target)&#123;</span><br><span class="line">            path.<span class="built_in">push_back</span>(node);</span><br><span class="line">            <span class="keyword">if</span>(node-&gt;val &lt; target-&gt;val)</span><br><span class="line">                node = node-&gt;right;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                node = node-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        path.<span class="built_in">push_back</span>(node);</span><br><span class="line">        <span class="keyword">return</span> path;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">TreeNode* <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        vector&lt;TreeNode *&gt; path_p = <span class="built_in">findPath</span>(root, p);</span><br><span class="line">        vector&lt;TreeNode *&gt; path_q = <span class="built_in">findPath</span>(root, q);</span><br><span class="line">        TreeNode* res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; path_p.<span class="built_in">size</span>() &amp;&amp; i &lt; path_q.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(path_p[i] == path_q[i])</span><br><span class="line">                res = path_p[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºäºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œéœ€è¦å­˜å‚¨å‚¨æ ¹èŠ‚ç‚¹åˆ° <em>p</em> å’Œ <em>q</em> çš„è·¯å¾„ã€‚å’Œä¸Šé¢çš„åˆ†ææ–¹æ³•ç›¸åŒï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œè·¯å¾„çš„é•¿åº¦ä¸º Î˜(n)ï¼Œå› æ­¤éœ€è¦ Î˜(n) çš„ç©ºé—´ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š44 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†5.53%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š22.7 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†75.57%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š27 / 27</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">TreeNode* <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        TreeNode* ancestor = root;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;val &lt; ancestor-&gt;val &amp;&amp; q-&gt;val &lt; ancestor-&gt;val) &#123;</span><br><span class="line">                ancestor = ancestor-&gt;left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p-&gt;val &gt; ancestor-&gt;val &amp;&amp; q-&gt;val &gt; ancestor-&gt;val) &#123;</span><br><span class="line">                ancestor = ancestor-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ancestor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼šLeetCode-Solution</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå…¶ä¸­ <em>n</em> ä¸ºäºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š28 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†66.76%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š22.6 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†98.27%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š27 / 27</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="day09dfsbfs"><a class="markdownIt-Anchor" href="#day09dfsbfs"></a> day09ï¼šDfs/Bfsâ­</h1>
<h2 id="é¢˜ç›®1-9"><a class="markdownIt-Anchor" href="#é¢˜ç›®1-9"></a> é¢˜ç›®1</h2>
<p><a href="https://leetcode.cn/problems/flood-fill/">å›¾åƒæ¸²æŸ“</a></p>
<h3 id="æ ‡ç­¾-17"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-17"></a> æ ‡ç­¾</h3>
<p><code>æ·±åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>å¹¿åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>æ•°ç»„</code>ã€<code>çŸ©é˜µ</code></p>
<h3 id="é¢˜è§£-17"><a class="markdownIt-Anchor" href="#é¢˜è§£-17"></a> é¢˜è§£</h3>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">æ·±åº¦ä¼˜å…ˆæœç´ </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// pass:åˆå§‹[sr,sc]ä½ç½®çš„å€¼</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; image, <span class="type">int</span> sr, <span class="type">int</span> sc, <span class="type">int</span> color, <span class="type">int</span> pass)</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> r = image.<span class="built_in">size</span>(), c = image[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(sr &lt; <span class="number">0</span> || sr &gt;= r || sc &lt; <span class="number">0</span> || sc &gt;= c || image[sr][sc] != pass)&#123;  <span class="comment">//å‡ºå£</span></span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        image[sr][sc] = color;</span><br><span class="line">        <span class="built_in">dfs</span>(image, sr + <span class="number">1</span>, sc, color, pass);</span><br><span class="line">        <span class="built_in">dfs</span>(image, sr - <span class="number">1</span>, sc, color, pass);</span><br><span class="line">        <span class="built_in">dfs</span>(image, sr, sc + <span class="number">1</span>, color, pass);</span><br><span class="line">        <span class="built_in">dfs</span>(image, sr, sc - <span class="number">1</span>, color, pass);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">floodFill</span>(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; image, <span class="type">int</span> sr, <span class="type">int</span> sc, <span class="type">int</span> color) &#123;</span><br><span class="line">        <span class="keyword">if</span>(image[sr][sc] == color) <span class="keyword">return</span> image;</span><br><span class="line">        <span class="built_in">dfs</span>(image, sr, sc, color, image[sr][sc]);</span><br><span class="line">        <span class="keyword">return</span> image;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n * m)</em>ï¼Œå…¶ä¸­ <em>n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯äºŒç»´æ•°ç»„çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æœ€åæƒ…å†µä¸‹éœ€è¦éå†æ‰€æœ‰çš„æ–¹æ ¼ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œ</li>
</ul>
</div>
<div class="note success simple"><p>æ‰§è¡Œç”¨æ—¶ï¼š4 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†97.02%çš„ç”¨æˆ·</p>
<p>å†…å­˜æ¶ˆè€—ï¼š13.4 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†97.95%çš„ç”¨æˆ·</p>
<p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š277 / 277</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h2 id="é¢˜ç›®2-9"><a class="markdownIt-Anchor" href="#é¢˜ç›®2-9"></a> é¢˜ç›®2</h2>
<p><a href="https://leetcode.cn/problems/number-of-islands/">å²›å±¿æ•°é‡</a></p>
<h3 id="æ ‡ç­¾-18"><a class="markdownIt-Anchor" href="#æ ‡ç­¾-18"></a> æ ‡ç­¾</h3>
<p><code>æ·±åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>å¹¿åº¦ä¼˜å…ˆæœç´¢</code>ã€<code>å¹¶æŸ¥é›†</code>ã€<code>æ•°ç»„</code>ã€<code>çŸ©é˜µ</code></p>
<h3 id="é¢˜è§£-18"><a class="markdownIt-Anchor" href="#é¢˜è§£-18"></a> é¢˜è§£</h3>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>å­¦ä¹ è®¡åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>Java å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘ç»ƒä¹ </title>
    <url>/2022/09/24/JAVA/00Thread/</url>
    <content><![CDATA[<h1 id="é¢˜ç›®1"><a class="markdownIt-Anchor" href="#é¢˜ç›®1"></a> é¢˜ç›®1</h1>
<p>å®ç°ä¸€ä¸ªå®¹å™¨ï¼Œæä¾›ä¸¤ä¸ªæ–¹æ³•ï¼š<code>add</code>ã€<code>size</code>ã€‚å†™ä¸¤ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹1æ·»åŠ 10ä¸ªå…ƒç´ åˆ°å®¹å™¨ä¸­ï¼Œçº¿ç¨‹2å®ç°ç›‘æ§å…ƒç´ ä¸ªæ•°ï¼Œå½“ä¸ªæ•°åˆ°5ä¸ªçš„æ—¶å€™ï¼Œçº¿ç¨‹2ç»™å‡ºæç¤ºå¹¶ç»“æŸã€‚</p>
<h2 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h2>
<h3 id="ä½¿ç”¨volatile"><a class="markdownIt-Anchor" href="#ä½¿ç”¨volatile"></a> ä½¿ç”¨<code>volatile</code></h3>
<p><strong>æ€»ç»“</strong>ï¼šä¸‹é¢ä¸‰ç§æ–¹æ³•éƒ½å­˜åœ¨é—®é¢˜ï¼šã€å½“æŠŠçº¿ç¨‹1çš„ç¡çœ æ—¶é—´å»æ‰ï¼Œåˆ™ç›´æ¥å‡ºé”™ã€‘å› æ­¤ï¼Œåœ¨å¹³æ—¶å†™å¤šçº¿ç¨‹ç¨‹åºæ—¶ï¼Œå°½å¯èƒ½çš„ä¸è¦ä½¿ç”¨<code>volatile</code>å…³é”®å­—ï¼Œå¦‚æœå¿…é¡»è¦ä½¿ç”¨ï¼Œä¹Ÿåªèƒ½ç”¨æ¥ä¿®é¥°ç®€å•å˜é‡ï¼Œä¸è¦ä¿®é¥°å¼•ç”¨å€¼ã€‚</p>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">é”™è¯¯è§£æ³•</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">volatile</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-3">åŒæ­¥å®¹å™¨</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T01_WithoutVolatile</span> &#123;</span><br><span class="line">    <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T01_WithoutVolatile</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T01_WithoutVolatile</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(t.size() == <span class="number">5</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>é”™è¯¯è§£æ³•ï¼Œè¿è¡Œç»“æœä¸ºçº¿ç¨‹1æ·»åŠ 10ä¸ªå…ƒç´ åå³ç»“æŸï¼Œä½†æ˜¯çº¿ç¨‹2 ä¸ä¼šæ£€æµ‹åˆ°ä¸ªæ•°æ‰€ä»¥ä¹Ÿä¸ä¼šç»“æŸã€‚</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T02_WithVolatile</span> &#123;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T02_WithVolatile</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T02_WithVolatile</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(t.size() == <span class="number">5</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>ä½¿ç”¨<code>volatile</code>å…³é”®å­—ï¼Œä½†æ˜¯ç¨‹åºè¿˜æ˜¯å­˜åœ¨bugï¼Œå½“å·²ç»åŠ å…¥5ä¸ªå…ƒç´ ï¼Œä½†æ˜¯çº¿ç¨‹2è¿˜æ²¡æ¥å¾—åŠè¯»çš„æ—¶å€™ï¼Œçº¿ç¨‹1æœ‰åŠ å…¥å…ƒç´ ï¼Œåˆ™è¿˜æ˜¯ä¼šå‡ºé”™ã€‚</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-3"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T02_WithVolatile</span> &#123;</span><br><span class="line"><span class="comment">//    volatile List lists = new ArrayList();</span></span><br><span class="line">    <span class="keyword">volatile</span> <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> Collections.synchronizedList(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T02_WithVolatile</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T02_WithVolatile</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(t.size() == <span class="number">5</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>ä½¿ç”¨å…³é”®å­—<code>volatile</code>å’ŒåŒæ­¥å®¹å™¨å…±åŒä½¿ç”¨ã€‚</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h3 id="ä½¿ç”¨waitnotify"><a class="markdownIt-Anchor" href="#ä½¿ç”¨waitnotify"></a> ä½¿ç”¨<code>wait/notify</code></h3>
<p><strong>æ€»ç»“</strong>ï¼š<code>wait</code>å°†çº¿ç¨‹é™·å…¥ç¡çœ ï¼Œå…ˆæ‰§è¡Œæ²¡æœ‰è¿›å…¥ç¡çœ çš„çº¿ç¨‹ã€‚<code>notify</code>å°†é™·å…¥ç¡çœ çš„çº¿ç¨‹å”¤é†’ï¼Œä½†æ˜¯ä¸ä¼šé‡Šæ”¾é”ï¼Œè‹¥è‡ªå·±ä¸ç¡çœ ï¼Œåˆ™éœ€è¦ç­‰å¾…è‡ªå·±æ‰§è¡Œç»“æŸåæ‰ä¼šç»§ç»­æ‰§è¡Œå”¤é†’çš„çº¿ç¨‹ã€‚</p>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">wait/notify</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">wait/notify&FreeLock</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T03_WaitNotifyLock</span> &#123;</span><br><span class="line">    <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T03_WaitNotifyLock</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T03_WaitNotifyLock</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">if</span>(t.size() != <span class="number">5</span>)&#123;  <span class="comment">// å…ˆå¯åŠ¨çº¿ç¨‹2ï¼Œå½“size!=5çš„æ—¶å€™ï¼Œçº¿ç¨‹2ç­‰å¾…ï¼Œå…ˆæ‰§è¡Œçº¿ç¨‹1</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        lock.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿è¯å…ˆå¯åŠ¨çš„æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t1 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                    t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                    System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (t.size() == <span class="number">5</span>) &#123;  <span class="comment">// å½“ç­‰äº5çš„æ—¶å€™ï¼Œå”¤é†’çº¿ç¨‹2</span></span><br><span class="line">                        lock.notify();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>ä»ç„¶é”™è¯¯ï¼ŒåŸå› æ˜¯<code>notify</code>æ˜¯åªå”¤é†’ä¸é‡Šæ”¾é”ã€‚æ‰€ä»¥çº¿ç¨‹2è¿˜æ˜¯ç­‰å¾…çº¿ç¨‹1ç»“æŸåæ‰èƒ½è·å¾—é”ï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T04_NotifyFreeLock</span> &#123;</span><br><span class="line">    <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T04_NotifyFreeLock</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T04_NotifyFreeLock</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">if</span>(t.size() != <span class="number">5</span>)&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        lock.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">                lock.notify();  <span class="comment">// t2çº¿ç¨‹ç»“æŸï¼Œå”¤é†’t1çº¿ç¨‹ï¼Œå¦åˆ™t1çº¿ç¨‹æ°¸ä¹…ç¡çœ </span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿è¯å…ˆå¯åŠ¨çš„æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t1 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                    t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                    System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (t.size() == <span class="number">5</span>) &#123;</span><br><span class="line">                        lock.notify();</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">try</span> &#123;  <span class="comment">// å”¤é†’çº¿ç¨‹2åï¼Œå°†è‡ªå·±è¿›å…¥ç¡çœ (é‡Šæ”¾é”)ï¼Œç­‰å¾…çº¿ç¨‹2ç»“æŸåç»§ç»­æ‰§è¡Œã€‚</span></span><br><span class="line">                            lock.wait();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>æ­£ç¡®ç»“æœã€‚å½“çº¿ç¨‹1å”¤é†’çº¿ç¨‹2åï¼Œè®²è‡ªå·±<code>wait</code>é‡Šæ”¾é”ï¼Œç„¶åçº¿ç¨‹2ç»§ç»­æ‰§è¡Œï¼Œæ‰§è¡Œç»“æŸåï¼Œ<strong>å¿…é¡»å†æ¬¡å”¤é†’çº¿ç¨‹1</strong>ï¼Œå¦åˆ™çº¿ç¨‹1æ°¸è¿œç¡çœ </p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h3 id="ä½¿ç”¨countdownlatch"><a class="markdownIt-Anchor" href="#ä½¿ç”¨countdownlatch"></a> ä½¿ç”¨<code>CountDownLatch</code></h3>
<p><strong>æ€»ç»“</strong>ï¼šå…ˆå¯åŠ¨çº¿ç¨‹2ï¼Œå½“sizeä¸ç­‰äº5æ—¶ï¼Œæ’ä¸Šé—¨é—©<code>await</code>ï¼Œç­‰å¾…é—¨é—©å˜ä¸º0æ—¶ç»§ç»­å¾€åç»§ç»­è¿è¡Œï¼Œå¯åŠ¨çº¿ç¨‹2ï¼Œå½“sizeç­‰äº5æ—¶ï¼Œé—¨é—©å€¼å‡1ã€‚</p>
<p>ä½†æ˜¯ä¸¥æ ¼æ¥è®²ï¼Œå­˜åœ¨é—®é¢˜ï¼Œå½“æŠŠçº¿ç¨‹1ç­‰å¾…1sæ‰è¾“å‡ºä¸€ä¸ªçš„ç­‰å¾…æ—¶é—´å»æ‰åï¼Œt2çº¿ç¨‹ç»“æŸåˆ™ä¼šæ¨è¿Ÿï¼Œä¸æ˜¯åœ¨sizeç­‰äº5çš„æ—¶å€™å°±ç»“æŸäº†ã€‚å› æ­¤å¦‚æœéœ€è¦ä¸¥æ ¼å®ç°ç­‰äº5æ—¶çº¿ç¨‹2ç»“æŸï¼Œç„¶åæ‰ç»§ç»­è¿è¡Œçº¿ç¨‹1æ—¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªé—¨é—©ã€‚</p>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">await/countdown</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">ä¸¤ä¸ªé—¨é—©</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T05_CountDownLatch</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T04_NotifyFreeLock</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T04_NotifyFreeLock</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">CountDownLatch</span> <span class="variable">latch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatch</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (t.size() != <span class="number">5</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    latch.await();  <span class="comment">// æ’ä¸Šé—¨é—©ï¼Œç­‰å¾…é—¨é—©å€¼å‡ä¸º1</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿è¯å…ˆå¯åŠ¨çš„æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t1 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (t.size() == <span class="number">5</span>) &#123;</span><br><span class="line">                    latch.countDown();  <span class="comment">// é—¨é—©å€¼å‡ä¸€</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>æ­£ç¡®è¿è¡Œï¼Œä½†æ˜¯ä¸¥æ ¼æ¥è®²ï¼Œå­˜åœ¨é—®é¢˜ï¼Œå½“æŠŠçº¿ç¨‹1ç­‰å¾…1sæ‰è¾“å‡ºä¸€ä¸ªçš„ç­‰å¾…æ—¶é—´å»æ‰åï¼Œt2çº¿ç¨‹ç»“æŸåˆ™ä¼šæ¨è¿Ÿï¼Œä¸æ˜¯åœ¨sizeç­‰äº5çš„æ—¶å€™å°±ç»“æŸäº†ã€‚</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T05_CountDownLatch</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T04_NotifyFreeLock</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T04_NotifyFreeLock</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">CountDownLatch</span> <span class="variable">latch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatch</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="type">CountDownLatch</span> <span class="variable">latch1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatch</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (t.size() != <span class="number">5</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    latch.await();  <span class="comment">// ç­‰å¾…</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">            latch1.countDown();</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿è¯å…ˆå¯åŠ¨çš„æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t1 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (t.size() == <span class="number">5</span>) &#123;</span><br><span class="line">                    latch.countDown();  <span class="comment">// é—¨é—©å€¼å‡ä¸€</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        latch1.await();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//                try &#123;</span></span><br><span class="line"><span class="comment">//                    Thread.sleep(1000);</span></span><br><span class="line"><span class="comment">//                &#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">//                    throw new RuntimeException(e);</span></span><br><span class="line"><span class="comment">//                &#125;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>å®Œç¾è§£å†³ã€‚</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h3 id="ä½¿ç”¨locksupport"><a class="markdownIt-Anchor" href="#ä½¿ç”¨locksupport"></a> ä½¿ç”¨<code>LockSupport</code></h3>
<p><strong>æ€»ç»“</strong>ï¼šå’Œé—¨é—©å­˜åœ¨çš„é—®é¢˜æ˜¯ç›¸åŒçš„ã€‚</p>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">park/unpark</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">ä¸¤ä¸ªLockSupport</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.LockSupport;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T06_LockSupport</span> &#123;</span><br><span class="line">    <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T06_LockSupport</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T06_LockSupport</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (t.size() != <span class="number">5</span>) &#123;</span><br><span class="line">                LockSupport.park();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>);</span><br><span class="line">        t2.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿è¯å…ˆå¯åŠ¨çš„æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t1 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (t.size() == <span class="number">5</span>) &#123;</span><br><span class="line">                    LockSupport.unpark(t2);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>æ­£ç¡®è¿è¡Œï¼Œä½†æ˜¯ä¸¥æ ¼æ¥è®²ï¼Œå­˜åœ¨é—®é¢˜ï¼Œå½“æŠŠçº¿ç¨‹1ç­‰å¾…1sæ‰è¾“å‡ºä¸€ä¸ªçš„ç­‰å¾…æ—¶é—´å»æ‰åï¼Œt2çº¿ç¨‹ç»“æŸåˆ™ä¼šæ¨è¿Ÿï¼Œä¸æ˜¯åœ¨sizeç­‰äº5çš„æ—¶å€™å°±ç»“æŸäº†ã€‚</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.LockSupport;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T07_LockSupport_WithoutSleep</span> &#123;</span><br><span class="line">    <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="literal">null</span>, t2 = <span class="literal">null</span>; <span class="comment">// å¿…é¡»å…ˆå£°æ˜</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T07_LockSupport_WithoutSleep</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T07_LockSupport_WithoutSleep</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        t2 = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t2 å¯åŠ¨&quot;</span>);</span><br><span class="line"></span><br><span class="line">            LockSupport.park();</span><br><span class="line">            </span><br><span class="line">            System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">            LockSupport.unpark(t1);</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        t1 = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;t1 å¯åŠ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (t.size() == <span class="number">5</span>) &#123;</span><br><span class="line">                    LockSupport.unpark(t2);</span><br><span class="line">                    LockSupport.park();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        t2.start();</span><br><span class="line">        <span class="comment">// ä¿è¯å…ˆå¯åŠ¨çš„æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        t1.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>å®Œç¾è§£å†³ã€‚</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h3 id="ä½¿ç”¨semaphore"><a class="markdownIt-Anchor" href="#ä½¿ç”¨semaphore"></a> ä½¿ç”¨<code>Semaphore</code></h3>
<p>ä½¿ç”¨äº†<code>Semaphore</code>å’Œ<code>join</code></p>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">acquire/release</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Semaphore;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.LockSupport;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T08_Semaphore</span> &#123;</span><br><span class="line">    <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        lists.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="literal">null</span>, t2 = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T08_Semaphore</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T08_Semaphore</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Semaphore</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Semaphore</span>(<span class="number">1</span>);  <span class="comment">// ä¿è¯åªæœ‰1ä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è¿è¡Œ</span></span><br><span class="line"></span><br><span class="line">        t1 = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                s.acquire();</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">                    t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                    System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line">                &#125;</span><br><span class="line">                s.release();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                t2.start();  <span class="comment">// t1 çº¿ç¨‹è¾“å‡º5ä¸ªåå¯åŠ¨t2çº¿ç¨‹ï¼Œ</span></span><br><span class="line">                t2.join();  <span class="comment">// è®©t2çº¿ç¨‹æ‰§è¡Œç»“æŸ</span></span><br><span class="line">                s.acquire();  <span class="comment">// t1çº¿ç¨‹ç»§ç»­è·å¾—ä¿¡å·é‡ã€‚</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">5</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                    t.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">                    System.out.println(<span class="string">&quot;add &quot;</span> + i);</span><br><span class="line">                &#125;</span><br><span class="line">                s.release();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>);</span><br><span class="line"></span><br><span class="line">        t2 = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                s.acquire();</span><br><span class="line">                System.out.println(<span class="string">&quot;t2 ç»“æŸ&quot;</span>);</span><br><span class="line">                s.release();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>æ­£ç¡®è¿è¡Œã€‚åœ¨t1çº¿ç¨‹é‡Œé¢å¯åŠ¨t2çº¿ç¨‹</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="é¢˜ç›®2"><a class="markdownIt-Anchor" href="#é¢˜ç›®2"></a> é¢˜ç›®2</h1>
<p>æœ‰ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š<code>&quot;ABCDEFG....&quot;;&quot;1234567....&quot;;</code>ï¼Œè¦æ±‚ä½¿ç”¨å¤šçº¿ç¨‹é¡ºåºæ‰“å°å‡º<code>A1B2C3D4....</code></p>
<h2 id="é¢˜è§£-2"><a class="markdownIt-Anchor" href="#é¢˜è§£-2"></a> é¢˜è§£</h2>
<h3 id="ä½¿ç”¨synchronized"><a class="markdownIt-Anchor" href="#ä½¿ç”¨synchronized"></a> ä½¿ç”¨<code>Synchronized</code></h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion02;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T01_Synchronized</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span>[] aC = <span class="string">&quot;ABCDEFG&quot;</span>.toCharArray();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span>[] aI = <span class="string">&quot;1234567&quot;</span>.toCharArray();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T01_Synchronized</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T01_Synchronized</span>();</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">char</span> c : t.aC) &#123;</span><br><span class="line">                    System.out.print(c);</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        lock.notify();  <span class="comment">// å…ˆå«é†’å¯¹æ–¹ï¼Œå†ç¡</span></span><br><span class="line">                        lock.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                lock.notify();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,<span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">char</span> c : t.aI) &#123;</span><br><span class="line"></span><br><span class="line">                    System.out.print(c);</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        lock.notify();</span><br><span class="line">                        lock.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                lock.notify();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,<span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="é¢˜ç›®3"><a class="markdownIt-Anchor" href="#é¢˜ç›®3"></a> é¢˜ç›®3</h1>
<p>å†™ä¸€ä¸ªå›ºå®šå®¹é‡åŒæ­¥å®¹å™¨ï¼Œæ‹¥æœ‰<code>put</code>å’Œ<code>get</code>æ–¹æ³•ï¼Œ ä»¥åŠ<code>getCount</code>æ–¹æ³•ã€‚èƒ½å¤Ÿæ”¯æŒ2ä¸ªç”Ÿäº§è€…çº¿ç¨‹ä»¥åŠ10ä¸ªæ¶ˆè´¹ä¹‹çº¿ç¨‹çš„é˜»å¡è°ƒç”¨ã€‚</p>
<h2 id="é¢˜è§£-3"><a class="markdownIt-Anchor" href="#é¢˜è§£-3"></a> é¢˜è§£</h2>
<div class="tabs" id="é¢˜è§£"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#é¢˜è§£-1">wait/notifyAll</button></li><li class="tab"><button type="button" data-href="#é¢˜è§£-2">ReentrantLock/Condition</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="é¢˜è§£-1"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyContainer1</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">private</span> LinkedList&lt;T&gt; lists = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">private</span> <span class="type">int</span> <span class="variable">MAX</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(T t)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (lists.size() == MAX) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        lists.add(t);</span><br><span class="line">        count ++;</span><br><span class="line">        <span class="built_in">this</span>.notifyAll();  <span class="comment">// é€šçŸ¥æ¶ˆè´¹è€…è¿›è¡Œæ¶ˆè´¹</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> T <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (lists.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        t = lists.removeFirst();</span><br><span class="line">        count --;</span><br><span class="line">        <span class="built_in">this</span>.notifyAll();  <span class="comment">// é€šçŸ¥ç”Ÿäº§è€…è¿›è¡Œç”Ÿäº§</span></span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        MyContainer1&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">MyContainer1</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt; &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">                    System.out.println(c.get());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, <span class="string">&quot;c&quot;</span> + i).start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">25</span>; j++) &#123;</span><br><span class="line">                    c.put(Thread.currentThread().getName() + <span class="string">&quot; &quot;</span> + j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, <span class="string">&quot;p&quot;</span> + i).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>æ­£ç¡®è¿è¡Œï¼Œ</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="é¢˜è§£-2"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interviewquestion02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyContainer2</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">private</span> LinkedList&lt;T&gt; lists = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">private</span> <span class="type">int</span> <span class="variable">MAX</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Condition</span> <span class="variable">producer</span> <span class="operator">=</span> lock.newCondition();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Condition</span> <span class="variable">consumer</span> <span class="operator">=</span> lock.newCondition();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(T t)</span> &#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (lists.size() == MAX) &#123;</span><br><span class="line">                producer.wait();  <span class="comment">// ç”Ÿäº§è€…çº¿ç¨‹ç­‰å¾…</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            lists.add(t);</span><br><span class="line">            count++;</span><br><span class="line">            consumer.signalAll();  <span class="comment">// é€šçŸ¥æ¶ˆè´¹è€…è¿›è¡Œæ¶ˆè´¹</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> T <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (lists.size() == <span class="number">0</span>) &#123;</span><br><span class="line">                consumer.wait();</span><br><span class="line">            &#125;</span><br><span class="line">            t = lists.removeFirst();</span><br><span class="line">            count--;</span><br><span class="line">            producer.signalAll();  <span class="comment">// é€šçŸ¥ç”Ÿäº§è€…è¿›è¡Œç”Ÿäº§</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        MyContainer2&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">MyContainer2</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">                    System.out.println(c.get());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, <span class="string">&quot;c&quot;</span> + i).start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">25</span>; j++) &#123;</span><br><span class="line">                    c.put(Thread.currentThread().getName() + <span class="string">&quot; &quot;</span> + j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, <span class="string">&quot;p&quot;</span> + i).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>æ­£ç¡®è¿è¡Œï¼Œä½¿ç”¨<code>wait</code>å’Œ<code>signalAll</code>æ¥ç²¾ç¡®æ§åˆ¶å”¤é†’ç”Ÿäº§è€…è¿˜æ˜¯æ¶ˆè´¹è€…ã€‚</p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h1 id="æºç é˜…è¯»åŸåˆ™"><a class="markdownIt-Anchor" href="#æºç é˜…è¯»åŸåˆ™"></a> æºç é˜…è¯»åŸåˆ™</h1>
<ul>
<li>è·‘ä¸èµ·æ¥ä¸è¯»</li>
<li>è§£å†³é—®é¢˜å°±å¥½ - ç›®çš„æ€§</li>
<li>ä¸€æ¡çº¿ç´¢åˆ°åº•</li>
<li>æ— å…³ç»†èŠ‚ç•¥è¿‡</li>
<li>ä¸€èˆ¬ä¸è¯»é™æ€</li>
<li>ä¸€èˆ¬åŠ¨æ€è¯»æ³•</li>
</ul>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ1</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>Java åŸºç¡€å…¥é—¨ é˜¶æ®µ1 &amp; é˜¶æ®µ2</title>
    <url>/2022/04/18/JAVA/01JavaBasic/</url>
    <content><![CDATA[<h1 id="javaç¨‹åºæ‰§è¡Œè¿‡ç¨‹"><a class="markdownIt-Anchor" href="#javaç¨‹åºæ‰§è¡Œè¿‡ç¨‹"></a> JAVAç¨‹åºæ‰§è¡Œè¿‡ç¨‹</h1>
<ul>
<li>ç¼–å†™<code>Hello.java</code>ç±»ï¼Œ</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;  <span class="comment">// å®šä¹‰ç±»</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  <span class="comment">// ä¸»å‡½æ•°</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Hello world&quot;</span>);  <span class="comment">// è¾“å‡º</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>é€šè¿‡ç¼–è¯‘ç”Ÿæˆ<code>Hello.class</code>æ–‡ä»¶ï¼Œ(å­—èŠ‚ç æ–‡ä»¶)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">javac Hello.java</span><br></pre></td></tr></table></figure>
<ul>
<li>è°ƒç”¨<code>JVM(java è™šæ‹Ÿæœº)</code>è¿è¡Œç”Ÿæˆç»“æœ</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">java Hello  <span class="comment"># å®é™…åœ¨è¿è¡ŒHello.classï¼Œä½†æ˜¯ä¸å†™åç¼€</span></span><br></pre></td></tr></table></figure>
<h2 id="javaç±»ç¼–å†™æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#javaç±»ç¼–å†™æ³¨æ„äº‹é¡¹"></a> JAVAç±»ç¼–å†™æ³¨æ„äº‹é¡¹</h2>
<ul>
<li>ä¸€ä¸ªæºæ–‡ä»¶ä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ª<code>public ç±»</code>ï¼Œå…¶ä»–ç±»çš„ä¸ªæ•°ä¸é™ã€‚</li>
<li>å¦‚æœä¸€ä¸ªæ–‡ä»¶ä¸­åŒ…å«<code>public ç±»</code>ï¼Œåˆ™æ–‡ä»¶åå¿…é¡»å’Œè¯¥ç±»åŒåã€‚</li>
</ul>
<h1 id="javaè½¬ä¹‰å­—ç¬¦"><a class="markdownIt-Anchor" href="#javaè½¬ä¹‰å­—ç¬¦"></a> JAVAè½¬ä¹‰å­—ç¬¦</h1>
<ul>
<li>JAVAä¸­å¸¸ç”¨çš„è½¬ä¹‰å­—ç¬¦ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>æ¢è¡Œç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\n</code></td>
<td>æ¢è¡Œç¬¦</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>åˆ¶è¡¨ç¬¦ï¼Œå®ç°å¯¹é½</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>ä¸€ä¸ªå›è½¦</td>
</tr>
</tbody>
</table>
<h1 id="javaæ³¨é‡Š"><a class="markdownIt-Anchor" href="#javaæ³¨é‡Š"></a> JAVAæ³¨é‡Š</h1>
<ul>
<li>å•è¡Œæ³¨é‡Š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™æ˜¯å•è¡Œæ³¨é‡Š</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¤šè¡Œæ³¨é‡Š</li>
</ul>
<p>å¤šè¡Œæ³¨é‡Šä¸å…è®¸åµŒå¥—å¤šè¡Œæ³¨é‡Š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	è¿™æ˜¯å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">	å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ–‡æ¡£æ³¨é‡Š</li>
</ul>
<p>é‡Œé¢æ˜¯java docæ ‡ç­¾</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 177411</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<h1 id="javaå˜é‡"><a class="markdownIt-Anchor" href="#javaå˜é‡"></a> JAVAå˜é‡</h1>
<p>å˜é‡æ˜¯ç¨‹åºçš„åŸºæœ¬ç»„æˆå•ä½ï¼Œæœ‰ä¸‰è¦ç´ ï¼ˆç±»å‹ + åç§° + å€¼ï¼‰ï¼Œå˜é‡è¡¨ç¤ºå†…å­˜ä¸­çš„ä¸€ä¸ªå­˜å‚¨åŒºåŸŸã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Variable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> a;  <span class="comment">// å£°æ˜å˜é‡</span></span><br><span class="line">        a = <span class="number">1</span>;  <span class="comment">// å˜é‡èµ‹å€¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">2</span>; <span class="comment">// å£°æ˜èµ‹å€¼åˆå¹¶</span></span><br><span class="line">        System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å˜é‡ç±»å‹"><a class="markdownIt-Anchor" href="#å˜é‡ç±»å‹"></a> å˜é‡ç±»å‹</h2>
<ul>
<li><code>int</code> æ•´å‹ï¼Œå 4å­—èŠ‚</li>
<li><code>double</code> åŒç²¾åº¦æµ®ç‚¹ç±»å‹ï¼Œå 8å­—èŠ‚</li>
<li><code>char</code> å­—ç¬¦å‹ï¼Œå 2å­—èŠ‚</li>
<li><code>String</code> å­—ç¬¦ä¸²ç±»å‹ï¼Œ</li>
</ul>
<h1 id="javaæ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#javaæ•°æ®ç±»å‹"></a> JAVAæ•°æ®ç±»å‹ â­</h1>
<p>java ä¸­å®šä¹‰æ•°æ®å¿…é¡»æŒ‡å®šæ˜ç¡®çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥çœ‹å‡ºjava æ˜¯<strong>å¼ºç±»å‹è¯­è¨€</strong></p>
<h2 id="åŸºæœ¬æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ•°æ®ç±»å‹"></a> åŸºæœ¬æ•°æ®ç±»å‹</h2>
<ul>
<li>æ•°å€¼å‹
<ul>
<li>æ•´æ•°ç±»å‹ï¼Œå­˜æ”¾æ•´æ•°<code>byte[1], short[2], int[4], long[8]</code></li>
<li>æµ®ç‚¹(å°æ•°)ç±»å‹<code>float[4], double[8]</code></li>
</ul>
</li>
<li>å­—ç¬¦å‹<code>char[2]</code>ï¼Œå­˜æ”¾å•ä¸ªå­—ç¬¦</li>
<li>å¸ƒå°”å‹<code>boolean[1]</code></li>
</ul>
<h2 id="æ•´æ•°ç±»å‹"><a class="markdownIt-Anchor" href="#æ•´æ•°ç±»å‹"></a> æ•´æ•°ç±»å‹</h2>
<p>ç±»å‹ä¸åŒå¸¦æ¥çš„æ˜¯å ç”¨å­˜å‚¨ç©ºé—´ä¸åŒï¼Œè¿›è€Œå¸¦æ¥çš„æ˜¯æ•°å€¼èŒƒå›´ä¸åŒã€‚1ä¸ªå­—èŠ‚ç­‰äº8ä½ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IntDetail</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">// 4å­—èŠ‚</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">1L</span>; <span class="comment">// 8å­—èŠ‚</span></span><br><span class="line">        <span class="type">float</span> <span class="variable">n3</span> <span class="operator">=</span> <span class="number">1F</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æµ®ç‚¹æ•°ç±»å‹"><a class="markdownIt-Anchor" href="#æµ®ç‚¹æ•°ç±»å‹"></a> æµ®ç‚¹æ•°ç±»å‹</h3>
<ul>
<li>æµ®ç‚¹æ•° = ç¬¦å·ä½ + æŒ‡æ•°ä½ + å°¾æ•°ä½</li>
<li>å°¾æ•°éƒ¨åˆ†å¯èƒ½ä¸¢å¤±ï¼Œé€ æˆç²¾åº¦æŸå¤±ï¼ˆå°æ•°éƒ½æ˜¯è¿‘ä¼¼å€¼ï¼‰</li>
</ul>
<p>é™·é˜±ï¼š</p>
<p><code>2.7</code> å’Œ <code>8.1 / 3</code> ä¸ç›¸ç­‰ï¼Œ<code>8.1 / 3</code> æ˜¯æ¥è¿‘<code>2.7</code>çš„å°æ•°ï¼Œè€Œä¸æ˜¯<code>2.7</code>ã€‚æ‰€ä»¥éœ€è¦åˆ¤æ–­æ—¶ï¼Œåº”è¯¥æ˜¯ä»¥ä¸¤ä¸ªæ•°çš„å·®å€¼çš„ç»å¯¹å€¼ï¼Œåœ¨æŸä¸ªç²¾åº¦èŒƒå›´å†…è¿›è¡Œåˆ¤æ–­ã€‚</p>
<h3 id="å­—ç¬¦ç±»å‹"><a class="markdownIt-Anchor" href="#å­—ç¬¦ç±»å‹"></a> å­—ç¬¦ç±»å‹</h3>
<ul>
<li>å¿…é¡»ç”¨å•å¼•å·<code>''</code></li>
<li>å…è®¸ä½¿ç”¨è½¬ä¹‰å­—ç¬¦<code>\</code></li>
<li>å…è®¸è¿›è¡Œè¿ç®—  <code>'a' - 'a'</code></li>
<li>å­—ç¬¦å‹å­˜å‚¨åˆ°è®¡ç®—æœºä¸­ï¼Œéœ€è¦å°†å¯¹åº”çš„ç å€¼(æ•´æ•°)æ‰¾å‡ºæ¥è¿›è¡Œå­˜å‚¨ã€‚</li>
<li>å­—ç¬¦å’Œæ•´æ•°çš„å¯¹åº”å…³ç³»æ˜¯é€šè¿‡å­—ç¬¦ç¼–ç è¡¨å†³å®šçš„ï¼Œæ˜¯è§„å®šå¥½çš„ã€‚</li>
</ul>
<h3 id="åŸºæœ¬æ•°æ®ç±»å‹çš„è½¬æ¢"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ•°æ®ç±»å‹çš„è½¬æ¢"></a> åŸºæœ¬æ•°æ®ç±»å‹çš„è½¬æ¢</h3>
<p><strong>è‡ªåŠ¨ç±»å‹è½¬æ¢</strong></p>
<ul>
<li><strong>ç²¾åº¦å°çš„ç±»å‹è‡ªåŠ¨è½¬æ¢ä¸ºç²¾åº¦å¤§çš„æ•°æ®ç±»å‹ã€‚</strong></li>
<li><code>char &lt; int &lt; long &lt; float &lt; double</code></li>
<li><code>byte &lt; short &lt; int &lt; long &lt; float &lt; double</code></li>
</ul>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>æœ‰å¤šç§ç±»å‹çš„æ•°æ®ç±»å‹è¿›è¡Œæ··åˆè¿ç®—æ—¶ï¼Œç³»ç»Ÿé¦–å…ˆå°†æ‰€æœ‰ç±»å‹è½¬ä¸ºå®¹é‡å¤§çš„ç±»å‹ï¼Œç„¶åå†è¿›è¡Œè®¡ç®—ã€‚</li>
<li>æŠŠå®¹é‡å¤§çš„æ•°æ®ç±»å‹èµ‹å€¼ç»™å®¹é‡å°çš„æ•°æ®ç±»å‹æ—¶ï¼Œä¼šæŠ¥é”™ï¼Œåä¹‹åˆ™ä¼šè¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢ã€‚</li>
<li><code>ï¼ˆbyte, shortï¼‰</code>å’Œ <code>char</code> ä¹‹é—´ä¸ä¼šè‡ªåŠ¨è½¬æ¢ã€‚</li>
</ol>
<p><strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong></p>
<p>å°†å®¹é‡å¤§çš„ç±»å‹è½¬æ¢ä¸ºå®¹é‡å°çš„æ•°æ®ç±»å‹ã€‚ä½¿ç”¨æ—¶éœ€è¦åŠ ä¸Šå¼ºåˆ¶è½¬æ¢ç¬¦<code>()</code>ï¼Œä½†å¯èƒ½é€ æˆç²¾åº¦é™ä½æˆ–æº¢å‡ºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForceConvert</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1.9</span>;</span><br><span class="line">        System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŸºæœ¬æ•°æ®ç±»å‹å’Œstringç±»å‹çš„è½¬æ¢"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ•°æ®ç±»å‹å’Œstringç±»å‹çš„è½¬æ¢"></a> åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringç±»å‹çš„è½¬æ¢</h3>
<ul>
<li>åŸºæœ¬ç±»å‹è½¬Stringç±»å‹ï¼š<code>åŸºæœ¬ç±»å‹å€¼ + &quot;&quot;</code></li>
<li>Stringç±»å‹è½¬åŸºæœ¬ç±»å‹ï¼šé€šè¿‡åŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±»è°ƒç”¨<code>parseXXX</code>è¿›è¡Œè½¬æ¢ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringToBasic</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> Integer.parseInt(str);</span><br><span class="line"></span><br><span class="line">        str = <span class="string">&quot;89.0&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> Double.parseDouble(str);</span><br><span class="line"></span><br><span class="line">        <span class="type">float</span> <span class="variable">c</span> <span class="operator">=</span> Float.parseFloat(str);</span><br><span class="line"></span><br><span class="line">        <span class="type">short</span> <span class="variable">d</span> <span class="operator">=</span> Short.parseShort(str);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">e</span> <span class="operator">=</span> Long.parseLong(str);</span><br><span class="line"></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">fl</span> <span class="operator">=</span> Boolean.parseBoolean(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>åœ¨å°†Stringç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œéœ€è¦ç¡®ä¿Stringç±»å‹èƒ½å¤Ÿè½¬æ¢ä¸ºæœ‰æ•ˆçš„æ•°æ®ã€‚å¦‚æœæ ¼å¼ä¸æ­£ç¡®ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œç¨‹åºå°±ä¼šç»ˆæ­¢ã€‚</li>
</ul>
<h2 id="å¼•ç”¨æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#å¼•ç”¨æ•°æ®ç±»å‹"></a> å¼•ç”¨æ•°æ®ç±»å‹</h2>
<ul>
<li>ç±»<code>class</code>ï¼Œä¾‹å¦‚<code>String</code></li>
<li>æ¥å£<code>interface</code></li>
<li>æ•°ç»„<code>[]</code></li>
</ul>
<h1 id="java-apiæ–‡æ¡£"><a class="markdownIt-Anchor" href="#java-apiæ–‡æ¡£"></a> JAVA APIæ–‡æ¡£</h1>
<p><a href="https://www.matools.com/api/java8">ä¸­æ–‡åœ¨çº¿æ–‡æ¡£</a></p>
<p><code>JDK &gt; Packages &gt; Interfaces + class + Exceptions &gt; function</code></p>
<h1 id="java-ç®—æ•°è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#java-ç®—æ•°è¿ç®—ç¬¦"></a> JAVA ç®—æ•°è¿ç®—ç¬¦</h1>
<p>è¿ç®—ç¬¦æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¬¦å·ï¼Œç”¨äºè¡¨ç¤ºæ•°æ®çš„è¿ç®—ï¼Œèµ‹å€¼å’Œæ¯”è¾ƒã€‚</p>
<h2 id="ç®—æ•°è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#ç®—æ•°è¿ç®—ç¬¦"></a> ç®—æ•°è¿ç®—ç¬¦</h2>
<table>
<thead>
<tr>
<th style="text-align:center">è¿ç®—ç¬¦</th>
<th style="text-align:center">è¿ç®—</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">æ­£å·</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">è´Ÿå·</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">åŠ </td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">å‡</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">ä¹˜</td>
</tr>
<tr>
<td style="text-align:center">/</td>
<td style="text-align:center">é™¤</td>
</tr>
<tr>
<td style="text-align:center">%</td>
<td style="text-align:center">å–æ¨¡ï¼ˆå–ä½™ï¼‰</td>
</tr>
<tr>
<td style="text-align:center">++</td>
<td style="text-align:center">è‡ªå¢</td>
</tr>
<tr>
<td style="text-align:center">â€“</td>
<td style="text-align:center">è‡ªå‡</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">å­—ç¬¦ä¸²ç›¸åŠ </td>
</tr>
</tbody>
</table>
<h2 id="åŠ å·"><a class="markdownIt-Anchor" href="#åŠ å·"></a> åŠ å·</h2>
<ul>
<li>å½“å·¦å³ä¸¤è¾¹éƒ½æ˜¯æ•°å€¼ç±»å‹ï¼Œåˆ™åšåŠ æ³•ã€‚</li>
<li>å½“å·¦å³ä¸¤è¾¹æœ‰ä¸€æ–¹æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™åšæ‹¼æ¥ã€‚</li>
<li>è¿ç®—é¡ºåºï¼Œä»å·¦åˆ°å³ï¼Œå³æ‹¬å·é™¤å¤–ã€‚</li>
</ul>
<h2 id="èµ‹å€¼è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#èµ‹å€¼è¿ç®—ç¬¦"></a> èµ‹å€¼è¿ç®—ç¬¦</h2>
<p>åŸºæœ¬èµ‹å€¼è¿ç®—ç¬¦ï¼š<code>=</code></p>
<p>å¤åˆè¿ç®—ç¬¦ï¼š<code>+=</code>ï¼Œ<code>-=</code>ï¼Œ<code>*=</code>ï¼Œ<code>/=</code>ï¼Œ<code>%=</code>ã€‚</p>
<h2 id="å…³ç³»è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#å…³ç³»è¿ç®—ç¬¦"></a> å…³ç³»è¿ç®—ç¬¦</h2>
<p>å…³ç³»è¿ç®—ç¬¦çš„ç»“æœéƒ½æ˜¯<code>boolean</code> ç±»å‹</p>
<table>
<thead>
<tr>
<th style="text-align:center">è¿ç®—ç¬¦</th>
<th style="text-align:center">è¿ç®—</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">==</td>
<td style="text-align:center">ç›¸ç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">!=</td>
<td style="text-align:center">ä¸ç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">å°äº</td>
</tr>
<tr>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">å¤§äº</td>
</tr>
<tr>
<td style="text-align:center">&lt;=</td>
<td style="text-align:center">å°äºç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">&gt;=</td>
<td style="text-align:center">å¤§äºç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">instanceof</td>
<td style="text-align:center">æ£€æŸ¥æ˜¯å¦æ˜¯ç±»çš„å¯¹è±¡</td>
</tr>
</tbody>
</table>
<h2 id="é€»è¾‘è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#é€»è¾‘è¿ç®—ç¬¦"></a> é€»è¾‘è¿ç®—ç¬¦</h2>
<p>ç”¨äºè¿æ¥å¤šä¸ªæ¡ä»¶ï¼ˆå¤šä¸ªå…³ç³»è¡¨è¾¾å¼ï¼‰ï¼Œæœ€ç»ˆçš„ç»“æœä¹Ÿæ˜¯ä¸€ä¸ª<code>boolean</code>å€¼</p>
<table>
<thead>
<tr>
<th style="text-align:center">a</th>
<th style="text-align:center">b</th>
<th style="text-align:center">a&amp;b</th>
<th style="text-align:center">a&amp;&amp;b</th>
<th style="text-align:center">a|b</th>
<th style="text-align:center">a||b</th>
<th style="text-align:center">!a</th>
<th style="text-align:center">a^b(å¼‚æˆ–)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
</tr>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
</tr>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
</tr>
</tbody>
</table>
<p><strong>&amp;&amp;å’Œ&amp;çš„åŒºåˆ«</strong></p>
<ul>
<li><code>&amp;&amp;</code>å½“ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸º<code>false</code>æ—¶ï¼Œä¸å†åˆ¤æ–­ç¬¬äºŒä¸ªæ¡ä»¶ã€‚æ•ˆç‡é«˜ã€‚</li>
<li><code>&amp;</code>å½“ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸º<code>false</code>æ—¶ï¼Œä»éœ€åˆ¤æ–­ç¬¬äºŒä¸ªæ¡ä»¶ã€‚æ•ˆç‡ä½ã€‚</li>
<li>åŒç† <code>||</code> å’Œ<code>|</code> çš„åŒºåˆ«ä¹Ÿæ˜¯å¦‚æ­¤</li>
</ul>
<h2 id="ä½è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#ä½è¿ç®—ç¬¦"></a> ä½è¿ç®—ç¬¦</h2>
<table>
<thead>
<tr>
<th style="text-align:center">è¿ç®—ç¬¦</th>
<th style="text-align:center">è¿ç®—</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;</td>
<td style="text-align:center">æŒ‰ä½ä¸</td>
</tr>
<tr>
<td style="text-align:center">|</td>
<td style="text-align:center">æŒ‰ä½æˆ–</td>
</tr>
<tr>
<td style="text-align:center">~</td>
<td style="text-align:center">æŒ‰ä½å–å</td>
</tr>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:center">æŒ‰ä½å¼‚æˆ–</td>
</tr>
<tr>
<td style="text-align:center">&gt;&gt;</td>
<td style="text-align:center">ç®—æ•°å³ç§»ï¼Œåœ°ä½æº¢å‡ºï¼Œç¬¦å·ä½ä¸å˜ï¼Œå¹¶ç”¨ç¬¦å·ä½è¡¥æº¢å‡ºçš„é«˜ä½</td>
</tr>
<tr>
<td style="text-align:center">&lt;&lt;</td>
<td style="text-align:center">ç®—æ•°å·¦ç§»ï¼Œç¬¦å·ä½ä¸å˜ï¼Œä½ä½è¡¥</td>
</tr>
<tr>
<td style="text-align:center">&gt;&gt;&gt;</td>
<td style="text-align:center">é€»è¾‘å³ç§»</td>
</tr>
</tbody>
</table>
<h2 id="ä¸‰å…ƒè¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#ä¸‰å…ƒè¿ç®—ç¬¦"></a> ä¸‰å…ƒè¿ç®—ç¬¦</h2>
<p>åŸºæœ¬è¯­æ³•ï¼š<code>æ¡ä»¶è¡¨è¾¾å¼ ? è¡¨è¾¾å¼1 : è¡¨è¾¾å¼2</code></p>
<ul>
<li>å¦‚æœæ¡ä»¶è¡¨è¾¾å¼ç»“æœä¸º<code>true</code>ï¼Œè¿ç®—åçš„ç»“æœæ˜¯è¡¨è¾¾å¼1ï¼›</li>
<li>å¦‚æœæ¡ä»¶è¡¨è¾¾å¼ç»“æœä¸º<code>false</code>ï¼Œè¿ç®—åçš„ç»“æœæ˜¯è¡¨è¾¾å¼2ï¼›</li>
</ul>
<h1 id="æ ‡è¯†ç¬¦"><a class="markdownIt-Anchor" href="#æ ‡è¯†ç¬¦"></a> æ ‡è¯†ç¬¦</h1>
<p><strong>å‘½åè§„åˆ™ï¼šï¼ˆå¿…é¡»éµå®ˆï¼‰</strong></p>
<ul>
<li>ç”±26ä¸ªè‹±æ–‡å­—æ¯å¤§å°å†™ï¼Œ0-9ï¼Œ_æˆ–$ç»„æˆ</li>
<li>æ•°å­—ä¸å¯ä»¥å¼€å¤´ï¼Œ</li>
<li>ä¸å¯ä»¥ä½¿ç”¨å…³é”®å­—æˆ–ä¿ç•™å­—ï¼Œä½†èƒ½åŒ…å«å…³é”®å­—æˆ–ä¿ç•™å­—</li>
<li>ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œé•¿åº¦æ— é™åˆ¶ã€‚</li>
<li>ä¸èƒ½å«æœ‰ç©ºæ ¼ã€‚</li>
</ul>
<p><strong>å‘½åè§„èŒƒ</strong></p>
<ul>
<li>åŒ…åï¼šå¤šä¸ªå•è¯ç»„æˆæ—¶æ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™ã€‚</li>
<li>ç±»åã€æ¥å£åï¼šå¤šå•è¯ç»„æˆæ—¶ï¼Œæ‰€æœ‰å•è¯çš„é¦–å­—æ¯å¤§å†™ã€‚</li>
<li>å˜é‡åã€æ–¹æ³•åï¼šå¤šå•è¯ç»„æˆæ—¶ï¼Œç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å°å†™ï¼Œç¬¬äºŒä¸ªå•è¯å¼€å§‹åçš„æ‰€æœ‰å•è¯é¦–å­—æ¯å¤§å†™ã€‚</li>
<li>å¸¸é‡åï¼šæ‰€æœ‰å­—æ¯éƒ½å¤§å†™ã€‚å¤šå•è¯æ—¶ï¼Œæ¯ä¸ªå•è¯ç”¨ä¸‹åˆ’çº¿è¿æ¥ã€‚</li>
</ul>
<h1 id="é”®ç›˜è¾“å…¥è¯­å¥"><a class="markdownIt-Anchor" href="#é”®ç›˜è¾“å…¥è¯­å¥"></a> é”®ç›˜è¾“å…¥è¯­å¥</h1>
<p>å¯¼å…¥<code>java.util.Scanner</code>åŒ…ï¼Œåˆ›å»º<code>Scanner</code>å¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•è¿›è¡Œè¾“å…¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Input</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">myScanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in); <span class="comment">// åˆ›å»ºScanner å¯¹è±¡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;è¯·è¾“å…¥åå­—&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> myScanner.next(); <span class="comment">// æ¥æ”¶ç”¨æˆ·çš„è¾“å…¥</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> myScanner.nextInt();</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        System.out.println(age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="è¿›åˆ¶"><a class="markdownIt-Anchor" href="#è¿›åˆ¶"></a> è¿›åˆ¶</h1>
<ul>
<li>äºŒè¿›åˆ¶ï¼šä»¥<code>0b</code>æˆ–<code>0B</code>å¼€å¤´</li>
<li>åè¿›åˆ¶ï¼š</li>
<li>å…«è¿›åˆ¶ï¼šä»¥æ•°å­—<code>0</code>å¼€å¤´</li>
<li>åå…­è¿›åˆ¶ï¼šä»¥<code>0x</code>æˆ–<code>0X</code>å¼€å¤´è¡¨ç¤ºã€‚</li>
</ul>
<h2 id="è¿›åˆ¶çš„è½¬æ¢"><a class="markdownIt-Anchor" href="#è¿›åˆ¶çš„è½¬æ¢"></a> è¿›åˆ¶çš„è½¬æ¢</h2>
<h3 id="å…¶ä»–è¿›åˆ¶è½¬åè¿›åˆ¶"><a class="markdownIt-Anchor" href="#å…¶ä»–è¿›åˆ¶è½¬åè¿›åˆ¶"></a> å…¶ä»–è¿›åˆ¶è½¬åè¿›åˆ¶</h3>
<ul>
<li>äºŒè¿›åˆ¶è½¬åè¿›åˆ¶</li>
</ul>
<p>ä»æœ€ä½ä½(å³è¾¹)å¼€å§‹ï¼Œå°†æ¯ä¸ªä½ä¸Šçš„æ•°æå–å‡ºæ¥ï¼Œä¹˜ä»¥2çš„ï¼ˆä½æ•°-1ï¼‰æ¬¡æ–¹ï¼Œç„¶åæ±‚å’Œã€‚</p>
<ul>
<li>å…«è¿›åˆ¶è½¬åè¿›åˆ¶</li>
</ul>
<p>ä»æœ€ä½ä½(å³è¾¹)å¼€å§‹ï¼Œå°†æ¯ä¸ªä½ä¸Šçš„æ•°æå–å‡ºæ¥ï¼Œä¹˜ä»¥8çš„ï¼ˆä½æ•°-1ï¼‰æ¬¡æ–¹ï¼Œç„¶åæ±‚å’Œã€‚</p>
<ul>
<li>åå…­è¿›åˆ¶è½¬åè¿›åˆ¶</li>
</ul>
<p>ä»æœ€ä½ä½(å³è¾¹)å¼€å§‹ï¼Œå°†æ¯ä¸ªä½ä¸Šçš„æ•°æå–å‡ºæ¥ï¼Œä¹˜ä»¥16çš„ï¼ˆä½æ•°-1ï¼‰æ¬¡æ–¹ï¼Œç„¶åæ±‚å’Œã€‚</p>
<h3 id="åè¿›åˆ¶è½¬å…¶ä»–è¿›åˆ¶"><a class="markdownIt-Anchor" href="#åè¿›åˆ¶è½¬å…¶ä»–è¿›åˆ¶"></a> åè¿›åˆ¶è½¬å…¶ä»–è¿›åˆ¶</h3>
<ul>
<li>åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</li>
</ul>
<p>å°†è¯¥æ•°ä¸æ–­é™¤ä»¥2ï¼ŒæŒ‡å¯¼å•†ä¸º0ä¸ºæ­¢ï¼Œç„¶åå°†æ¯æ­¥å¾—åˆ°çš„ä½™æ•°å€’è¿‡æ¥ã€‚å°±æ˜¯å¯¹åº”çš„äºŒè¿›åˆ¶ã€‚</p>
<ul>
<li>åè¿›åˆ¶è½¬å…«è¿›åˆ¶</li>
</ul>
<p>å°†è¯¥æ•°ä¸æ–­é™¤ä»¥8ï¼ŒæŒ‡å¯¼å•†ä¸º0ä¸ºæ­¢ï¼Œç„¶åå°†æ¯æ­¥å¾—åˆ°çš„ä½™æ•°å€’è¿‡æ¥ã€‚å°±æ˜¯å¯¹åº”çš„å…«è¿›åˆ¶ã€‚</p>
<ul>
<li>åè¿›åˆ¶è½¬åå…­è¿›åˆ¶</li>
</ul>
<p>å°†è¯¥æ•°ä¸æ–­é™¤ä»¥16ï¼ŒæŒ‡å¯¼å•†ä¸º0ä¸ºæ­¢ï¼Œç„¶åå°†æ¯æ­¥å¾—åˆ°çš„ä½™æ•°å€’è¿‡æ¥ã€‚å°±æ˜¯å¯¹åº”çš„åå…­è¿›åˆ¶ã€‚</p>
<h3 id="å…¶ä»–è¿›åˆ¶ç›¸äº’è½¬æ¢"><a class="markdownIt-Anchor" href="#å…¶ä»–è¿›åˆ¶ç›¸äº’è½¬æ¢"></a> å…¶ä»–è¿›åˆ¶ç›¸äº’è½¬æ¢</h3>
<ul>
<li>äºŒè¿›åˆ¶è½¬å…«è¿›åˆ¶</li>
</ul>
<p>ä»ä½ä½å¼€å§‹ï¼Œå°†äºŒè¿›åˆ¶æ•°æ¯ä¸‰ä½ä¸€ç»„ï¼Œè½¬æˆå¯¹åº”çš„å…«è¿›åˆ¶æ•°å³å¯ã€‚</p>
<ul>
<li>äºŒè¿›åˆ¶è½¬åå…­è¿›åˆ¶</li>
</ul>
<p>ä»ä½ä½å¼€å§‹ï¼Œå°†äºŒè¿›åˆ¶æ•°æ¯å››ä½ä¸€ç»„ï¼Œè½¬æˆå¯¹åº”çš„åå…­è¿›åˆ¶æ•°å³å¯ã€‚</p>
<ul>
<li>å…«è¿›åˆ¶è½¬äºŒè¿›åˆ¶</li>
</ul>
<p>å°†å…«è¿›åˆ¶æ•°çš„æ¯ä¸€ä½è½¬æˆå¯¹åº”çš„ä¸€ä¸ª3ä½çš„äºŒè¿›åˆ¶æ•°å³å¯ã€‚</p>
<ul>
<li>åå…­è¿›åˆ¶è½¬äºŒè¿›åˆ¶</li>
</ul>
<p>å°†åå…­è¿›åˆ¶æ•°çš„æ¯ä¸€ä½è½¬æˆå¯¹åº”çš„ä¸€ä¸ª4ä½çš„äºŒè¿›åˆ¶æ•°å³å¯ã€‚</p>
<h1 id="æ§åˆ¶ç»“æ„"><a class="markdownIt-Anchor" href="#æ§åˆ¶ç»“æ„"></a> æ§åˆ¶ç»“æ„</h1>
<h2 id="é¡ºåºæ§åˆ¶"><a class="markdownIt-Anchor" href="#é¡ºåºæ§åˆ¶"></a> é¡ºåºæ§åˆ¶</h2>
<p>ç¨‹åºä»ä¸Šåˆ°ä¸‹é€è¡Œæ‰§è¡Œï¼Œä¸­é—´æ²¡æœ‰ä»»ä½•åˆ¤æ–­å’Œè·³è½¬ã€‚</p>
<h2 id="åˆ†æ”¯æ§åˆ¶"><a class="markdownIt-Anchor" href="#åˆ†æ”¯æ§åˆ¶"></a> åˆ†æ”¯æ§åˆ¶</h2>
<ul>
<li><code>if...else if...if...</code></li>
<li><code>switch...case...default...</code></li>
</ul>
<h2 id="å¾ªç¯æ§åˆ¶"><a class="markdownIt-Anchor" href="#å¾ªç¯æ§åˆ¶"></a> å¾ªç¯æ§åˆ¶</h2>
<ul>
<li><code>for(å¾ªç¯å˜é‡åˆå§‹åŒ–; å¾ªç¯æ¡ä»¶; å¾ªç¯å˜é‡è¿­ä»£) &#123; å¾ªç¯ä½“ &#125;</code></li>
<li><code>while(å¾ªç¯æ¡ä»¶) &#123; å¾ªç¯ä½“; å¾ªç¯å˜é‡è¿­ä»£&#125;</code></li>
<li><code>do&#123; å¾ªç¯ä½“; å¾ªç¯å˜é‡è¿­ä»£&#125; while(å¾ªç¯æ¡ä»¶)</code></li>
</ul>
<h2 id="è·³è½¬æ§åˆ¶"><a class="markdownIt-Anchor" href="#è·³è½¬æ§åˆ¶"></a> è·³è½¬æ§åˆ¶</h2>
<ul>
<li><code>break</code>ï¼šç»“æŸæœ€è¿‘çš„ä¸€å±‚å¾ªç¯ï¼Œæ¨å‡ºè¯¥å±‚å¾ªç¯</li>
<li><code>continue</code>ï¼šç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­ä¸‹ä¸€å±‚å¾ªç¯</li>
<li><code>return</code>ï¼šè¡¨ç¤ºè·³å‡ºæ‰€åœ¨æ–¹æ³•</li>
</ul>
<h1 id="æ•°ç»„-æ’åº-æŸ¥æ‰¾"><a class="markdownIt-Anchor" href="#æ•°ç»„-æ’åº-æŸ¥æ‰¾"></a> æ•°ç»„ã€æ’åºã€æŸ¥æ‰¾</h1>
<h2 id="æ•°ç»„"><a class="markdownIt-Anchor" href="#æ•°ç»„"></a> æ•°ç»„</h2>
<p>æ•°ç»„å¯ä»¥å­˜æ”¾<code>å¤šä¸ª</code> <code>åŒä¸€ç±»å‹</code> æ•°æ®ï¼Œæ•°ç»„ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œæ˜¯å¼•ç”¨ç±»å‹ã€‚</p>
<p>æ•°ç»„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹ç¼–å·çš„ã€‚</p>
<h3 id="æ•°ç»„çš„å®šä¹‰"><a class="markdownIt-Anchor" href="#æ•°ç»„çš„å®šä¹‰"></a> æ•°ç»„çš„å®šä¹‰</h3>
<ul>
<li>
<p>åŠ¨æ€åˆå§‹åŒ–ï¼š<code>æ•°ç»„ç±»å‹ æ•°ç»„å[] = new æ•°æ®ç±»å‹[å¤§å°]</code></p>
</li>
<li>
<p>åŠ¨æ€åˆå§‹åŒ–ï¼Œå…ˆå£°æ˜ï¼Œåœ¨åˆ›å»ºã€‚</p>
</li>
<li>
<p>é™æ€åˆå§‹åŒ–ï¼Œ<code>æ•°æ®ç±»å‹ æ•°ç»„å[] = &#123;å…ƒç´ å€¼, å…ƒç´ å€¼, ...&#125;</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayDef</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> arr[] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>]; <span class="comment">// åŠ¨æ€åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line">        <span class="type">int</span> num[];</span><br><span class="line">        num = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>]; <span class="comment">// å…ˆå£°æ˜ï¼Œå†åˆ†é…</span></span><br><span class="line">        <span class="type">int</span> q[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;; <span class="comment">// é™æ€åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ•°ç»„çš„æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ•°ç»„çš„æ³¨æ„äº‹é¡¹"></a> æ•°ç»„çš„æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>æ•°ç»„å†…çš„å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹ï¼Œ</li>
<li>æ•°ç»„ä¸­çš„å…ƒç´ ç±»å‹å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹æˆ–å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä½†ä¸èƒ½æ··ã€‚</li>
<li>æ•°ç»„åˆ›å»ºåï¼Œæ²¡æœ‰èµ‹å€¼ï¼Œæœ‰é»˜è®¤å€¼ã€‚</li>
<li>æ•°ç»„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„ã€‚</li>
<li>æ•°ç»„ä¸‹æ ‡å¿…é¡»åœ¨æŒ‡å®šèŒƒå›´å†…ä½¿ç”¨ã€‚</li>
<li>æ•°ç»„å±äºå¼•ç”¨ç±»å‹ï¼Œæ•°ç»„å‹æ•°æ®æ˜¯å¯¹è±¡(object)ã€‚</li>
</ul>
<h3 id="æ•°ç»„çš„èµ‹å€¼æœºåˆ¶"><a class="markdownIt-Anchor" href="#æ•°ç»„çš„èµ‹å€¼æœºåˆ¶"></a> æ•°ç»„çš„èµ‹å€¼æœºåˆ¶</h3>
<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹èµ‹å€¼ï¼Œè¿™ä¸ªå€¼å°±æ˜¯å…·ä½“çš„æ•°æ®ï¼Œè€Œä¸”ç›¸äº’ä¸å½±å“ã€‚</li>
<li><strong>æ•°ç»„åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯é˜´å½±ä¼ é€’ï¼Œèµ‹çš„å€¼æ˜¯åœ°å€ã€‚</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayDef</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> arr[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">        <span class="type">int</span> num[] = arr; <span class="comment">// å¼•ç”¨èµ‹å€¼ï¼Œæ­¤æ—¶numå‘ç”Ÿå˜åŒ–ï¼Œåˆ™arrä¼šå‘ç”Ÿå˜åŒ–ã€‚</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ•°ç»„æ‹·è´"><a class="markdownIt-Anchor" href="#æ•°ç»„æ‹·è´"></a> æ•°ç»„æ‹·è´</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayDef</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> arr[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">       	<span class="type">int</span> <span class="variable">arr2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">int</span>[arr.length];  <span class="comment">// æ•°ç»„æ‹·è´</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr2.length; i ++)&#123;</span><br><span class="line">            arr2[i] = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ’åº"><a class="markdownIt-Anchor" href="#æ’åº"></a> æ’åº</h2>
<h3 id="å†’æ³¡æ’åº"><a class="markdownIt-Anchor" href="#å†’æ³¡æ’åº"></a> å†’æ³¡æ’åº</h3>
<p>æ¯æ¬¡å†’æ³¡éƒ½å°†æœ€å¤§çš„æ•°æ‰¾å‡ºï¼Œå¹¶ç§»åŠ¨åˆ°åé¢ã€‚</p>
<ul>
<li>éœ€è¦è¿›è¡Œ<code>arr.length - 1</code> è½®æ’åºã€‚</li>
<li>ç¬¬<code>i</code>è½®æ’åºéœ€è¦ç¡®å®šç¬¬<code>i</code>å¤§æ•°çš„ä½ç½®ã€‚</li>
<li>æ¯è½®æ¯”è¾ƒä¾æ¬¡å‡å°‘<code>i</code>æ¬¡æ¯”è¾ƒã€‚</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BubbleSort</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="type">static</span> <span class="type">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> arr[] = &#123;<span class="number">26</span>, <span class="number">90</span>, <span class="number">86</span>, <span class="number">45</span>, <span class="number">13</span>, <span class="number">72</span>, <span class="number">16</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = i; i &lt; arr.length; i ++) &#123;  <span class="comment">// éœ€è¦è¿›è¡Œ arr.length - 1 æ¬¡</span></span><br><span class="line">            <span class="comment">// æ¯æ¬¡éœ€è¦æ¯”è¾ƒ arr.length - i - 1æ¬¡</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; arr.length - i; j++) &#123; </span><br><span class="line">                <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;  <span class="comment">// å¦‚æœå½“å‰æ•°æ¯”åä¸€ä¸ªæ•°å¤§ï¼Œåˆ™è¿›è¡Œäº¤æ¢</span></span><br><span class="line">                    <span class="type">int</span> a = arr[j];</span><br><span class="line">                    arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                    arr[j + <span class="number">1</span>] = a;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥æ‰¾"><a class="markdownIt-Anchor" href="#æŸ¥æ‰¾"></a> æŸ¥æ‰¾</h2>
<ul>
<li>é¡ºåºæŸ¥æ‰¾ï¼šç”¨ç›®æ ‡å€¼ä¾æ¬¡å’Œæ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æŸ¥æ‰¾åˆ°ï¼Œè‹¥éå†ç»“æŸä»æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¸å­˜åœ¨ã€‚</li>
<li>äºŒåˆ†æŸ¥æ‰¾ï¼Œéœ€è¦ä¿è¯åŸæ•°ç»„æ˜¯æœ‰åºçš„ã€‚</li>
</ul>
<h2 id="äºŒç»´æ•°ç»„"><a class="markdownIt-Anchor" href="#äºŒç»´æ•°ç»„"></a> äºŒç»´æ•°ç»„</h2>
<ul>
<li>åŠ¨æ€åˆå§‹åŒ–ï¼š<code>ç±»å‹ æ•°ç»„å[][] = new ç±»å‹[å¤§å°][å¤§å°]</code></li>
<li>åŠ¨æ€åˆå§‹åŒ–ï¼šå…ˆå£°æ˜ï¼Œåœ¨åˆ†é…ç©ºé—´</li>
<li>åŠ¨æ€åˆå§‹åŒ–ï¼šåˆ—æ•°ä¸ç¡®å®š</li>
<li>é™æ€åˆå§‹åŒ–</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayDef</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> arr[][] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>][<span class="number">4</span>]; <span class="comment">// åŠ¨æ€åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> num[][];</span><br><span class="line">        num = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>][<span class="number">3</span>]; <span class="comment">// å…ˆå£°æ˜ï¼Œå†åˆ†é…</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> arr[][] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>][]; <span class="comment">// åˆ—æ•°ä¸ç¡®å®š</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i ++)&#123; <span class="comment">// ç»™åˆ—åˆ†é…ç©ºé—´ã€‚</span></span><br><span class="line">            arr[i] = <span class="keyword">new</span> <span class="title class_">int</span>[i + <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> q[][] = &#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>&#125;&#125;; <span class="comment">// é™æ€åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ç±»ä¸å¯¹è±¡"><a class="markdownIt-Anchor" href="#ç±»ä¸å¯¹è±¡"></a> ç±»ä¸å¯¹è±¡</h1>
<ul>
<li>ç±»ï¼šå°±æ˜¯æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚Cat</li>
<li>å¯¹è±¡ï¼šå°±æ˜¯ä¸€ä¸ªå…·ä½“çš„å®ä¾‹ï¼Œ<code>å¯¹è±¡[å±æ€§, è¡Œä¸º]</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> object;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Object01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">cat</span> <span class="variable">cat1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">cat</span>();  <span class="comment">// å¯¹è±¡</span></span><br><span class="line">        cat1.name = <span class="string">&quot;hhh&quot;</span>;</span><br><span class="line">        cat1.age = <span class="number">20</span>;</span><br><span class="line">        cat1.color = <span class="string">&quot;çº¢è‰²&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> cat1.getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">cat</span>&#123; <span class="comment">// ç±»</span></span><br><span class="line">    <span class="comment">// å±æ€§</span></span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    String color;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¡Œä¸º</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å±æ€§"><a class="markdownIt-Anchor" href="#å±æ€§"></a> å±æ€§</h2>
<p><code>å±æ€§</code>ä¹Ÿå«<code>æˆå‘˜å˜é‡</code>ï¼Œä¹Ÿå«<code>field(å­—æ®µ)</code></p>
<ul>
<li>å±æ€§æ˜¯ç±»çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œä¸€èˆ¬æ˜¯æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹ã€‚</li>
</ul>
<p><strong>å±æ€§çš„å®šä¹‰æ–¹æ³•ï¼š</strong></p>
<p><code>è®¿é—®ä¿®é¥°ç¬¦ å±æ€§ç±»å‹ å±æ€§å</code></p>
<p>è®¿é—®ä¿®é¥°ç¬¦åŒ…æ‹¬ï¼š<code>public</code>ï¼Œ<code>private</code>ï¼Œ <code>protected</code>ï¼Œé»˜è®¤ä¸º<code>public</code></p>
<h2 id="æˆå‘˜æ–¹æ³•"><a class="markdownIt-Anchor" href="#æˆå‘˜æ–¹æ³•"></a> æˆå‘˜æ–¹æ³•</h2>
<p>æŸä¸ªç±»ä¸­çš„å‡½æ•°å°±æ˜¯è¯¥ç±»çš„æˆå‘˜æ–¹æ³•æˆ–è€…å«æˆå‘˜å‡½æ•°ã€‚</p>
<p><strong>æˆå‘˜æ–¹æ³•çš„å®šä¹‰ï¼š</strong></p>
<p><code>è®¿é—®ä¿®é¥°ç¬¦ è¿”å›ç±»å‹ æ–¹æ³•å(å½¢å‚åˆ—è¡¨) &#123; å‡½æ•°ä½“ ; return è¿”å›å€¼;&#125;</code></p>
<ul>
<li>å½¢å‚åˆ—è¡¨ï¼šä»£è¡¨æˆå‘˜æ–¹æ³•çš„è¾“å…¥ã€‚</li>
<li>è¿”å›ç±»å‹ï¼šè¡¨ç¤ºæˆå‘˜æ–¹æ³•çš„è¾“å‡ºï¼Œè‹¥ä¸º<code>void</code>ï¼Œåˆ™æ²¡æœ‰è¿”å›å€¼</li>
<li><code>return</code>ä¸æ˜¯å¿…é¡»çš„</li>
</ul>
<p><strong>ä¼ å‚æœºåˆ¶</strong></p>
<ul>
<li>å€¼ä¼ é€’ï¼›æ–¹æ³•è¿è¡Œåä¸ä¼šå½±å“å®å‚çš„å€¼ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>&#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a;</span><br><span class="line">        a = b;</span><br><span class="line">        b = c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å¼•ç”¨æ•°æ®ä¼ é€’ï¼šæ¥æ”¶æ•°ç»„ï¼Œä¼ é€’çš„æ˜¯åœ°å€ã€‚</li>
</ul>
<p><strong>æ–¹æ³•çš„é€’å½’è°ƒç”¨</strong></p>
<ul>
<li>ç›´æ¥é€’å½’ï¼šæ–¹æ³•è‡ªå·±æœ¬èº«ç›´æ¥è°ƒç”¨è‡ªå·±ã€‚</li>
<li>ç®€ä»‹é€’å½’</li>
</ul>
<h2 id="æ–¹æ³•é‡è½½"><a class="markdownIt-Anchor" href="#æ–¹æ³•é‡è½½"></a> æ–¹æ³•é‡è½½</h2>
<p>JAVAå…è®¸åœ¨åŒä¸€ä¸ªç±»ä¸­çš„æˆå‘˜æ–¹æ³•ä¸­ï¼Œæœ‰å¤šä¸ªé‡åå‡½æ•°å­˜åœ¨ï¼Œä½†æ˜¯è¦æ±‚å½¢å‚åˆ—è¡¨ä¸ä¸€æ ·ï¼</p>
<p><strong>é‡è½½çš„ä¼˜ç‚¹</strong></p>
<ul>
<li>å‡è½»äº†èµ·åçš„éº»çƒ¦</li>
<li>å‡è½»äº†è®°åçš„éº»çƒ¦</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OverLoad01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyCaculate</span> <span class="variable">myCaculate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyCaculate</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">caculate</span> <span class="operator">=</span> myCaculate.Caculate(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">        <span class="type">double</span> <span class="variable">caculate1</span> <span class="operator">=</span> myCaculate.Caculate(<span class="number">1</span>, <span class="number">2.2</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">caculate2</span> <span class="operator">=</span> myCaculate.Caculate(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyCaculate</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">Caculate</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">Caculate</span><span class="params">(<span class="type">int</span> a, <span class="type">double</span> b)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">Caculate</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b + c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>æ–¹æ³•åå¿…é¡»ä¸€æ ·</li>
<li>å½¢å‚åˆ—è¡¨å¿…é¡»ä¸åŒï¼Œå½¢å‚ç±»å‹ä¸åŒ æˆ–è€… ä¸ªæ•°ä¸åŒ æˆ–è€… é¡ºåºä¸åŒã€‚</li>
<li>å‚æ•°åæ²¡æœ‰è¦æ±‚</li>
<li>è¿”å›ç±»å‹æ— è¦æ±‚ï¼Œè¿”å›ç±»å‹ä¸æ˜¯æ„æˆæ–¹æ³•é‡è½½çš„æ¡ä»¶ã€‚</li>
</ul>
<h2 id="å¯å˜å‚æ•°"><a class="markdownIt-Anchor" href="#å¯å˜å‚æ•°"></a> å¯å˜å‚æ•°</h2>
<p>JAVAå…è®¸å°†åŒä¸€ä¸ªç±»ä¸­å¤šä¸ªåŒååŒåŠŸèƒ½ä½†å‚æ•°ä¸ªæ•°ä¸åŒçš„æ–¹æ³•ï¼Œå°è£…æˆåŒä¸€ä¸ªæ–¹æ³•ã€‚</p>
<p><code>for(å‚æ•°ç±»å‹... å‚æ•°å)</code>ï¼Œæ­¤æ—¶å‚æ•°åå¯ä»¥å½“åšæ•°ç»„ä½¿ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VarParameter01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        HspMethod hspMethod=<span class="keyword">new</span> <span class="title class_">HspMethod</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> hspMethod.sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum1</span> <span class="operator">=</span> hspMethod.sum(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HspMethod</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span>... nums)</span>&#123;  <span class="comment">// å¯ä»¥æ¥å—intç±»å‹çš„å¤šä¸ªå‚æ•°ï¼Œå¯ä»¥å°†numså½“ä½œæ•°ç»„ä½¿ç”¨</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">cun</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i ++)&#123;</span><br><span class="line">            cun += nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cun;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å¯å˜å‚æ•°çš„å®å‚å¯ä»¥ç›´æ¥æ˜¯æ•°ç»„</li>
<li>å¯å˜å‚æ•°çš„å®å‚å¯ä»¥æ˜¯0ä¸ªæˆ–å¤šä¸ª</li>
<li><strong>å¯å˜å‚æ•°å¯ä»¥å’Œæ™®é€šç±»å‹çš„å‚æ•°ä¸€èµ·æ”¾åœ¨å½¢å‚åˆ—è¡¨ï¼Œä½†å¿…é¡»ä¿è¯å¯å˜å‚æ•°åœ¨æœ€å</strong></li>
<li><strong>ä¸€ä¸ªå½¢å‚åˆ—è¡¨åªèƒ½å‡ºç°ä¸€ä¸ªå¯å˜å‚æ•°</strong></li>
</ul>
<h2 id="ä½œç”¨åŸŸ"><a class="markdownIt-Anchor" href="#ä½œç”¨åŸŸ"></a> ä½œç”¨åŸŸ</h2>
<p>åŒ…æ‹¬<strong>å±€éƒ¨å˜é‡</strong>æˆ–è€…<strong>å…¨å±€å˜é‡</strong></p>
<ul>
<li>å±€éƒ¨å˜é‡ï¼šå®šä¹‰åœ¨æŸä¸€ä¸ªæˆå‘˜æ–¹æ³•ä¸­çš„å˜é‡ æˆ–å®šä¹‰åœ¨æŸä¸€ä¸ªä»£ç å—ä¸­ ã€‚ä½œç”¨åŸŸä»…åœ¨è¯¥æˆå‘˜æ–¹æ³•ä¸­ æˆ– è¯¥ä»£ç å—ä¸­ã€‚</li>
<li>å…¨å±€å˜é‡ï¼šç›´æ¥å®šä¹‰åœ¨ç±»ä¸­çš„å˜é‡ï¼Œå±æ€§å°±æ˜¯å…¨å±€å˜é‡ï¼Œåœ¨è¯¥ç±»ä¸­çš„ä»»ä½•æˆå‘˜æ–¹æ³•ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ä½œç”¨åŸŸåœ¨æ•´ä¸ªç±»ä¸­ã€‚</li>
<li>å…¨å±€å˜é‡å¯ä»¥ä¸ç”¨èµ‹å€¼ï¼Œæœ‰é»˜è®¤å€¼ï¼Œå±€éƒ¨å˜é‡å¿…é¡»èµ‹å€¼åæ‰å¯ä»¥ä½¿ç”¨ï¼Œä¸ä¼šæœ‰é»˜è®¤å€¼ã€‚</li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å±æ€§å’Œå±€éƒ¨å˜é‡å¯ä»¥é‡åï¼Œä½¿ç”¨æ—¶éµå®ˆ<code>å°±è¿‘åŸåˆ™</code></li>
<li>åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œä¸¤ä¸ªå±€éƒ¨å˜é‡ä¸èƒ½é‡å</li>
<li>å±æ€§å£°æ˜å‘¨æœŸæ¯”è¾ƒé•¿ï¼Œå±€éƒ¨å˜é‡å£°æ˜å‘¨æœŸç›¸å¯¹æ¯”è¾ƒçŸ­</li>
</ul>
<p><strong>ä½œç”¨åŸŸèŒƒå›´</strong></p>
<ul>
<li>å±æ€§ï¼šå¯ä»¥è¢«æœ¬ç±»æ‰€æœ‰æˆå‘˜æ–¹æ³•ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡è°ƒç”¨è¢«å…¶ä»–ç±»ä½¿ç”¨ã€‚</li>
<li>å±€éƒ¨å˜é‡ï¼šåªèƒ½åœ¨æœ¬æˆå‘˜æ–¹æ³•ä¸­ä½¿ç”¨ã€‚</li>
</ul>
<p><strong>ä¿®é¥°ç¬¦</strong></p>
<ul>
<li>å±æ€§ï¼šå¯ä»¥æ·»åŠ ä¿®é¥°ç¬¦</li>
<li>å±€éƒ¨å˜é‡ï¼šä¸å¯ä»¥æ·»åŠ ä¿®é¥°ç¬¦</li>
</ul>
<h2 id="æ„é€ æ–¹æ³•æ„é€ å™¨"><a class="markdownIt-Anchor" href="#æ„é€ æ–¹æ³•æ„é€ å™¨"></a> æ„é€ æ–¹æ³•/æ„é€ å™¨</h2>
<p><strong>åŸºæœ¬è¯­æ³•ï¼š</strong><code>[ä¿®é¥°ç¬¦] æ–¹æ³•å(å½¢å‚åˆ—è¡¨) &#123; æ–¹æ³•ä½“; &#125;</code></p>
<p>**ä½œç”¨ï¼š**åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå®ç°å¯¹å¯¹è±¡çš„åˆå§‹åŒ–ã€‚</p>
<ul>
<li>æ„é€ å™¨çš„ä¿®é¥°ç¬¦å¯ä»¥æ˜¯é»˜è®¤çš„ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„ã€‚</li>
<li>æ„é€ å™¨æ²¡æœ‰è¿”å›å€¼</li>
<li>æ–¹æ³•åå’Œç±»åå¿…é¡»ä¿æŒä¸€è‡´</li>
<li>æ„é€ å™¨çš„è°ƒç”¨æ˜¯ç”±ç³»ç»Ÿå®Œæˆçš„</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Constructor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;xzt&quot;</span>, <span class="number">22</span>);</span><br><span class="line">        System.out.println(person.name + <span class="string">&quot;çš„å¹´é¾„ä¸º&quot;</span> + person.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    Person() &#123;  <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person(String name, <span class="type">int</span> age) &#123;  <span class="comment">// é‡å†™æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>ä¸€ä¸ªç±»å¯ä»¥æ„é€ å¤šä¸ªæ„é€ å™¨ï¼Œå³æ„é€ å™¨çš„é‡è½½</li>
<li>è‹¥æ²¡æœ‰è‡ªå®šä¹‰æ„é€ å™¨ï¼Œåˆ™ç³»ç»Ÿä¼šè‡ªåŠ¨ç»™ç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤æ— å‚æ„é€ å™¨ï¼Œä½†æ˜¯è‹¥å®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ„é€ å™¨ï¼Œåˆ™ä¸ä¼šå†è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé»˜è®¤æ— å‚æ„é€ å™¨ã€‚</li>
</ul>
<h2 id="å¯¹è±¡åˆ›å»ºæµç¨‹"><a class="markdownIt-Anchor" href="#å¯¹è±¡åˆ›å»ºæµç¨‹"></a> å¯¹è±¡åˆ›å»ºæµç¨‹</h2>
<ul>
<li>åŠ è½½ç±»ä¿¡æ¯ï¼Œåªä¼šåŠ è½½ä¸€æ¬¡</li>
<li>åœ¨å †ä¸­åˆ†é…ç©ºé—´ï¼ˆåœ°å€ï¼‰</li>
<li>å®Œæˆå¯¹è±¡åˆå§‹åŒ–ï¼Œ
<ul>
<li>é»˜è®¤åˆå§‹åŒ–</li>
<li>æ˜¾å¼åˆå§‹åŒ–</li>
<li>æ„é€ å™¨åˆå§‹åŒ–</li>
</ul>
</li>
<li>åœ¨å¯¹è±¡å †ä¸­çš„åœ°å€ï¼Œè¿”å›ç»™åˆ›å»ºçš„å¯¹è±¡</li>
</ul>
<h2 id="thiså…³é”®å­—"><a class="markdownIt-Anchor" href="#thiså…³é”®å­—"></a> thiså…³é”®å­—</h2>
<p><code>java</code>è™šæ‹Ÿæœºç»™æ¯ä¸ªå¯¹è±¡åˆ†é…<code>this</code>ï¼Œä»£è¡¨å½“å‰å¯¹è±¡ã€‚</p>
<p>**ä½œç”¨ï¼š**åœ¨æˆå‘˜æ–¹æ³•ä¸­ï¼Œ<code>this</code>ä¸»è¦ç”¨åœ¨å½“å½¢å‚å’Œå±æ€§ååŒåæ—¶ï¼Œä½¿ç”¨<code>this.å±æ€§å</code>ä»£æ›¿å±æ€§åï¼Œæ¥åŒºåˆ†åŒåé—®é¢˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Constructor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;xzt&quot;</span>, <span class="number">22</span>);</span><br><span class="line">        System.out.println(person.name + <span class="string">&quot;çš„å¹´é¾„ä¸º&quot;</span> + person.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    Person() &#123;  <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person(String name, <span class="type">int</span> age) &#123;  <span class="comment">// é‡å†™æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">this</span>.age = age; <span class="comment">// æ­¤æ—¶ä½¿ç”¨this.age ä»£æ›¿å±æ€§age</span></span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æœ¬è´¨</strong>ï¼šå“ªä¸ªå¯¹è±¡è°ƒç”¨ï¼Œ<code>this</code>å°±ä»£è¡¨å“ªä¸ªå¯¹è±¡</p>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li><code>this</code>å¯ä»¥è®¿é—®æœ¬ç±»çš„å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨</li>
<li><code>this</code>ç”¨äºåŒºåˆ†å½“å‰ç±»çš„å±æ€§å’Œå±€éƒ¨å˜é‡</li>
<li>è®¿é—®æˆå‘˜æ–¹æ³•æ—¶è¯­æ³•ï¼š<code>this.æ–¹æ³•å(å‚æ•°åˆ—è¡¨)</code></li>
<li>è®¿é—®æ„é€ å™¨è¯­æ³•ï¼š<code>this(å‚æ•°åˆ—è¡¨)</code>ï¼›æ³¨æ„åªèƒ½åœ¨æ„é€ å™¨ä¸­ä½¿ç”¨</li>
<li><code>this</code>ä¸èƒ½å†ç±»å®šä¹‰çš„å¤–éƒ¨ä½¿ç”¨ï¼Œåªèƒ½å†ç±»å®šä¹‰çš„æ–¹æ³•ä¸­ä½¿ç”¨</li>
</ul>
<h1 id="intellij-idea"><a class="markdownIt-Anchor" href="#intellij-idea"></a> Intellij IDEA</h1>
<h2 id="å¿«æ·é”®"><a class="markdownIt-Anchor" href="#å¿«æ·é”®"></a> å¿«æ·é”®</h2>
<table>
<thead>
<tr>
<th style="text-align:center">åŠŸèƒ½æè¿°</th>
<th style="text-align:center">å¿«æ·é”®</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åˆ é™¤å½“å‰è¡Œ</td>
<td style="text-align:center"><code>ctrl + y</code></td>
</tr>
<tr>
<td style="text-align:center">å¤åˆ¶å½“å‰è¡Œ</td>
<td style="text-align:center"><code>ctrl + d</code></td>
</tr>
<tr>
<td style="text-align:center">ä»£ç æ ¼å¼åŒ–</td>
<td style="text-align:center"><code>ctrl + alt + L</code></td>
</tr>
<tr>
<td style="text-align:center">è¡¥å…¨ä»£ç </td>
<td style="text-align:center">è¡¥å…¨ä»£ç ï¼š<code>alt + /</code></td>
</tr>
<tr>
<td style="text-align:center">å•è¡Œæ³¨é‡Š</td>
<td style="text-align:center"><code>ctrl + /</code></td>
</tr>
<tr>
<td style="text-align:center">å¤šè¡Œæ³¨é‡Š</td>
<td style="text-align:center"><code>ctrl + shift + /</code></td>
</tr>
<tr>
<td style="text-align:center">æ˜¾ç¤ºé”™è¯¯</td>
<td style="text-align:center"><code>alt + Enter</code></td>
</tr>
<tr>
<td style="text-align:center">å¿«é€Ÿè¿è¡Œä»£ç </td>
<td style="text-align:center"><code>ctrl + shift + F10</code></td>
</tr>
<tr>
<td style="text-align:center">ç”Ÿæˆæ„é€ å™¨ã€getå‡½æ•°ã€setå‡½æ•°</td>
<td style="text-align:center"><code>alt + insert</code></td>
</tr>
<tr>
<td style="text-align:center">æŸ¥çœ‹ç±»çš„ç»§æ‰¿å…³ç³»</td>
<td style="text-align:center"><code>ctrl + h</code></td>
</tr>
<tr>
<td style="text-align:center">å®šä½åˆ°å®šä¹‰çš„æ–¹æ³•</td>
<td style="text-align:center"><code>ctrl + b</code></td>
</tr>
<tr>
<td style="text-align:center">è‡ªåŠ¨åˆ†é…å˜é‡å</td>
<td style="text-align:center">åœ¨åé¢åŠ <code>.var</code></td>
</tr>
<tr>
<td style="text-align:center">â€¦</td>
<td style="text-align:center">â€¦</td>
</tr>
</tbody>
</table>
<h2 id="æ¨¡æ¿"><a class="markdownIt-Anchor" href="#æ¨¡æ¿"></a> æ¨¡æ¿</h2>
<p>æŸ¥çœ‹æ¨¡æ¿ï¼š<code>file -&gt; settings -&gt; editor -&gt; Live templates -&gt; Java</code>ï¼Œå¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„æ¨¡æ¿</p>
<table>
<thead>
<tr>
<th style="text-align:center">åŠŸèƒ½æè¿°</th>
<th style="text-align:center">å¿«æ·é”®</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ä¸»å‡½æ•°</td>
<td style="text-align:center"><code>main + enter</code></td>
</tr>
<tr>
<td style="text-align:center">è¾“å‡ºè¯­å¥</td>
<td style="text-align:center"><code>sout + enter</code></td>
</tr>
<tr>
<td style="text-align:center">forå¾ªç¯è¯­å¥</td>
<td style="text-align:center"><code>fori + enter</code></td>
</tr>
<tr>
<td style="text-align:center">â€¦</td>
<td style="text-align:center">â€¦</td>
</tr>
</tbody>
</table>
<h1 id="é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­"><a class="markdownIt-Anchor" href="#é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­"></a> é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¸­ï¼‰</h1>
<h2 id="åŒ…"><a class="markdownIt-Anchor" href="#åŒ…"></a> åŒ…</h2>
<p><strong>ä½œç”¨</strong></p>
<ul>
<li>å¯ä»¥åŒºåˆ†ç›¸åŒåå­—çš„ç±»</li>
<li>å½“ç±»å¾ˆå¤šæ—¶ï¼Œå¯ä»¥å¾ˆå¥½çš„ç®¡ç†ç±»</li>
<li>æ§åˆ¶è®¿é—®èŒƒå›´</li>
</ul>
<p><strong>åŸºæœ¬è¯­æ³•</strong>ï¼š<code>package.com.constructor</code></p>
<ul>
<li><code>package</code> å…³é”®å­—ï¼Œè¡¨ç¤ºæ‰“åŒ…</li>
<li><code>com.constructor</code> è¡¨ç¤ºåŒ…å</li>
</ul>
<p><strong>åŸç†ï¼š</strong> åˆ›å»ºä¸åŒçš„æ–‡ä»¶å¤¹æ¥ä¿å­˜ç±»æ–‡ä»¶ã€‚</p>
<p><strong>å‘½åè§„åˆ™</strong></p>
<ul>
<li>åªèƒ½åŒ…å«æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ã€å°åœ†ç‚¹ï¼Œä½†ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä¸èƒ½æ˜¯æ•°å­—æˆ–ä¿ç•™å­—</li>
</ul>
<p><strong>å‘½åè§„èŒƒ</strong></p>
<ul>
<li>ä¸€èˆ¬æ˜¯å°å†™å­—æ¯ + å°åœ†ç‚¹ï¼Œä¸€èˆ¬æ˜¯<code>com.å…¬å¸å.é¡¹ç›®å.ä¸šåŠ¡æ¨¡å—å</code></li>
</ul>
<h3 id="å¸¸ç”¨çš„åŒ…"><a class="markdownIt-Anchor" href="#å¸¸ç”¨çš„åŒ…"></a> å¸¸ç”¨çš„åŒ…</h3>
<ul>
<li><code>java.lang.*</code> é»˜è®¤å¼•å…¥ï¼Œä¸éœ€è¦å†å¼•å…¥ã€‚ä¾‹å¦‚<code>Mathlç±»</code></li>
<li><code>java.util.*</code> ç³»ç»Ÿæä¾›çš„å·¥å…·åŒ…ï¼Œå·¥å…·ç±»ï¼Œä½¿ç”¨<code>Scanner</code></li>
<li><code>java.net.*</code> ç½‘è·¯åŒ…ï¼Œç½‘ç»œå¼€å‘</li>
<li><code>java.awt.*</code> Javaç•Œé¢å¼€å‘ï¼ŒGUI</li>
</ul>
<h3 id="å¯¼å…¥åŒ…"><a class="markdownIt-Anchor" href="#å¯¼å…¥åŒ…"></a> å¯¼å…¥åŒ…</h3>
<p>åŸºæœ¬è¯­æ³•ï¼š<code>import åŒ…</code>ï¼Œå¼•å…¥ä¸€ä¸ªåŒ…çš„ç›®çš„æ˜¯ä½¿ç”¨è¯¥åŒ…ä¸‹é¢çš„ç±»ã€‚</p>
<ul>
<li><code>package</code>çš„ä½œç”¨æ˜¯å£°æ˜å½“å‰ç±»æ‰€åœ¨çš„åŒ…ï¼Œéœ€è¦æ”¾åœ¨ç±»çš„æœ€ä¸Šé¢ï¼Œä¸€ä¸ªç±»ä¸­æœ€å¤šåªæœ‰ä¸€ä¸ª<code>package</code></li>
<li><code>import</code> æ”¾åœ¨<code>package</code>å’Œç±»ä¹‹é—´ï¼Œå¯ä»¥æœ‰å¤šæ¡ä¸”é¡ºåºæ²¡æœ‰è¦æ±‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pkg;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner; <span class="comment">// åªä¼šå¯¼å…¥java.utilä¸‹é¢çš„Scannerç±»</span></span><br><span class="line"><span class="keyword">import</span> java.util.*;  <span class="comment">// å¯¼å…¥java.utilåŒ…ä¸‹é¢çš„æ‰€æœ‰ç±»ï¼Œ ä¸å»ºè®®ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Import01</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">int</span>[] arr = &#123;-<span class="number">1</span>, <span class="number">20</span>, <span class="number">2</span>, <span class="number">13</span>, <span class="number">3</span>&#125;;</span><br><span class="line">        </span><br><span class="line">        Arrays.sort(arr); <span class="comment">// æ’åº</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i ++)&#123;</span><br><span class="line">            System.out.println(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;   </span><br></pre></td></tr></table></figure>
<h2 id="è®¿é—®ä¿®é¥°ç¬¦"><a class="markdownIt-Anchor" href="#è®¿é—®ä¿®é¥°ç¬¦"></a> è®¿é—®ä¿®é¥°ç¬¦</h2>
<p>javaæä¾›å››ç§è®¿é—®ä¿®é¥°æ§åˆ¶ç¬¦ï¼Œç”¨äºæ§åˆ¶æ–¹æ³•å’Œå±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰çš„è®¿é—®æƒé™ã€‚</p>
<ul>
<li>å…¬å¼€çº§åˆ«ï¼š<code>public</code> ä¿®é¥°ï¼Œå¯¹å¤–å…¬å¼€</li>
<li>å—ä¿æŠ¤çº§åˆ«ï¼š<code>protected</code> ä¿®é¥°ï¼Œå¯¹å­ç±»å’ŒåŒä¸€ä¸ªåŒ…ä¸­çš„ç±»å…¬å¼€</li>
<li>é»˜è®¤çº§åˆ«ï¼šæ²¡æœ‰ä¿®é¥°ç¬¦ï¼Œå‘åŒä¸€ä¸ªåŒ…çš„ç±»å…¬å¼€ï¼Œå¯¹å­ç±»ä¸èƒ½è®¿é—®</li>
<li>ç§æœ‰çº§åˆ«ï¼š<code>private</code> ä¿®é¥°ï¼Œåªæœ‰ç±»æœ¬èº«å¯ä»¥è®¿é—®ï¼Œä¸å¯¹å¤–å…¬å¼€</li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>ä¿®é¥°ç¬¦å¯ä»¥ç”¨æ¥ä¿®é¥°ç±»ä¸­çš„å±æ€§ï¼Œæˆå‘˜æ–¹æ³•ä»¥åŠç±»</li>
<li>åªæœ‰é»˜è®¤çš„å’Œ<code>public</code>æ‰å¯ä»¥ä¿®é¥°ç±»</li>
</ul>
<h2 id="ä¸‰å¤§ç‰¹å¾"><a class="markdownIt-Anchor" href="#ä¸‰å¤§ç‰¹å¾"></a> ä¸‰å¤§ç‰¹å¾ â­</h2>
<h3 id="å°è£…"><a class="markdownIt-Anchor" href="#å°è£…"></a> å°è£…</h3>
<p><strong>å®šä¹‰ï¼š</strong> æŠŠæŠ½è±¡å‡ºæ¥æ•°æ®[å±æ€§]å’Œå¯¹æ•°æ®çš„æ“ä½œ[æ–¹æ³•]å°è£…åœ¨ä¸€èµ·ï¼Œæ•°æ®è¢«ä¿æŠ¤åœ¨å†…éƒ¨ï¼Œç¨‹åºçš„å…¶ä»–éƒ¨åˆ†åªæœ‰é€šè¿‡è¢«æˆæƒçš„æ“ä½œ[æ–¹æ³•]ï¼Œæ‰èƒ½å¯¹æ•°æ®è¿›è¡Œæ“ä½œã€‚</p>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>éšè—å®ç°ç»†èŠ‚ï¼Œç›´æ¥è°ƒç”¨å³å¯</li>
<li>å¯ä»¥å¯¹æ•°æ®è¿›è¡ŒéªŒè¯ï¼Œä¿è¯å®‰å…¨åˆç†</li>
</ul>
<p><strong>æ­¥éª¤</strong></p>
<ol>
<li>å°†å±æ€§ç§æœ‰åŒ–</li>
<li>æä¾›ä¸€ä¸ª<code>public çš„ set</code>æ–¹æ³•ï¼Œå¯¹å±æ€§åˆ¤æ–­å¹¶èµ‹å€¼</li>
<li>æä¾›ä¸€ä¸ª<code>public çš„ get</code>æ–¹æ³•ï¼Œç”¨äºè·å¾—å±æ€§å€¼</li>
</ol>
<p>å½“ä½¿ç”¨æ„é€ å™¨å¯¹å±æ€§èµ‹å€¼æ—¶ï¼Œæ„é€ å™¨å‡½æ•°ä½“çš„ç¼–å†™æ–¹æ³•éœ€è¦è¿›è¡Œæ”¹å˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.encapsulation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Encapsulation</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        person.setName(<span class="string">&quot;xzt&quot;</span>);</span><br><span class="line">        person.setAge(<span class="number">200</span>);</span><br><span class="line">        person.setSalary(<span class="number">30000</span>);</span><br><span class="line">        System.out.println(person.info());</span><br><span class="line"></span><br><span class="line">        <span class="type">Person</span> <span class="variable">smith</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;smith&quot;</span>, <span class="number">30</span>, <span class="number">15000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> salary;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é»˜è®¤æ„é€ å™¨</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰ä¸‰ä¸ªå±æ€§çš„æ„é€ å™¨ å¹¶è¿›è¡Œé‡å†™</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">double</span> salary)</span> &#123;</span><br><span class="line">        setName(name);</span><br><span class="line">        setAge(age);</span><br><span class="line">        setSalary(salary);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¿«æ·é”® alt + insert</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(age &gt;= <span class="number">1</span> &amp;&amp; age &lt;= <span class="number">120</span>)</span><br><span class="line">            <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å¹´é¾„éœ€è¦åœ¨1~120ä¹‹é—´&quot;</span>);</span><br><span class="line">            <span class="built_in">this</span>.age = <span class="number">18</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSalary</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSalary</span><span class="params">(<span class="type">double</span> salary)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.salary = salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">info</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ä¿¡æ¯ä¸ºï¼šåå­—æ˜¯ &quot;</span> + getName() + <span class="string">&quot;, å¹´é¾„æ˜¯ï¼š&quot;</span> + getAge() + <span class="string">&quot;ï¼Œå·¥èµ„æ˜¯ï¼š&quot;</span> + getSalary();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç»§æ‰¿"><a class="markdownIt-Anchor" href="#ç»§æ‰¿"></a> ç»§æ‰¿</h3>
<p><strong>å®šä¹‰ï¼š</strong> å½“ä¸¤ä¸ªç±»ä¸­æœ‰å¾ˆå¤šå±æ€§å’Œæ–¹æ³•æ˜¯ç›¸åŒçš„ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ç»§æ‰¿æ¥å‡å°‘ä»£ç å¤ç”¨ã€‚</p>
<p><strong>åŸºæœ¬è¯­æ³•ï¼š</strong></p>
<p><code>class å­ç±»å extends çˆ¶ç±»å &#123;&#125;</code></p>
<ul>
<li>å­ç±»ä¼šè‡ªåŠ¨æ‹¥æœ‰çˆ¶ç±»å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•</li>
<li>çˆ¶ç±»åˆå«è¶…ç±»æˆ–è€…åŸºç±»</li>
<li>å­ç±»åˆå«æ´¾ç”Ÿç±»</li>
</ul>
<p><strong>ä¼˜ç‚¹ï¼š</strong> ä»£ç çš„å¤ç”¨æ€§ã€æ‰©å±•æ€§ã€ç»´æŠ¤æ€§éƒ½å¾—åˆ°å¾ˆå¤§æå‡</p>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>å­ç±»ç»§æ‰¿äº†æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯ç§æœ‰å±æ€§ä¸èƒ½åœ¨å­ç±»ä¸­ç›´æ¥è®¿é—®ï¼Œè¦é€šè¿‡å…¬å…±çš„æ–¹æ³•å»è®¿é—®ã€‚</li>
<li><strong>å­ç±»å¿…é¡»è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œå®Œæˆçˆ¶ç±»çš„åˆå§‹åŒ–ã€‚</strong> åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ä¼šé»˜è®¤è°ƒç”¨<code>super()</code>å‡½æ•°</li>
<li>å½“åˆ›å»ºå­ç±»å¯¹è±¡æ—¶ï¼Œä¸ç®¡ä½¿ç”¨å­ç±»çš„å“ªä¸ªæ„é€ å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æ€»ä¼šè°ƒç”¨çˆ¶ç±»çš„æ— å‚æ„é€ å™¨ï¼Œå¦‚æœçˆ¶ç±»ä¸­æ²¡æœ‰æä¾›æ— å‚æ„é€ å™¨ï¼Œåˆ™å¿…é¡»åœ¨å­ç±»çš„æ„é€ å™¨ä¸­ç”¨<code>super()</code>å»æŒ‡å®šä½¿ç”¨çˆ¶ç±»çš„å“ªä¸ªæ„é€ å™¨å®Œæˆå¯¹çˆ¶ç±»çš„åˆå§‹åŒ–å·¥ä½œï¼Œå¦åˆ™ï¼Œç¼–è¯‘ä¸ä¼šé€šè¿‡ã€‚</li>
<li>å¦‚æœå¸Œæœ›æŒ‡å®šå»è°ƒç”¨çˆ¶ç±»çš„æŸä¸ªæ„é€ å™¨ï¼Œåˆ™æ˜¾ç¤ºçš„è°ƒç”¨ä¸€ä¸‹ï¼Œ<code>super(å‚æ•°åˆ—è¡¨)</code></li>
<li><code>super()</code> åœ¨ä½¿ç”¨æ—¶ï¼Œéœ€è¦æ”¾åœ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œï¼ˆ<code>super()</code>åªèƒ½åœ¨æ„é€ å™¨ä¸­ä½¿ç”¨ï¼‰</li>
<li><code>super()</code> å’Œ <code>this()</code> éƒ½åªèƒ½æ”¾åœ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œï¼Œå› æ­¤è¿™ä¸¤ä¸ªæ–¹æ³•ä¸èƒ½å…±å­˜åœ¨ä¸€ä¸ªæ„é€ å™¨</li>
<li>javaæ‰€æœ‰ç±»æ—¶<code>Objectç±»</code>çš„å­ç±»ï¼Œ<code>Objectç±»</code>æ˜¯æ‰€æœ‰ç±»çš„åŸºç±»</li>
<li>çˆ¶ç±»æ„é€ å™¨çš„è°ƒç”¨ä¸é™äºç›´æ¥çˆ¶ç±»ã€‚å°†ä¸€ç›´å¾€ä¸Šè¿½æº¯ç›´åˆ°<code>Objectç±»</code>ï¼ˆé¡¶çº§çˆ¶ç±»ï¼‰</li>
<li>å­ç±»æœ€å¤šåªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼ˆæŒ‡ç›´æ¥ç»§æ‰¿ï¼‰ï¼Œå³<strong>javaä¸­æ˜¯å•ç»§æ‰¿æœºåˆ¶</strong></li>
<li>ä¸èƒ½æ»¥ç”¨ç»§æ‰¿ï¼Œå­ç±»å’Œçˆ¶ç±»ä¹‹é—´å¿…é¡»æ»¡è¶³<code>is-a</code>çš„é€»è¾‘å…³ç³»ï¼ˆå­ç±»æ˜¯çˆ¶ç±»ä¸­çš„ä¸€ç±»ï¼‰</li>
</ul>
<p><strong>superå…³é”®å­—ï¼š</strong> <code>super()</code> ä»£è¡¨çˆ¶ç±»çš„å¼•ç”¨ï¼Œç”¨äºè®¿é—®çˆ¶ç±»çš„å±æ€§ï¼Œæ–¹æ³•ï¼Œæ„é€ å™¨ã€‚</p>
<ul>
<li>è®¿é—®çˆ¶ç±»çš„å±æ€§/æ–¹æ³•ï¼Œä½†ä¸èƒ½è®¿é—®<code>private</code>ç§æœ‰å±æ€§/æ–¹æ³•ï¼Œ<code>super.å±æ€§å</code></li>
<li>è®¿é—®çˆ¶ç±»çš„æ„é€ å™¨ï¼Œ<code>super(å‚æ•°åˆ—è¡¨)</code>åªèƒ½æ”¾åœ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œ</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>è°ƒç”¨çˆ¶ç±»æ„é€ å™¨ï¼Œåˆ†å·¥æ˜ç¡®ï¼Œçˆ¶ç±»å±æ€§ç”±çˆ¶ç±»åˆå§‹åŒ–ï¼Œå­ç±»çš„å±æ€§ç”±å­ç±»åˆå§‹åŒ–</li>
<li>å½“å­ç±»ä¸­æœ‰å’Œçˆ¶ç±»ä¸­æˆå‘˜ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰é‡åæ—¶ï¼Œä¸ºäº†è®¿é—®çˆ¶ç±»çš„æˆå‘˜ï¼Œå¿…é¡»é€šè¿‡<code>super</code>å…³é”®å­—ã€‚</li>
<li>è‹¥å¤šä¸ªä¸Šçº§ç±»éƒ½æœ‰åŒåï¼Œåˆ™<code>super</code>è®¿é—®éµå¾ªå°±è¿‘åŸåˆ™</li>
</ul>
<p><code>super</code>å’Œ<code>this</code><strong>çš„æ¯”è¾ƒ</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">No.</th>
<th style="text-align:center">åŒºåˆ«ç‚¹</th>
<th style="text-align:center">this</th>
<th style="text-align:center">super</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">è®¿é—®å±æ€§</td>
<td style="text-align:center">è®¿é—®æœ¬ç±»ä¸­çš„å±æ€§ï¼Œè‹¥æœ¬ç±»ä¸­æ²¡æœ‰æ­¤å±æ€§ï¼Œåˆ™ä»çˆ¶ç±»ä¸­ç»§ç»­æŸ¥æ‰¾</td>
<td style="text-align:center">è®¿é—®çˆ¶ç±»ä¸­çš„å±æ€§</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">è°ƒæŸ¥æ–¹æ³•</td>
<td style="text-align:center">è®¿é—®æœ¬ç±»ä¸­çš„æ–¹æ³•ï¼Œè‹¥æœ¬ç±»ä¸­æ²¡æœ‰æ­¤æ–¹æ³•ï¼Œåˆ™ä»çˆ¶ç±»ä¸­ç»§ç»­æŸ¥æ‰¾</td>
<td style="text-align:center">è®¿é—®çˆ¶ç±»ä¸­çš„æ–¹æ³•</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">è°ƒç”¨æ„é€ å™¨</td>
<td style="text-align:center">è°ƒç”¨æœ¬ç±»çš„æ„é€ å™¨ï¼Œå¿…é¡»æ”¾åœ¨æ„é€ å™¨é¦–è¡Œ</td>
<td style="text-align:center">è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œå¿…é¡»æ”¾åœ¨å­ç±»æ„é€ å™¨çš„é¦–è¡Œ</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">ç‰¹æ®Š</td>
<td style="text-align:center">è¡¨ç¤ºå½“å‰å¯¹è±¡</td>
<td style="text-align:center">å­ç±»ä¸­è®¿é—®çˆ¶ç±»å¯¹è±¡</td>
</tr>
</tbody>
</table>
<h4 id="æ–¹æ³•é‡å†™è¦†ç›–"><a class="markdownIt-Anchor" href="#æ–¹æ³•é‡å†™è¦†ç›–"></a> æ–¹æ³•é‡å†™/è¦†ç›–</h4>
<p>æ–¹æ³•é‡å†™å°±æ˜¯å­ç±»æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå’Œçˆ¶ç±»çš„æŸä¸ªæ–¹æ³•çš„åç§°ã€è¿”å›ç±»å‹ã€å‚æ•°ä¸€æ ·ï¼Œé‚£ä¹ˆå°±è¯´å­ç±»çš„è¿™ä¸ªæ–¹æ³•è¦†ç›–äº†çˆ¶ç±»çš„æ–¹æ³•ã€‚</p>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å­ç±»çš„æ–¹æ³•çš„å‚æ•°ã€æ–¹æ³•åç§°è¦å’Œçˆ¶ç±»æ–¹æ³•çš„å‚æ•°ã€åç§°å®Œå…¨ä¸€æ ·</li>
<li>å­ç±»çš„æ–¹æ³•çš„è¿”å›ç±»å‹è¦å’Œçˆ¶ç±»æ–¹æ³•çš„è¿”å›ç±»å‹ä¸€æ ·ï¼Œæˆ–è€…æ˜¯çˆ¶ç±»è¿”å›ç±»å‹çš„å­ç±»ã€‚ä¾‹å¦‚ï¼šçˆ¶ç±»è¿”å›ç±»å‹ä¸º<code>Object</code>,å­ç±»æ–¹æ³•çš„è¿”å›ç±»å‹å¯ä»¥æ˜¯<code>String</code>ã€‚</li>
<li>å­ç±»æ–¹æ³•ä¸èƒ½ç¼©å°çˆ¶ç±»æ–¹æ³•çš„è®¿é—®æƒé™ï¼š<code>public &gt; protected &gt; é»˜è®¤ &gt; private</code></li>
</ul>
<h3 id="å¤šæ€"><a class="markdownIt-Anchor" href="#å¤šæ€"></a> å¤šæ€</h3>
<p>æ–¹æ³•æˆ–å¯¹è±¡å…·æœ‰å¤šç§å½¢æ€ã€‚æ˜¯é¢å‘å¯¹è±¡çš„ç¬¬ä¸‰å¤§ç‰¹å¾ï¼Œå¤šæ€æ˜¯å»ºç«‹åœ¨å°è£…å’Œç»§æ‰¿çš„åŸºç¡€ä¹‹ä¸Šçš„ã€‚</p>
<p><strong>ä½œç”¨ï¼š</strong> æé«˜ä»£ç çš„å¤ç”¨æ€§</p>
<ul>
<li>æ–¹æ³•çš„å¤šæ€ï¼šæ–¹æ³•çš„<code>é‡è½½ å’Œ é‡å†™</code>å°±ä½“ç°å¤šæ€</li>
<li><strong>å¯¹è±¡çš„å¤šæ€ï¼šã€æ ¸å¿ƒã€‘</strong>
<ul>
<li>**ä¸€ä¸ªå¯¹è±¡çš„ç¼–è¯‘ç±»å‹å’Œè¿è¡Œç±»å‹å¯ä»¥ä¸ä¸€è‡´ã€‚**ä¾‹å¦‚ï¼š<code>Animal animal = new Dog()</code>ï¼›å¯ä»¥è®©ä¸€ä¸ªçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡ã€‚<code>animal</code>çš„ç¼–è¯‘ç±»å‹æ˜¯<code>Animal</code>ï¼Œè¿è¡Œç±»å‹æ˜¯<code>Dog</code></li>
<li>ç¼–è¯‘ç±»å‹åœ¨å®šä¹‰å¯¹è±¡æ—¶ï¼Œå°±ç¡®å®šäº†ï¼Œä¸èƒ½æ”¹å˜</li>
<li>è¿è¡Œç±»å‹æ˜¯å¯ä»¥å˜åŒ–çš„ã€‚</li>
<li>ç¼–è¯‘ç±»å‹çœ‹å®šä¹‰æ—¶ <code>=</code> å·¦è¾¹ï¼Œè¿è¡Œç±»å‹çœ‹ <code>=</code> å³è¾¹ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>ä¸¤ä¸ªç±»å­˜åœ¨ç»§æ‰¿å…³ç³»</li>
<li>å¤šæ€æ˜¯å‘ä¸Šè½¬å‹
<ul>
<li>æœ¬è´¨ï¼šçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</li>
<li>è¯­æ³•ï¼š<code>çˆ¶ç±»ç±»å‹ å¼•ç”¨å = new å­ç±»ç±»å‹()</code></li>
<li>ç‰¹ç‚¹ï¼šç¼–è¯‘ç±»å‹çœ‹å·¦è¾¹ï¼Œè¿è¡Œç±»å‹çœ‹å³è¾¹</li>
</ul>
</li>
<li>å¤šæ€çš„å‘ä¸‹è½¬å‹
<ul>
<li>è¯­æ³•ï¼š<code>å­ç±»ç±»å‹ å¼•ç”¨å = (å­ç±»ç±»å‹) çˆ¶ç±»å¼•ç”¨</code>ï¼›</li>
<li>åªèƒ½å¼ºè½¬çˆ¶ç±»çš„å¼•ç”¨ï¼Œä¸èƒ½å¼ºè½¬çˆ¶ç±»çš„å¯¹è±¡</li>
<li>è¦æ±‚çˆ¶ç±»çš„å¼•ç”¨å¿…é¡»æŒ‡å‘çš„æ˜¯å½“å‰ç›®æ ‡ç±»å‹çš„å¯¹è±¡</li>
<li>å¯ä»¥è°ƒç”¨å­ç±»ç±»å‹ä¸­æ‰€æœ‰çš„æˆå‘˜æ—¥</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(); <span class="comment">// å‘ä¸Šè½¬å‹</span></span><br><span class="line"><span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> (Dog) animal; <span class="comment">// å‘ä¸‹è½¬å‹</span></span><br><span class="line"></span><br><span class="line"><span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> (Cat) animal; <span class="comment">// é”™è¯¯ï¼ŒanimalåŸæ¥æ˜¯Dogç±»å‹ï¼Œä¸èƒ½è½¬ä¸ºcat</span></span><br></pre></td></tr></table></figure>
<p><strong>å±æ€§é‡å†™ï¼š</strong></p>
<ul>
<li>å±æ€§æ²¡æœ‰é‡å†™ä¹‹è¯´ï¼Œå±æ€§çš„å€¼çœ‹ç¼–è¯‘ç±»å‹ã€‚</li>
<li><code>instanceof</code> æ¯”è¾ƒæ“ä½œç¬¦ï¼Œç”¨äºåˆ¤æ–­å¯¹è±¡çš„è¿è¡Œç±»å‹æ˜¯å¦ä¸ºXXç±»å‹æˆ–XXç±»å‹çš„å­ç±»å‹ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Base</span> <span class="variable">base</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Sub</span>();</span><br><span class="line">        System.out.println(base.count); <span class="comment">// 10ï¼Œçœ‹ç¼–è¯‘ç±»å‹</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(base <span class="keyword">instanceof</span> Sub); <span class="comment">// True</span></span><br><span class="line">        System.out.println(base <span class="keyword">instanceof</span> Base); <span class="comment">// True</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">Sub</span> <span class="variable">sub</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Sub</span>();</span><br><span class="line">        System.out.println(sub <span class="keyword">instanceof</span> Sub); <span class="comment">// True</span></span><br><span class="line">        System.out.println(sub <span class="keyword">instanceof</span> Base); <span class="comment">// True</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sub</span> <span class="keyword">extends</span> <span class="title class_">Base</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="javaåŠ¨æ€ç»‘å®šæœºåˆ¶"><a class="markdownIt-Anchor" href="#javaåŠ¨æ€ç»‘å®šæœºåˆ¶"></a> javaåŠ¨æ€ç»‘å®šæœºåˆ¶ â­</h4>
<ul>
<li>Javaé‡è¦ç‰¹æ€§ï¼š<code>åŠ¨æ€ç»‘å®šæœºåˆ¶</code></li>
<li>å½“è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•ä¼šå’Œè¯¥å¯¹è±¡çš„å†…å­˜åœ°å€/è¿è¡Œç±»å‹ç»‘å®š</li>
<li>å½“è°ƒç”¨å¯¹è±¡å±æ€§æ—¶ï¼Œæ²¡æœ‰åŠ¨æ€ç»‘å®šæœºåˆ¶ï¼Œå“ªé‡Œå£°æ˜ï¼Œå“ªé‡Œä½¿ç”¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.poly._dynamic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicBinding</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        System.out.println(a.sum()); <span class="comment">// 30  åŠ¨æ€ç»‘å®šæœºåˆ¶ï¼Œæ‰€ä»¥è°ƒç”¨çˆ¶ç±»çš„sumï¼Œæ‰€ä»¥ getI()æ˜¯Bçš„ä¸º20  20 + 10</span></span><br><span class="line">        System.out.println(a.sum1()); <span class="comment">// 20  å±æ€§æ²¡æœ‰åŠ¨æ€ç»‘å®šæœºåˆ¶ï¼Œæ‰€ä»¥è°ƒç”¨çˆ¶ç±»çš„sum1ï¼Œæ‰€ä»¥ iä¸º10  10 + 10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getI() + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getI</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    public int sum()&#123;</span></span><br><span class="line">    <span class="comment">//        return getI() + 20;</span></span><br><span class="line">    <span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    public int sum1()&#123;</span></span><br><span class="line"><span class="comment">//        return i + 20;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getI</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å¤šæ€çš„åº”ç”¨"><a class="markdownIt-Anchor" href="#å¤šæ€çš„åº”ç”¨"></a> å¤šæ€çš„åº”ç”¨</h4>
<ul>
<li>å¤šæ€æ•°ç»„ï¼šæ•°ç»„çš„å®šä¹‰ç±»å‹ä¸ºçˆ¶ç±»å‹ï¼Œé‡Œé¢ä¿å­˜çš„å®é™…å…ƒç´ ç±»å‹ä¸ºå­ç±»å‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tes</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Person[] person =  <span class="keyword">new</span> <span class="title class_">Person</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        Person[<span class="number">0</span>] = student;</span><br><span class="line">        <span class="type">Teacher</span> <span class="variable">teacher</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">        Person[<span class="number">1</span>] = teacher;</span><br><span class="line">        <span class="comment">// éå†æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; person.length; i++)&#123;</span><br><span class="line">            <span class="comment">//person[i] ç¼–è¯‘ç±»å‹æ˜¯Personï¼Œè¿è¡Œç±»å‹æ˜¯æ ¹æ®å®é™…æƒ…å†µç”±JVNæ¥åˆ¤æ–­</span></span><br><span class="line">            System.out.println(person[i].say());</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å› ä¸ºteach() å’Œstudy() ä¸å­˜åœ¨äºPersonç±»ä¸­ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­åè¿›è¡Œå‘ä¸‹å¼ºè½¬</span></span><br><span class="line">            <span class="keyword">if</span>(person[i] <span class="keyword">instanceof</span> Student)&#123;</span><br><span class="line">                <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> (Student) person[i];</span><br><span class="line">                s.study();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(person[i] <span class="keyword">instanceof</span> Teacher)&#123;</span><br><span class="line">                ((Teacher) person[i]).teach();</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">public</span> String age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å­¦ç”Ÿç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è€å¸ˆç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">teach</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å¤šæ€å‚æ•°ï¼šæ–¹æ³•å®šä¹‰çš„å‚æ•°ç±»å‹ä¸ºçˆ¶ç±»ï¼Œå®å‚ç±»å‹å…è®¸æ˜¯å­ç±»ç±»å‹ã€‚</li>
</ul>
<h2 id="object-ç±»è¯¦è§£"><a class="markdownIt-Anchor" href="#object-ç±»è¯¦è§£"></a> Object ç±»è¯¦è§£</h2>
<h3 id="equalæ–¹æ³•"><a class="markdownIt-Anchor" href="#equalæ–¹æ³•"></a> <code>equal</code>æ–¹æ³•</h3>
<ul>
<li><code>==</code> æ—¢å¯ä»¥åˆ¤æ–­åŸºæœ¬ç±»å‹ï¼Œåˆå¯ä»¥åˆ¤æ–­å¼•ç”¨ç±»å‹</li>
<li><code>==</code> å¦‚æœåˆ¤æ–­åŸºæœ¬ç±»å‹ï¼Œåˆ¤æ–­çš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰ï¼Œ</li>
<li><code>==</code> å¦‚æœåˆ¤æ–­å¼•ç”¨ç±»å‹ï¼Œåˆ¤æ–­çš„æ˜¯åœ°å€æ˜¯å¦ç›¸ç­‰ï¼Œ<strong>å³åˆ¤æ–­çš„æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡</strong></li>
<li><code>equal</code> æ˜¯<code>Object</code>ç±»ä¸­çš„æ–¹æ³•ï¼Œåªèƒ½åˆ¤æ–­å¼•ç”¨ç±»å‹</li>
<li>é»˜è®¤åˆ¤æ–­çš„æ˜¯åœ°å€æ˜¯å¦ç›¸ç­‰ï¼Œå­ç±»ä¸­å¾€å¾€é‡å†™è¯¥æ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Stringç±»ä¸­é‡å†™çš„equalsæ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object anObject)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span> == anObject) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (anObject <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">anotherString</span> <span class="operator">=</span> (String)anObject;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> value.length;</span><br><span class="line">        <span class="keyword">if</span> (n == anotherString.value.length) &#123;</span><br><span class="line">            <span class="type">char</span> v1[] = value;</span><br><span class="line">            <span class="type">char</span> v2[] = anotherString.value;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (n-- != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (v1[i] != v2[i])</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="hashcodeæ–¹æ³•"><a class="markdownIt-Anchor" href="#hashcodeæ–¹æ³•"></a> <code>hashCode</code>æ–¹æ³•</h3>
<ul>
<li>æé«˜å…·æœ‰å“ˆå¸Œè¡¨ç»“æ„çš„å®¹å™¨çš„æ•ˆç‡</li>
<li>ä¸¤ä¸ªå¼•ç”¨ï¼Œå¦‚æœæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å“ˆå¸Œå€¼è‚¯å®šæ˜¯ä¸€æ ·</li>
<li>ä¸¤ä¸ªå¼•ç”¨ï¼Œå¦‚æœæŒ‡å‘çš„æ˜¯ä¸åŒå¯¹è±¡ï¼Œåˆ™å“ˆå¸Œå€¼ä¸ä¸€æ ·</li>
<li>å“ˆå¸Œå€¼ä¸»è¦æ˜¯æ ¹æ®åœ°å€å·æ¥çš„ï¼Œä¸èƒ½å®Œå…¨å°†å“ˆå¸Œå€¼ç­‰ä»·äºåœ°å€</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">AA</span> <span class="variable">aa</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AA</span>();</span><br><span class="line">        <span class="type">AA</span> <span class="variable">aa1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AA</span>();</span><br><span class="line">        <span class="type">AA</span> <span class="variable">aa2</span> <span class="operator">=</span> aa;</span><br><span class="line">        System.out.println(aa.hashCode);</span><br><span class="line">        System.out.println(aa1.hashCode);  <span class="comment">//aa1 å’Œ aaçš„hashcodeç›¸åŒ</span></span><br><span class="line">        System.out.println(aa2.hashCode);  <span class="comment">// aa2 å’Œ aaçš„hashcodeç›¸åŒ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AA</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="tostringæ–¹æ³•"><a class="markdownIt-Anchor" href="#tostringæ–¹æ³•"></a> <code>toString</code>æ–¹æ³•</h3>
<p>é»˜è®¤è¿”å›ï¼š<code>å…¨ç±»å + @ + å“ˆå¸Œå€¼çš„åå…­è¿›åˆ¶</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Object ç±»ä¸­çš„toStringæ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> getClass().getName() + <span class="string">&quot;@&quot;</span> + Integer.toHexString(hashCode());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Integer.toHexString(hashCode()); å°†å¯¹è±¡ä»¥hashcodeå€¼è½¬æˆåå…­è¿›åˆ¶è¿”å›</span></span><br></pre></td></tr></table></figure>
<ul>
<li>é‡å†™<code>toString</code>æ–¹æ³•ï¼Œåœ¨ç±»ä¸­ä½¿ç”¨å¿«æ·é”®<code>alt + insert</code> ç„¶åé€‰ä¸­<code>toString</code>å³å¯</li>
<li>å½“ç›´æ¥è¾“å‡ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œ<code>toString</code>æ–¹æ³•ä¼šè¢«é»˜è®¤è°ƒç”¨</li>
</ul>
<h3 id="finalizeæ–¹æ³•"><a class="markdownIt-Anchor" href="#finalizeæ–¹æ³•"></a> <code>finalize</code>æ–¹æ³•</h3>
<ul>
<li>å½“å¯¹è±¡è¢«å›æ”¶æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨è¯¥å¯¹è±¡çš„<code>finalize</code>æ–¹æ³•ã€‚å­ç±»å¯ä»¥é‡å†™è¯¥æ–¹æ³•ï¼Œåšä¸€äº›é‡Šæ”¾èµ„æºçš„æ“ä½œ</li>
<li>ä»€ä¹ˆæ—¶å€™è¢«å›æ”¶ï¼šå½“æŸä¸ªå¯¹è±¡æ²¡æœ‰ä»»ä½•å¼•ç”¨æ—¶ï¼Œåˆ™<code>jvm</code>å°±è®¤ä¸ºè¯¥å¯¹è±¡æ˜¯ä¸€ä¸ªåƒåœ¾å¯¹è±¡ï¼Œå°±ä¼šä½¿ç”¨åƒåœ¾å›æ”¶æœºåˆ¶æ¥é”€æ¯è¯¥å¯¹è±¡ï¼Œåœ¨é”€æ¯è¯¥å¯¹è±¡å‰ï¼Œä¼šå…ˆè°ƒç”¨<code>finalize</code>æ–¹æ³•</li>
<li>åƒåœ¾å›æ”¶æœºåˆ¶çš„è°ƒç”¨ï¼Œæ˜¯ç”±ç³»ç»Ÿæ¥å†³å®šï¼ˆå³æœ‰è‡ªå·±çš„<code>GCç®—æ³•</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>System.gc()</code>ä¸»åŠ¨è§¦å‘åƒåœ¾å›æ”¶æœºåˆ¶ã€‚</li>
</ul>
<h2 id="æ–­ç‚¹è°ƒè¯•"><a class="markdownIt-Anchor" href="#æ–­ç‚¹è°ƒè¯•"></a> æ–­ç‚¹è°ƒè¯•</h2>
<p>åœ¨æ–­ç‚¹è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œè¯•è¿è¡ŒçŠ¶æ€ï¼Œæ˜¯ä»¥å¯¹è±¡çš„è¿è¡Œç±»å‹æ¥æ‰§è¡Œçš„ã€‚</p>
<ul>
<li>æ–­ç‚¹è°ƒè¯•æ˜¯æŒ‡åœ¨ç¨‹åºçš„æŸä¸€è¡Œè®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼Œè°ƒè¯•æ—¶ï¼Œç¨‹åºè¿è¡Œåˆ°è¿™ä¸€è¡Œå°±ä¼šåœä½ï¼Œç„¶åä½ å¯ä»¥ä¸€æ­¥ä¸€æ­¥å¾€ä¸‹è°ƒè¯•ï¼Œè°ƒè¯•è¿‡ç¨‹ä¸­å¯ä»¥çœ‹å„ä¸ªå˜é‡å½“å‰çš„å€¼ï¼Œå‡ºé”™çš„è¯ï¼Œè°ƒè¯•åˆ°å‡ºé”™çš„ä»£ç è¡Œå³æ˜¾ç¤ºé”™è¯¯ï¼Œåœä¸‹ã€‚è¿›è¡Œåˆ†æä»è€Œä¼šæ‰¾åˆ°è¿™ä¸ªBug</li>
</ul>
<h3 id="å¿«æ·é”®-2"><a class="markdownIt-Anchor" href="#å¿«æ·é”®-2"></a> å¿«æ·é”®</h3>
<table>
<thead>
<tr>
<th style="text-align:center">å¿«æ·é”®</th>
<th style="text-align:center">åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>F7</code></td>
<td style="text-align:center">è·³å…¥æ–¹æ³•å†…</td>
</tr>
<tr>
<td style="text-align:center"><code>F8</code></td>
<td style="text-align:center">è·³è¿‡ï¼Œé€è¡Œæ‰§è¡Œä»£ç </td>
</tr>
<tr>
<td style="text-align:center"><code>shift + F8</code></td>
<td style="text-align:center">è·³å‡ºæ–¹æ³•</td>
</tr>
<tr>
<td style="text-align:center"><code>F9</code></td>
<td style="text-align:center">resumeï¼Œæ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹</td>
</tr>
</tbody>
</table>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ1</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>Java åŸºç¡€å…¥é—¨ Java8</title>
    <url>/2022/05/01/JAVA/03JavaBasic/</url>
    <content><![CDATA[<div class="note info simple"><p>Java 8æ˜¯Javaè¯­è¨€å¼€å‘çš„ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬</p>
</div>
<h1 id="java-8æ–°ç‰¹æ€§"><a class="markdownIt-Anchor" href="#java-8æ–°ç‰¹æ€§"></a> Java 8æ–°ç‰¹æ€§</h1>
<ul>
<li>é€Ÿåº¦æ›´å¿«</li>
<li>ä»£ç æ›´å°‘ï¼Œå¢åŠ äº†æ–°çš„è¯­æ³•ï¼Œ<strong>Lambdaè¡¨è¾¾å¼</strong></li>
<li>å¼ºå¤§çš„<code>Stream API</code></li>
<li>ä¾¿äºå¹¶è¡Œ</li>
<li>æœ€å¤§åŒ–å‡å°‘ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼š<code>Optional</code>ç±»</li>
<li><code>Nashorn</code>å¼•æ“ï¼Œå…è®¸åœ¨JVMä¸Šè¿è¡ŒJSåº”ç”¨</li>
</ul>
<h1 id="lambdaè¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#lambdaè¡¨è¾¾å¼"></a> Lambdaè¡¨è¾¾å¼</h1>
<blockquote>
<p>Lambdaæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠLambdaè¡¨è¾¾å¼ç†è§£ä¸ºæ˜¯ä¸€æ®µå¯ä»¥ä¼ é€’çš„ä»£ç ï¼ˆå°†ä»£ç åƒæ•°æ®ä¸€æ ·è¿›è¡Œä¼ é€’ï¼‰ã€‚ä½¿ç”¨å®ƒå¯ä»¥å†™å‡ºæ›´ç®€æ´ã€æ›´çµæ´»çš„ä»£ç ã€‚ä½œä¸ºä¸€ç§æ›´ç´§å‡‘çš„ä»£ç é£æ ¼ï¼Œä½¿Javaçš„è¯­è¨€è¡¨è¾¾èƒ½åŠ›å¾—åˆ°äº†æå‡ã€‚</p>
</blockquote>
<h2 id="æœ¬è´¨"><a class="markdownIt-Anchor" href="#æœ¬è´¨"></a> æœ¬è´¨</h2>
<p>ä½œä¸ºæ¥å£çš„å®ä¾‹</p>
<h2 id="åŸºæœ¬è¯­æ³•"><a class="markdownIt-Anchor" href="#åŸºæœ¬è¯­æ³•"></a> åŸºæœ¬è¯­æ³•</h2>
<ul>
<li><code>-&gt;</code>lambdaæ“ä½œç¬¦ï¼Œæˆ–ç®­å¤´æ“ä½œç¬¦</li>
<li><code>-&gt;</code>å·¦è¾¹ï¼šlambdaå½¢å‚åˆ—è¡¨ï¼Œå…¶å®å°±æ˜¯æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•çš„å½¢å‚åˆ—è¡¨</li>
<li><code>-&gt;</code>å³è¾¹ï¼šlambdaä½“ï¼Œå…¶å®å°±æ˜¯é‡å†™çš„æŠ½è±¡æ–¹æ³•çš„æ–¹æ³•ä½“</li>
</ul>
<h2 id="è¯­æ³•æ ¼å¼"><a class="markdownIt-Anchor" href="#è¯­æ³•æ ¼å¼"></a> è¯­æ³•æ ¼å¼</h2>
<ul>
<li>è¯­æ³•æ ¼å¼ä¸€ï¼šæ— å‚ï¼Œæ— è¿”å›å€¼</li>
</ul>
<p><code>Runnable r2 = () -&gt; &#123; System.out.println(&quot;Hello world&quot;); &#125;</code></p>
<ul>
<li>è¯­æ³•æ ¼å¼äºŒï¼šlambdaéœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯æ²¡æœ‰è¿”å›å€¼</li>
</ul>
<p><code>Consumer&lt;String&gt; con1 = (String s) -&gt; &#123; System.out.println(s); &#125;</code></p>
<ul>
<li>è¯­æ³•æ ¼å¼ä¸‰ï¼šæ•°æ®ç±»å‹å¯ä»¥çœç•¥ï¼Œå› ä¸ºå¯ç”±ç¼–è¯‘å™¨æ¨æ–­å¾—å‡ºï¼Œç§°ä¸º<strong>ç±»å‹æ¨æ–­</strong></li>
</ul>
<p><code>Consumer&lt;String&gt; con1 = (s) -&gt; &#123; System.out.println(s); &#125;</code></p>
<ul>
<li>è¯­æ³•æ ¼å¼å››ï¼šlambdaè‹¥åªéœ€è¦ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå‚æ•°çš„å°æ‹¬å·å¯ä»¥çœç•¥</li>
</ul>
<p><code>Consumer&lt;String&gt; con1 = s -&gt; &#123; System.out.println(s); &#125;</code></p>
<ul>
<li>è¯­æ³•æ ¼å¼äº”ï¼šlambdaéœ€è¦ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„å‚æ•°ï¼Œå¤šæ¡æ‰§è¡Œè¯­å¥ï¼Œå¹¶ä¸”å¯ä»¥æœ‰è¿”å›å€¼</li>
</ul>
<p><code>Comparator&lt;Integer&gt; com2 = (o1, o2) -&gt; &#123; return Integer.compare(o1, o2); &#125;;</code></p>
<ul>
<li>è¯­æ³•æ ¼å…­ï¼šå½“lambdaä½“åªæœ‰ä¸€æ¡è¯­å¥æ—¶ï¼Œ return ä¸å¤§æ‹¬å·è‹¥æœ‰ï¼Œéƒ½å¯ä»¥çœç•¥</li>
</ul>
<p><code>Comparator&lt;Integer&gt; com2 = (o1, o2) -&gt; Integer.compare(o1, o2);</code></p>
<p><code>Consumer&lt;String&gt; con1 = s -&gt; System.out.println(s);</code></p>
<p><strong>æ€»ç»“</strong></p>
<ul>
<li><code>-&gt;</code> å·¦è¾¹ï¼šlambdaå½¢å‚åˆ—è¡¨çš„å‚æ•°ç±»å‹å¯ä»¥çœç•¥ï¼ˆç±»å‹æ¨æ–­ï¼‰ï¼›å¦‚æœlambdaå½¢å‚åˆ—è¡¨åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå…¶ä¸€å¯¹<code>()</code>ä¹Ÿå¯ä»¥çœç•¥</li>
<li><code>-&gt;</code> å³è¾¹ï¼šlambdaä½“åº”è¯¥ä½¿ç”¨ä¸€å¯¹<code>&#123;&#125;</code>åŒ…è£¹ï¼›å¦‚æœlambdaä½“åªæœ‰ä¸€æ¡æ‰§è¡Œè¯­å¥ï¼ˆå¯èƒ½æ˜¯ <code>return</code> è¯­å¥ï¼‰ï¼Œåˆ™å¯ä»¥çœç•¥ <code>&#123;&#125;</code> å’Œ <code>return</code> å…³é”®å­—</li>
</ul>
<h2 id="ä½¿ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#ä½¿ç”¨åœºæ™¯"></a> ä½¿ç”¨åœºæ™¯</h2>
<p>ä»¥å‰ä½¿ç”¨åŒ¿åå®ç°ç±»è¡¨ç¤ºçš„ç°åœ¨éƒ½å¯ä»¥ç”¨ Lambda è¡¨è¾¾å¼æ¥å†™ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.lambda_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * Lambdaè¡¨è¾¾å¼çš„ä½¿ç”¨ä¸¾ä¾‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Lambda_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;  <span class="comment">// æ¥å£ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™å¯ä»¥å†™ä¸ºlambdaè¡¨è¾¾å¼</span></span><br><span class="line">                System.out.println(<span class="string">&quot;Hello world&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        r1.run();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨Lambdaè¡¨è¾¾å¼è¿›è¡Œä¼˜åŒ–</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r2</span> <span class="operator">=</span> () -&gt; System.out.println(<span class="string">&quot;Hello world&quot;</span>);</span><br><span class="line"></span><br><span class="line">        r2.run();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// è¯­æ³•æ ¼å¼ä¸‰</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Test</span><span class="params">()</span> &#123;</span><br><span class="line">        Comparator&lt;Integer&gt; com1 = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Integer o1, Integer o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> Integer.compare(o1, o2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">compare</span> <span class="operator">=</span> com1.compare(<span class="number">12</span>, <span class="number">21</span>);</span><br><span class="line">        System.out.println(compare);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨Lambdaè¿›è¡Œä¼˜åŒ–</span></span><br><span class="line">        Comparator&lt;Integer&gt; com2 = (o1, o2) -&gt; Integer.compare(o1, o2);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">compare1</span> <span class="operator">=</span> com2.compare(<span class="number">12</span>, <span class="number">21</span>);</span><br><span class="line">        System.out.println(compare1);</span><br><span class="line">        <span class="comment">// æ–¹æ³•å¼•ç”¨</span></span><br><span class="line">        Comparator&lt;Integer&gt; com3 = Integer::compare;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">compare2</span> <span class="operator">=</span> com2.compare(<span class="number">12</span>, <span class="number">21</span>);</span><br><span class="line">        System.out.println(compare2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯­æ³•æ ¼å¼äºŒ</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">        Consumer&lt;String&gt; con = <span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> &#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        con.accept(<span class="string">&quot;abcdefd&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨lambdaè¡¨è¾¾å¼è¿›è¡Œä¼˜åŒ–</span></span><br><span class="line">        Consumer&lt;String&gt; con1 = (String s) -&gt; System.out.println(s);</span><br><span class="line">        con1.accept(<span class="string">&quot;abcdefd&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="å‡½æ•°å¼functionæ¥å£"><a class="markdownIt-Anchor" href="#å‡½æ•°å¼functionæ¥å£"></a> å‡½æ•°å¼(Function)æ¥å£</h1>
<blockquote>
<p>å¦‚æœä¸€ä¸ªæ¥å£ä¸­ï¼Œåªå£°æ˜äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œåˆ™æ­¤æ¥å£å°±ç§°ä¸ºå‡½æ•°å¼æ¥å£</p>
</blockquote>
<p>å¯ä»¥ä½¿ç”¨<code>@FunctionalInterface</code>æ³¨è§£ï¼Œä¸åŠ ä¹Ÿæ˜¯å‡½æ•°å¼æ¥å£ï¼ŒåŠ ä¸Šå¯ä»¥å¸®åŠ©æ ¡éªŒã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.functioninterface_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.functioninterface_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FunctionalInterface_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyInterface</span> <span class="variable">myInterface</span> <span class="operator">=</span> () -&gt; System.out.println(<span class="string">&quot;Hell world&quot;</span>);</span><br><span class="line">        myInterface.method();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h2>
<ul>
<li>åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œç§°ä¸º<strong>å‡½æ•°å¼æ¥å£</strong></li>
<li>ä½ å¯ä»¥é€šè¿‡Lambdaè¡¨è¾¾å¼æ¥åˆ›å»ºè¯¥æ¥å£çš„å¯¹è±¡ã€‚ï¼ˆè‹¥Lambdaè¡¨è¾¾å¼æŠ›å‡ºä¸€ä¸ªå—æ£€å¼‚å¸¸ï¼ˆå³ï¼šéè¿è¡Œæ—¶å¼‚å¸¸ï¼‰ï¼Œé‚£ä¹ˆè¯¥å¼‚å¸¸éœ€è¦åœ¨ç›®æ ‡æ¥å£çš„æŠ½è±¡æ–¹æ³•ä¸Šè¿›è¡Œå£°æ˜ï¼‰</li>
<li>æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªæ¥å£ä¸Šä½¿ç”¨<code>@FunctionalInterface</code>æ³¨è§£ï¼Œè¿™æ ·åšå¯ä»¥æ£€æŸ¥å®ƒæ˜¯å¦åœ¨ä¸€ä¸ªå‡½æ•°æ˜¯æ¥å£ã€‚åŒæ—¶ javadoc ä¹Ÿä¼šåŒ…å«ä¸€æ¡å£°æ˜ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£</li>
<li>åœ¨<code>java.util.function</code>åŒ…ä¸‹å®šä¹‰äº† Java 8 çš„ä¸°å¯Œçš„å‡½æ•°å¼æ¥å£</li>
</ul>
<h2 id="å†…ç½®æ ¸å¿ƒå‡½æ•°å¼æ¥å£"><a class="markdownIt-Anchor" href="#å†…ç½®æ ¸å¿ƒå‡½æ•°å¼æ¥å£"></a> å†…ç½®æ ¸å¿ƒå‡½æ•°å¼æ¥å£ã€</h2>
<p><strong>å››å¤§æ ¸å¿ƒå†…ç½®æ ¸å¿ƒå‡½æ•°å¼æ¥å£</strong></p>
<table>
<thead>
<tr>
<th>å‡½æ•°å¼æ¥å£</th>
<th>å‚æ•°ç±»å‹</th>
<th>è¿”å›ç±»å‹</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Consumer&lt;T&gt;</code> æ¶ˆè´¹å‹æ¥å£</td>
<td>T</td>
<td>void</td>
<td>å¯¹ç±»å‹ä¸ºTçš„å¯¹è±¡åº”ç”¨æ“ä½œï¼ŒåŒ…å«æ–¹æ³•ï¼š<code>void accept(T t)</code></td>
</tr>
<tr>
<td><code>supplier&lt;T&gt;</code> ä¾›ç»™å‹æ¥å£</td>
<td>T</td>
<td>T</td>
<td>è¿”å›ç±»å‹ä¸ºTçš„å¯¹è±¡ï¼ŒåŒ…å«æ–¹æ³•ï¼š<code>T get()</code></td>
</tr>
<tr>
<td><code>Function&lt;T, R&gt;</code> å‡½æ•°å‹æ¥å£</td>
<td>T</td>
<td>R</td>
<td>å¯¹ç±»å‹ä¸ºTçš„å¯¹è±¡åº”ç”¨æ­¤æ“ä½œï¼Œå¹¶è¿”å›ç»“æœã€‚ç»“æœæ˜¯Rç±»å‹çš„å¯¹è±¡ã€‚åŒ…å«æ–¹æ³•<code>R apply(T t)</code></td>
</tr>
<tr>
<td><code>Predicate&lt;T&gt;</code> æ–­å®šå‹æ¥å£</td>
<td>T</td>
<td>Boolean</td>
<td>ç¡®å®šç±»å‹ä¸ºTçš„å¯¹è±¡æ˜¯å¦æ»¡è¶³æŸçº¦æŸï¼Œå¹¶è¿”å›Booleanå€¼ï¼ŒåŒ…å«æ–¹æ³•ï¼š<code>boolean test(T t)</code></td>
</tr>
</tbody>
</table>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.functioninterface_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Predicate;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Supplier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainFunctionalInterface</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Consumer&lt;Integer&gt; consumer = <span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ•° = &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        Consumer&lt;Integer&gt; consumer1 = (integer) -&gt; System.out.println(<span class="string">&quot;æ•° = &quot;</span> + integer);  <span class="comment">// è½¬ä¸ºLambdaè¡¨è¾¾å¼</span></span><br><span class="line"></span><br><span class="line">        Supplier&lt;Integer&gt; supplier = <span class="keyword">new</span> <span class="title class_">Supplier</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Integer <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Supplier&lt;Integer&gt; supplier1 = () -&gt; <span class="number">20</span>;  <span class="comment">// &#123;&#125; å’Œ return éƒ½çœç•¥</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;åŒ—äº¬&quot;</span>, <span class="string">&quot;å—äº¬&quot;</span>, <span class="string">&quot;æ™®äº¬&quot;</span>, <span class="string">&quot;å¤©æ´¥&quot;</span>, <span class="string">&quot;ä¸œäº¬&quot;</span>);</span><br><span class="line">        List&lt;String&gt; filterStrs = filterString(list, <span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(String s)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> s.contains(<span class="string">&quot;äº¬&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(filterStrs);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è½¬æ¢ä¸º Lambda è¡¨è¾¾å¼</span></span><br><span class="line">        List&lt;String&gt; filterStrs1 = filterString(list, s -&gt; s.contains(<span class="string">&quot;äº¬&quot;</span>));</span><br><span class="line">        System.out.println(filterStrs1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">filterString</span><span class="params">(List&lt;String&gt; list, Predicate&lt;String&gt; pre)</span> &#123;</span><br><span class="line">        ArrayList&lt;String&gt; strings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">            <span class="keyword">if</span> (pre.test(s)) &#123;</span><br><span class="line">                strings.add(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> strings;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æ–¹æ³•å¼•ç”¨å’Œæ„é€ å™¨å¼•ç”¨"><a class="markdownIt-Anchor" href="#æ–¹æ³•å¼•ç”¨å’Œæ„é€ å™¨å¼•ç”¨"></a> æ–¹æ³•å¼•ç”¨å’Œæ„é€ å™¨å¼•ç”¨</h1>
<h2 id="æ–¹æ³•å¼•ç”¨"><a class="markdownIt-Anchor" href="#æ–¹æ³•å¼•ç”¨"></a> æ–¹æ³•å¼•ç”¨</h2>
<blockquote>
<p>å½“è¦ä¼ é€’ç»™Lambda ä½“çš„æ“ä½œï¼Œå·²ç»æœ‰å®ç°çš„æ–¹æ³•äº†ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨</p>
</blockquote>
<ul>
<li>æ–¹æ³•å¼•ç”¨å¯ä»¥çœ‹ä½œæ˜¯Lambdaè¡¨è¾¾å¼æ·±å±‚æ¬¡çš„è¡¨è¾¾ï¼Œæ¢å¥è¯è¯´ï¼Œæ–¹æ³•å¼•ç”¨å°±æ˜¯Lambdaè¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°å¼æ¥å£çš„ä¸€ä¸ªå®ä¾‹ï¼Œé€šè¿‡æ–¹æ³•çš„åå­—æ¥æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯Lambdaè¡¨è¾¾å¼çš„ä¸€ä¸ªè¯­æ³•å ‚ã€‚</li>
<li><strong>è¦æ±‚</strong>ï¼šå®ç°æ¥å£çš„æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ï¼Œå¿…é¡»ä¸æ–¹æ³•å¼•ç”¨çš„æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ä¿æŒä¸€è‡´ã€‚</li>
<li><strong>æ ¼å¼</strong>ï¼šä½¿ç”¨æ“ä½œç¬¦ <code>::</code> å°†ç±»æˆ–å¯¹è±¡ä¸æ–¹æ³•ååˆ†å‰²å¼€æ¥</li>
</ul>
<h3 id="ä½¿ç”¨æƒ…å†µ"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æƒ…å†µ"></a> ä½¿ç”¨æƒ…å†µ</h3>
<ul>
<li><code>å¯¹è±¡::å®ä¾‹åŒ–æ–¹æ³•å</code></li>
<li><code>ç±»::é™æ€æ–¹æ³•å</code></li>
<li><code>ç±»::å®ä¾‹åŒ–æ–¹æ³•å</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.methodreference;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Supplier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodReference</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        Consumer&lt;String&gt; consumer = str -&gt; System.out.println(str);</span><br><span class="line">        consumer.accept(<span class="string">&quot;åŒ—äº¬&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨ æ–¹æ³•å¼•ç”¨ ç±»::é™æ€æ–¹æ³•å</span></span><br><span class="line">        Consumer&lt;String&gt; consumer1 = System.out::println;</span><br><span class="line"></span><br><span class="line">        consumer1.accept(<span class="string">&quot;åŒ—äº¬&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;abcd&quot;</span>;</span><br><span class="line">        Supplier&lt;String&gt; supplier = () -&gt; name;</span><br><span class="line">        System.out.println(supplier.get());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä½¿ç”¨æ–¹æ³•å¼•ç”¨ å¯¹è±¡å::å®ä¾‹åŒ–æ–¹æ³•å</span></span><br><span class="line">        Supplier&lt;String&gt; supplier1 = name::toString;</span><br><span class="line">        System.out.println(supplier1.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ„é€ å™¨å¼•ç”¨"><a class="markdownIt-Anchor" href="#æ„é€ å™¨å¼•ç”¨"></a> æ„é€ å™¨å¼•ç”¨</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.methodreference;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.function.Supplier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodReference01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Supplier&lt;Employee&gt; sup = <span class="keyword">new</span> <span class="title class_">Supplier</span>&lt;Employee&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Employee <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Lambda è¡¨è¾¾å¼</span></span><br><span class="line">        Supplier&lt;Employee&gt; sup1 = () -&gt; <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ„é€ å™¨å¼•ç”¨</span></span><br><span class="line">        Supplier&lt;Employee&gt; sup2 = Employee::<span class="keyword">new</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> Employee <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å¼ºå¤§çš„stream-api"><a class="markdownIt-Anchor" href="#å¼ºå¤§çš„stream-api"></a> å¼ºå¤§çš„Stream API</h1>
<blockquote>
<p>æŠŠçœŸæ­£çš„å‡½æ•°å¼ç¼–ç¨‹é£æ ¼å¼•å…¥åˆ°Javaä¸­ï¼Œè¿™æ˜¯ç›®å‰ä¸ºæ­¢å¯¹Javaç±»åº“æœ€å¥½çš„è¡¥å……ï¼Œå› ä¸º Stream APIå¯ä»¥æå¤§çš„æä¾›Javaç¨‹åºå‘˜çš„ç”Ÿäº§åŠ›ï¼Œè®©ç¨‹åºå‘˜å†™å‡ºé«˜æ•ˆç‡ã€å¹²å‡€ã€ç®€æ´çš„ä»£ç ã€‚</p>
</blockquote>
<ul>
<li>Stream API å¯¹é›†åˆæ•°æ®è¿›è¡Œæ“ä½œï¼Œå°±ç±»ä¼¼äºä½¿ç”¨SQLæ‰§è¡Œçš„æ•°æ®åº“æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Stream APIæ¥å¹¶è¡Œæ‰§è¡Œæ“ä½œã€‚</li>
<li>Stream API æä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å¤„ç†æ•°æ®çš„æ–¹å¼ã€‚</li>
</ul>
<h2 id="stream-å’Œ-collectioné›†åˆçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#stream-å’Œ-collectioné›†åˆçš„åŒºåˆ«"></a> Stream å’Œ Collectioné›†åˆçš„åŒºåˆ«</h2>
<ul>
<li>Collection æ˜¯ä¸€ç§é¢å‘é™æ€çš„å†…å­˜æ•°æ®ç»“æ„ï¼Œè€Œ Stream æ˜¯æœ‰å…³è®¡ç®—çš„ã€‚å‰è€…ä¸»è¦æ˜¯é¢å‘å†…å­˜çš„ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œåè€…ä¸»è¦æ˜¯é¢å‘CPUï¼Œé€šè¿‡CPUå®ç°è®¡ç®—ã€‚</li>
</ul>
<h2 id="æ³¨æ„"><a class="markdownIt-Anchor" href="#æ³¨æ„"></a> æ³¨æ„</h2>
<ul>
<li>Stream è‡ªå·±ä¸ä¼šå­˜å‚¨å…ƒç´ </li>
<li>Stream ä¸ä¼šæ”¹å˜æºå¯¹è±¡ï¼Œç›¸åï¼Œä»–ä»¬ä¼šè¿”å›ä¸€ä¸ªæŒæœ‰ç»“æœçš„æ–°Stream</li>
<li>Stream æ“ä½œæ˜¯å»¶è¿Ÿæ‰§è¡Œçš„ï¼Œè¿™æ„å‘³è€…ä»–ä»¬ä¼šç­‰åˆ°éœ€è¦ç»“æœçš„æ—¶å€™æ‰æ‰§è¡Œ</li>
</ul>
<h2 id="æ“ä½œæ­¥éª¤"><a class="markdownIt-Anchor" href="#æ“ä½œæ­¥éª¤"></a> æ“ä½œæ­¥éª¤</h2>
<ol>
<li><strong>åˆ›å»º Stream</strong></li>
</ol>
<p>ä¸€ä¸ªæ•°æ®æºï¼ˆå¦‚ï¼šé›†åˆã€æ•°ç»„ï¼‰ï¼Œè·å–ä¸€ä¸ªæµ</p>
<ol start="2">
<li>ä¸­é—´æ“ä½œ</li>
</ol>
<p>ä¸€ä¸ªä¸­é—´æ“ä½œé“¾ï¼Œå¯¹æ•°æ®å‘˜çš„æ•°æ®è¿›è¡Œå¤„ç†</p>
<ol start="3">
<li><strong>ç»ˆæ­¢æ“ä½œ</strong>ï¼ˆç»ˆç«¯æ“ä½œï¼‰</li>
</ol>
<p>ä¸€æ—¦æ‰§è¡Œç»ˆæ­¢æ“ä½œï¼Œå°±æ‰§è¡Œä¸­é—´æ“ä½œé“¾ï¼Œå¹¶äº§ç”Ÿç»“æœã€‚ä¹‹åï¼Œä¸ä¼šå†ä½¿ç”¨</p>
<h2 id="åˆ›å»ºå¯¹è±¡çš„æ–¹å¼"><a class="markdownIt-Anchor" href="#åˆ›å»ºå¯¹è±¡çš„æ–¹å¼"></a> åˆ›å»ºå¯¹è±¡çš„æ–¹å¼</h2>
<h3 id="é€šè¿‡é›†åˆ"><a class="markdownIt-Anchor" href="#é€šè¿‡é›†åˆ"></a> é€šè¿‡é›†åˆ</h3>
<p>Java 8ä¸­çš„ <code>Collection</code> æ¥å£è¢«æ‰©å±•ï¼Œæä¾›ä¸¤ä¸ªè·å–æµçš„æ–¹æ³•ï¼š</p>
<ul>
<li><code>default Stream&lt;E&gt; stream()</code> è¿”å›ä¸€ä¸ªé¡ºåºæµ</li>
<li><code>default Stream&lt;E&gt; parallelStream()</code> è¿”å›ä¸€ä¸ªå¹¶è¡Œæµ</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    List&lt;String&gt; strings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªé¡ºåºæµ</span></span><br><span class="line">    Stream&lt;String&gt; stream = strings.stream();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªå¹¶è¡Œæµ</span></span><br><span class="line">    Stream&lt;String&gt; stringStream = strings.parallelStream();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é€šè¿‡æ•°ç»„"><a class="markdownIt-Anchor" href="#é€šè¿‡æ•°ç»„"></a> é€šè¿‡æ•°ç»„</h3>
<p>Java 8ä¸­çš„ <code>Arrays</code>çš„é™æ€æ–¹æ³• <code>stream()</code> å¯ä»¥è·å–æ•°ç»„æµ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] arr = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    Arrays.stream(arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é€šè¿‡-stream-çš„-of"><a class="markdownIt-Anchor" href="#é€šè¿‡-stream-çš„-of"></a> é€šè¿‡ Stream çš„ of</h3>
<p>å¯ä»¥è°ƒç”¨Stream ç±»çš„é™æ€æ–¹æ³• <code>of()</code> ï¼Œé€šè¿‡æ˜¾ç¤ºå€¼åˆ›å»ºä¸€ä¸ªæµã€‚å®ƒå¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚</p>
<ul>
<li><code>public static&lt;T&gt; Stream&lt;T&gt; of(T...values)</code> è¿”å›ä¸€ä¸ªæµ</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line">    Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºæ— é™æµ"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ— é™æµ"></a> åˆ›å»ºæ— é™æµ</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// éå†å‰ 10 ä¸ªå¶æ•°</span></span><br><span class="line">    Stream.iterate(<span class="number">0</span>, t -&gt; t + <span class="number">2</span>).limit(<span class="number">10</span>).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éšæœºç”Ÿæˆ10 ä¸ªéšæœºæ•°</span></span><br><span class="line">    Stream.generate(Math::random).limit(<span class="number">10</span>).forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="stream-çš„ä¸­é—´æ“ä½œ"><a class="markdownIt-Anchor" href="#stream-çš„ä¸­é—´æ“ä½œ"></a> Stream çš„ä¸­é—´æ“ä½œ</h2>
<p>å¤šä¸ªä¸­é—´æ“ä½œå¯ä»¥è¿æ¥èµ·æ¥å½¢æˆä¸€ä¸ªæµæ°´çº¿ï¼Œé™¤éæµæ°´çº¿ä¸Šè§¦å‘ç»ˆæ­¢æ“ä½œï¼Œå¦åˆ™ä¸­é—´æ“ä½œä¸ä¼šæ‰§è¡Œä»»ä½•çš„å¤„ç†ï¼Œè€Œåœ¨ç»ˆæ­¢æ“ä½œæ—¶ä¸€æ¬¡æ€§å…¨éƒ¨å¤„ç†ï¼Œç§°ä¸ºâ€æƒ°æ€§æ±‚å€¼â€œ</p>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ1</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>Java åŸºç¡€å…¥é—¨ é˜¶æ®µ3</title>
    <url>/2022/04/18/JAVA/02JavaBasic/</url>
    <content><![CDATA[<h1 id="ç±»å˜é‡å’Œç±»æ–¹æ³•"><a class="markdownIt-Anchor" href="#ç±»å˜é‡å’Œç±»æ–¹æ³•"></a> ç±»å˜é‡å’Œç±»æ–¹æ³•</h1>
<h2 id="ç±»å˜é‡"><a class="markdownIt-Anchor" href="#ç±»å˜é‡"></a> ç±»å˜é‡</h2>
<p>ä¹Ÿå«é™æ€å˜é‡/é™æ€å±æ€§ï¼Œç”¨<code>static</code> ä¿®é¥°ï¼Œå¯ä»¥è¢«æœ¬ç±»çš„æ‰€æœ‰å¯¹è±¡å®ä¾‹å…±äº«ã€‚ä»»ä½•å¯¹è±¡å»è®¿é—®å®ƒæ—¶è®¿é—®çš„éƒ½æ˜¯åŒä¸€ä¸ªå˜é‡</p>
<ul>
<li>è¯­æ³•ï¼š<code>è®¿é—®ä¿®é¥°ç¬¦ static å˜é‡ç±»å‹ å˜é‡å</code></li>
<li>è®¿é—®æ–¹æ³•ï¼š<code>ç±»å.ç±»å˜é‡å</code>ã€<code>å¯¹è±¡å.ç±»å˜é‡å</code>ï¼Œæ¨èä½¿ç”¨ï¼š<code>ç±»å.ç±»å˜é‡å</code></li>
<li>ç±»å˜é‡æ˜¯éšç€ç±»çš„åŠ è½½è€Œåˆ›å»ºï¼Œæ‰€ä»¥å³ä½¿æ²¡æœ‰åˆ›å»ºå¯¹è±¡å®ä¾‹ä¹Ÿå¯ä»¥è®¿é—®ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt._static;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VisitStatic</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> A.name; <span class="comment">// é€šè¿‡ç±»åè®¿é—®</span></span><br><span class="line">        System.out.println(name);  <span class="comment">//xzt</span></span><br><span class="line"></span><br><span class="line">        <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        System.out.println(a.name); <span class="comment">//xzt</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;xzt&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å½“éœ€è¦è®©æŸä¸ªç±»å˜é‡éƒ½å…±äº«ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç±»å˜é‡(é™æ€å˜é‡)</li>
<li>ç±»å˜é‡æ—¶æ‰€æœ‰å¯¹è±¡å…±äº«çš„ï¼Œè€Œå®ä¾‹å˜é‡æ—¶æ¯ä¸ªå¯¹è±¡ç‹¬äº«çš„</li>
<li>åŠ ä¸Š<code>static</code>æˆä¸ºç±»å˜é‡æˆ–é™æ€å˜é‡ï¼Œå¦åˆ™æˆä¸ºå®ä¾‹å˜é‡/æ™®é€šå˜é‡</li>
</ul>
<h2 id="ç±»æ–¹æ³•"><a class="markdownIt-Anchor" href="#ç±»æ–¹æ³•"></a> ç±»æ–¹æ³•</h2>
<p>ä¹Ÿå«é™æ€æ–¹æ³•ï¼Œç”¨<code>static</code>ä¿®é¥°</p>
<ul>
<li>è¯­æ³•ï¼š<code>è®¿é—®ä¿®é¥°ç¬¦ static è¿”å›ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨) &#123;&#125;</code></li>
<li>è®¿é—®æ–¹æ³•ï¼š<code>ç±»å.ç±»æ–¹æ³•å</code>ã€<code>å¯¹è±¡å.ç±»æ–¹æ³•å</code>ï¼Œæ¨èä½¿ç”¨ï¼š<code>ç±»å.ç±»æ–¹æ³•å</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt._static;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StaticMethod</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Stu</span> <span class="variable">tom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">        tom.payFee(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Stu</span> <span class="variable">jack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        jack.payFee(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">        Stu.showFee();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stu</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> <span class="variable">fee</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// å­¦è´¹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Stu</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é™æ€æ–¹æ³•å¯ä»¥ä½¿ç”¨é™æ€å˜é‡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">payFee</span><span class="params">(<span class="type">double</span> fee)</span>&#123;</span><br><span class="line">        Stu.fee += fee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showFee</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ€»å­¦è´¹æœ‰&quot;</span> + Stu.fee);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**ä½¿ç”¨åœºæ™¯ï¼š**å½“æ–¹æ³•ä¸­ä¸æ¶‰åŠä»»ä½•å’Œå¯¹è±¡ç›¸å…³çš„æˆå‘˜ï¼Œåˆ™å¯ä»¥å°†æ–¹æ³•è®¾è®¡æˆé™æ€æ–¹æ³•ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œä¾‹å¦‚å·¥å…·ç±»ï¼š<code>Math ç±»</code></p>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>ç±»æ–¹æ³•å’Œæ™®é€šæ–¹æ³•éƒ½æ˜¯éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ï¼Œå°†ç»“æ„ä¿¡æ¯å­˜å‚¨åœ¨æ–¹æ³•åŒº
<ul>
<li>ç±»æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨<code>this</code>å…³é”®å­—</li>
</ul>
</li>
<li>ç±»æ–¹æ³•å¯ä»¥é€šè¿‡ç±»åè°ƒç”¨ï¼Œæ™®é€šæ–¹æ³•ä¸èƒ½é€šè¿‡ç±»åè°ƒç”¨ã€‚</li>
</ul>
<h3 id="main-æ–¹æ³•"><a class="markdownIt-Anchor" href="#main-æ–¹æ³•"></a> <code>main</code> æ–¹æ³•</h3>
<p>è¯­æ³•ï¼š<code>public static void main(String[] args) &#123;&#125;</code></p>
<ul>
<li><code>main</code>æ˜¯javaè™šæ‹Ÿæœºè°ƒç”¨ï¼Œæ‰€ä»¥ç±»æ–¹æ³•éœ€è¦æ˜¯<code>public</code></li>
<li>javaè™šæ‹Ÿæœºåœ¨æ‰§è¡Œ<code>main</code>æ–¹æ³•æ—¶ä¸éœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œæ‰€ä»¥éœ€è¦æ˜¯<code>static</code></li>
<li>è¯¥æ–¹æ³•æ¥æ”¶<code>String</code>ç±»å‹çš„æ•°ç»„å‚æ•°ï¼Œè¯¥æ•°ç»„ä¸­ä¿å­˜æ‰§è¡Œjavaå‘½ä»¤æ—¶ä¼ é€’ç»™æ‰€è¿è¡Œçš„ç±»çš„å‚æ•°</li>
<li><code>java æ‰§è¡Œçš„ç¨‹åº å‚æ•°1 å‚æ•°2 å‚æ•°3</code>ï¼Œå‚æ•°ç»„æˆ<code>String[] args</code></li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>åœ¨<code>main</code> æ–¹æ³•ä¸­å¯ä»¥ç›´æ¥è°ƒç”¨<code>main</code>æ–¹æ³•æ‰€åœ¨ç±»çš„é™æ€æ–¹æ³•æˆ–é™æ€å±æ€§ã€‚</li>
<li>ä½†æ˜¯ä¸èƒ½ç›´æ¥è®¿é—®è¯¥ç±»ä¸­çš„éé™æ€æˆå‘˜ï¼Œå¿…é¡»åˆ›å»ºè¯¥ç±»çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡åï¼Œæ‰èƒ½é€šè¿‡è¿™ä¸ªå¯¹è±¡å»è®¿é—®ç±»ä¸­çš„é™æ€æˆå‘˜</li>
</ul>
<h1 id="ä»£ç å—"><a class="markdownIt-Anchor" href="#ä»£ç å—"></a> ä»£ç å—</h1>
<p>ä»£ç å—åˆç§°åˆå§‹åŒ–å—ï¼Œå±äºç±»ä¸­çš„æˆå‘˜ï¼Œç±»ä¼¼äºæ–¹æ³•ï¼Œå°†é€»è¾‘è¯­å¥å°è£…åœ¨æ–¹æ³•ä½“ä¸­ï¼Œé€šè¿‡<code>&#123;&#125;</code>åŒ…å›´èµ·æ¥ã€‚ä½†å’Œæ–¹æ³•ä¸åŒï¼Œæ²¡æœ‰æ–¹æ³•åï¼Œæ²¡æœ‰å‚æ•°ï¼Œåªæœ‰æ–¹æ³•ä½“ï¼Œè€Œä¸”ä¸ç”¨é€šè¿‡å¯¹è±¡æˆ–ç±»æ˜¾å¼è°ƒç”¨ï¼ŒäºŒååŠ è½½ç±»æ—¶ï¼Œæˆ–åˆ›å»ºå¯¹è±¡æ—¶éšå£«è°ƒç”¨ã€‚</p>
<ul>
<li>åŸºæœ¬è¯­æ³•ï¼š<code>[ä¿®é¥°ç¬¦] &#123; ä»£ç  &#125;;</code></li>
<li>ä¿®é¥°ç¬¦å¯é€‰ï¼Œè¦å†™çš„è¯ï¼Œä¹Ÿåªèƒ½å†™<code>static</code></li>
<li>ä»£ç å—åˆ†ä¸ºä¸¤ç±»ï¼Œä½¿ç”¨<code>static</code>ä¿®é¥°çš„å«é™æ€ä»£ç å—ï¼Œæ²¡æœ‰<code>static</code>ä¿®é¥°çš„å«æ™®é€šä»£ç å—</li>
<li>é€»è¾‘è¯­å¥å¯ä»¥ä¸ºä»»ä½•é€»è¾‘è¯­å¥ï¼Œï¼ˆè¾“å…¥ã€è¾“å‡ºã€æ–¹æ³•è°ƒç”¨ã€å¾ªç¯ã€åˆ¤æ–­ç­‰ï¼‰</li>
<li><code>;</code>å¯ä»¥å†™ä¸Šï¼Œä¹Ÿå¯ä»¥çœç•¥</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ç›¸å½“äºå¦ä¸€ç§å½¢å¼çš„æ„é€ å™¨ï¼Œå¯ä»¥åšåˆå§‹åŒ–çš„æ“ä½œ</li>
<li>åœºæ™¯ï¼šå¦‚æœå¤šä¸ªæ„é€ å™¨ä¸­éƒ½æœ‰é‡å¤çš„è¯­å¥ï¼Œå¯ä»¥æŠ½å–åˆ°åˆå§‹åŒ–å—ä¸­ï¼Œæé«˜ä»£ç çš„é‡ç”¨æ€§</li>
<li><strong>ä»£ç å—çš„è°ƒç”¨ä¼˜å…ˆäºæ„é€ å™¨çš„è°ƒç”¨</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.codeblock_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeBlock01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Movie</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line">    <span class="keyword">private</span> String director;</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å±å¹•å¼€å¯&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;å¹¿å‘Šå¼€å§‹&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”µå½±å¼€å§‹&quot;</span>);</span><br><span class="line">    &#125;;  <span class="comment">// ä»£ç å—ï¼Œå½“ä»»ä½•ä¸€ä¸ªæ„é€ å™¨è¢«è°ƒç”¨æ—¶éƒ½ä¼šä¼˜å…ˆè°ƒç”¨æ„é€ å™¨</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">(String name, <span class="type">double</span> price, String director)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">        <span class="built_in">this</span>.director = director;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">(String name, <span class="type">double</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>ç”¨<code>static</code>ä¿®é¥°çš„ä»£ç å—ä¹Ÿå«é™æ€ä»£ç å—ï¼Œä½œç”¨å°±æ˜¯å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸”å®ƒ<strong>éšç€ç±»çš„åŠ è½½è€Œæ‰§è¡Œ</strong>ï¼Œå¹¶ä¸”<strong>åªä¼šæ‰§è¡Œä¸€æ¬¡</strong>ï¼Œå¦‚æœæ˜¯æ™®é€šä»£ç å—ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå°±æ‰§è¡Œã€‚</li>
<li><strong>ç±»ä»€ä¹ˆæ—¶å€™è¢«åŠ è½½</strong> â­
<ul>
<li>åˆ›å»ºå¯¹è±¡å®ä¾‹æ—¶<code>(new)</code></li>
<li>åˆ›å»ºå­ç±»å¯¹è±¡å®ä¾‹æ—¶ï¼Œçˆ¶ç±»ä¹Ÿä¼šè¢«åŠ è½½</li>
<li>ä½¿ç”¨ç±»çš„é™æ€æˆå‘˜æ—¶ï¼ˆé™æ€å±æ€§ã€é™æ€æ–¹æ³•ï¼‰</li>
</ul>
</li>
<li>æ™®é€šä»£ç å—ï¼Œä¼šåœ¨åˆ›å»ºå¯¹è±¡å®ä¾‹æ—¶è¢«éšå£«è°ƒç”¨ï¼Œåˆ›å»ºä¸€æ¬¡åˆ™æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœä½¿ç”¨ç±»çš„é™æ€æˆå‘˜æ—¶ï¼Œæ™®é€šä»£ç å—å¹¶ä¸ä¼šæ‰§è¡Œã€‚</li>
<li>**åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œåœ¨ä¸€ä¸ªç±»è°ƒç”¨é¡ºåºæ˜¯ï¼š**â­â­
<ol>
<li><strong>è°ƒç”¨é™æ€ä»£ç å—å’Œé™æ€å±æ€§åˆå§‹åŒ–</strong>ï¼ˆæ³¨æ„ï¼šé™æ€ä»£ç å—å’Œé™æ€å±æ€§åˆå§‹åŒ–è°ƒç”¨çš„ä¼˜å…ˆçº§ä¸€æ ·ï¼Œå¦‚æœæœ‰å¤šä¸ªé™æ€ä»£ç å—å’Œå¤šä¸ªé™æ€å˜é‡åˆå§‹åŒ–ï¼Œåˆ™æŒ‰ä»–ä»¬å®šä¹‰çš„å…ˆåé¡ºåºè°ƒç”¨ï¼‰</li>
<li><strong>è°ƒç”¨æ™®é€šä»£ç å—å’Œæ™®é€šå±æ€§çš„åˆå§‹åŒ–</strong>ï¼ˆæ³¨æ„ï¼šæ™®é€šä»£ç å—å’Œæ™®é€šå±æ€§åˆå§‹åŒ–è°ƒç”¨çš„ä¼˜å…ˆçº§ä¸€æ ·ï¼Œå¦‚æœæœ‰å¤šä¸ªæ™®é€šä»£ç å—å’Œå¤šä¸ªæ™®é€šå˜é‡åˆå§‹åŒ–ï¼Œåˆ™æŒ‰ä»–ä»¬å®šä¹‰çš„å…ˆåé¡ºåºè°ƒç”¨ï¼‰</li>
<li><strong>è°ƒç”¨æ„é€ æ–¹æ³•</strong></li>
</ol>
</li>
<li>æ„é€ å™¨æœ€å‰é¢å…¶å®éšå«äº†<code>super()</code>å’Œ è°ƒç”¨æ™®é€šä»£ç å—ï¼Œ</li>
<li>**åˆ›å»ºä¸€ä¸ªå­ç±»æ—¶ï¼ˆç»§æ‰¿å…³ç³»ï¼‰ï¼Œä»–ä»¬çš„é™æ€ä»£ç å—ï¼Œé™æ€å±æ€§åˆå§‹åŒ–ï¼Œæ™®é€šä»£ç å—ï¼Œæ™®é€šå±æ€§åˆå§‹åŒ–ï¼Œæ„é€ æ–¹æ³•çš„è°ƒç”¨é¡ºåºå¦‚ä¸‹ï¼š**â­â­
<ol>
<li>çˆ¶ç±»çš„é™æ€ä»£ç å—å’Œé™æ€å±æ€§åˆå§‹åŒ–ï¼ˆä¼˜å…ˆçº§ä¸€æ ·ï¼ŒæŒ‰å®šä¹‰é¡ºåºæ‰§è¡Œï¼‰</li>
<li>å­ç±»çš„é™æ€ä»£ç å—å’Œé™æ€å±æ€§åˆå§‹åŒ–ï¼ˆä¼˜å…ˆçº§ä¸€æ ·ï¼ŒæŒ‰å®šä¹‰é¡ºåºæ‰§è¡Œï¼‰</li>
<li>çˆ¶ç±»çš„æ™®é€šä»£ç å—å’Œæ™®é€šå±æ€§åˆå§‹åŒ–ï¼ˆä¼˜å…ˆçº§ä¸€æ ·ï¼ŒæŒ‰å®šä¹‰é¡ºåºæ‰§è¡Œï¼‰</li>
<li>çˆ¶ç±»çš„æ„é€ æ–¹æ³•</li>
<li>å­ç±»çš„æ™®é€šä»£ç å—å’Œæ™®é€šå±æ€§åˆå§‹åŒ–ï¼ˆä¼˜å…ˆçº§ä¸€æ ·ï¼ŒæŒ‰å®šä¹‰é¡ºåºæ‰§è¡Œï¼‰</li>
<li>å­ç±»çš„æ„é€ æ–¹æ³•</li>
</ol>
</li>
<li>é™æ€ä»£ç å—åªèƒ½ç›´æ¥è°ƒç”¨é™æ€æˆå‘˜ï¼ˆé™æ€å±æ€§å’Œé™æ€æ–¹æ³•ï¼‰ï¼Œæ™®é€šä»£ç å—å¯ä»¥è°ƒç”¨ä»»æ„æˆå‘˜</li>
</ul>
<h1 id="å•ä¾‹è®¾è®¡æ¨¡å¼"><a class="markdownIt-Anchor" href="#å•ä¾‹è®¾è®¡æ¨¡å¼"></a> å•ä¾‹è®¾è®¡æ¨¡å¼</h1>
<p><strong>è®¾è®¡æ¨¡å¼</strong>ï¼šè®¾è®¡æ¨¡å¼æ˜¯åœ¨å¤§é‡çš„å®è·µä¸­æ€»ç»“å’Œç†è®ºåŒ–ä¹‹åçš„ä¼˜é€‰çš„ä»£ç ç»“æ„ã€ç¼–ç¨‹é£æ ¼ã€ä»¥åŠè§£å†³é—®é¢˜çš„æ€è€ƒæ–¹å¼ã€‚</p>
<h2 id="å•ä¾‹æ¨¡å¼"><a class="markdownIt-Anchor" href="#å•ä¾‹æ¨¡å¼"></a> å•ä¾‹æ¨¡å¼</h2>
<p>å°±æ˜¯é‡‡å–ä¸€å®šçš„æ–¹æ³•ä¿è¯åœ¨æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿä¸­ï¼Œå¯¹æŸä¸ªç±»åªèƒ½å­˜åœ¨ä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œå¹¶ä¸”è¯¥ç±»åªæä¾›ä¸€ä¸ªå–å¾—å¯¹è±¡å®ä¾‹çš„æ–¹æ³•ã€‚</p>
<h3 id="é¥¿æ±‰å¼"><a class="markdownIt-Anchor" href="#é¥¿æ±‰å¼"></a> é¥¿æ±‰å¼</h3>
<p>æ²¡æœ‰ä½¿ç”¨å¯¹è±¡ï¼Œä½†æ˜¯åŠ è½½ç±»çš„æ—¶å€™å°±ä¼šåˆ›å»ºå¯¹è±¡ã€‚å¯èƒ½é€ æˆåˆ›å»ºäº†å¯¹è±¡ï¼Œä½†æ²¡æœ‰ä½¿ç”¨ï¼Œé€ æˆèµ„æºçš„æµªè´¹ã€‚</p>
<ol>
<li>æ„é€ å™¨ç§æœ‰åŒ–</li>
<li>ç±»å†…éƒ¨åˆ›å»ºå¯¹è±¡ï¼ˆè¯¥å¯¹è±¡æ—¶<code>static</code>ï¼‰</li>
<li>å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ï¼Œ<code>getInstance()</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.single_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingleTone01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">GirlFriend</span> <span class="variable">gf</span> <span class="operator">=</span> GirlFriend.getInstance();  <span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">        System.out.println(gf);</span><br><span class="line">        </span><br><span class="line">        <span class="type">GirlFriend</span> <span class="variable">gf2</span> <span class="operator">=</span> GirlFriend.getInstance();  <span class="comment">// åˆ›å»ºå¯¹è±¡ å’Œ ä¸Šé¢çš„gfå…¶å®æ˜¯åŒä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">        System.out.println(gf);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GirlFriend</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">GirlFriend</span> <span class="variable">gf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GirlFriend</span>(<span class="string">&quot;qqy&quot;</span>);  <span class="comment">// 2.å¯¹è±¡åœ¨ç±»å†…éƒ¨åˆ›å»º</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">GirlFriend</span><span class="params">(String name)</span> &#123;   <span class="comment">//1.æ„é€ æ–¹æ³•ç§æœ‰åŒ–</span></span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> GirlFriend <span class="title function_">getInstance</span><span class="params">()</span>&#123;  <span class="comment">//3.å‘å¤–æš´éœ²ä¸€ä¸ªå…¬å…±çš„é™æ€æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> gf;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;GirlFriend&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ‡’æ±‰å¼"><a class="markdownIt-Anchor" href="#æ‡’æ±‰å¼"></a> æ‡’æ±‰å¼</h3>
<p>åœ¨ä½¿ç”¨æ—¶åˆ›å»ºå¯¹è±¡ï¼Œåªæœ‰åœ¨ç”¨æˆ·ä½¿ç”¨<code>getInstance()</code>æ–¹æ³•æ—¶æ‰è¿”å›å¯¹è±¡ï¼Œåé¢å†æ¬¡è°ƒç”¨æ—¶ä¼šè¿”å›ä¸Šæ¬¡åˆ›å»ºçš„å¯¹è±¡ï¼Œä»è€Œä¿è¯äº†å•ä¾‹ã€‚</p>
<ol>
<li>æ„é€ å™¨ç§æœ‰åŒ–</li>
<li>å®šä¹‰ä¸€ä¸ª<code>static</code>é™æ€å±æ€§å¯¹è±¡</li>
<li>å®šä¹‰ä¸€ä¸ª<code>public</code>çš„<code>static</code>æ–¹æ³•å¯ä»¥è¿”å›Catå¯¹è±¡</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ‡’æ±‰å¼çš„å•ä¾‹æ¨¡å¼</span></span><br><span class="line"><span class="keyword">package</span> com.xzt.single_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* *</span></span><br><span class="line"><span class="comment"> * æ¼”ç¤ºæ‡’æ±‰å¼çš„å•ä¾‹æ¨¡å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingleTon02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> Cat.getInstance();</span><br><span class="line">        System.out.println(cat.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸Œæœ›åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åªèƒ½åˆ›å»ºä¸€ä¸ªCatå¯¹è±¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Cat cat; <span class="comment">// 2.å®šä¹‰ä¸€ä¸ªstaticé™æ€å±æ€§å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Cat</span><span class="params">(String name)</span> &#123; <span class="comment">// 1.æ„é€ å™¨ç§æœ‰åŒ–</span></span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Cat <span class="title function_">getInstance</span><span class="params">()</span>&#123;  <span class="comment">//3.å®šä¹‰ä¸€ä¸ªpublicçš„staticæ–¹æ³•å¯ä»¥è¿”å›Catå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">if</span>(cat == <span class="literal">null</span>)&#123; <span class="comment">// å¦‚æœè¿˜æ²¡æœ‰åˆ›å»ºCatå¯¹è±¡</span></span><br><span class="line">            cat = <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;xzt&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Cat&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é¥¿æ±‰å¼å’Œæ‡’æ±‰å¼çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#é¥¿æ±‰å¼å’Œæ‡’æ±‰å¼çš„åŒºåˆ«"></a> é¥¿æ±‰å¼å’Œæ‡’æ±‰å¼çš„åŒºåˆ«</h3>
<ul>
<li>æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯åˆ›å»ºå¯¹è±¡çš„<strong>æ—¶æœºä¸åŒ</strong>ï¼Œé¥¿æ±‰å¼æ˜¯åœ¨ç±»åŠ è½½å°±åˆ›å»ºäº†å¯¹è±¡å®ä¾‹ï¼Œè€Œæ‡’æ±‰å¼æ˜¯åœ¨ä½¿ç”¨æ—¶æ‰åˆ›å»º</li>
<li>é¥¿æ±‰å¼ä¸å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œ<strong>æ‡’æ±‰å¼å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜</strong></li>
<li><strong>é¥¿æ±‰å¼å­˜åœ¨æµªè´¹èµ„æºçš„é—®é¢˜</strong>ï¼Œæ‡’æ±‰å¼åˆ™ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚å’Œå¯¹è±¡çš„åˆ›å»ºæ—¶æœºæœ‰å¾ˆå¤§çš„å…³ç³»</li>
<li>åœ¨<code>javaSE</code>æ ‡å‡†ç±»ä¸­ï¼Œ<code>java.lang.Runtime</code>å°±æ˜¯ç»å…¸çš„å•ä¾‹æ¨¡å¼</li>
</ul>
<h1 id="finalå…³é”®å­—"><a class="markdownIt-Anchor" href="#finalå…³é”®å­—"></a> <code>final</code>å…³é”®å­—</h1>
<p><code>final</code>å¯ä»¥ä¿®é¥°ç±»ã€å±æ€§ã€æ–¹æ³•å’Œå±€éƒ¨å˜é‡</p>
<h2 id="ä½¿ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#ä½¿ç”¨åœºæ™¯"></a> ä½¿ç”¨åœºæ™¯</h2>
<ul>
<li>å½“ä¸å¸Œæœ›ç±»è¢«ç»§æ‰¿æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>final</code>ä¿®é¥°</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.final_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Final01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span> &#123;  <span class="comment">// æŠ¥é”™ï¼Œä¸èƒ½è¢«ç»§æ‰¿</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å½“ä¸å¸Œæœ›çˆ¶ç±»çš„æŸä¸ªæ–¹æ³•è¢«å­ç±»é‡å†™/è¦†ç›–(<code>override</code>)æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>final</code>å…³é”®å­—ä¿®é¥°</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span> &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> <span class="keyword">extends</span> <span class="title class_">C</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span>&#123;  <span class="comment">// æŠ¥é”™ ä¸èƒ½è¢«é‡å†™</span></span><br><span class="line">        System.out.println(<span class="string">&quot;é‡å†™äº†hiæ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å½“ä¸å¸Œæœ›ç±»çš„æŸä¸ªå±æ€§çš„å€¼è¢«ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨<code>final</code>ä¿®é¥°</li>
<li>å½“ä¸å¸Œæœ›æŸä¸ªå±€éƒ¨å˜é‡è¢«ä¿®æ”¹ã€‚å¯ä»¥ä½¿ç”¨<code>final</code>ä¿®é¥°</li>
</ul>
<h2 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h2>
<ul>
<li><code>final</code>ä¿®é¥°çš„å±æ€§åˆå«å¸¸é‡ï¼Œä¸€èˆ¬ç”¨<code>XX_XX_XX</code>æ¥å‘½å</li>
<li><code>final</code>ä¿®é¥°çš„å±æ€§åœ¨å®šä¹‰æ—¶ï¼Œå¿…é¡»èµ‹åˆå€¼ï¼Œå¹¶ä¸”ä»¥åä¸èƒ½å†ä¿®æ”¹ï¼Œèµ‹å€¼å¯ä»¥å†å¦‚ä¸‹ä½ç½®ä¹‹ä¸€ï¼š
<ul>
<li>å®šä¹‰æ—¶ï¼Œä¾‹å¦‚ï¼š<code>public final double PI = 3.1415926;</code></li>
<li>åœ¨æ„é€ å™¨ä¸­</li>
<li>åœ¨ä»£ç å—ä¸­</li>
</ul>
</li>
<li>å¦‚æœ<code>final</code>ä¿®é¥°çš„å±æ€§æ˜¯é™æ€çš„ï¼Œåˆ™åˆå§‹åŒ–çš„ä½ç½®åªèƒ½æ˜¯ï¼š
<ul>
<li>å®šä¹‰æ—¶</li>
<li>åœ¨é™æ€ä»£ç å—ä¸­ï¼Œä¸èƒ½åœ¨æ„é€ å™¨ä¸­èµ‹å€¼</li>
</ul>
</li>
<li><code>final</code>ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œä½†å¯ä»¥å®ä¾‹åŒ–å¯¹è±¡ã€‚</li>
<li>å¦‚æœç±»ä¸æ˜¯<code>final</code>ç±»ï¼Œä½†æ˜¯å«æœ‰<code>final</code>æ–¹æ³•ï¼Œåˆ™è¯¥æ–¹æ³•è™½ç„¶ä¸èƒ½è¢«é‡å†™ï¼Œä½†æ˜¯å¯ä»¥è¢«ç»§æ‰¿ã€‚</li>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªç±»æ˜¯<code>final</code>ç±»äº†ï¼Œå°±æ²¡å¿…è¦å†å°†æ–¹æ³•ä¿®é¥°æˆ<code>final</code>æ–¹æ³•</li>
<li><code>final</code>ä¸èƒ½ä¿®é¥°æ„é€ å™¨ï¼ˆæ„é€ æ–¹æ³•ï¼‰</li>
<li><code>final</code>å’Œ<code>static</code>å¾€å¾€æ­é…ä½¿ç”¨ï¼Œæ•ˆç‡æ›´é«˜ï¼Œåº•å±‚ç¼–è¯‘å™¨åšäº†ä¼˜åŒ–å¤„ç†ã€‚è°ƒç”¨ç±»ä¸­çš„è¯¥å±æ€§æ—¶ï¼Œä¸ä¼šåŠ è½½ç±»ã€‚</li>
<li>åŒ…è£…ç±»ï¼ˆ<code>Integer</code>ï¼Œ<code>Double</code>ï¼Œ<code>Float</code>ï¼Œ<code>Boolean</code>ç­‰éƒ½æ˜¯<code>final</code>ç±»ï¼‰ï¼Œ<code>String</code>ä¹Ÿæ˜¯<code>final</code>ç±»</li>
</ul>
<h1 id="æŠ½è±¡ç±»"><a class="markdownIt-Anchor" href="#æŠ½è±¡ç±»"></a> æŠ½è±¡ç±»</h1>
<p>**å®šä¹‰ï¼š**å½“çˆ¶ç±»çš„æŸäº›æ–¹æ³•éœ€è¦å£°æ˜ï¼Œä½†æ˜¯åˆä¸èƒ½ç¡®å®šå¦‚ä½•å®ç°æ—¶ï¼Œå¯ä»¥å°†å…¶å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±æ˜¯æŠ½è±¡ç±»</p>
<ul>
<li>ç”¨<code>abstract</code>ä¿®é¥°çš„æ–¹æ³•</li>
<li>æ‰€è°“æŠ½è±¡æ–¹æ³•å°±æ˜¯æ²¡æœ‰å®ç°çš„æ–¹æ³•ï¼Œæ²¡æœ‰å®ç°å°±æ˜¯æŒ‡æ²¡æœ‰å‡½æ•°ä½“</li>
<li>å½“ä¸€ä¸ªç±»ä¸­å­˜åœ¨æŠ½è±¡æ–¹æ³•æ—¶ï¼Œéœ€è¦å°†è¯¥ç±»å£°æ˜ä¸º<code>abstract</code>ç±»</li>
<li>ä¸€èˆ¬æ¥è¯´æŠ½è±¡ç±»ä¼šè¢«ç»§æ‰¿ï¼Œç”±å…¶å­ç±»å®ç°æŠ½è±¡æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.abstract_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Abstract01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™é‡Œå®ç°äº†ï¼Œä½†æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œå³çˆ¶ç±»æ–¹æ³•ä¸ç¡®å®šæ€§é—®é¢˜</span></span><br><span class="line"><span class="comment">//    public void eat()&#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;è¿™æ˜¯ä¸€ä¸ªåŠ¨ç‰©ï¼Œä¸çŸ¥é“åƒä»€ä¹ˆ&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="comment">// æ‰€è°“æŠ½è±¡ç±»å°±æ˜¯æ²¡æœ‰å‡½æ•°ä½“çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;  <span class="comment">// å½“ä¸€ä¸ªç±»ä¸­å­˜åœ¨æŠ½è±¡æ–¹æ³•æ—¶,éœ€è¦å°†è¯¥ç±»å£°æ˜ä¸ºæŠ½è±¡ç±»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–</li>
<li>æŠ½è±¡ç±»ä¸ä¸€å®šè¦åŒ…å«<code>abstract</code>æ–¹æ³•ï¼Œ</li>
<li>ä¸€æ—¦ç±»ä¸­åŒ…å«äº†<code>abstract</code>æ–¹æ³•ï¼Œåˆ™è¿™ä¸ªç±»å¿…é¡»å£°æ˜ä¸º<code>abstract</code></li>
<li><code>abstract</code>åªèƒ½ä¿®é¥°ç±»å’Œæ–¹æ³•ï¼Œä¸èƒ½ä¿®é¥°å±æ€§å’Œå…¶å®ƒçš„ã€‚</li>
<li>æŠ½è±¡ç±»å¯ä»¥æœ‰ä»»æ„æˆå‘˜ã€æŠ½è±¡ç±»çš„æœ¬è´¨è¿˜æ˜¯ç±»ã€‘</li>
<li>æŠ½è±¡æ–¹æ³•ä¸èƒ½æœ‰ä¸»ä½“ï¼Œå³ä¸èƒ½å®ç°ã€‚</li>
<li>å¦‚æœä¸€ä¸ªç±»ç»§æ‰¿äº†æŠ½è±¡ç±»ï¼Œåˆ™å®ƒå¿…é¡»å®ç°æŠ½è±¡ç±»çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œé™¤éå®ƒè‡ªå·±ä¹Ÿå£°æ˜ä¸º<code>abstract</code>ç±»</li>
<li>â­<code>final</code>ä¸èƒ½è¢«ç»§æ‰¿ï¼Œ<code>static</code>ä¸èƒ½è¢«é‡å†™ï¼Œæ‰€ä»¥<code>abstract</code>ä¸èƒ½å’Œ<code>final</code>æˆ–è€…<code>static</code>ç»„åˆä½¿ç”¨</li>
<li>â­<code>private</code>ä¸èƒ½è¢«é‡å†™ï¼Œæ‰€ä»¥<code>abstract</code>ä¹Ÿä¸èƒ½æ—¶<code>private</code>çš„</li>
</ul>
<h2 id="æŠ½è±¡ç±»çš„æœ€ä½³å®è·µ-æ¨¡æ¿è®¾è®¡æ¨¡å¼"><a class="markdownIt-Anchor" href="#æŠ½è±¡ç±»çš„æœ€ä½³å®è·µ-æ¨¡æ¿è®¾è®¡æ¨¡å¼"></a> æŠ½è±¡ç±»çš„æœ€ä½³å®è·µ-æ¨¡æ¿è®¾è®¡æ¨¡å¼</h2>
<p>ç¼–å†™æ¨¡æ¿ç±»ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.abstract_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Template</span> &#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">job</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">calculateTime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        job();  <span class="comment">// å®é™…è°ƒç”¨äº†å­ç±»ä¸­é‡å†™çš„job()æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰§è¡Œäº†&quot;</span> + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.abstract_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span> <span class="keyword">extends</span> <span class="title class_">Template</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">job</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">long</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">800000</span>; i++) &#123;</span><br><span class="line">            num += i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.abstract_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">Template</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">job</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">long</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000000</span>; i++) &#123;</span><br><span class="line">            num += i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.abstract_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestTemplate</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        a.calculateTime();</span><br><span class="line"></span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        b.calculateTime();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="æ¥å£"><a class="markdownIt-Anchor" href="#æ¥å£"></a> æ¥å£</h1>
<p>æ¥å£å°±æ˜¯ç»™å‡ºä¸€äº›æ²¡æœ‰å®ç°çš„æ–¹æ³•ï¼Œå°è£…åˆ°ä¸€èµ·ï¼Œåˆ°æŸä¸ªç±»è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œå†æ ¹æ®å…·ä½“æƒ…å†µæŠŠè¿™äº›æ–¹æ³•å†™å‡ºæ¥ã€‚</p>
<ul>
<li><strong>åŸºæœ¬è¯­æ³•ï¼š</strong><code>interface æ¥å£å&#123; //å±æ€§ // æ–¹æ³•&#125;</code></li>
<li><strong>å®ç°æ–¹æ³•ï¼š</strong><code>class ç±»å implements æ¥å£å &#123; // è‡ªå·±çš„å±æ€§ // è‡ªå·±çš„æ–¹æ³• //å¿…é¡»å®ç°çš„æ¥å£çš„æŠ½è±¡æ–¹æ³•&#125;</code></li>
</ul>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li>åœ¨<code>Jdk7.0</code>å‰ï¼Œæ¥å£é‡Œçš„æ‰€æœ‰æ–¹æ³•éƒ½æ²¡æœ‰æ–¹æ³•ä½“ï¼Œå³éƒ½æ˜¯æŠ½è±¡æ–¹æ³•</li>
<li><code>Jdk8.0</code>åæ¥å£å¯ä»¥æœ‰é™æ€æ–¹æ³•ï¼Œé»˜è®¤æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æ¥å£ä¸­å¯ä»¥æœ‰æ–¹æ³•çš„å…·ä½“å®ç°</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interface_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AInterface</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ¨æ¥å£ä¸­æŠ½è±¡æ–¹æ³•å¯ä»¥çœç•¥abstract</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interface_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Interface01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> <span class="keyword">implements</span> <span class="title class_">AInterface</span>&#123;  <span class="comment">// å®ç°æ¥å£</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®ç°æ¥å£åï¼Œéœ€è¦å°†è¯¥æ¥å£ä¸­æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•å…¨éƒ¨å®ç°</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>æ¥å£ä¸èƒ½è¢«å®ä¾‹åŒ–</li>
<li>æ¥å£ä¸­æ‰€æœ‰æ–¹æ³•æ—¶<code>public</code>æ–¹æ³•ï¼Œæ¥å£ä¸­æŠ½è±¡æ–¹æ³•ï¼Œå¯ä»¥ä¸ç”¨<code>abstract</code>ä¿®é¥°</li>
<li>ä¸€ä¸ªæ™®é€šç±»å®ç°æ¥å£ï¼Œå°±å¿…é¡»å°†è¯¥æ¥å£çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å®ç°</li>
<li>æŠ½è±¡äº†å®ç°æ¥å£ï¼Œå¯ä»¥ä¸ç”¨å®ç°æ¥å£çš„æ–¹æ³•</li>
<li><strong>ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªæ¥å£</strong></li>
<li>æ¥å£ä¸­çš„å±æ€§åªèƒ½æ—¶<code>final</code>ï¼Œè€Œä¸”æ—¶<code>public static final</code>ä¿®é¥°ç¬¦ï¼›ä¾‹å¦‚ï¼š<code>int a = 1</code>å®é™…ä¸Šæ˜¯<code>public static final int a = 1</code></li>
<li>æ¥å£ä¸­çš„å±æ€§çš„è®¿é—®å½¢å¼ï¼š<code>æ¥å£å.å±æ€§å</code></li>
<li>æ¥å£ä¸­ä¸èƒ½ç»§æ‰¿å…¶ä»–çš„ç±»ï¼Œä½†æ˜¯<strong>å¯ä»¥ç»§æ‰¿å¤šä¸ªåˆ«çš„æ¥å£</strong>ã€‚<code>interface A extends B, C &#123;&#125;</code></li>
<li>æ¥å£çš„ä¿®é¥°ç¬¦åªèƒ½æ˜¯<code>public</code>å’Œé»˜è®¤ï¼Œè¿™ç‚¹å’Œç±»çš„ä¿®é¥°ç¬¦æ˜¯ä¸€æ ·çš„</li>
</ul>
<h2 id="å®ç°æ¥å£-vs-ç»§æ‰¿ç±»"><a class="markdownIt-Anchor" href="#å®ç°æ¥å£-vs-ç»§æ‰¿ç±»"></a> å®ç°æ¥å£ VS ç»§æ‰¿ç±»</h2>
<ul>
<li><strong>å®ç°æ¥å£æ˜¯å¯¹å•ç»§æ‰¿æœºåˆ¶çš„è¡¥å……</strong></li>
<li>ç»§æ‰¿ï¼šå…ˆå¤©æ‹¥æœ‰ï¼Œå½“å­ç±»ç»§æ‰¿äº†çˆ¶ç±»ï¼Œåˆ™è‡ªåŠ¨æ‹¥æœ‰äº†çˆ¶ç±»çš„èƒ½åŠ›ï¼Œ</li>
<li>å®ç°ï¼šåå¤©å­¦ä¹ ï¼Œå¦‚æœå­ç±»éœ€è¦æ‰©å±•æŸäº›åŠŸèƒ½ï¼Œåˆ™éœ€è¦å®ç°æ¥å£çš„æ–¹å¼è¿›è¡Œè·å–ã€‚</li>
<li>æ¥å£å’Œé—®é¢˜è§£å†³çš„é—®é¢˜ä¸åŒï¼š
<ul>
<li>ç»§æ‰¿çš„ä»·å€¼åœ¨äº<strong>è§£å†³ä»£ç çš„å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§</strong></li>
<li>æ¥å£çš„ä»·å€¼åœ¨äºï¼šè®¾è®¡ï¼Œè®¾è®¡å¥½å„ç§è§„èŒƒï¼ˆæ–¹æ³•ï¼‰ï¼Œè®©å…¶ä»–ç±»å»å®ç°è¿™äº›æ–¹æ³•</li>
</ul>
</li>
<li>æ¥å£æ¯”ç»§æ‰¿æ›´åŠ çµæ´»</li>
<li>æ¥å£åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥å®ç°ä»£ç è§£è€¦ã€å³ï¼šæ¥å£è§„èŒƒ + åŠ¨æ€ç»‘å®šæœºåˆ¶ã€‘</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interface_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExtendsVSInterface</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">LittleMonkey</span> <span class="variable">wukong</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LittleMonkey</span>(<span class="string">&quot;æ‚Ÿç©º&quot;</span>);</span><br><span class="line">        wukong.climbing();</span><br><span class="line"></span><br><span class="line">        wukong.swimming();</span><br><span class="line">        </span><br><span class="line">        wukong.fly();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Monkey</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Monkey</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">climbing</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot;çŒ´å­ä¼šçˆ¬æ ‘&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Fish</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">swimming</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Bird</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LittleMonkey</span> <span class="keyword">extends</span> <span class="title class_">Monkey</span> <span class="keyword">implements</span> <span class="title class_">Fish</span>, Bird &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LittleMonkey</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swimming</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; é€šè¿‡å­¦ä¹ ä¼šæ¸¸æ³³äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; é€šè¿‡å­¦ä¹ ä¼šé£ç¿”äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ¥å£çš„å¤šæ€"><a class="markdownIt-Anchor" href="#æ¥å£çš„å¤šæ€"></a> æ¥å£çš„å¤šæ€</h2>
<ul>
<li><strong>å¤šæ€å‚æ•°</strong>ï¼Œå¯ä»¥æ¥å—å®ç°äº†è¯¥æ¥å£çš„æ‰€æœ‰ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œæ¥å£ç±»å‹çš„å˜é‡å¯ä»¥æŒ‡å‘å®ç°äº†è¯¥æ¥å£çš„å¯¹è±¡ã€‚å’Œç»§æ‰¿ä½“ç°çš„å¤šæ€ç±»ä¼¼ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interface_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfacePolyParameter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">IF</span> <span class="variable">if01</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Monster</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="type">IF</span> <span class="variable">if02</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>(); <span class="comment">// ä½“ç°äº†æ¥å£çš„å¤šæ€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IF</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Monster</span> <span class="keyword">implements</span> <span class="title class_">IF</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span> <span class="keyword">implements</span> <span class="title class_">IF</span> &#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>å¤šæ€æ•°ç»„</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interface_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfacePolyArr</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Usb[] usbs = <span class="keyword">new</span> <span class="title class_">Usb</span>[<span class="number">2</span>]; <span class="comment">// æ¥å£ç±»å‹çš„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line">        usbs[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Camera</span>();  <span class="comment">// æ¥å£æ•°ç»„å®ç°å¤šæ€</span></span><br><span class="line">        usbs[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Phone</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; usbs.length; i++) &#123;</span><br><span class="line">            usbs[i].work();  <span class="comment">// åŠ¨æ€ç»‘å®š</span></span><br><span class="line">            <span class="keyword">if</span>(usbs[i] <span class="keyword">instanceof</span> Phone)&#123;  <span class="comment">// åˆ¤æ–­å…¶è¿è¡Œç±»å‹æ˜¯å¦ä¸º Phone</span></span><br><span class="line">                ((Phone) usbs[i]).call();  <span class="comment">// è¿›è¡Œç±»å‹å‘ä¸‹è½¬å‹å¹¶è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Usb</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span> <span class="keyword">implements</span> <span class="title class_">Usb</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">call</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰‹æœºæ‰“ç”µè¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰‹æœºå·¥ä½œä¸­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Camera</span> <span class="keyword">implements</span> <span class="title class_">Usb</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç›¸æœºå·¥ä½œä¸­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>å¤šæ€ä¼ é€’</strong>ï¼šå¦‚æœæ¥å£Aç»§æ‰¿äº†æ¥å£Bï¼Œè€Œç±»Cä»…ä»…å®ç°äº†æ¥å£Aï¼Œåˆ™ç›¸å½“äºç±»Cä¹Ÿå®ç°äº†æ¥å£Bã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.interface_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¼”ç¤ºå¤šæ€ä¼ é€’</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfacePolyPass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// æ¥å£ç±»å‹çš„å˜é‡å¯ä»¥æŒ‡å‘å®ç°äº†è¯¥æ¥å£çš„ç±»çš„å¯¹è±¡</span></span><br><span class="line">        <span class="type">IG</span> <span class="variable">ig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">IH</span> <span class="variable">ih</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();  <span class="comment">// å› ä¸ºIGç»§æ‰¿äº†IHï¼Œæ‰€ä»¥Teacherå¯¹è±¡å®ä¾‹ä¹Ÿå®ç°äº†IH</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IH</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IG</span> <span class="keyword">extends</span> <span class="title class_">IH</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">implements</span> <span class="title class_">IG</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ³¨æ„ï¼š**å½“ç±»Cç»§æ‰¿äº†ç±»Aï¼Œå®ç°äº†æ¥å£Bï¼Œå¹¶ä¸”ç±»Aå’Œæ¥å£Bä¸­æœ‰åŒåçš„å±æ€§ï¼Œç›´æ¥è°ƒç”¨æ—¶åˆ™ä¼šé€ æˆæ¨¡ç³Šï¼Œæ‰€ä»¥è°ƒç”¨çˆ¶ç±»çš„å¯ä»¥ä½¿ç”¨ <code>super.å±æ€§å</code>,è°ƒç”¨æ¥å£çš„å¯ä»¥ä½¿ç”¨<code>æ¥å£å.å±æ€§å</code>ã€‚</p>
<p>**ç±»çš„äº”å¤§æˆå‘˜ï¼š**å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€ä»£ç å—ã€å†…éƒ¨ç±»ã€‚</p>
<h1 id="å†…éƒ¨ç±»"><a class="markdownIt-Anchor" href="#å†…éƒ¨ç±»"></a> å†…éƒ¨ç±»</h1>
<p>ä¸€ä¸ªç±»çš„å†…éƒ¨åˆå®Œæ•´çš„åµŒå¥—äº†å¦ä¸€ä¸ªç±»ç»“æ„ï¼Œè¢«åµŒå¥—çš„ç±»ç§°ä¸ºå†…éƒ¨ç±»ï¼ˆ<code>inner class</code>ï¼‰ï¼ŒåµŒå¥—å…¶ä»–ç±»çš„ç±»ç§°ä¸ºå¤–éƒ¨ç±»ï¼ˆ<code>outer class</code>ï¼‰ã€‚æ˜¯æˆ‘ä»¬ç±»çš„ç¬¬äº”å¤§æˆå‘˜ã€‚<strong>å†…éƒ¨ç±»æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¯ä»¥è®¿é—®ç§æœ‰å±æ€§ï¼Œå¹¶ä¸”å¯ä»¥ä½“ç°ç±»ä¸ç±»ä¹‹é—´çš„åŒ…å«å…³ç³»ã€‚</strong></p>
<ul>
<li><strong>åŸºæœ¬è¯­æ³•ï¼š</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Outer</span>&#123;  <span class="comment">//å¤–éƒ¨ç±»</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Inner</span>&#123; <span class="comment">// å†…éƒ¨ç±»</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Other</span>&#123; <span class="comment">// å¤–éƒ¨å…¶ä»–ç±»</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.innerclass;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InnerClass01</span> &#123;  <span class="comment">// å¤–éƒ¨å…¶ä»–ç±»</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer</span> &#123;  <span class="comment">// å¤–éƒ¨å…¶ä»–ç±»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">100</span>;   <span class="comment">// å±æ€§</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Outer</span><span class="params">(<span class="type">int</span> n1)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n1 = n1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">()</span> &#123;  <span class="comment">// æ–¹æ³•</span></span><br><span class="line">        System.out.println(<span class="string">&quot;m1()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#123;  <span class="comment">// ä»£ç å—</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ä»£ç å—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">inner</span> &#123;  <span class="comment">//å†…éƒ¨ç±»</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å†…éƒ¨ç±»çš„åˆ†ç±»"><a class="markdownIt-Anchor" href="#å†…éƒ¨ç±»çš„åˆ†ç±»"></a> å†…éƒ¨ç±»çš„åˆ†ç±»</h2>
<ul>
<li>å®šä¹‰åœ¨å¤–éƒ¨ç±»å±€éƒ¨ä½ç½®ä¸Šï¼ˆæ¯”å¦‚æ–¹æ³•å†…ï¼‰ï¼š
<ul>
<li>å±€éƒ¨å†…éƒ¨ç±»ï¼ˆæœ‰ç±»åï¼‰</li>
<li>åŒ¿åå†…éƒ¨ç±»ï¼ˆæ²¡æœ‰ç±»åï¼Œé‡ç‚¹ï¼ï¼ï¼ï¼‰â­â­</li>
</ul>
</li>
<li>å®šä¹‰åœ¨å¤–éƒ¨ç±»çš„æˆå‘˜ä½ç½®ä¸Š
<ul>
<li>æˆå‘˜å†…éƒ¨ç±»ï¼ˆæ²¡ç”¨<code>static</code>ä¿®é¥°ï¼‰</li>
<li>é™æ€å†…éƒ¨ç±»ï¼ˆç”¨<code>static</code>ä¿®é¥°ï¼‰</li>
</ul>
</li>
</ul>
<h2 id="å±€éƒ¨å†…éƒ¨ç±»"><a class="markdownIt-Anchor" href="#å±€éƒ¨å†…éƒ¨ç±»"></a> å±€éƒ¨å†…éƒ¨ç±»</h2>
<p>å®šä¹‰åœ¨å¤–éƒ¨ç±»çš„å±€éƒ¨ä½ç½®ï¼Œæ¯”å¦‚æ–¹æ³•ä¸­ï¼Œå¹¶ä¸”æœ‰ç±»åã€‚</p>
<ul>
<li>å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…å«ç§æœ‰çš„ã€‚</li>
<li>ä¸èƒ½æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ï¼Œå±€éƒ¨å˜é‡ä¸èƒ½æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨<code>final</code>ä¿®é¥°ï¼Œå±€éƒ¨å˜é‡å¯ä»¥ä½¿ç”¨<code>final</code>ä¿®é¥°</li>
<li>**ä½œç”¨åŸŸï¼š**ä»…ä»…åœ¨å®šä¹‰å®ƒçš„æ–¹æ³•æˆ–ä»£ç å—ä¸­ã€‚</li>
<li>å±€éƒ¨å†…éƒ¨ç±» <strong>ç›´æ¥è®¿é—®</strong> å¤–éƒ¨ç±»æˆå‘˜</li>
<li>å¤–éƒ¨ç±» è®¿é—® å±€éƒ¨å†…éƒ¨ç±»çš„æˆå‘˜ï¼Œè®¿é—®æ–¹å¼ï¼šåˆ›å»ºå¯¹è±¡ï¼Œå†è®¿é—®ï¼ˆæ³¨æ„ï¼šå¿…é¡»åœ¨ä½œç”¨åŸŸå†…ï¼‰</li>
<li>å¤–éƒ¨å…¶ä»–ç±» <strong>ä¸èƒ½è®¿é—®</strong> å±€éƒ¨å†…éƒ¨ç±»ï¼ˆå› ä¸ºå±€éƒ¨å†…éƒ¨ç±»æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼‰</li>
<li>å¦‚æœå¤–éƒ¨ç±»å’Œå±€éƒ¨å†…éƒ¨ç±»çš„æˆå‘˜é‡åæ—¶ï¼Œé»˜è®¤éµå¾ªå°±è¿‘åŸåˆ™ï¼Œå¦‚æœåƒè®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ï¼ˆ<code>å¤–éƒ¨ç±».this.æˆå‘˜</code>ï¼‰å»è®¿é—®</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.innerclass;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¼”ç¤ºå±€éƒ¨å†…éƒ¨ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LocalInnerClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Outer02</span> <span class="variable">outer02</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer02</span>();</span><br><span class="line">        outer02.m1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer02</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">m2</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//å±€éƒ¨å†…éƒ¨ç±»</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Inner02</span> &#123;  <span class="comment">// å±€éƒ¨å†…éƒ¨ç±»çš„æœ¬è´¨è¿˜æ˜¯ç±»</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">100</span> ;</span><br><span class="line">            <span class="comment">//å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…å«ç§æœ‰çš„</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f1</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜</span></span><br><span class="line">                System.out.println(<span class="string">&quot;n1 = &quot;</span> + n1);  <span class="comment">// 100,å†…éƒ¨ç±»çš„n1</span></span><br><span class="line">                System.out.println(Outer02.<span class="built_in">this</span>.n1);  <span class="comment">// 10  ,å¤–éƒ¨ç±»çš„n1,  Outer02.this æœ¬è´¨æ˜¯è°ƒç”¨äº†m1æ–¹æ³•çš„å¯¹è±¡</span></span><br><span class="line">                m2();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¤–éƒ¨ç±»è®¿é—®å†…éƒ¨ç±»æˆå‘˜ï¼Œé€šè¿‡åˆ›å»ºå¯¹è±¡æ¥è¿›è¡Œè®¿é—®</span></span><br><span class="line">        <span class="type">Inner02</span> <span class="variable">inner02</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Inner02</span>();</span><br><span class="line">        inner02.f1();</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;  <span class="comment">// ä»£ç å—</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Inner03</span>&#123;  <span class="comment">// å†…éƒ¨ç±»</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŒ¿åå†…éƒ¨ç±»"><a class="markdownIt-Anchor" href="#åŒ¿åå†…éƒ¨ç±»"></a> åŒ¿åå†…éƒ¨ç±» â­â­â­</h2>
<p>åŒ¿åå†…éƒ¨ç±»æ˜¯å®šä¹‰åœ¨å¤–éƒ¨ç±»çš„å±€éƒ¨ä½ç½®ï¼Œæ¯”å¦‚æ–¹æ³•ä¸­ï¼Œå¹¶ä¸”æ²¡æœ‰åå­—ã€‚</p>
<ul>
<li>æœ¬è´¨ï¼šæ˜¯ä¸€ä¸ª<code>ç±»</code>ï¼Œä¸”æ˜¯ä¸€ä¸ª<code>å†…éƒ¨ç±»</code>,è¯¥ç±»æ²¡æœ‰åå­—ï¼ŒåŒæ—¶è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li>åŸºæœ¬è¯­æ³•ï¼š<code>new ç±»æˆ–æ¥å£(å‚æ•°åˆ—è¡¨) &#123;&#125;</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.innerclass;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¼”ç¤ºåŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnonymousInnerClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Outer04</span> <span class="variable">outer04</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer04</span>();</span><br><span class="line">        outer04.method();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer04</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// åŸºäºæ¥å£çš„åŒ¿åå†…éƒ¨ç±»,</span></span><br><span class="line">        <span class="comment">// Tiger ç¼–è¯‘ç±»å‹ä¸º Aï¼Œè¿è¡Œç±»å‹ä¸ºåŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line">        <span class="type">A</span> <span class="variable">Tiger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;è€è™&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Tiger.cry(); <span class="comment">// è°ƒç”¨æ–¹æ³•1ï¼Œé€šè¿‡å¯¹è±¡åè°ƒç”¨</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Tigerçš„è¿è¡Œç±»å‹ = &quot;</span> + Tiger.getClass()); <span class="comment">// Outer04$1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŸºäºç±»çš„åŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line">        <span class="comment">// father çš„ç¼–è¯‘ç±»å‹ä¸ºFatherï¼Œè¿è¡Œç±»å‹ä¸º Outer04$2</span></span><br><span class="line">        <span class="comment">// class Outer04$2 extends Father &#123;&#125;</span></span><br><span class="line">        <span class="type">Father</span> <span class="variable">father</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Father</span>(<span class="string">&quot;jack&quot;</span>) &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Test</span><span class="params">()</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;åŒ¿åå†…éƒ¨ç±»é‡å†™äº†Test()æ–¹æ³•&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.Test();   <span class="comment">// è°ƒç”¨æ–¹æ³•2ï¼Œå› ä¸ºæ˜¯å¯¹è±¡æ‰€ä»¥å¯ä»¥ç›´æ¥è°ƒç”¨</span></span><br><span class="line">        System.out.println(<span class="string">&quot;fatherçš„è¿è¡Œç±»å‹ = &quot;</span> + father.getClass()); <span class="comment">// Outer04$1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span> &#123;  <span class="comment">// æ¥å£</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> &#123;  <span class="comment">// ç±»</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Father</span><span class="params">(String name)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Test</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>åŒ¿åå†…éƒ¨ç±»æ—¢æ˜¯ä¸€ä¸ªç±»çš„å®šä¹‰ï¼ŒåŒæ—¶å®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ä»è¯­æ³•ä¸Šçœ‹ï¼Œå®ƒæ—¢æœ‰å®šä¹‰çš„ç‰¹å¾ï¼Œä¹Ÿæœ‰åˆ›å»ºå¯¹è±¡çš„ç‰¹å¾ã€‚æ‰€ä»¥è°ƒç”¨æ–¹æ³•æœ‰ä¸¤ç§ï¼Œçœ‹ä¸Šé¢çš„ç¤ºä¾‹ã€‚</li>
<li>å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰æˆå‘˜ã€‚</li>
<li>ä¸èƒ½æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡</li>
<li>ä½œç”¨åŸŸï¼šä»…ä»…åœ¨å®šä¹‰å®ƒçš„æ–¹æ³•æˆ–ä»£ç å—ä¸­</li>
<li>åŒ¿åå†…éƒ¨ç±» <strong>ç›´æ¥è®¿é—®</strong> å¤–éƒ¨ç±»æˆå‘˜</li>
<li>å¤–éƒ¨å…¶å®ƒç±» <strong>ä¸èƒ½è®¿é—®</strong> åŒ¿åå†…éƒ¨ç±»ï¼Œå› ä¸ºåŒ¿åå†…éƒ¨ç±»æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œ</li>
<li>å¦‚æœå¤–éƒ¨ç±»çš„æˆå‘˜å’ŒåŒ¿åå†…éƒ¨ç±»çš„æˆå‘˜é‡åæ—¶ï¼ŒåŒ¿åå†…éƒ¨ç±»è®¿é—®çš„è¯ï¼Œé»˜è®¤éµå¾ªå°±è¿‘åŸåˆ™ï¼Œå¦‚æœåƒè®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<code>å¤–éƒ¨ç±»å.this.æˆå‘˜</code>å»è®¿é—®ã€‚</li>
</ul>
<h2 id="æˆå‘˜å†…éƒ¨ç±»"><a class="markdownIt-Anchor" href="#æˆå‘˜å†…éƒ¨ç±»"></a> æˆå‘˜å†…éƒ¨ç±»</h2>
<p>å®šä¹‰åœ¨å¤–éƒ¨ç±»çš„æˆå‘˜ä½ç½®ï¼Œå¹¶ä¸”æ²¡æœ‰<code>static</code>ä¿®é¥°ï¼Œ</p>
<ul>
<li>å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…å«ç§æœ‰çš„</li>
<li>å¯ä»¥æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ï¼ˆ<code>public</code>ã€<code>private</code>ã€<code>é»˜è®¤</code>ã€<code>protected</code>ï¼‰ï¼Œå› ä¸ºä»–çš„åœ°ä½å°±æ˜¯ä¸€ä¸ªæˆå‘˜ã€‚</li>
<li>ä½œç”¨åŸŸï¼šå’Œå¤–éƒ¨ç±»çš„å…¶ä»–æˆå‘˜ä¸€æ ·ï¼Œä¸ºæ•´ä¸ªç±»ä½“ã€‚</li>
<li>æˆå‘˜å†…éƒ¨ç±» <strong>ç›´æ¥è®¿é—®</strong> å¤–éƒ¨ç±»ï¼ˆæ¯”å¦‚ï¼šå±æ€§ï¼‰ã€è®¿é—®æ–¹å¼ï¼šç›´æ¥è®¿é—®ã€‘</li>
<li>å¤–éƒ¨ç±» <strong>ç®€ä»‹è®¿é—®</strong> å†…éƒ¨ç±»ï¼Œè®¿é—®æ–¹å¼ï¼šåˆ›å»ºå¯¹è±¡ï¼Œå†è®¿é—®</li>
<li>å¤–éƒ¨å…¶ä»–ç±» è®¿é—® å†…éƒ¨ç±»ï¼Œæœ‰ä¸¤ç§è®¿é—®æ–¹å¼ï¼š
<ul>
<li><code>Outer08.Inner08 inner08 = outer08.new Inner08();</code></li>
<li><code>Outer08.Inner08 inner081 = outer08.getInner08Instance();</code></li>
</ul>
</li>
<li>å¦‚æœå¤–éƒ¨ç±»å’Œå†…éƒ¨ç±»ä¸­çš„æˆå‘˜é‡åæ—¶å—ï¼Œå†…éƒ¨ç±»è®¿é—®çš„è¯ï¼Œé»˜è®¤éµå¾ªå°±è¿‘åŸåˆ™ï¼Œå¦‚æœæƒ³è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œåˆ™å¯ä»¥ä½¿ç”¨(<code>å¤–éƒ¨ç±».this.æˆå‘˜</code>)å»è®¿é—®ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.innerclass;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MenberInnerClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Outer08</span> <span class="variable">outer08</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer08</span>();</span><br><span class="line">        outer08.t1();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤–éƒ¨å…¶ä»–ç±»è®¿é—®å†…éƒ¨ç±» çš„æ–¹å¼1</span></span><br><span class="line">        Outer08.<span class="type">Inner08</span> <span class="variable">inner08</span> <span class="operator">=</span> outer08.<span class="keyword">new</span> <span class="title class_">Inner08</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹å¼2ï¼šåœ¨å¤–éƒ¨ç±»ä¸­ï¼Œç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥è¿”å›Inner08 å¯¹è±¡</span></span><br><span class="line">        Outer08.<span class="type">Inner08</span> <span class="variable">inner081</span> <span class="operator">=</span> outer08.getInner08Instance();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer08</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;å¼ ä¸‰&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Inner08</span> &#123;  <span class="comment">// æˆå‘˜å†…éƒ¨ç±»</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Outer08 çš„ n1 = &quot;</span> + n1 + <span class="string">&quot;Outer08 çš„ name = &quot;</span> + name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›Inner08å¯¹è±¡å®ä¾‹</span></span><br><span class="line">    <span class="keyword">public</span> Inner08 <span class="title function_">getInner08Instance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Inner08</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">t1</span><span class="params">()</span>&#123;  <span class="comment">// è°ƒç”¨å†…éƒ¨ç±»çš„æ–¹æ³•ã€‚</span></span><br><span class="line">        <span class="type">Inner08</span> <span class="variable">inner08</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Inner08</span>();</span><br><span class="line">        inner08.say();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é™æ€å†…éƒ¨ç±»"><a class="markdownIt-Anchor" href="#é™æ€å†…éƒ¨ç±»"></a> é™æ€å†…éƒ¨ç±»</h2>
<p>é™æ€å†…éƒ¨ç±»æ˜¯å®šä¹‰åœ¨å¤–éƒ¨ç±»çš„æˆå‘˜ä½ç½®ï¼Œå¹¶ä¸”æœ‰<code>static</code>ä¿®é¥°</p>
<ul>
<li>å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰é™æ€æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰çš„ï¼Œ<strong>ä½†ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€æˆå‘˜</strong></li>
<li>å¯ä»¥æ·»åŠ ä»»æ„çš„è®¿é—®ä¿®é¥°ç¬¦ï¼Œå› ä¸ºå®ƒæ˜¯æˆå‘˜</li>
<li>ä½œç”¨åŸŸï¼šåŒå…¶ä»–æˆå‘˜ï¼Œä¸ºæ•´ä¸ªç±»ä½“</li>
<li>é™æ€å†…éƒ¨ç±» <strong>ç›´æ¥è®¿é—®</strong> å¤–éƒ¨ç±»çš„æ‰€æœ‰é™æ€æˆå‘˜</li>
<li>å¤–éƒ¨ç±» <strong>è®¿é—®</strong> é™æ€å†…éƒ¨ç±» éœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œå†è®¿é—®ã€‚</li>
<li>å¤–éƒ¨å…¶ä»–ç±» ä½¿ç”¨ é™æ€å†…éƒ¨ç±»ï¼šä¸‰ç§æ–¹å¼
<ul>
<li><code>Outer10.Inner10 inner10 = new Outer10.Inner10();</code></li>
<li><code>Outer10.Inner10 inner10Instance = new Outer10().getInner10Instance();</code>åˆ›å»ºå¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•</li>
<li><code>Outer10.Inner10 inner10Instance1 = Outer10.getInner10Instance();</code>ç›´æ¥ä½¿ç”¨ç±»åè°ƒç”¨é™æ€æ–¹æ³•</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.innerclass;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StaticInnerClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// æ–¹å¼ä¸€ï¼š</span></span><br><span class="line">        <span class="comment">// å› ä¸ºé™æ€å†…éƒ¨ç±»ï¼Œæ˜¯å¯ä»¥é€šè¿‡ç±»åç›´æ¥è¿›è¡Œè®¿é—®ã€‚</span></span><br><span class="line">        Outer10.<span class="type">Inner10</span> <span class="variable">inner10</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer10</span>.Inner10();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹å¼äºŒï¼š</span></span><br><span class="line">        Outer10.<span class="type">Inner10</span> <span class="variable">inner10Instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer10</span>().getInner10Instance();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹å¼ä¸‰ï¼š</span></span><br><span class="line">        Outer10.<span class="type">Inner10</span> <span class="variable">inner10Instance1</span> <span class="operator">=</span> Outer10.getInner10Instance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer10</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;å¼ ä¸‰&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Inner10</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Inner10 <span class="title function_">getInner10Instance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Inner10</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æšä¸¾å’Œæ³¨è§£"><a class="markdownIt-Anchor" href="#æšä¸¾å’Œæ³¨è§£"></a> æšä¸¾å’Œæ³¨è§£</h1>
<h2 id="æšä¸¾ç±»"><a class="markdownIt-Anchor" href="#æšä¸¾ç±»"></a> æšä¸¾ç±»</h2>
<ul>
<li>æšä¸¾æ˜¯ä¸€ç»„å¸¸é‡çš„é›†åˆ</li>
<li>æšä¸¾å±äºä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œé‡Œé¢åªåŒ…å«ä¸€ç»„æœ‰é™çš„ç‰¹å®šçš„å¯¹è±¡</li>
</ul>
<p>ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰ç±»å®ç°æšä¸¾</li>
<li>ä½¿ç”¨<code>enum</code>å…³é”®å­—å®ç°æšä¸¾</li>
</ul>
<h3 id="è‡ªå®šä¹‰ç±»å®ç°æšä¸¾"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰ç±»å®ç°æšä¸¾"></a> è‡ªå®šä¹‰ç±»å®ç°æšä¸¾</h3>
<ol>
<li>å°†æ„é€ å™¨ç§æœ‰åŒ–ï¼Œç›®çš„æ˜¯é˜²æ­¢ç›´æ¥new</li>
<li>å»æ‰<code>setXXX</code>æ–¹æ³•ï¼Œé˜²æ­¢å±æ€§è¢«ä¿®æ”¹ï¼Œå› ä¸ºæšä¸¾å¯¹è±¡é€šå¸¸ä¸ºåªè¯»</li>
<li>åœ¨ç±»å†…éƒ¨ç›´æ¥åˆ›å»ºå›ºå®šçš„å¯¹è±¡</li>
<li>å¯¹æšä¸¾å¯¹è±¡/å±æ€§ä½¿ç”¨<code>static + final</code>å…±åŒä¿®é¥°ï¼Œå®ç°åº•å±‚ä¼˜åŒ–</li>
<li>æšä¸¾å¯¹è±¡åé€šå¸¸ä½¿ç”¨å…¨éƒ¨å¤§å†™ï¼Œå¸¸é‡çš„å‘½åè§„èŒƒ</li>
<li>æšä¸¾å¯¹è±¡æ ¹æ®éœ€è¦ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå±æ€§</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.enum_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Enumeration01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(Season.SPRING);</span><br><span class="line">        System.out.println(Season.AUTUMN);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¼”ç¤ºè‡ªå®šä¹‰æšä¸¾</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Season</span> &#123;  <span class="comment">// å­£èŠ‚ç±»</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String desc; <span class="comment">// æè¿°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰äº†å››ä¸ªå¯¹è±¡ã€‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">SPRING</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;æ˜¥å¤©&quot;</span>, <span class="string">&quot;æ¸©æš–&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">WINTER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;å†¬å¤©&quot;</span>, <span class="string">&quot;å¯’å†·&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">SUMMER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;å¤å¤©&quot;</span>, <span class="string">&quot;é…·çƒ­&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">AUTUMN</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;ç§‹å¤©&quot;</span>, <span class="string">&quot;å‡‰çˆ½&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. å°†æ„é€ å™¨ç§æœ‰åŒ–ï¼Œç›®çš„æ˜¯é˜²æ­¢ç›´æ¥new</span></span><br><span class="line">    <span class="comment">// 2. å»æ‰setXXXæ–¹æ³•ï¼Œé˜²æ­¢å±æ€§è¢«ä¿®æ”¹</span></span><br><span class="line">    <span class="comment">// 3. åœ¨Seasonå†…éƒ¨ç›´æ¥åˆ›å»ºå›ºå®šçš„å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// 4. åŠ å…¥finalä¿®é¥°ç¬¦</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Season</span><span class="params">(String name, String desc)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*public void setName(String name) &#123;</span></span><br><span class="line"><span class="comment">        this.name = name;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public void setDesc(String desc) &#123;</span></span><br><span class="line"><span class="comment">        this.desc = desc;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="enumå…³é”®å­—å®ç°æšä¸¾"><a class="markdownIt-Anchor" href="#enumå…³é”®å­—å®ç°æšä¸¾"></a> <code>enum</code>å…³é”®å­—å®ç°æšä¸¾</h3>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨<code>enum</code>å…³é”®å­—æ›¿æ¢<code>class</code>å…³é”®å­—</li>
<li><code>SPRING(&quot;æ˜¥å¤©&quot;, &quot;æ¸©æš–&quot;);</code>ä»£æ›¿ <code>public static final Season SPRING = new Season(&quot;æ˜¥å¤©&quot;, &quot;æ¸©æš–&quot;);</code>åˆ›å»ºå¯¹è±¡</li>
<li>å¦‚æœæœ‰å¤šä¸ªå¸¸é‡ï¼ˆå¯¹è±¡ï¼‰ï¼Œä½¿ç”¨<code>,</code>é—´éš”</li>
<li>å¦‚æœä½¿ç”¨<code>enum</code>æ¥å®ç°æšä¸¾ï¼Œè¦æ±‚å°†å®šä¹‰å¸¸é‡å¯¹è±¡ï¼Œå†™åœ¨æœ€å‰é¢ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.enum_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Enumeration02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(Season02.AUTUMN);</span><br><span class="line">        System.out.println(Season02.SPRING);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¼”ç¤ºä½¿ç”¨enumå…³é”®å­—å®ç°æšä¸¾</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Season02</span> &#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰äº†å››ä¸ªå¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">//    public static final Season SPRING = new Season(&quot;æ˜¥å¤©&quot;, &quot;æ¸©æš–&quot;);</span></span><br><span class="line"><span class="comment">//    public static final Season WINTER = new Season(&quot;å†¬å¤©&quot;, &quot;å¯’å†·&quot;);</span></span><br><span class="line"><span class="comment">//    public static final Season SUMMER = new Season(&quot;å¤å¤©&quot;, &quot;é…·çƒ­&quot;);</span></span><br><span class="line"><span class="comment">//    public static final Season AUTUMN = new Season(&quot;ç§‹å¤©&quot;, &quot;å‡‰çˆ½&quot;);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1.ä½¿ç”¨enum ä»£æ›¿class</span></span><br><span class="line">    <span class="comment">// 2.SPRING(&quot;æ˜¥å¤©&quot;, &quot;æ¸©æš–&quot;); ä»£æ›¿ public static final Season SPRING = new Season(&quot;æ˜¥å¤©&quot;, &quot;æ¸©æš–&quot;);åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">    <span class="comment">// 3.å¦‚æœæœ‰å¤šä¸ªå¸¸é‡ï¼ˆå¯¹è±¡ï¼‰ï¼Œä½¿ç”¨, é—´éš”</span></span><br><span class="line">    <span class="comment">// 4.å¦‚æœä½¿ç”¨enumæ¥å®ç°æšä¸¾ï¼Œè¦æ±‚å°†å®šä¹‰å¸¸é‡å¯¹è±¡ï¼Œå†™åœ¨æœ€å‰é¢ã€‚</span></span><br><span class="line">    SPRING(<span class="string">&quot;æ˜¥å¤©&quot;</span>, <span class="string">&quot;æ¸©æš–&quot;</span>), WINTER(<span class="string">&quot;å†¬å¤©&quot;</span>, <span class="string">&quot;å¯’å†·&quot;</span>), SUMMER(<span class="string">&quot;å¤å¤©&quot;</span>, <span class="string">&quot;é…·çƒ­&quot;</span>),</span><br><span class="line">    AUTUMN(<span class="string">&quot;ç§‹å¤©&quot;</span>, <span class="string">&quot;å‡‰çˆ½&quot;</span>), WHAT;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String desc; <span class="comment">// æè¿°</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Season02</span><span class="params">(String name, String desc)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Season02</span><span class="params">()</span> &#123;&#125;  <span class="comment">//æ— å‚æ„é€ å™¨</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Season02&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, desc=&#x27;&quot;</span> + desc + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å½“æˆ‘æˆ‘ä»¬<code>enum</code>å…³é”®å­—å¼€å‘ä¸€ä¸ªæšä¸¾ç±»æ—¶ï¼Œé»˜è®¤ä¼šç»§æ‰¿<code>Enum</code>ç±»ï¼Œè€Œä¸”æ˜¯ä¸€ä¸ª<code>final</code>ç±»ï¼Œä½¿ç”¨<code>javap</code>å·¥å…·è¿›è¡ŒéªŒè¯</li>
<li>å®šä¹‰å¯¹è±¡æ—¶è¢«ç®€åŒ–</li>
<li>å¦‚æœä½¿ç”¨çš„æ˜¯æ— å‚æ„é€ å™¨ åˆ›å»º æšä¸¾å¯¹è±¡ï¼Œåˆ™å®å‚åˆ—è¡¨å’Œå°æ‹¬å·éƒ½å¯ä»¥çœç•¥ã€‚</li>
<li>å½“æœ‰å¤šä¸ªæšä¸¾å¯¹è±¡æ—¶ï¼Œä½¿ç”¨<code>,</code>é—´éš”ï¼Œæœ€åä¸€ä¸ªåˆ†å·ç»“æŸ</li>
<li><strong>æšä¸¾å¯¹è±¡å¿…é¡»æ”¾åœ¨æšä¸¾ç±»çš„è¡Œé¦–</strong></li>
<li><strong>å½“ä½¿ç”¨<code>enum</code>å…³é”®å­—åï¼Œå°±ä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»ï¼Œå› ä¸º<code>enum</code>ä¼šéšå¼ç»§æ‰¿<code>Enum</code>ç±»</strong></li>
<li><strong><code>enum</code>å®ç°çš„æšä¸¾ç±»ï¼Œä»ç„¶æ˜¯ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥è¿˜æ˜¯å¯ä»¥å®ç°æ¥å£çš„</strong></li>
</ul>
<h4 id="enumç±»ä¸­çš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#enumç±»ä¸­çš„æ–¹æ³•"></a> <code>Enum</code>ç±»ä¸­çš„æ–¹æ³•</h4>
<ul>
<li><code>toString()</code> : <code>Enum</code>ç±»å·²ç»é‡å†™è¿‡äº†ï¼Œè¿”å›çš„æ—¶å½“å‰å¯¹è±¡å</li>
<li><code>name()</code>ï¼šè¾“å‡ºæšä¸¾å¯¹è±¡çš„åç§°</li>
<li><code>ordinal()</code>ï¼šè¾“å‡ºè¯¥æšä¸¾å¯¹è±¡çš„æ¬¡åºï¼Œä»0å¼€å§‹ç¼–å·</li>
<li><code>values()</code>ï¼šå°†æ‰€æœ‰å®šä¹‰çš„æ‰€æœ‰æšä¸¾å¯¹è±¡ä»¥æ•°ç»„å½¢å¼è¿”å›</li>
<li><code>valueOf()</code>ï¼šå°†å­—ç¬¦ä¸²è½¬æˆæšä¸¾å¯¹è±¡ï¼Œä½†è¦æ±‚å­—ç¬¦ä¸²å¿…é¡»ä¸ºå·²æœ‰çš„å¸¸é‡åï¼Œå¦åˆ™æŠ¥å¼‚å¸¸ã€‚</li>
<li><code>compareTo()</code>ï¼šæ¯”è¾ƒä¸¤ä¸ªæšä¸¾å¸¸é‡ï¼Œæ¯”è¾ƒå°±æ˜¯ç¼–å· <code>retrun self.ordinal - other.ordinal;</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.enum_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * æ¼”ç¤ºEnumç±»çš„å„ç§æ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnumMethod</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Season02</span> <span class="variable">autumn</span> <span class="operator">=</span> Season02.AUTUMN;</span><br><span class="line">        <span class="comment">// name()ï¼šè¾“å‡ºæšä¸¾å¯¹è±¡çš„åç§°</span></span><br><span class="line">        System.out.println(autumn.name());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ordinal()ï¼šè¾“å‡ºè¯¥æšä¸¾å¯¹è±¡çš„æ¬¡åºï¼Œä»0å¼€å§‹ç¼–å·</span></span><br><span class="line">        System.out.println(autumn.ordinal());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// values():å°†æ‰€æœ‰å®šä¹‰çš„æ‰€æœ‰æšä¸¾å¯¹è±¡ä»¥æ•°ç»„å½¢å¼è¿”å›</span></span><br><span class="line">        Season02[] values = Season02.values();</span><br><span class="line">        <span class="keyword">for</span> (Season02 season: values) &#123;  <span class="comment">// å¢å¼ºforå¾ªç¯ï¼Œ foreach</span></span><br><span class="line">            System.out.println(season);  <span class="comment">// è°ƒç”¨toStringæ–¹æ³•</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// valueOf(): å°†å­—ç¬¦ä¸²è½¬æˆæšä¸¾å¯¹è±¡ï¼Œä½†è¦æ±‚å­—ç¬¦ä¸²å¿…é¡»ä¸ºå·²æœ‰çš„å¸¸é‡åï¼Œå¦åˆ™æŠ¥å¼‚å¸¸ã€‚</span></span><br><span class="line">        <span class="type">Season02</span> <span class="variable">summer</span> <span class="operator">=</span> Season02.valueOf(<span class="string">&quot;SUMMER&quot;</span>);</span><br><span class="line">        System.out.println(summer);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// compareTo(): æ¯”è¾ƒä¸¤ä¸ªæšä¸¾å¸¸é‡ï¼Œæ¯”è¾ƒå°±æ˜¯ç¼–å· retrun self.ordinal - other.ordinal;</span></span><br><span class="line">        <span class="comment">// ç”¨AUTUMNçš„ç¼–å·å‡å»SUMMERçš„ç¼–å·ï¼Œæ‰€ä»¥å½“ç­‰äº0æ—¶ï¼Œåˆ™ç›¸ç­‰</span></span><br><span class="line">        System.out.println(Season02.AUTUMN.compareTo(Season02.SUMMER));  <span class="comment">// -1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ³¨è§£"><a class="markdownIt-Anchor" href="#æ³¨è§£"></a> æ³¨è§£</h2>
<p>æ³¨è§£ï¼ˆ<code>Annotation</code>ï¼‰ä¹Ÿè¢«ç§°ä¸ºå…ƒæ•°æ®ï¼ˆ<code>Metadata</code>ï¼‰ï¼Œç”¨äºä¿®é¥°è§£é‡Š åŒ…ã€ç±»ã€æ–¹æ³•ã€å±æ€§ã€æ„é€ å™¨ã€å±€éƒ¨å˜é‡ç­‰æ•°æ®ä¿¡æ¯ã€‚</p>
<p>å’Œæ³¨é‡Šä¸€æ ·ï¼Œæ³¨è§£ä¸å½±å“ç¨‹åºé€»è¾‘ï¼Œä½†æ³¨è§£å¯ä»¥è¢«ç¼–è¯‘æˆ–è¿è¡Œï¼Œç›¸å½“äºåµŒå…¥åœ¨ä»£ç ä¸­çš„è¡¥å……ä¿¡æ¯ã€‚</p>
<p>åœ¨<code>JavaSE</code>ä¸­ï¼Œæ³¨è§£çš„ä½¿ç”¨ç›®çš„æ¯”è¾ƒç®€å•ï¼Œä¾‹å¦‚æ ‡è®°è¿‡æ—¶çš„åŠŸèƒ½ï¼Œå¿½ç•¥è­¦å‘Šç­‰ã€‚åœ¨<code>JavaEE</code>ä¸­æ³¨è§£å æ®äº†æ›´é‡è¦çš„è§’è‰²ï¼Œä¾‹å¦‚ç”¨æ¥é…ç½®åº”ç”¨ç¨‹åºçš„ä»»ä½•åˆ‡é¢ï¼Œä»£æ›¿<code>Java EE</code>æ—§ç‰ˆä¸­æ‰€é—ç•™çš„ç¹å†—ä»£ç å’ŒXMLé…ç½®ç­‰ã€‚</p>
<p>ä½¿ç”¨<code>Annotation</code>æ—¶è¦åœ¨å…¶å‰é¢å¢åŠ <code>@</code>ç¬¦å·ï¼Œå¹¶æŠŠè¯¥<code>Annotation</code>å½“æˆä¸€ä¸ªä¿®é¥°ç¬¦ä½¿ç”¨ã€‚ç”¨äºä¿®é¥°å®ƒæ”¯æŒçš„ç¨‹åºå…ƒç´ ã€‚</p>
<h3 id="ä¸‰ä¸ªåŸºæœ¬çš„annotation"><a class="markdownIt-Anchor" href="#ä¸‰ä¸ªåŸºæœ¬çš„annotation"></a> ä¸‰ä¸ªåŸºæœ¬çš„<code>Annotation</code></h3>
<ul>
<li>
<p><code>@Override</code>ï¼šé™å®šæŸä¸ªæ–¹æ³•ï¼Œæ˜¯é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œè¯¥æ³¨è§£åªèƒ½ç”¨äºæ–¹æ³•ã€‚</p>
<ul>
<li>
<p><code>@Override</code>å¯å†™å¯ä¸å†™</p>
</li>
<li>
<p>å¦‚æœå†™äº†<code>@Override</code>æ³¨è§£ï¼Œç¼–è¯‘å™¨å°±ä¼šæ£€æŸ¥è¯¥æ–¹æ³•æ˜¯å¦çœŸçš„é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¦‚æœçš„ç¡®é‡å†™äº†ï¼Œåˆ™ç¼–è¯‘é€šè¿‡ï¼Œå¦åˆ™ï¼Œåˆ™ç¼–è¯‘é”™è¯¯ã€‚</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-meta">@Target</span>(ElementType.METHOD)
<span class="hljs-meta">@Retention</span>(RetentionPolicy.SOURCE)
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Override &#123;  <span class="hljs-comment">// @interface è¡¨ç¤ºè¿™ä¸ªæ˜¯ä¸€ä¸ªæ³¨è§£</span>
&#125;
&lt;!--codeï¿¼<span class="hljs-number">27</span>--&gt;

</code></pre>
</li>
</ul>
</li>
<li>
<p><code>@SuppressWarnings</code>ï¼šæŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š</p>
</li>
</ul>
<h3 id="jdkçš„å…ƒæ³¨è§£äº†è§£"><a class="markdownIt-Anchor" href="#jdkçš„å…ƒæ³¨è§£äº†è§£"></a> JDKçš„å…ƒæ³¨è§£ï¼ˆäº†è§£ï¼‰</h3>
<p>JDKçš„å…ƒAnnotationç”¨äºä¿®é¥°å…¶å®ƒAnnotation</p>
<h1 id="å¼‚å¸¸-exception"><a class="markdownIt-Anchor" href="#å¼‚å¸¸-exception"></a> å¼‚å¸¸ Exception</h1>
<blockquote>
<p>Javaè¯­è¨€ä¸­å°†ç¨‹åºæ‰§è¡Œä¸­å‘ç”Ÿçš„ä¸æ­£å¸¸æƒ…å†µç§°ä¸º&quot;å¼‚å¸¸&quot;ã€‚ï¼ˆè¯­æ³•é”™è¯¯å’Œé€»è¾‘é”™è¯¯ä¸æ˜¯å¼‚å¸¸ï¼‰</p>
</blockquote>
<p>æ‰§è¡Œè¿‡ç¨‹ä¸­å¼‚å¸¸å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li><code>Error</code>ï¼ˆé”™è¯¯ï¼‰ï¼šJavaè™šæ‹Ÿæœºæ— æ³•è§£å†³çš„ä¸¥é‡é—®é¢˜ã€‚å¦‚ï¼šJVMç³»ç»Ÿå†…éƒ¨é”™è¯¯ã€èµ„æºè€—å°½ç­‰æƒ…å†µï¼Œ</li>
<li><code>Exception</code>ï¼šå…¶å®ƒå› ç¼–ç¨‹é”™è¯¯æˆ–å¶ç„¶çš„å¤–åœ¨å› ç´ å¯¼è‡´çš„ä¸€èˆ¬æ€§é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ã€‚
<ul>
<li>è¿è¡Œæ—¶å¼‚å¸¸ï¼šç¨‹åºè¿è¡Œæ—¶å‘ç”Ÿçš„å¼‚å¸¸</li>
<li>ç¼–è¯‘æ—¶å¼‚å¸¸ï¼šç¨‹åºç¼–ç¨‹æ—¶ï¼Œç”±ç¼–è¯‘å™¨æ£€æŸ¥å‡ºçš„å¼‚å¸¸ã€‚</li>
</ul>
</li>
</ul>
<p><img src="/img/Java/Error.png" alt="Error" /></p>
<h2 id="è¿è¡Œæ—¶å¼‚å¸¸"><a class="markdownIt-Anchor" href="#è¿è¡Œæ—¶å¼‚å¸¸"></a> è¿è¡Œæ—¶å¼‚å¸¸</h2>
<p>ç¼–è¯‘å™¨ä¸è¦æ±‚å¼ºåˆ¶å¤„ç½®çš„å¼‚å¸¸ã€‚ä¸€èˆ¬æ˜¯æŒ‡ç¼–ç¨‹æ—¶çš„é€»è¾‘é”™è¯¯æ²¡äº‹æˆç°‡å…ƒåº”è¯¥é¿å…å…¶å‡ºç°çš„å¼‚å¸¸ã€‚<code>java.lang.RuntimeException</code>ç±»åŠå®ƒçš„å­ç±»éƒ½æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ã€‚</p>
<p>å¯¹äºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œå¯ä»¥ä¸ä½œå¤„ç†ï¼Œå› ä¸ºè¿™ç±»å¼‚å¸¸å¾ˆæ™®éï¼Œè‹¥å…¨å¤„ç†å¯èƒ½å¯¹ç¨‹åºçš„å¯è¯»æ€§å’Œè¿è¡Œæ•ˆç‡äº§ç”Ÿå½±å“ã€‚</p>
<h3 id="äº”å¤§è¿è¡Œæ—¶å¼‚å¸¸"><a class="markdownIt-Anchor" href="#äº”å¤§è¿è¡Œæ—¶å¼‚å¸¸"></a> äº”å¤§è¿è¡Œæ—¶å¼‚å¸¸</h3>
<ul>
<li><code>NullPointerException</code>ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œå½“åº”ç”¨ç¨‹åºè¯•å›¾åœ¨éœ€è¦å¯¹è±¡çš„åœ°æ–¹ä½¿ç”¨nullæ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.exception_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NullPointerException_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        System.out.println(name.length());  <span class="comment">// å­˜åœ¨ç©ºæŒ‡é’ˆå¼‚å¸¸</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>ArithmeticException</code>æ•°å­¦è¿ç®—å¼‚å¸¸ï¼Œå½“å‡ºç°å¼‚å¸¸çš„è¿ç®—æ¡ä»¶æ—¶ï¼ŒæŠ›å‡ºæ­¤å¼‚å¸¸ã€‚</li>
<li><code>ArryIndexOutOfBoundsException</code>æ•°ç»„è¶Šç•Œå¼‚å¸¸ï¼Œç”¨éæ³•ç´¢å¼•è®¿é—®æ•°ç»„æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li><code>ClassCastException</code>ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œå½“è¯•å›¾å°†å¯¹è±¡å¼ºåˆ¶è½¬æ¢æˆä¸æ˜¯å®ä¾‹çš„å­ç±»æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li><code>NumberFormatException</code>æ•°å­—æ ¼å¼ä¸æ­£ç¡®å¼‚å¸¸ï¼Œå½“åº”ç”¨ç¨‹åºè¯•å›¾å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ç§æ•°å€¼ç±»å‹ï¼Œä½†è¯¥å­—ç¬¦ä¸²å¿…èƒ½å‡†æ¢ä¸ºé€‚å½“æ ¼å¼æ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚</li>
</ul>
<h2 id="ç¼–è¯‘æ—¶å¼‚å¸¸"><a class="markdownIt-Anchor" href="#ç¼–è¯‘æ—¶å¼‚å¸¸"></a> ç¼–è¯‘æ—¶å¼‚å¸¸</h2>
<p>æ˜¯ç¼–è¯‘å™¨è¦æ±‚å¿…é¡»å¤„ç½®çš„å¼‚å¸¸ã€‚</p>
<h2 id="å¼‚å¸¸å¤„ç†"><a class="markdownIt-Anchor" href="#å¼‚å¸¸å¤„ç†"></a> å¼‚å¸¸å¤„ç†</h2>
<blockquote>
<p>å½“å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œå¯¹å¼‚å¸¸å¤„ç†çš„æ–¹å¼</p>
</blockquote>
<h3 id="try-catch-finally"><a class="markdownIt-Anchor" href="#try-catch-finally"></a> <code>try - catch - finally</code></h3>
<p>ç¨‹åºå‘˜åœ¨ä»£ç ä¸­æ•è·å‘ç”Ÿçš„å¼‚å¸¸ï¼Œè‡ªè¡Œå¤„ç†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">//ä»£ç å¯èƒ½æœ‰å¼‚å¸¸</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">    <span class="comment">//æ•è·åˆ°å¼‚å¸¸</span></span><br><span class="line">    <span class="comment">//1.å½“å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿå°†å¼‚å¸¸å°è£…ç»™Exceptionå¯¹è±¡eï¼Œä¼ é€’ç»™catch</span></span><br><span class="line">    <span class="comment">//2.å¾—åˆ°å¼‚å¸¸å¯¹è±¡åï¼Œç¨‹åºå‘˜è‡ªå·±å¤„ç†ã€‚</span></span><br><span class="line">    <span class="comment">//æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œcatchä»£ç å—ä¸ä¼šæ‰§è¡Œã€‚</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">//ä¸ç®¡tryä»£ç å—æ˜¯å¦æœ‰å¼‚å¸¸å‘ç”Ÿï¼Œå§‹ç»ˆè¦æ‰§è¡Œfinally</span></span><br><span class="line">    <span class="comment">//é€šå¸¸å°†å…³é—­é‡Šæ”¾èµ„æºçš„ä»£ç æ”¾åœ¨finallyé‡Œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å¦‚æœå¼‚å¸¸å‘ç”Ÿäº†ï¼Œåˆ™å¼‚å¸¸åä¹°ä½ çš„ä»£ç ä¸ä¼šæ‰§è¡Œï¼Œç›´æ¥è¿›å…¥åˆ°<code>catch</code>å—ï¼Œ</li>
<li>å¦‚æœå¼‚å¸¸æ²¡æœ‰å‘ç”Ÿï¼Œåˆ™é¡ºåºæ‰§è¡Œ<code>try</code>çš„ä»£ç å—ï¼Œä¸ä¼šè¿›å…¥åˆ°<code>catch</code></li>
<li>å¦‚æœå¸Œæœ›ä¸ç®¡æ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œéƒ½æ‰§è¡ŒæŸæ®µä»£ç ï¼ˆæ¯”å¦‚å…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æºç­‰ï¼‰åˆ™ä½¿ç”¨<code>finally</code></li>
</ul>
<h3 id="throws"><a class="markdownIt-Anchor" href="#throws"></a> <code>throws</code></h3>
<p>å°†å‘ç”Ÿçš„å¼‚å¸¸æŠ›å‡ºï¼Œäº¤ç»™è°ƒç”¨è€…ï¼ˆæ–¹æ³•ï¼‰æ¥å¤„ç†ï¼Œæœ€é¡¶çº§çš„å¤„ç†è€…å°±æ˜¯JVM</p>
<p>å½“ä¸‹å±‚æ–¹æ³•å‡ºç°å¼‚å¸¸æ—¶ï¼Œå¯ä»¥å°†å¼‚å¸¸æŠ›å‡ºè‡³ä¸Šå±‚è°ƒç”¨è‡ªå·±çš„æ–¹æ³•ã€‚ç›´è‡³æŠ›å‡ºè‡³JVMï¼ŒJVMå¤„ç†å¼‚å¸¸æ–¹æ³•ï¼šè¾“å‡ºå¼‚å¸¸ä¿¡æ¯ï¼Œä¸­æ–­ç¨‹åºï¼Œé€€å‡ºç¨‹åºã€‚</p>
<p>å¦‚æœç¨‹åºå‘˜æ²¡æœ‰æ˜¾ç¤ºçš„å¤„ç†å¼‚å¸¸ï¼Œé»˜è®¤ä½¿ç”¨<code>throws</code>å¤„ç†å¼‚å¸¸</p>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å¯¹äºç¼–è¯‘å¼‚å¸¸ï¼Œç¨‹åºä¸­å¿…é¡»å¤„ç†ï¼Œæ¯”å¦‚<code>try - catch</code>æˆ–è€…<code>throws</code></li>
<li>å¯¹äºè¿è¡Œå¼‚å¸¸ï¼Œç¨‹åºä¸­å¦‚æœæ²¡æœ‰å¤„ç†ï¼Œé»˜è®¤å°±æ˜¯<code>throws</code>æ–¹å¼å¤„ç†</li>
<li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œå¯¹æŠ›å‡ºå¼‚å¸¸çš„è§„å®šï¼šå­ç±»é‡å†™çš„æ–¹æ³•ï¼Œæ‰€æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹è¦ä¹ˆå’Œçˆ¶ç±»æŠ›å‡ºçš„å¼‚å¸¸ä¸€è‡´ï¼Œè¦ä¹ˆä¸ºçˆ¶ç±»æŠ›å‡ºçš„å¼‚å¸¸çš„ç±»å‹çš„å­ç±»ã€‚</li>
<li>åœ¨<code>throws</code>è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰æ–¹æ³•<code>try-catch</code>ï¼Œå°±ç›¸å½“äºå¤„ç†å¼‚å¸¸ï¼Œå°±å¯ä»¥ä¸å¿…<code>throws</code></li>
</ul>
<h2 id="è‡ªå®šä¹‰å¼‚å¸¸"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰å¼‚å¸¸"></a> è‡ªå®šä¹‰å¼‚å¸¸</h2>
<blockquote>
<p>å½“ç¨‹åºä¸­å‡ºç°äº†æŸäº›â€œé”™è¯¯â€ï¼Œä½†è¯¥é”™è¯¯ä¿¡æ¯å¹¶æ²¡æœ‰åœ¨Trowableå­ç±»ä¸­æè¿°å¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥è‡ªå·±è®¾è®¡å¼‚å¸¸ç±»ï¼Œç”¨äºæè¿°è¯¥é”™è¯¯ä¿¡æ¯ã€‚</p>
</blockquote>
<p><strong>æ­¥éª¤</strong></p>
<ol>
<li>å®šä¹‰ç±»ï¼šè‡ªå®šä¹‰å¼‚å¸¸ç±»åï¼ˆç¨‹åºå‘˜è‡ªå·±å†™ï¼‰ï¼Œç»§æ‰¿<code>Exception</code>æˆ–<code>RuntimeException</code></li>
<li>å¦‚æœç»§æ‰¿<code>Exception</code>ï¼Œå±äºç¼–è¯‘å¼‚å¸¸ã€‚</li>
<li>å¦‚æœç»§æ‰¿<code>RuntimeException</code>ï¼Œå±äºè¿è¡Œå¼‚å¸¸ï¼ˆä¸€èˆ¬æ¥è¯´ï¼Œç»§æ‰¿<code>RuntimeException</code>ï¼‰</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.customexception;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomException</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">80</span>;</span><br><span class="line">        <span class="keyword">if</span> (!(age &gt;= <span class="number">18</span> &amp;&amp; age &lt;= <span class="number">120</span>)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AgeException</span>(<span class="string">&quot;å¹´é¾„éœ€è¦åœ¨ 18~120ä¹‹é—´&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½ çš„å¹´é¾„èŒƒå›´æ­£ç¡®ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰è¿è¡Œæ—¶å¼‚å¸¸</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AgeException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AgeException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="throw-å’Œ-throws-çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#throw-å’Œ-throws-çš„åŒºåˆ«"></a> <code>throw</code> å’Œ <code>throws</code> çš„åŒºåˆ«</h3>
<table>
<thead>
<tr>
<th></th>
<th>æ„ä¹‰</th>
<th>ä½ç½®</th>
<th>åé¢è·Ÿçš„ä¸œè¥¿</th>
</tr>
</thead>
<tbody>
<tr>
<td>throws</td>
<td>å¼‚å¸¸å¤„ç†çš„ä¸€ç§æ–¹å¼</td>
<td>æ–¹æ³•å£°æ˜å¤„</td>
<td>å¼‚å¸¸ç±»å‹</td>
</tr>
<tr>
<td>throw</td>
<td>æ‰‹åŠ¨ç”Ÿæˆå¼‚å¸¸å¯¹è±¡çš„å…³é”®å­—</td>
<td>æ–¹æ³•ä½“ä¸­</td>
<td>å¼‚å¸¸å¯¹è±¡</td>
</tr>
</tbody>
</table>
<h1 id="å¸¸ç”¨ç±»"><a class="markdownIt-Anchor" href="#å¸¸ç”¨ç±»"></a> å¸¸ç”¨ç±»</h1>
<h2 id="åŒ…è£…ç±»"><a class="markdownIt-Anchor" href="#åŒ…è£…ç±»"></a> åŒ…è£…ç±»</h2>
<blockquote>
<p>é’ˆå¯¹å…«ç§åŸºæœ¬æ•°æ®ç±»å‹ç›¸åº”çš„å¼•ç”¨ç±»å‹â€”â€”åŒ…è£…ç±»</p>
<p>æœ‰äº†ç±»çš„ç‰¹ç‚¹ï¼Œå°±å¯ä»¥è°ƒç”¨ç±»ä¸­çš„æ–¹æ³•</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">åŸºæœ¬æ•°æ®ç±»å‹</th>
<th style="text-align:center">åŒ…è£…ç±»</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">boolean</td>
<td style="text-align:center">Boolean</td>
</tr>
<tr>
<td style="text-align:center">char</td>
<td style="text-align:center">Character</td>
</tr>
<tr>
<td style="text-align:center">byte</td>
<td style="text-align:center">Byte</td>
</tr>
<tr>
<td style="text-align:center">short</td>
<td style="text-align:center">Short</td>
</tr>
<tr>
<td style="text-align:center">int</td>
<td style="text-align:center">Integer</td>
</tr>
<tr>
<td style="text-align:center">long</td>
<td style="text-align:center">Long</td>
</tr>
<tr>
<td style="text-align:center">float</td>
<td style="text-align:center">Float</td>
</tr>
<tr>
<td style="text-align:center">double</td>
<td style="text-align:center">Double</td>
</tr>
</tbody>
</table>
<h3 id="åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®çš„è½¬æ¢"><a class="markdownIt-Anchor" href="#åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®çš„è½¬æ¢"></a> åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®çš„è½¬æ¢</h3>
<ul>
<li><code>jdk5</code>å‰çš„æ‰‹åŠ¨è£…ç®±å’Œæ‹†ç®±æ–¹å¼ï¼Œè£…ç®±ï¼šåŸºæœ¬ç±»å‹-&gt;åŒ…è£…ç±»ï¼Œåä¹‹ä¸ºæ‹†ç®±</li>
<li><code>jdk5</code>ä»¥åçš„è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±æ–¹å¼</li>
<li>è‡ªåŠ¨è£…ç®±åº•å±‚è°ƒç”¨çš„æ˜¯<code>valueOf()</code>æ–¹æ³•ï¼Œè‡ªåŠ¨æ‹†ç®±åº•å±‚è°ƒç”¨çš„æ˜¯<code>intValue()</code>æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.wrapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WrapperType</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// æ¼”ç¤ºint å’ŒIntegerçš„è£…ç®±å’Œæ‹†ç®±</span></span><br><span class="line">        <span class="comment">//æ‰‹åŠ¨è£…ç®±</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(n1);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer1</span> <span class="operator">=</span> Integer.valueOf(n1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰‹åŠ¨æ‹†ç®±</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> integer.intValue();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// jdk5 åå°±å¯ä»¥è‡ªåŠ¨è£…ç®±å’Œè‡ªåŠ¨æ‹†ç®±</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line">        <span class="comment">// è‡ªåŠ¨è£…ç®± int-&gt; Integer</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer2</span> <span class="operator">=</span> n2; <span class="comment">// åº•å±‚ä½¿ç”¨çš„æ˜¯ Interger.valueOf()</span></span><br><span class="line">        <span class="comment">// è‡ªåŠ¨æ‹†ç®±</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n3</span> <span class="operator">=</span> integer2; <span class="comment">// åº•å±‚ä»ç„¶ä½¿ç”¨çš„æ˜¯intValue()æ–¹æ³•ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŒ…è£…ç±»å‹å’Œstringç±»å‹çš„ç›¸äº’è½¬æ¢"><a class="markdownIt-Anchor" href="#åŒ…è£…ç±»å‹å’Œstringç±»å‹çš„ç›¸äº’è½¬æ¢"></a> åŒ…è£…ç±»å‹å’ŒStringç±»å‹çš„ç›¸äº’è½¬æ¢</h3>
<p>ä»¥<code>Integer</code>å’Œ<code>String</code>ç±»å‹çš„ç›¸äº’è½¬æ¢ä¸ºä¾‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.wrapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WrapperVSString</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åŒ…è£…ç±»Integer - &gt; String</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> <span class="number">100</span>;  <span class="comment">// è‡ªåŠ¨è£…ç®±</span></span><br><span class="line">        <span class="comment">// æ–¹å¼1</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> integer + <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">// æ–¹å¼2</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> integer.toString();</span><br><span class="line">        <span class="comment">// æ–¹å¼3</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> String.valueOf(integer);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//String -&gt; åŒ…è£…ç±»</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        <span class="comment">// æ–¹å¼1</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> Integer.parseInt(str); <span class="comment">// è‡ªåŠ¨è£…ç®±</span></span><br><span class="line">        <span class="comment">// æ–¹å¼2</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(str); <span class="comment">// æ„é€ å™¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŒ…è£…ç±»å¸¸ç”¨çš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#åŒ…è£…ç±»å¸¸ç”¨çš„æ–¹æ³•"></a> åŒ…è£…ç±»å¸¸ç”¨çš„æ–¹æ³•</h3>
<p><code>Integer</code>ç±»å’Œ<code>String</code>ç±»ä¸ºä¾‹</p>
<ul>
<li><code>Integer.MIN_VALUE</code>ï¼Œè¿”å›æœ€å°å€¼</li>
<li><code>Integer.MAX_VALUE</code>ï¼Œè¿”å›æœ€å¤§å€¼</li>
<li><code>Character.isDigit('a')</code>ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯æ•°å­—</li>
<li><code>Character.isLetter('a')</code>ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯å­—æ¯</li>
<li><code>Character.isUpperCase('a')</code>ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯å¤§å†™</li>
<li><code>Character.isLowerCase('a')</code>ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯å°å†™</li>
<li><code>Character.isLowerCase('a')</code>ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯å°å†™</li>
<li><code>Character.isWhitespace('a')</code>ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯ç©ºæ ¼</li>
<li><code>Character.toLowerCase('a')</code>ï¼Œè½¬æˆå°å†™</li>
<li><code>Character.toUpperCase('a')</code>ï¼Œè½¬æˆå¤§å†™</li>
</ul>
<h2 id="stringç±»"><a class="markdownIt-Anchor" href="#stringç±»"></a> Stringç±»</h2>
<ul>
<li><code>String</code>å¯¹è±¡é€‚ç”¨äºä¿å­˜å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯ä¸€ç»„å­—ç¬¦åºåˆ—</li>
<li>å­—ç¬¦ä¸²å¸¸é‡å¯¹è±¡æ˜¯ç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚å¦‚ï¼šâ€œjackâ€</li>
<li>å­—ç¬¦ä¸²çš„å­—ç¬¦ä½¿ç”¨Unicodeå­—ç¬¦ç¼–ç ï¼Œä¸€ä¸ªå­—ç¬¦ï¼ˆä¸åŒºåˆ†å­—æ¯è¿˜æ˜¯æ±‰å­—ï¼‰å ä¸¤ä¸ªå­—èŠ‚ã€‚</li>
<li><code>String</code>ç±»æœ‰å¾ˆå¤šæ„é€ å™¨ï¼Œæ„é€ å™¨çš„é‡è½½ã€‚</li>
<li><code>String</code> ç±»å®ç°äº†æ¥å£<code>Serializable</code>ï¼Œåˆ™Stringå¯ä»¥ä¸²è¡ŒåŒ–ï¼ˆæ•°æ®å¯ä»¥åœ¨ç½‘ç»œä¼ è¾“ï¼‰ï¼Œè¿˜å®ç°äº†<code>Comparable</code>æ¥å£ï¼Œå¯¹è±¡å¯ä»¥æ¯”è¾ƒå¤§å°ã€‚</li>
<li><code>String</code> æ˜¯<code>final</code>ç±»ï¼Œä¸èƒ½è¢«ç»§æ‰¿</li>
<li><code>String</code> æœ‰å±æ€§ <code>private final char value[]</code>ç”¨äºå­˜æ”¾å­—ç¬¦ä¸²å†…å®¹ã€‚å› ä¸ºæ˜¯<code>final</code>ç±»å‹ï¼Œæ‰€ä»¥ä¸å¯ä»¥ä¿®æ”¹ï¼ˆæŒ‡ä»£åœ°å€ä¸èƒ½å¤Ÿä¿®æ”¹ï¼‰</li>
</ul>
<h3 id="åˆ›å»ºstringå¯¹è±¡çš„ä¸¤ç§æ–¹å¼"><a class="markdownIt-Anchor" href="#åˆ›å»ºstringå¯¹è±¡çš„ä¸¤ç§æ–¹å¼"></a> åˆ›å»ºStringå¯¹è±¡çš„ä¸¤ç§æ–¹å¼</h3>
<ul>
<li>ç›´æ¥èµ‹å€¼<code>String str = &quot;xzt&quot;;</code></li>
<li>è°ƒç”¨æ„é€ å™¨<code>String str = new String(&quot;xzt&quot;);</code></li>
</ul>
<h3 id="å­—ç¬¦ä¸²çš„ç‰¹æ€§"><a class="markdownIt-Anchor" href="#å­—ç¬¦ä¸²çš„ç‰¹æ€§"></a> å­—ç¬¦ä¸²çš„ç‰¹æ€§</h3>
<ul>
<li><code>String</code>ç±»æ˜¯ä¸€ä¸ª<code>final</code>ç±»ï¼Œä»£è¡¨ä¸å¯å˜çš„å­—ç¬¦åºåˆ—</li>
<li>å­—ç¬¦ä¸²ä¸å¯å˜ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ä¸€æ—¦è¢«åˆ†é…ï¼Œå…¶å†…å®¹æ˜¯ä¸å¯å˜çš„ã€‚</li>
</ul>
<h3 id="stringç±»çš„å¸¸è§æ–¹æ³•"><a class="markdownIt-Anchor" href="#stringç±»çš„å¸¸è§æ–¹æ³•"></a> Stringç±»çš„å¸¸è§æ–¹æ³•</h3>
<p>Stringç±»æ˜¯ä¿å­˜å­—ç¬¦ä¸²å¸¸é‡çš„ï¼Œæ¯æ¬¡æ›´æ–°éƒ½éœ€è¦é‡æ–°å¼€è¾Ÿç©ºé—´ï¼Œæ•ˆç‡ä½ï¼Œå› æ­¤javaè®¾è®¡è€…è¿˜æä¾›äº†<code>StringBuilder</code>å’Œ<code>StringBuffer</code>æ¥å¢å¼ºStringçš„åŠŸèƒ½ï¼Œå¹¶æé«˜æ•ˆç‡ã€‚</p>
<ul>
<li><code>equals()</code>åŒºåˆ†å¤§å°å†™ï¼Œåˆ¤æ–­å†…å®¹æ˜¯å¦ç›¸ç­‰</li>
<li><code>length()</code> è·å–å­—ç¬¦çš„ä¸ªæ•°ï¼Œå­—ç¬¦ä¸²çš„é•¿åº¦</li>
<li><code>indexOf()</code>è·å–ç¬¬iä¸ªå­—ç¬¦</li>
<li><code>substring(x)</code>ï¼Œæˆªå–ç´¢å¼•xåé¢çš„å†…å®¹</li>
<li><code>substring(start, end)</code>ï¼Œä»ç´¢å¼•startå¼€å§‹ï¼Œä¸€ç›´åˆ°ç´¢å¼•end-1çš„ä½ç½®</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.string_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">String01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;jack&quot;</span>;</span><br><span class="line">        System.out.println(str.equals(<span class="string">&quot;JACK&quot;</span>)); <span class="comment">//False åŒºåˆ†å¤§å°å†™</span></span><br><span class="line">        System.out.println(str.equalsIgnoreCase(<span class="string">&quot;JACK&quot;</span>)); <span class="comment">// Trueï¼Œä¸åŒºåˆ†å¤§å°å†™</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span><br><span class="line">            System.out.println(str.indexOf(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;abcdfsadfrf&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> s1.indexOf(<span class="string">&#x27;a&#x27;</span>);<span class="comment">// è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°&#x27;a&#x27;çš„ä½ç½®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">substring</span> <span class="operator">=</span> s1.substring(<span class="number">0</span>, <span class="number">6</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="stringbufferç±»"><a class="markdownIt-Anchor" href="#stringbufferç±»"></a> <code>StringBuffer</code>ç±»</h2>
<p><code>java.lang.StringBuffer</code>ä»£è¡¨å¯å˜çš„å­—ç¬¦åºåˆ—ï¼Œå¯ä»¥å¯¹å­—ç¬¦ä¸²å†…å®¹è¿›è¡Œå¢åˆ ã€‚å¾ˆå¤šæ–¹æ³•å’ŒStringç›¸åŒï¼Œä½†<code>StringBuffer</code><strong>æ˜¯å¯å˜é•¿åº¦çš„</strong>ã€‚</p>
<ul>
<li><code>StringBuffer</code>æ˜¯ä¸€ä¸ªå®¹å™¨</li>
</ul>
<p><strong>ç±»ç»“æ„</strong></p>
<ul>
<li>ç›´æ¥çˆ¶ç±»æ˜¯<code>AbstractStringBuilder</code>ç±»</li>
<li>å®ç°äº†<code>Serializable</code>ï¼Œå³<code>StringBuffer</code>çš„å¯¹è±¡å¯ä»¥ä¸²è¡ŒåŒ–</li>
<li>åœ¨çˆ¶ç±»ä¸­ æœ‰å±æ€§ <code>char[] value</code>ï¼Œä¸æ˜¯<code>final</code>ï¼Œè¯¥valueæ•°ç»„å­˜æ”¾å­—ç¬¦ä¸²çš„å†…å®¹ã€‚å­˜æ”¾åœ¨å †ä¸­ã€‚</li>
<li><code>StringBuffer</code>æ˜¯ä¸€ä¸ª<code>final</code>ç±»ï¼Œä¸èƒ½è¢«ç»§æ‰¿ã€‚</li>
</ul>
<h3 id="stringbuffer-vs-string"><a class="markdownIt-Anchor" href="#stringbuffer-vs-string"></a> <code>StringBuffer</code> VS <code>String</code></h3>
<ol>
<li><code>String</code>ä¿å­˜çš„æ˜¯å­—ç¬¦ä¸²å¸¸é‡ï¼Œé‡Œé¢çš„å€¼ä¸èƒ½æ›´æ”¹ï¼Œæ¯æ¬¡<code>String</code>ç±»çš„æ›´æ–°å®é™…ä¸Šå°±æ˜¯æ›´æ”¹åœ°å€ï¼Œæ•ˆç‡ä½ã€‚</li>
<li><code>StringBuffer</code>ä¿å­˜çš„æ˜¯å­—ç¬¦ä¸²å˜é‡ï¼Œé‡Œé¢çš„å€¼å¯ä»¥æ›´æ”¹ï¼Œæ¯æ¬¡<code>StringBuffer</code>çš„æ›´æ–°å®é™…ä¸Šå¯ä»¥æ›´æ–°å†…å®¹ï¼Œä¸ç”¨æ›´æ–°åœ°å€ï¼Œæ•ˆç‡é«˜ã€‚</li>
</ol>
<h3 id="æ„é€ å™¨"><a class="markdownIt-Anchor" href="#æ„é€ å™¨"></a> æ„é€ å™¨</h3>
<ul>
<li><code>StringBuffer stringBuffer = new StringBuffer();</code>åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º16çš„<code>char[]</code>ï¼Œç”¨äºå­˜æ”¾å­—ç¬¦å†…å®¹</li>
<li><code>StringBuffer stringBuffer = new StringBuffer(100);</code>ï¼Œé€šè¿‡æ„é€ å™¨æŒ‡å®š<code>char[]</code> å¤§å°</li>
<li><code>StringBuffer stringBuffer = new StringBuffer(&quot;Hello&quot;);</code> é€šè¿‡æ„é€ å™¨ç»™ä¸€ä¸ª<code>String</code>åˆ›å»º<code>StringBuffer</code>ï¼Œ<code>char[]</code>å¤§å°ä¸ºStringçš„é•¿åº¦ + 16</li>
</ul>
<h3 id="stringbufferçš„è½¬æ¢"><a class="markdownIt-Anchor" href="#stringbufferçš„è½¬æ¢"></a> <code>StringBuffer</code>çš„è½¬æ¢</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.StringBuffer_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringAndStringBuffer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello Xzt&quot;</span>;</span><br><span class="line">        <span class="comment">//String -&gt; StringBuffer</span></span><br><span class="line">        <span class="comment">// 1. ä½¿ç”¨æ„é€ å™¨ï¼Œè¿”å›çš„æ‰æ˜¯StringBufferå¯¹è±¡ï¼Œå¯¹Stringæœ¬èº«æ²¡æœ‰å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(str);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. ä½¿ç”¨appendæ–¹æ³•</span></span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">stringBuffer1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        stringBuffer1.append(str);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//StringBuffer -&gt; String</span></span><br><span class="line">        <span class="comment">// 1. ä½¿ç”¨StringBufferæä¾›çš„toStringæ–¹æ³•</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> stringBuffer.toString();</span><br><span class="line">        <span class="comment">// 2. ä½¿ç”¨æ„é€ å™¨è½¬æ¢</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(stringBuffer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="stringbuilderç±»"><a class="markdownIt-Anchor" href="#stringbuilderç±»"></a> <code>StringBuilder</code>ç±»</h2>
<p>ä¸€ä¸ªå¯å˜çš„å­—ç¬¦åºåˆ—ï¼Œæ­¤ç±»æä¾›ä¸€ä¸ªä¸<code>StringBuffer</code>å…¼å®¹çš„APIï¼Œä½†ä¸ä¿è¯åŒæ­¥ã€‚è¯¥ç±»è¢«è®¾è®¡ç”¨ä½œ<code>StringBuffer</code>çš„ä¸€ä¸ªç®€æ˜“æ›¿æ¢ï¼Œ<strong>ç”¨åœ¨å­—ç¬¦ä¸²ç¼“å†²åŒºè¢«å•ä¸ªçº¿ç¨‹ä½¿ç”¨çš„æ—¶å€™</strong>ã€‚å¦‚æœå¯èƒ½ï¼Œå»ºè®®ä¼˜å…ˆé‡‡ç”¨è¯¥ç±»ï¼Œå› ä¸ºåœ¨å¤§å¤šæ•°å®ç°ä¸­ï¼Œå®ƒæ¯”<code>StringBuffer</code>è¦å¿«ã€‚</p>
<p>åœ¨<code>StringBuilder</code>ä¸Šä¸»è¦æ“ä½œçš„æ˜¯<code>append()</code>å’Œ<code>insert()</code>æ–¹æ³•ï¼Œå¯é‡è½½è¿™äº›æ–¹æ³•ï¼Œä»¥æ¥å—ä»»æ„ç±»å‹çš„æ•°æ®ã€‚</p>
<h2 id="mathç±»"><a class="markdownIt-Anchor" href="#mathç±»"></a> Mathç±»</h2>
<blockquote>
<p>Mathç±»åŒ…å«äºæ‰§è¡ŒåŸºæœ¬æ•°å­¦è¿ç®—çš„æ–¹æ³•ï¼Œå¦‚åˆç­‰æŒ‡æ•°ã€å¯¹æ•°ã€å¹³æ–¹æ ¹å’Œä¸‰è§’å‡½æ•°ã€‚</p>
<p>å‡æ˜¯é™æ€æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨<code>Math.</code>è°ƒç”¨ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>abs(x)</code></td>
<td style="text-align:center">è®¡ç®—xçš„ç»å¯¹å€¼</td>
</tr>
<tr>
<td style="text-align:center"><code>pow(x, y)</code></td>
<td style="text-align:center">è®¡ç®—å¹‚ï¼Œxçš„yæ¬¡æ–¹</td>
</tr>
<tr>
<td style="text-align:center"><code>ceil(x)</code></td>
<td style="text-align:center">è¿”å›å¤§äºç­‰äºxçš„æœ€å°æ•´æ•°ï¼Œå‘ä¸Šå–æ•´</td>
</tr>
<tr>
<td style="text-align:center"><code>floor(x)</code></td>
<td style="text-align:center">è¿”å›å°äºç­‰äºxçš„æœ€å°æ•´æ•°ï¼Œå‘ä¸‹å–æ•´</td>
</tr>
<tr>
<td style="text-align:center"><code>round(x)</code></td>
<td style="text-align:center">å°†xè¿›è¡Œå››èˆäº”å…¥å¹¶è¿”å›</td>
</tr>
<tr>
<td style="text-align:center"><code>sqrt(x)</code></td>
<td style="text-align:center">æ±‚xçš„å¼€æ–¹</td>
</tr>
<tr>
<td style="text-align:center"><code>random()</code></td>
<td style="text-align:center">è¿”å›çš„æ˜¯0&lt;= x &lt; 1ä¹‹é—´çš„ä¸€ä¸ªéšæœºå°æ•°</td>
</tr>
<tr>
<td style="text-align:center"><code>max(x, y)</code></td>
<td style="text-align:center">æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å€¼</td>
</tr>
<tr>
<td style="text-align:center"><code>min(x, y)</code></td>
<td style="text-align:center">æ±‚ä¸¤ä¸ªæ•°çš„æœ€å°å€¼</td>
</tr>
</tbody>
</table>
<h2 id="arraysç±»"><a class="markdownIt-Anchor" href="#arraysç±»"></a> Arraysç±»</h2>
<p><code>Arrays</code>lé‡Œé¢åŒ…å«äº†ä¸€ç³»åˆ—é™æ€æ–¹æ³•ï¼Œç”¨äºç®¡ç†æˆ–æ“ä½œæ•°ç»„ï¼ˆæ¯”å¦‚æ’åºå’Œæœç´¢ï¼‰</p>
<p><strong>å¸¸ç”¨çš„æ–¹æ³•</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">å‡½æ•°</th>
<th style="text-align:center">è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>Arrays.toString(arr)</code></td>
<td style="text-align:center">éå†ï¼ˆæ˜¾ç¤ºï¼‰æ•°ç»„</td>
</tr>
<tr>
<td style="text-align:center"><code>Arrays.sort(arr);</code></td>
<td style="text-align:center">é»˜è®¤ä»å°åˆ°å¤§å°†æ•°ç»„è¿›è¡Œæ’åºï¼Œå¯ä»¥é€šè¿‡<code>Conparator</code>æ¥å£å®ç°å®šåˆ¶æ’åºï¼Œæ’åºä¸ä¼šæ”¹å˜åŸæœ¬çš„æ•°ç»„</td>
</tr>
<tr>
<td style="text-align:center"><code>Arrays.binarySearch(arr, x)</code></td>
<td style="text-align:center">é€šè¿‡äºŒåˆ†æœç´¢è¿›è¡ŒæŸ¥æ‰¾ï¼Œè¦æ±‚æ•°ç»„å¿…é¡»æ’å¥½åº</td>
</tr>
<tr>
<td style="text-align:center"><code>Arrays.copyOf(arr, x)</code></td>
<td style="text-align:center">å°†arræ•°ç»„ä¸­çš„xä¸ªå…ƒç´ æ‹·è´è‡³ä¸€ä¸ªæ–°æ•°ç»„ä¸­</td>
</tr>
<tr>
<td style="text-align:center"><code>Arrays.fill(arr, x)</code></td>
<td style="text-align:center">ä½¿ç”¨xå¡«å……arræ•°ç»„</td>
</tr>
<tr>
<td style="text-align:center"><code>Arrays.equals(arr, tem)</code></td>
<td style="text-align:center">æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„ï¼Œå¦‚æœæ•°ç»„ä¸­çš„å…ƒç´ ä¸€æ ·ï¼Œè¿”å›<code>true</code></td>
</tr>
<tr>
<td style="text-align:center"><code>Arrays.asList(1,2,3,4)</code></td>
<td style="text-align:center">ä¼šå°†æ•°æ®è½¬æˆä¸€ä¸ª<code>List</code>é›†åˆå¹¶è¿”å›ã€‚</td>
</tr>
</tbody>
</table>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.arrays_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Arrays01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Integer[] integers = &#123;<span class="number">1</span>, <span class="number">20</span>, <span class="number">90</span>&#125;;</span><br><span class="line">        <span class="comment">//éå†æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; integers.length; i++) &#123;</span><br><span class="line">            System.out.println(integers[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç›´æ¥å—ç”¨toStringæ–¹æ³•</span></span><br><span class="line">        System.out.println(Arrays.toString(integers));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¼”ç¤ºsortæ–¹æ³•çš„ä½¿ç”¨</span></span><br><span class="line">        Integer[] arrs = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">89</span>&#125;;</span><br><span class="line">        Arrays.sort(arrs);</span><br><span class="line">        System.out.println(Arrays.toString(arrs));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å®šåˆ¶æ’åº, å˜ä¸ºä»å¤§åˆ°å°ï¼Œ ä½“ç°äº†æ¥å£ç¼–ç¨‹çš„æ–¹æ³•ã€‚</span></span><br><span class="line">        Arrays.sort(arrs, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Integer o1, Integer o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o2 - o1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(Arrays.toString(arrs));</span><br><span class="line">        System.out.println(Arrays.binarySearch(arrs, -<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å†’æ³¡æ’åº + <code>Comparator</code>å®šåˆ¶</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.arrays_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArraysSortCustom</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">20</span>&#125;;</span><br><span class="line"></span><br><span class="line">        bubbleSort(arr, <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> (Integer) o1;</span><br><span class="line">                <span class="type">int</span> <span class="variable">i2</span> <span class="operator">=</span> (Integer) o2;</span><br><span class="line">                <span class="keyword">return</span> i1 - i2; <span class="comment">// ä»å°åˆ°å¤§</span></span><br><span class="line"><span class="comment">//                return i2 - i1; // ä»å¤§åˆ°å°</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ™®é€šå†’æ³¡æ’åº</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; arr.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="comment">// ä»å°åˆ°å¤§</span></span><br><span class="line">                <span class="keyword">if</span> (arr[i] &gt; arr[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                    temp = arr[i];</span><br><span class="line">                    arr[i] = arr[i + <span class="number">1</span>];</span><br><span class="line">                    arr[i + <span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†’æ³¡æ’åº + å®šåˆ¶ï¼Œé‡è½½æ–¹æ³•ã€‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>[] arr, Comparator c)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; arr.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (c.compare(arr[i], arr[i + <span class="number">1</span>]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    temp = arr[i];</span><br><span class="line">                    arr[i] = arr[i + <span class="number">1</span>];</span><br><span class="line">                    arr[i + <span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="systemç±»"><a class="markdownIt-Anchor" href="#systemç±»"></a> Systemç±»</h2>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong></p>
<ul>
<li><code>System.exit(0)</code> é€€å‡ºå½“å‰ç¨‹åº</li>
<li><code>arraycopy()</code>ï¼šèµ‹å€¼æ•°ç»„å…ƒç´ ï¼Œæ¯”è¾ƒé€‚åˆåº•å±‚è°ƒç”¨ï¼Œä¸€èˆ¬ä½¿ç”¨<code>Arrays.copyOf</code>å®Œæˆå¤åˆ¶æ•°ç»„</li>
<li><code>System.currentTimeMillens()</code>ï¼šè¿”å›å½“å‰æ—¶é—´è·ç¦»1970-1-1çš„æ¯«ç§’æ•°</li>
<li><code>System.gc()</code>ï¼šè¿è¡Œåƒåœ¾å›æ”¶æœºåˆ¶ã€‚</li>
</ul>
<h2 id="biginteger-å’Œ-bigdecimal-ç±»"><a class="markdownIt-Anchor" href="#biginteger-å’Œ-bigdecimal-ç±»"></a> BigInteger å’Œ BigDecimal ç±»</h2>
<blockquote>
<p>BigInteger é€‚åˆä¿å­˜æ¯”è¾ƒå¤§çš„æ•´å‹</p>
<p>BigDecimal é€‚åˆä¿å­˜ç²¾åº¦æ›´é«˜çš„æµ®ç‚¹å‹ï¼ˆå°æ•°ï¼‰</p>
</blockquote>
<h3 id="biginteger-ç±»"><a class="markdownIt-Anchor" href="#biginteger-ç±»"></a> BigInteger ç±»</h3>
<ul>
<li>ä¸èƒ½ç›´æ¥è¿›è¡ŒåŠ å‡ä¹˜é™¤ï¼Œéœ€è¦ä½¿ç”¨æä¾›çš„ç›¸åº”æ–¹æ³•è¿›è¡Œæ“ä½œã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.biginteger_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BigInteger_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BigInteger</span> <span class="variable">bigInteger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;123456789987654321&quot;</span>);</span><br><span class="line">        <span class="type">BigInteger</span> <span class="variable">bigInteger1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">        System.out.println(bigInteger);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŠ </span></span><br><span class="line">        <span class="type">BigInteger</span> <span class="variable">add</span> <span class="operator">=</span> bigInteger.add(bigInteger1);</span><br><span class="line">        System.out.println(add);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‡</span></span><br><span class="line">        <span class="type">BigInteger</span> <span class="variable">subtract</span> <span class="operator">=</span> bigInteger.subtract(bigInteger1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¹˜</span></span><br><span class="line">        <span class="type">BigInteger</span> <span class="variable">multiply</span> <span class="operator">=</span> bigInteger.multiply(bigInteger1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é™¤</span></span><br><span class="line">        <span class="type">BigInteger</span> <span class="variable">divide</span> <span class="operator">=</span> bigInteger.divide(bigInteger1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="bigdecimal-ç±»"><a class="markdownIt-Anchor" href="#bigdecimal-ç±»"></a> BigDecimal ç±»</h3>
<ul>
<li>ä½¿ç”¨æ–¹æ³•å’Œ<code>BigInteger</code>ç±»ä¼¼ï¼Œ</li>
<li>é™¤æ³•å¯èƒ½ä¼šäº§ç”Ÿå¼‚å¸¸ï¼Œå› ä¸ºå¯èƒ½ä¼šäº§ç”Ÿæ— çº¿å¾ªç¯å°æ•°ï¼Œæ‰€ä»¥éœ€è¦åœ¨åé¢æŒ‡å®šç²¾åº¦ã€‚ä¼šä¿ç•™åˆ†å­ç²¾åº¦ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.bigdecimal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BigDecimal_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">bigDecimal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;12.15626498411494692196496265965269560000&quot;</span>);</span><br><span class="line">        System.out.println(bigDecimal);</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">bigDecimal1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;1.1&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(bigDecimal.add(bigDecimal1));</span><br><span class="line">        System.out.println(bigDecimal.subtract(bigDecimal1));</span><br><span class="line">        System.out.println(bigDecimal.multiply(bigDecimal1));</span><br><span class="line">        <span class="comment">// å‡ºå‘ï¼Œä¿ç•™åˆ†å­ç²¾åº¦</span></span><br><span class="line">        System.out.println(bigDecimal.divide(bigDecimal1, BigDecimal.ROUND_CEILING));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ—¥æœŸç±»"><a class="markdownIt-Anchor" href="#æ—¥æœŸç±»"></a> æ—¥æœŸç±»</h2>
<h3 id="ç¬¬ä¸€ä»£æ—¥æœŸç±»"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€ä»£æ—¥æœŸç±»"></a> ç¬¬ä¸€ä»£æ—¥æœŸç±»</h3>
<blockquote>
<p>â€‹	Date : å¯ä»¥ç²¾ç¡®åˆ°æ¯«ç§’ï¼Œä»£è¡¨ç‰¹å®šçš„ç¬é—´</p>
</blockquote>
<ul>
<li><code>SimpleDateFormat</code>ï¼šæ ¼å¼å’Œè§£ææ—¥æœŸçš„ç±»ã€‚å®ƒå…è®¸è¿›è¡Œæ ¼å¼åŒ–ï¼ˆæ—¥æœŸ-&gt;æ–‡æœ¬ï¼‰è§£æï¼ˆæ–‡æœ¬-&gt;æ—¥æœŸï¼‰</li>
<li><code>Date date = new Date()</code>ï¼Œè¿™é‡Œçš„<code>Date</code>ç±»æ˜¯åœ¨<code>java.util</code>åŒ…</li>
<li>é»˜è®¤è¾“å‡ºçš„æ—¥æœŸæ ¼å¼æ˜¯å›½å¤–çš„æ–¹å¼ï¼Œå› æ­¤éœ€è¦å¯¹æ ¼å¼è¿›è¡Œè½¬æ¢ã€‚</li>
<li><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyå¹´MMæœˆddæ—¥ hh:mm:ss E&quot;);</code> ç”¨äºå°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºè‡ªå®šä¹‰æ ¼å¼ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.date_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.SimpleFormatter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Date_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(); <span class="comment">// è·å–å½“å‰æ—¥æœŸ</span></span><br><span class="line">        System.out.println(date);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†æ—¥æœŸè½¬ä¸ºè‡ªå®šä¹‰æ ¼å¼</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyyå¹´MMæœˆddæ—¥ hh:mm:ss E&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> sdf.format(date);</span><br><span class="line">        System.out.println(format);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†æ¯«ç§’æ•°è½¬ä¸ºå…·ä½“æ—¥æœŸ</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">date1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">9234567</span>);</span><br><span class="line">        System.out.println(date1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºDateï¼Œè¾“å‡ºå½¢å¼ä»ä¸ºå›½å¤–æ ¼å¼</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;1997å¹´01æœˆ01æ—¥ 10:20:30 æ˜ŸæœŸäº”&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;  <span class="comment">// æŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">            <span class="type">Date</span> <span class="variable">parse</span> <span class="operator">=</span> sdf.parse(s);</span><br><span class="line">            System.out.println(sdf.format(parse));  <span class="comment">// å°†æ—¥æœŸæ ¼å¼è½¬ä¸ºè‡ªå®šä¹‰æ ¼å¼</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç¬¬äºŒä»£æ—¥æœŸç±»"><a class="markdownIt-Anchor" href="#ç¬¬äºŒä»£æ—¥æœŸç±»"></a> ç¬¬äºŒä»£æ—¥æœŸç±»</h3>
<blockquote>
<p>ä¸»è¦å°±æ˜¯Calendarç±»ï¼ˆæ—¥å†ï¼‰ ï¼ŒCalendarç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸ºç‰¹å®šç¬é—´ä¸ä¸€ç»„è¯¸å¦‚YEARã€MONTHã€DAY_OF_MONTHã€HOURç­‰æ—¥å†å­—æ®µä¹‹é—´çš„è½¬æ¢æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œå¹¶ä¸ºæ“ä½œæ—¥å†å­—æ®µæä¾›äº†ä¸€äº›æ–¹æ³•ã€‚</p>
</blockquote>
<ul>
<li><code>Calendar</code>æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå¹¶ä¸”æ„é€ å™¨æ˜¯<code>private</code>ï¼Œå¯ä»¥é€šè¿‡<code>getInstance</code>æ–¹æ³•æ¥è·å–å®ä¾‹ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.date_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calendar_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">instance</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        System.out.println(instance);</span><br><span class="line">        System.out.println(instance.get(Calendar.YEAR));</span><br><span class="line">        <span class="comment">// æœˆæ˜¯æŒ‰ç…§ä»0å¼€å§‹ç¼–å·çš„</span></span><br><span class="line">        System.out.println(instance.get(Calendar.MONTH) + <span class="number">1</span>);</span><br><span class="line">        System.out.println(instance.get(Calendar.DAY_OF_MONTH));</span><br><span class="line">        System.out.println(instance.get(Calendar.HOUR));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç¬¬ä¸‰ä»£æ—¥æœŸç±»"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰ä»£æ—¥æœŸç±»"></a> ç¬¬ä¸‰ä»£æ—¥æœŸç±»</h3>
<p><code>Calendar</code>ç±»å­˜åœ¨çš„é—®é¢˜ï¼š</p>
<ul>
<li>å¯å˜æ€§ï¼šåƒæ—¥æœŸå’Œæ—¶é—´è¿™æ ·çš„ç±»åº”è¯¥æ˜¯ä¸å¯å˜çš„ã€‚</li>
<li>åç§»æ€§ï¼š<code>Date</code>ä¸­çš„å¹´ä»½æ˜¯ä»1900å¹´å¼€å§‹çš„ï¼Œè€Œæœˆä»½éƒ½ä»0å¼€å§‹</li>
<li>æ ¼å¼åŒ–ï¼šæ ¼å¼åŒ–æ”¯é˜Ÿ<code>Date</code>æœ‰ç”¨ï¼Œ<code>Calendar</code>åˆ™ä¸è¡Œ</li>
<li>æ­¤å¤–ï¼Œä»–ä»¬ä¹Ÿä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›ä¸èƒ½å¤„ç†é—ºç§’ç­‰ï¼ˆæ¯éš”ä¸¤å¤©ï¼Œå¤šå‡ºä¸€ç§’ï¼‰</li>
</ul>
<p><strong>ç¬¬ä¸‰ä»£æ—¥æœŸç±»å¸¸è§æ–¹æ³•</strong></p>
<ul>
<li><code>LocalDate</code>(æ—¥æœŸ/å¹´æœˆæ—¥)ã€<code>LocalTime</code>ï¼ˆæ—¶é—´/æ—¶åˆ†ç§’ï¼‰ã€<code>LocalDateTime</code>ï¼ˆæ—¥æœŸæ—¶é—´ï¼ŒJDK8åŠ å…¥ï¼‰</li>
<li><code>LocalDateTime now = LocalDateTime.now();</code>è·å¾—å½“å‰æ—¶é—´</li>
<li>ä½¿ç”¨<code>DateTimeFormatter</code>æ ¼å¼æ—¥æœŸç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.date_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.format.DateTimeFormatter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LocalDateTime_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// è·å¾—å½“å‰æ—¶é—´</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        System.out.println(now);</span><br><span class="line"></span><br><span class="line">        System.out.println(now.getMonthValue());</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="type">DateTimeFormatter</span> <span class="variable">dtf</span> <span class="operator">=</span> DateTimeFormatter.ofPattern(<span class="string">&quot;yyyyå¹´MMæœˆddæ—¥ HHæ—¶mmåˆ†ssç§’&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> dtf.format(now);</span><br><span class="line">        System.out.println(format);  <span class="comment">// æ ¼å¼åŒ–æ—¶é—´</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="é›†åˆ"><a class="markdownIt-Anchor" href="#é›†åˆ"></a> é›†åˆ</h1>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>å¯ä»¥åŠ¨æ€ä¿å­˜ä»»æ„å¤šä¸ªå¯¹è±¡ï¼Œä½¿ç”¨æ¯”è¾ƒæ–¹ä¾¿</li>
<li>æä¾›äº†ä¸€ç³»åˆ—æ–¹ä¾¿çš„æ“ä½œå¯¹è±¡çš„æ–¹æ³•ï¼šaddã€removeã€setã€getç­‰</li>
<li>ä½¿ç”¨é›†åˆæ·»åŠ ï¼Œåˆ é™¤æ–°å…ƒç´ çš„ç¤ºæ„ä»£ç ç®€æ´</li>
</ul>
<p><strong>é›†åˆçš„æ¡†æ¶ä½“ç³»â­â­</strong></p>
<blockquote>
<p>â€‹	Java çš„é›†åˆç±»å¾ˆå¤šï¼Œä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼šå•åˆ—é›†åˆã€åŒåˆ—é›†åˆ(é”®å€¼å¯¹ç±»å‹)</p>
</blockquote>
<h2 id="å•åˆ—é›†åˆ-collection"><a class="markdownIt-Anchor" href="#å•åˆ—é›†åˆ-collection"></a> å•åˆ—é›†åˆ Collection</h2>
<p><img src="/img/Java/Collection.png" alt="Collection" /></p>
<h3 id="collectionæ¥å£å®ç°ç±»çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#collectionæ¥å£å®ç°ç±»çš„ç‰¹ç‚¹"></a> <code>Collection</code>æ¥å£å®ç°ç±»çš„ç‰¹ç‚¹</h3>
<p><code>public interface Collection&lt;E&gt; extends iterable&lt;E&gt;</code></p>
<ul>
<li><code>Collection</code>å®ç°å­ç±»å¯ä»¥å­˜æ”¾å¤šä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ å¯ä»¥æ˜¯<code>Object</code></li>
<li>æœ‰äº›<code>Collection</code>çš„å®ç°ç±»ï¼Œå¯ä»¥å­˜æ”¾é‡å¤çš„å…ƒç´ ï¼Œæœ‰äº›ä¸å¯ä»¥</li>
<li>æœ‰äº›<code>Collection</code>çš„å®ç°ç±»ï¼Œæœ‰äº›æ˜¯æœ‰åºçš„ï¼ˆ<code>List</code>ï¼‰ï¼Œæœ‰äº›æ˜¯æ— åºçš„ï¼ˆ<code>Set</code>ï¼‰</li>
<li><code>Collection</code>æ¥å£æ²¡æœ‰ç›´æ¥çš„å®ç°å­ç±»ï¼Œæ˜¯é€šè¿‡å®ƒçš„å­æ¥å£<code>Set</code>å’Œ<code>List</code>æ¥å®ç°çš„</li>
</ul>
<h3 id="å¸¸ç”¨çš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#å¸¸ç”¨çš„æ–¹æ³•"></a> å¸¸ç”¨çš„æ–¹æ³•</h3>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>add(x)</code></td>
<td style="text-align:center">æ·»åŠ å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>remove(x)</code></td>
<td style="text-align:center">åˆ é™¤å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>contains(x)</code></td>
<td style="text-align:center">æŸ¥æ‰¾æŸä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨</td>
</tr>
<tr>
<td style="text-align:center"><code>size()</code></td>
<td style="text-align:center">è¿”å›å…ƒç´ çš„ä¸ªæ•°</td>
</tr>
<tr>
<td style="text-align:center"><code>isEmpty()</code></td>
<td style="text-align:center">åˆ¤æ–­æ˜¯å¦ä¸ºç©º</td>
</tr>
<tr>
<td style="text-align:center"><code>clear()</code></td>
<td style="text-align:center">æ¸…ç©ºåˆ—è¡¨</td>
</tr>
<tr>
<td style="text-align:center"><code>addAll(ç»“åˆ)</code></td>
<td style="text-align:center">æ·»åŠ å¤šä¸ªå…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>containsAll(é›†åˆ)</code></td>
<td style="text-align:center">æŸ¥çœ‹å¤šä¸ªå…ƒç´ æ˜¯å¦éƒ½å­˜åœ¨</td>
</tr>
<tr>
<td style="text-align:center"><code>removeAll(é›†åˆ)</code></td>
<td style="text-align:center">åˆ é™¤å¤šä¸ªå…ƒç´ </td>
</tr>
</tbody>
</table>
<h3 id="éå†å…ƒç´ çš„æ–¹å¼"><a class="markdownIt-Anchor" href="#éå†å…ƒç´ çš„æ–¹å¼"></a> éå†å…ƒç´ çš„æ–¹å¼</h3>
<p><strong>ä½¿ç”¨<code>iterator</code>è¿­ä»£å™¨è¿›è¡Œéå†</strong></p>
<ul>
<li><code>Iterator iterator = list.iterator();</code>ç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨</li>
<li><code>iterator.hashNext()</code>åˆ¤æ–­æ˜¯å¦è¿˜å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´ </li>
<li><code>Object next = iterator.next();</code>è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä»¥<code>Object</code>ç±»å‹è¿”å›</li>
<li>éå†ä¸€éåï¼Œå¦‚æœéœ€è¦è¿›è¡Œå†æ¬¡éå†ï¼Œéœ€è¦é‡ç½®è¿­ä»£å™¨<code>iterator = list.iterator();</code></li>
</ul>
<p><strong>å¢å¼º<code>forå¾ªç¯</code>è¿›è¡Œéå†</strong></p>
<ul>
<li>åº•å±‚ä»ç„¶æ˜¯è¿­ä»£å™¨ï¼Œæ˜¯ç®€åŒ–ç‰ˆçš„è¿­ä»£å™¨ã€‚</li>
<li><code>for(Object obj : list) &#123;&#125;</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.collection_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionMethod</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="comment">// add æ·»åŠ å…ƒç´ </span></span><br><span class="line">        list.add(<span class="string">&quot;xzt&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;qqy&quot;</span>);</span><br><span class="line">        list.add(<span class="number">20</span>);</span><br><span class="line">        list.add(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éå†é›†åˆ</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;  <span class="comment">// åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æ•°æ®</span></span><br><span class="line">            <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();  <span class="comment">// è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œç±»å‹æ˜¯Object</span></span><br><span class="line">            System.out.println(next);   <span class="comment">// åŠ¨æ€ç»‘å®šï¼Œè°ƒç”¨ç›¸åº”å¯¹è±¡çš„toStringæ–¹æ³•</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        iterator = list.iterator();  <span class="comment">// é‡ç½®è¿­ä»£å™¨</span></span><br><span class="line">        <span class="comment">//å¿«æ·é”®å®ç°ï¼š itit + Enter</span></span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(next);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¢å¼ºforå¾ªç¯è¿›è¡Œéå†</span></span><br><span class="line">        <span class="keyword">for</span> (Object obj: list) &#123;</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="list"><a class="markdownIt-Anchor" href="#list"></a> List</h3>
<ul>
<li><code>List</code>é›†åˆç±»ä¸­å…ƒç´ æœ‰åºï¼ˆå³æ·»åŠ é¡ºåºå’Œå–å‡ºé¡ºåºä¸€è‡´ï¼‰ã€ä¸”å¯é‡å¤</li>
<li><code>List</code>é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰å…¶å¯¹åº”çš„é¡ºåºç´¢å¼•ï¼Œå³æ”¯æŒç´¢å¼•ï¼Œç´¢å¼•æ˜¯ä»0å¼€å§‹</li>
<li><code>List</code>çš„å®ç°ç±»æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ï¼š<code>ArrayList</code>ã€<code>Vector</code>ã€<code>Stack</code>ã€<code>LinkedList</code>ç­‰ç­‰</li>
</ul>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>add(int index, Object obj)</code></td>
<td style="text-align:center">åœ¨indexä½ç½®æ’å…¥obj</td>
</tr>
<tr>
<td style="text-align:center"><code>addAll(int index, Collection col)</code></td>
<td style="text-align:center">åœ¨indexä½ç½®å¼€å§‹æ’å…¥colä¸­çš„æ‰€æœ‰å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>get(int index)</code></td>
<td style="text-align:center">è·å¾—indexä½ç½®çš„å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>indexOf(Onject obj)</code></td>
<td style="text-align:center">è¿”å›objåœ¨é›†åˆä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®</td>
</tr>
<tr>
<td style="text-align:center"><code>lastIndexOf(Object obj)</code></td>
<td style="text-align:center">è¿”å›objåœ¨å½“å‰é›†åˆä¸­æœ€åå‡ºç°çš„ä½ç½®</td>
</tr>
<tr>
<td style="text-align:center"><code>remove(int index)</code></td>
<td style="text-align:center">ç§»é™¤indexä½ç½®çš„å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>set(int index, Object obj)</code></td>
<td style="text-align:center">è®¾ç½®æŒ‡å®šä½ç½®çš„å…ƒç´ ä¸ºobjï¼Œç›¸å½“äºæ˜¯æ›¿æ¢</td>
</tr>
</tbody>
</table>
<p><strong>ä¸‰ç§éå†æ–¹å¼</strong></p>
<p>ä½¿ç”¨äºæ‰€æœ‰çš„<code>List</code>å­ç±»ï¼Œå‰ä¸¤ç§å’Œä¸Šé¢<code>Collection</code>ç±»çš„éå†æ–¹æ³•ç›¸åŒ</p>
<ul>
<li>ä½¿ç”¨<code>iterator</code>è¿­ä»£å™¨éå†</li>
<li>ä½¿ç”¨<code>å¢å¼ºforå¾ªç¯</code>è¿›è¡Œéå†</li>
<li>ä½¿ç”¨<code>forå¾ªç¯</code>è¿›è¡Œéå†</li>
</ul>
<h4 id="arraylist"><a class="markdownIt-Anchor" href="#arraylist"></a> <code>ArrayList</code></h4>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å¯ä»¥å­˜æ”¾å„ç§ç±»å‹çš„å…ƒç´ ï¼Œç”šè‡³åŒ…æ‹¬ç©ºå…ƒç´ <code>null</code></li>
<li>æ˜¯ç”±æ•°ç»„æ¥å®ç°æ•°æ®å­˜å‚¨çš„</li>
<li>åŸºæœ¬ç­‰åŒäº<code>Vector</code>ï¼Œä½†<code>ArrayList</code>æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼ˆæ‰§è¡Œæ•ˆç‡é«˜ï¼‰ï¼Œåœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œä¸å»ºè®®ä½¿ç”¨<code>ArrayList</code></li>
</ul>
<p><strong>åº•å±‚æ“ä½œæœºåˆ¶</strong>â­â­</p>
<p>æŸ¥çœ‹æºç ï¼Œè¿›è¡Œåˆ†æ</p>
<ul>
<li><code>ArrayList</code>ä¸­ç»´æŠ¤çš„æ˜¯ä¸€ä¸ª<code>Object</code>ç±»å‹æ•°ç»„<code>elementData</code>ï¼Œ<code>transient Object[] elementData</code>ï¼Œ<strong>transient è¡¨ç¤ºè¯¥å±æ€§ä¸ä¼šè¢«åºåˆ—åŒ–</strong></li>
<li>å½“åˆ›å»º<code>ArrayList</code>æ—¶ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯æ— å‚æ„é€ å™¨ï¼Œåˆ™åˆå§‹<code>elementData</code>å®¹é‡ä¸º0ï¼Œç¬¬ä¸€æ¬¡æ·»åŠ ï¼Œåˆ™æ‰©å®¹è‡³10ï¼Œå¦‚éœ€å†æ¬¡æ‰©å®¹ï¼Œåˆ™æ‰©å®¹ä¸ºä¹‹å‰çš„1.5å€ã€‚</li>
<li>å¦‚æœä½¿ç”¨çš„æ˜¯æŒ‡å®šå¤§å°çš„æ„é€ å™¨ï¼Œåˆ™åˆå§‹åŒ–<code>elementData</code>çš„å®¹é‡ä¸ºæŒ‡å®šå¤§å°ï¼Œå¦‚æœéœ€è¦æ‰©å®¹ï¼Œåˆ™ç›´æ¥æ‰©å®¹è‡³1.5å€</li>
</ul>
<h4 id="vector"><a class="markdownIt-Anchor" href="#vector"></a> <code>Vector</code></h4>
<ul>
<li><code>Vector</code>åº•å±‚ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œ<code>protected Object[] elementData</code></li>
<li><code>Vector</code>æ˜¯çº¿ç¨‹åŒæ­¥çš„ï¼Œå³çº¿ç¨‹å®‰å…¨çš„ï¼Œ<code>Vector</code>ç±»çš„æ“ä½œæ–¹æ³•å¸¦æœ‰<code>synchronized</code>ï¼Œè‹¥éœ€è¦çº¿ç¨‹åŒæ­¥ï¼Œåˆ™è€ƒè™‘ä½¿ç”¨<code>Vector</code></li>
</ul>
<h4 id="linkedlist"><a class="markdownIt-Anchor" href="#linkedlist"></a> <code>LinkedList</code></h4>
<ul>
<li>åº•å±‚å®ç°äº†<strong>åŒå‘é“¾è¡¨</strong>å’Œ<strong>åŒç«¯é˜Ÿåˆ—</strong>ç‰¹ç‚¹</li>
<li>å¯ä»¥æ·»åŠ ä»»æ„å…ƒç´ ï¼ˆå…ƒç´ å¯ä»¥é‡å¤ï¼‰ï¼ŒåŒ…æ‹¬null</li>
<li>çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ²¡æœ‰å®ç°åŒæ­¥</li>
</ul>
<p><strong>åº•å±‚æ“ä½œæœºåˆ¶</strong>â­â­</p>
<ul>
<li>åº•å±‚ç»´æŠ¤äº†ä¸€ä¸ªåŒå‘é“¾è¡¨</li>
<li>ç»´æŠ¤äº†ä¸¤ä¸ªå±æ€§<code>first</code>å’Œ<code>last</code>åˆ†åˆ«æŒ‡å‘é¦–èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹</li>
<li>æ¯ä¸ªèŠ‚ç‚¹ï¼ˆNodeå¯¹è±¡ï¼‰ï¼Œé‡Œé¢åˆç»´æŠ¤äº†<code>prev</code>ã€<code>next</code>ã€<code>item</code>ä¸‰ä¸ªå±æ€§ï¼Œå…¶ä¸­é€šè¿‡<code>prev</code>æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé€šè¿‡<code>next</code>æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€ç»ˆå®ç°äº†åŒå‘é“¾è¡¨ã€‚</li>
<li>æ‰€ä»¥<code>LinkedList</code>çš„å…ƒç´ çš„æ·»åŠ å’Œåˆ é™¤ï¼Œä¸æ˜¯é€šè¿‡æ•°ç»„å®Œæˆçš„ï¼Œç›¸å¯¹æ¥è¯´æ•ˆç‡è¾ƒé«˜</li>
</ul>
<h4 id="arraylistå’Œlinkedlistæ¯”è¾ƒ"><a class="markdownIt-Anchor" href="#arraylistå’Œlinkedlistæ¯”è¾ƒ"></a> <code>ArrayList</code>å’Œ<code>LinkedList</code>æ¯”è¾ƒ</h4>
<table>
<thead>
<tr>
<th></th>
<th>åº•å±‚ç»“æ„</th>
<th>å¢åˆ çš„æ•ˆç‡</th>
<th>æ”¹æŸ¥çš„æ•ˆç‡</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ArrayList</code></td>
<td>å¯å˜æ•°ç»„</td>
<td>è¾ƒä½ï¼Œæ•°ç»„æ‰©å®¹</td>
<td>è¾ƒé«˜</td>
</tr>
<tr>
<td><code>LinkedList</code></td>
<td>åŒå‘é“¾è¡¨</td>
<td>è¾ƒé«˜ï¼Œé€šè¿‡é“¾è¡¨è¿½åŠ </td>
<td>è¾ƒä½</td>
</tr>
</tbody>
</table>
<p><strong>å¦‚ä½•é€‰æ‹©<code>ArrayList</code>å’Œ<code>LinkedList</code></strong></p>
<ol>
<li>å¦‚æœæˆ‘ä»¬æ”¹æŸ¥çš„æ“ä½œå¤šï¼Œé€‰æ‹©<code>ArrayList</code></li>
<li>å¦‚æœæˆ‘ä»¬å¢åˆ çš„æ“ä½œå¤šï¼Œé€‰æ‹©<code>LinkedList</code></li>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨ç¨‹åºä¸­ï¼Œ80%~90%éƒ½æ˜¯æŸ¥è¯¢ï¼Œå› æ­¤å¤§éƒ¨åˆ†æƒ…å†µé€‰æ‹©<code>ArrayList</code></li>
<li>åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œæ ¹æ®ä¸šåŠ¡çµæ´»é€‰æ‹©ï¼Œä¹Ÿå¯èƒ½è¿™æ ·ï¼Œä¸€ä¸ªæ¨¡å—ä½¿ç”¨<code>ArrayList</code>ï¼Œå¦ä¸€ä¸ªæ¨¡å—æ˜¯<code>LinkedList</code></li>
</ol>
<h3 id="set"><a class="markdownIt-Anchor" href="#set"></a> Set</h3>
<ul>
<li>æ— åºï¼ˆæ·»åŠ å’Œå–å‡ºçš„é¡ºåºä¸ä¸€è‡´ï¼‰ï¼Œæ²¡æœ‰ç´¢å¼•ï¼Œå–å‡ºçš„é¡ºåºè™½ç„¶ä¸æ˜¯æ·»åŠ çš„é¡ºåºï¼Œä½†æ˜¯æ˜¯å›ºå®šçš„ã€‚</li>
<li>ä¸å…è®¸é‡å¤å…ƒç´ ï¼Œæ‰€ä»¥æœ€å¤šåŒ…å«ä¸€ä¸ª<code>null</code></li>
<li>JDK APIä¸­<code>Set</code>æ¥å£çš„å®ç°ç±»æœ‰ï¼š<code>HashSet</code>ã€<code>TreeSet</code>ç­‰ç­‰</li>
</ul>
<p><code>set</code><strong>æ¥å£å¸¸ç”¨çš„æ–¹æ³•</strong></p>
<p>å’Œ<code>List</code>æ¥å£ä¸€æ ·ï¼Œ<code>Set</code>æ¥å£ä¹Ÿæ˜¯<code>Collection</code>çš„å­æ¥å£ï¼Œå› æ­¤ï¼Œå¸¸ç”¨æ–¹æ³•å’Œ<code>Collection</code>æ¥å£ä¸€æ ·ã€‚</p>
<p><code>Set</code><strong>æ¥å£çš„éå†æ–¹å¼</strong></p>
<ul>
<li>ä½¿ç”¨<code>iterator</code>è¿­ä»£å™¨éå†</li>
<li>ä½¿ç”¨<code>å¢å¼ºforå¾ªç¯</code>è¿›è¡Œéå†</li>
<li><strong>ä¸èƒ½ä½¿ç”¨</strong>ç´¢å¼•çš„æ–¹å¼æ¥è·å–</li>
</ul>
<h4 id="hashset"><a class="markdownIt-Anchor" href="#hashset"></a> <code>HashSet</code></h4>
<ul>
<li><code>HashSet</code>å®ç°äº†<code>Set</code>æ¥å£</li>
<li><code>HashSet</code>åº•å±‚å®é™…ä¸Šæ˜¯<code>HashMap</code></li>
<li>å¯ä»¥å­˜æ”¾<code>null</code>ï¼Œä½†æœ€å¤šåªèƒ½å­˜æ”¾ä¸€ä¸ª</li>
<li>ä¸ä¿è¯å…ƒç´ æ˜¯æœ‰åºçš„ï¼Œå–å†³äºhashåï¼Œåœ¨ç¡®å®šç´¢å¼•çš„ç»“æœï¼Œå³ä¸ä¿è¯å­˜æ”¾å…ƒç´ çš„é¡ºåºå’Œå–å‡ºé¡ºåºä¸€è‡´</li>
<li>ä¸èƒ½æœ‰é‡å¤å…ƒç´ ï¼Œ</li>
</ul>
<p><strong>æ‰©å®¹æœºåˆ¶</strong>â­â­</p>
<ul>
<li>åº•å±‚æ˜¯<code>HashMap</code></li>
<li>æ·»åŠ ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå…ˆå¾—åˆ°hashå€¼ï¼Œä¼šè½¬æˆç´¢å¼•å€¼</li>
<li>æ‰¾åˆ°å­˜å‚¨æ•°æ®è¡¨tableï¼Œçœ‹è¿™ä¸ªç´¢å¼•ä½ç½®æ˜¯å¦å·²ç»å­˜æ”¾çš„æœ‰å…ƒç´ ,å¦‚æœæ²¡æœ‰ï¼Œç›´æ¥åŠ å…¥ï¼Œå¦‚æœæœ‰ï¼Œè°ƒç”¨<code>equals</code>æ¯”è¾ƒï¼Œå¦‚æœç›¸åŒï¼Œå°±æ”¾å¼ƒæ·»åŠ ï¼Œåä¹‹ï¼Œåˆ™æ·»åŠ åˆ°æœ€åã€‚</li>
<li>åœ¨Java 8ä¸­ï¼Œå¦‚æœä¸€æ¡é“¾è¡¨çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡<code>TREEIFY_THRESHOLD</code>ï¼ˆé»˜è®¤æ˜¯8ï¼‰ï¼Œå¹¶ä¸”tableçš„å¤§å° &gt;= <code>MIN_TREEIFY_CAPACITY</code>(é»˜è®¤æ˜¯64)ï¼Œå°±ä¼šè¿›è¡Œæ ‘åŒ–ï¼ˆçº¢é»‘æ ‘ï¼‰</li>
</ul>
<h4 id="linkedhashset"><a class="markdownIt-Anchor" href="#linkedhashset"></a> <code>LinkedHashSet</code></h4>
<ul>
<li>ç»§æ‰¿äº†<code>HashSet</code>,æ˜¯<code>HashSet</code>çš„å­ç±»</li>
<li>åº•å±‚æ˜¯ä¸€ä¸ª<code>LinkedHashMap</code>ï¼Œåº•å±‚ç»´æŠ¤çš„æ˜¯ä¸€ä¸ª æ•°ç»„ + åŒå‘é“¾è¡¨</li>
<li><code>LinkedHashSet</code> æ ¹æ®å…ƒç´ çš„<code>hashCode</code>å€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®ï¼ŒåŒæ—¶ä½¿ç”¨é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ¬¡åºï¼Œè¿™ä½¿å¾—å…ƒç´ çœ‹èµ·æ¥æ˜¯ä»¥æ’å…¥é¡ºåºä¿å­˜çš„ã€‚</li>
<li><code>LinkedHashSet</code>ä¸å…è®¸æ·»åŠ é‡å¤å…ƒç´ </li>
</ul>
<h4 id="treeset"><a class="markdownIt-Anchor" href="#treeset"></a> <code>TreeSet</code></h4>
<ul>
<li>å½“ä½¿ç”¨æ— å‚æ„é€ å™¨åˆ›å»º<code>TreeSet</code>æ—¶ï¼Œå®ƒé»˜è®¤æŒ‰å­—å…¸åºè¿›è¡Œæ’åºã€‚</li>
<li>ä½¿ç”¨<code>TreeSet</code>æä¾›çš„ä¸€ä¸ªæ„é€ å™¨ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªæ¯”è¾ƒå™¨ï¼ˆåŒ¿åå†…éƒ¨ç±»ï¼‰ï¼Œå¹¶æŒ‡å®šæ’åºè§„åˆ™ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.set_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeSet_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">TreeSet</span> <span class="variable">treeSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeSet</span>(<span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="comment">// è°ƒç”¨å­—ç¬¦ä¸²çš„compareToæ–¹æ³•è¿›è¡Œå­—ç¬¦ä¸²å¤§å°æ¯”è¾ƒ</span></span><br><span class="line">                <span class="keyword">return</span> ((String) o1).compareTo((String) o2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// æ·»åŠ æ•°æ®</span></span><br><span class="line">        treeSet.add(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;xzt&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;qqy&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;z&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(treeSet);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŒåˆ—é›†åˆ-k-v"><a class="markdownIt-Anchor" href="#åŒåˆ—é›†åˆ-k-v"></a> åŒåˆ—é›†åˆ ï¼ˆK - Vï¼‰</h2>
<blockquote>
<p>â€‹	åŒåˆ—é›†åˆé‡Œé¢å­˜æ”¾çš„æ˜¯é”®å€¼å¯¹ç±»å‹ï¼ˆKey - Valueï¼‰</p>
</blockquote>
<p><img src="/img/Java/Map.png" alt="Map" /></p>
<h3 id="map"><a class="markdownIt-Anchor" href="#map"></a> Map</h3>
<p><strong>ç‰¹ç‚¹</strong></p>
<ul>
<li><code>Map</code>ä¸<code>Collection</code>å¹¶åˆ—å­˜åœ¨ï¼Œç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ï¼šKey - Value</li>
<li><code>Map</code>ä¸­çš„ key å’Œ value å¯ä»¥æ˜¯ä»»ä½•å¼•ç”¨ç±»å‹çš„æ•°æ®ï¼Œ ä¼šå°è£…åœ¨<code>HashMap$Node</code> å¯¹è±¡ä¸­</li>
<li><code>Map</code>ä¸­çš„ key ä¸å…è®¸é‡å¤ï¼Œå½“æœ‰ç›¸åŒçš„ key æ—¶ï¼Œå°±ç­‰ä»·äºæ›¿æ¢value</li>
<li><code>Map</code>ä¸­çš„ value å¯ä»¥é‡å¤</li>
<li><code>Map</code>ä¸­çš„ key å¯ä»¥ä¸ºnullï¼Œvalue ä¹Ÿå¯ä»¥ä¸º null ï¼Œæ³¨æ„ key ä¸º null åªèƒ½æœ‰ä¸€ä¸ªã€‚valueä¸ºnull å¯ä»¥æœ‰å¤šä¸ª</li>
<li>å¸¸ç”¨Stringç±»ä½œä¸º<code>Map</code> çš„ key</li>
<li>key å’Œ value æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œæ‰€ä»¥æ ¹æ®æŒ‡å®š key èƒ½æ‰¾åˆ°å¯¹åº”çš„ value</li>
</ul>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>put(K, V)</code></td>
<td style="text-align:center">æ·»åŠ å…ƒç´ ï¼Œå­˜å…¥é”®å€¼å¯¹</td>
</tr>
<tr>
<td style="text-align:center"><code>remove(K)</code>ã€<code>remove(K, V)</code></td>
<td style="text-align:center">æ ¹æ®é”®åˆ é™¤æ˜ å°„å…³ç³»</td>
</tr>
<tr>
<td style="text-align:center"><code>get(K)</code></td>
<td style="text-align:center">æ ¹æ®é”®è·å–å¯¹åº”çš„å€¼</td>
</tr>
<tr>
<td style="text-align:center"><code>size()</code></td>
<td style="text-align:center">è·å–å…ƒç´ ä¸ªæ•°</td>
</tr>
<tr>
<td style="text-align:center"><code>isEmpty()</code></td>
<td style="text-align:center">åˆ¤æ–­æ˜¯å¦ä¸ºç©º</td>
</tr>
<tr>
<td style="text-align:center"><code>clear()</code></td>
<td style="text-align:center">æ¸…æ¥š</td>
</tr>
<tr>
<td style="text-align:center"><code>containsKey(K)</code></td>
<td style="text-align:center">æŸ¥æ‰¾é”®æ˜¯å¦å­˜åœ¨</td>
</tr>
</tbody>
</table>
<p><strong>éå†æ–¹å¼</strong></p>
<ul>
<li>å…ˆé€šè¿‡ <code>keySet</code> å–å‡ºæ‰€æœ‰çš„ Key å†æ ¹æ® Key å–å‡ºç›¸å¯¹åº”çš„ Value</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç»„ï¼šå…ˆå–å‡ºæ‰€æœ‰çš„ Key å†æ ¹æ® Key å–å‡ºç›¸å¯¹åº”çš„ Value</span></span><br><span class="line"><span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> map.keySet();  <span class="comment">// è·å–æ‰€æœ‰çš„Key</span></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ç§ï¼Œä½¿ç”¨å¢å¼ºforå¾ªç¯è¿›è¡Œéå†</span></span><br><span class="line"><span class="keyword">for</span> (Object obj : set) &#123;  <span class="comment">// å¢å¼ºforå¾ªç¯</span></span><br><span class="line">    System.out.println(obj + <span class="string">&quot;-&quot;</span> + map.get(obj));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬äºŒç§ï¼Œä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†</span></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext())&#123;  <span class="comment">// ä½¿ç”¨è¿­ä»£å™¨</span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">    System.out.println(next + <span class="string">&quot;-&quot;</span> + map.get(next));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æŠŠæ‰€æœ‰çš„ Value å–å‡º</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç¬¬äºŒç»„ï¼šæŠŠæ‰€æœ‰çš„valueså–å‡º</span></span><br><span class="line"><span class="type">Collection</span> <span class="variable">values</span> <span class="operator">=</span> map.values();</span><br><span class="line"><span class="comment">// ç¬¬ä¸€ç§ï¼šä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†</span></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">iterator1</span> <span class="operator">=</span> values.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator1.hasNext())&#123;</span><br><span class="line">    <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator1.next();</span><br><span class="line">    System.out.println(next);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬äºŒä¸­ï¼šä½¿ç”¨å¢å¼ºforå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span> (Object obj : values) &#123;</span><br><span class="line">    System.out.println(obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>é€šè¿‡ <code>entrySet</code> æ¥è·å– K - V</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸‰ç»„ ï¼šé€šè¿‡ entrySet æ¥è·å– k-v</span></span><br><span class="line"><span class="type">Set</span> <span class="variable">entrySet</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line"><span class="comment">// ç¬¬ä¸€ç§ï¼šä½¿ç”¨å¢å¼ºforå¾ªç¯è¿›è¡Œéå†</span></span><br><span class="line"><span class="keyword">for</span> (Object entry : entrySet) &#123;</span><br><span class="line">    Map.<span class="type">Entry</span> <span class="variable">m</span> <span class="operator">=</span> (Map.Entry) entry;  <span class="comment">// è½¬æ¢ç±»å‹</span></span><br><span class="line">    System.out.println(m.getKey() + <span class="string">&quot;-&quot;</span> + m.getValue());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§ï¼šä½¿ç”¨iteratorè¿­ä»£å™¨</span></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">iterator2</span> <span class="operator">=</span> entrySet.iterator();</span><br><span class="line"><span class="keyword">while</span> (iterator2.hasNext())&#123;</span><br><span class="line">    <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator2.next();</span><br><span class="line">    Map.<span class="type">Entry</span> <span class="variable">m</span> <span class="operator">=</span> (Map.Entry) next;</span><br><span class="line">    System.out.println(m.getKey() + <span class="string">&quot;-&quot;</span> + m.getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="hashmap"><a class="markdownIt-Anchor" href="#hashmap"></a> <code>HashMap</code></h4>
<ul>
<li>ä¸<code>HashSet</code>ä¸€æ ·ï¼Œä¸ä¿è¯æ˜ å°„çš„é¡ºåºï¼Œå› ä¸ºåº•å±‚æ˜¯ä»¥hashè¡¨çš„æ–¹å¼æ¥å­˜å‚¨çš„ï¼ŒJDK 8çš„<code>hashMap</code>åº•å±‚æ˜¯æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘</li>
<li><code>HashMap</code>æ²¡æœ‰å®ç°åŒæ­¥ï¼Œå› æ­¤æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚æ–¹æ³•ä¸Šæ²¡æœ‰åšåŒæ­¥äº’æ–¥çš„æ“ä½œï¼Œæ²¡æœ‰<code>synchronized</code>å…³é”®å­—</li>
</ul>
<p><strong>åº•å±‚æœºåˆ¶</strong></p>
<ul>
<li><code>HashMap</code>çš„æ‰©å®¹æœºåˆ¶å’Œ<code>HashSet</code>å®Œå…¨ä¸€æ ·</li>
<li><code>HashMap</code>åº•å±‚ç»´æŠ¤äº†Nodeç±»å‹çš„æ•°ç»„tableï¼Œé»˜è®¤ä¸º<code>null</code></li>
<li>å½“åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå°†åŠ è½½å› å­ï¼ˆload factorï¼‰åˆå§‹åŒ–ä¸º0.75</li>
<li>å½“æ·»åŠ  key - value æ—¶ï¼Œé€šè¿‡keyçš„å“ˆå¸Œå€¼çš„åˆ°å†tableè¡¨ä¸­çš„ç´¢å¼•ï¼Œç„¶ååˆ¤æ–­è¯¥ç´¢å¼•å¤„æ˜¯å¦æœ‰å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰å…ƒç´ ç›´æ¥æ·»åŠ ï¼Œå¦‚æœè¯¥ç´¢å¼•å¤„æœ‰å…ƒç´ ï¼Œç»§ç»­åˆ¤æ–­è¯¥å…ƒç´ çš„keyæ˜¯å¦å’Œå‡†å¤‡åŠ å…¥çš„keyç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™ç›´æ¥æ›¿æ¢valueï¼›å¦‚æœä¸ç›¸ç­‰åˆ™éœ€è¦åˆ¤æ–­æ˜¯æ ‘ç»“æ„è¿˜æ˜¯é“¾è¡¨ç»“æ„ï¼Œåšå‡ºç›¸åº”çš„å¤„ç†ã€‚å¦‚æœæ·»åŠ æ—¶å‘ç°å®¹é‡ä¸å¤Ÿï¼Œåˆ™éœ€è¦æ‰©å®¹ã€‚</li>
<li>ç¬¬ä¸€æ¬¡æ·»åŠ ï¼Œåˆ™éœ€è¦æ‰©å®¹tableå®¹é‡ä¸º16ï¼Œä¸´ç•Œå€¼ï¼ˆthresholdï¼‰ä¸º12</li>
<li>ä»¥åå†æ‰©å®¹ï¼ŒæŒ‡è´£éœ€è¦æ‰©å®¹tableå®¹é‡ä¸ºåŸæ¥çš„2å€ï¼Œä¸´ç•Œå€¼ä¸ºåŸæ¥çš„2å€ï¼Œå³24ï¼Œä¾æ­¤ç±»æ¨ã€‚</li>
<li>åœ¨Java 8ä¸­ï¼Œå¦‚æœä¸€æ¡é“¾è¡¨çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡<code>TREEIFY_THRESHOLD</code>ï¼ˆé»˜è®¤æ˜¯8ï¼‰ï¼Œå¹¶ä¸”tableçš„å¤§å° &gt;= <code>MIN_TREEIFY_CAPACITY</code>(é»˜è®¤æ˜¯64)ï¼Œå°±ä¼šè¿›è¡Œæ ‘åŒ–ï¼ˆçº¢é»‘æ ‘ï¼‰</li>
</ul>
<h4 id="hashtable"><a class="markdownIt-Anchor" href="#hashtable"></a> <code>HashTable</code></h4>
<ul>
<li>å­˜æ”¾çš„å…ƒç´ æ˜¯é”®å€¼å¯¹ï¼šå³ K - V</li>
<li><code>HashTable</code>çš„é”®å’Œå€¼éƒ½ä¸èƒ½ä¸º<code>null</code>ï¼Œå¦åˆ™ä¼šæŠ›å‡º<code>NullPointerException</code></li>
<li><code>HashTable</code>ä½¿ç”¨æ–¹æ³•åŸºæœ¬ä¸Šå’Œ<code>HashMap</code>ä¸€æ ·</li>
<li>æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚æœ‰<code>synchronized</code>ä¿®é¥°</li>
</ul>
<h4 id="properties"><a class="markdownIt-Anchor" href="#properties"></a> <code>Properties</code></h4>
<ol>
<li>ç»§æ‰¿è‡ª<code>HashTable</code>ç±»ï¼Œå¹¶ä¸”å®ç°äº†Mapæ¥å£ï¼Œä¹Ÿæ˜¯ä½¿ç”¨ä¸€ç§é”®å€¼å¯¹çš„å½¢å¼æ¥ä¿å­˜æ•°æ®</li>
<li>å®ƒçš„ä½¿ç”¨ç‰¹ç‚¹å’Œ<code>HashTable</code>ç±»ä¼¼</li>
<li>è¿˜å¯ä»¥ç”¨äºä»<code>XXX.properties</code>æ–‡ä»¶ä¸­ï¼ŒåŠ è½½æ•°æ®åˆ°<code>Properties</code>ç±»å¯¹è±¡ï¼Œå¹¶è¿›è¡Œè¯»å–å’Œä¿®æ”¹</li>
<li>è¯´æ˜ï¼š<code>XXX.properties</code>é€šå¸¸ä¸ºé…ç½®æ–‡ä»¶</li>
</ol>
<h4 id="treemap"><a class="markdownIt-Anchor" href="#treemap"></a> <code>TreeMap</code></h4>
<ul>
<li>å½“ä½¿ç”¨æ— å‚æ„é€ å™¨åˆ›å»º<code>TreeMap</code>æ—¶ï¼Œå®ƒé»˜è®¤æŒ‰ Key çš„å­—å…¸åºè¿›è¡Œæ’åºã€‚</li>
<li>ä½¿ç”¨<code>TreeMap</code>æä¾›çš„ä¸€ä¸ªæ„é€ å™¨ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªæ¯”è¾ƒå™¨ï¼ˆåŒ¿åå†…éƒ¨ç±»ï¼‰ï¼Œå¹¶æŒ‡å®šæ’åºè§„åˆ™ã€‚</li>
</ul>
<h2 id="é›†åˆé€‰å‹è§„åˆ™"><a class="markdownIt-Anchor" href="#é›†åˆé€‰å‹è§„åˆ™"></a> é›†åˆé€‰å‹è§„åˆ™â­</h2>
<ol>
<li>å…ˆåˆ¤æ–­å­˜å‚¨ç±»å‹ï¼Œï¼ˆä¸€ç»„å¯¹è±¡[å•åˆ—]æˆ–ä¸€ç»„é”®å€¼å¯¹[å¤šåˆ—]ï¼‰</li>
<li>ä¸€ç»„å¯¹è±¡ï¼š<code>Collection</code>æ¥å£
<ul>
<li>å…è®¸é‡å¤ï¼š<code>List</code>
<ul>
<li>å¢åˆ å¤šï¼š<code>LinkedList</code>ã€åº•å±‚ç»´æŠ¤äº†ä¸€ä¸ªåŒå‘é“¾è¡¨ã€‘</li>
<li>æ”¹æŸ¥å¤šï¼š<code>ArrayList</code>ã€åº•å±‚ç»´æŠ¤äº†Objectç±»å‹å¯å˜æ•°ç»„ã€‘</li>
</ul>
</li>
<li>ä¸å…è®¸é‡å¤ï¼š<code>Set</code>
<ul>
<li>æ— åºï¼š<code>HashSet</code>ã€åº•å±‚æ˜¯<code>HashMap</code>ï¼Œç»´æŠ¤äº†ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå³ æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ã€‘</li>
<li>æ’åºï¼š<code>TreeSet</code></li>
<li>æ’å…¥å’Œå–å‡ºé¡ºåºä¸€è‡´ï¼š<code>LinkedHashSet</code>ã€ç»´æŠ¤ æ•°ç»„ + åŒå‘é“¾è¡¨ã€‘</li>
</ul>
</li>
</ul>
</li>
<li>ä¸€ç»„é”®å€¼å¯¹ï¼š<code>Map</code>
<ul>
<li>é”®æ— åºï¼š<code>HashMap</code>ã€åº•å±‚æ˜¯ï¼šå“ˆå¸Œè¡¨ JDK 7ï¼šæ•°ç»„ + é“¾è¡¨ï¼›JDK 8ï¼šæ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ã€‘</li>
<li>é”®æ’åºï¼š<code>TreeMap</code></li>
<li>é”®æ’å…¥é¡ºåºå’Œå–å‡ºé¡ºåºä¸€è‡´ï¼š<code>LinkedHashMap</code></li>
<li>è¯»å–æ–‡ä»¶ï¼š<code>Properties</code></li>
</ul>
</li>
</ol>
<h2 id="collections-å·¥å…·ç±»"><a class="markdownIt-Anchor" href="#collections-å·¥å…·ç±»"></a> <code>Collections</code> å·¥å…·ç±»</h2>
<blockquote>
<p>Collections å·¥å…·ç±»æ˜¯ä¸€ä¸ªæ“ä½œ Setã€List å’Œ Map ç­‰é›†åˆçš„å·¥å…·ç±»</p>
<p>Collections ä¸­æä¾›äº†ä¸€ç³»åˆ—é™æ€çš„æ–¹æ³•å¯¹é›†åˆå…ƒç´ è¿›è¡Œæ’åºã€æŸ¥è¯¢å’Œä¿®æ”¹ç­‰æ“ä½œ</p>
</blockquote>
<h3 id="æ’åºæ“ä½œ"><a class="markdownIt-Anchor" href="#æ’åºæ“ä½œ"></a> æ’åºæ“ä½œ</h3>
<p>å‡ä¸º static æ–¹æ³•</p>
<ul>
<li><code>reverse(List)</code>ï¼šåè½¬ List ä¸­å…ƒç´ çš„é¡ºåº</li>
<li><code>shuffle(List)</code>ï¼šå¯¹ List é›†åˆå…ƒç´ è¿›è¡Œéšæœºæ’åº</li>
<li><code>sort(List)</code>ï¼šæ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºå¯¹æŒ‡å®š List é›†åˆå…ƒç´ æŒ‰å‡åºæ’åº</li>
<li><code>sort(List, Comparator)</code>ï¼šæ ¹æ®æŒ‡å®šçš„ Comparator äº§ç”Ÿçš„é¡ºåºå¯¹ List é›†åˆå…ƒç´ è¿›è¡Œæ’åº</li>
<li><code>swap(List, int, int)</code>ï¼šå°†æŒ‡å®š List é›†åˆä¸­çš„ i å¤„å…ƒç´ å’Œ j å¤„å…ƒç´ è¿›è¡Œäº¤æ¢</li>
</ul>
<h3 id="æŸ¥æ‰¾-æ›¿æ¢"><a class="markdownIt-Anchor" href="#æŸ¥æ‰¾-æ›¿æ¢"></a> æŸ¥æ‰¾ã€æ›¿æ¢</h3>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>max(Collection)</code></td>
<td style="text-align:center">æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>max(Collection, Comparator)</code></td>
<td style="text-align:center">æ ¹æ® Comparator æŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>min(Collection)</code></td>
<td style="text-align:center">æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å°å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>min(Collection, Comparator)</code></td>
<td style="text-align:center">æ ¹æ® Comparator æŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å°å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>frequency(Collection, Object)</code></td>
<td style="text-align:center">è¿”å›æŒ‡å®šé›†åˆä¸­æŒ‡å®šå…ƒç´ å‡ºç°çš„æ¬¡æ•°</td>
</tr>
<tr>
<td style="text-align:center"><code>copy(List dest, List src)</code></td>
<td style="text-align:center">å°† src é›†åˆä¸­çš„å†…å®¹èµ‹å€¼åˆ° dest ä¸­ï¼Œéœ€è¦ä¿è¯ dest å’Œ src çš„å¤§å°ç›¸ç­‰</td>
</tr>
<tr>
<td style="text-align:center"><code>replaceAll(List list, Object oldVal, Object new Val)</code></td>
<td style="text-align:center">å°† list é›†åˆä¸­çš„æ‰€æœ‰ oldVal å…¨éƒ¨æ›¿æ¢ä¸º newVal</td>
</tr>
</tbody>
</table>
<h1 id="æ³›å‹"><a class="markdownIt-Anchor" href="#æ³›å‹"></a> æ³›å‹</h1>
<blockquote>
<p>æ³›å‹åˆç§°å‚æ•°åŒ–ç±»å‹ï¼Œæ˜¯ JDK 5.0å‡ºç°çš„æ–°ç‰¹æ€§ï¼Œè§£å†³æ•°æ®ç±»å‹çš„å®‰å…¨æ€§é—®é¢˜</p>
<p>åœ¨ç±»å£°æ˜æˆ–å®ä¾‹åŒ–æ—¶åªè¦åˆ¶å®šå¥½éœ€è¦çš„å…·ä½“çš„ç±»å‹å³å¯</p>
</blockquote>
<ul>
<li>
<p>åŸºæœ¬è¯­æ³•ï¼š<code>ArrayList&lt;ç±»å&gt; list = new ArrayList&lt;ç±»å&gt;();</code></p>
</li>
<li>
<p>Java æ³›å‹å¯ä»¥ä¿è¯å¦‚æœç¨‹åºåœ¨ç¼–è¯‘æ—¶æ²¡æœ‰å‘å‡ºè­¦å‘Šï¼Œè¿è¡Œæ—¶å°±ä¸ä¼šäº§ç”Ÿç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œä»£ç æ›´åŠ ç®€æ´ï¼Œå¥å£®</p>
</li>
<li>
<p>æ³›å‹çš„ä½œç”¨æ˜¯ï¼šå¯ä»¥åœ¨ç±»å£°æ˜æ—¶é€šè¿‡ä¸€ä¸ªæ ‡è¯†è¡¨ç¤ºç±»ä¸­æŸä¸ªå±æ€§çš„ç±»å‹ï¼Œæˆ–è€…æ˜¯æŸä¸ªæ–¹æ³•çš„è¿”å›å€¼çš„ç±»å‹ï¼Œæˆ–è€…æ˜¯å‚æ•°ç±»å‹ã€‚</p>
</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ç¼–è¯‘æ—¶ï¼Œæ£€æŸ¥æ·»åŠ å…ƒç´ çš„ç±»å‹ï¼Œæé«˜äº†å®‰å…¨æ€§</li>
<li>å‡å°‘äº†ç±»å‹è½¬æ¢çš„æ¬¡æ•°ï¼Œæé«˜æ•ˆç‡</li>
<li>åœ¨éå†çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥å–å‡ºå¯¹åº”ç±»çš„ç±»å‹ï¼Œè€Œä¸æ˜¯ Object ç±»å‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.generic;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Generic02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Person&lt;String&gt; person = <span class="keyword">new</span> <span class="title class_">Person</span>&lt;String&gt;(<span class="string">&quot;xzt&quot;</span>);  <span class="comment">// String ç±»å‹çš„Personç±»</span></span><br><span class="line"></span><br><span class="line">        Person&lt;Integer&gt; person1 = <span class="keyword">new</span> <span class="title class_">Person</span>&lt;Integer&gt;(<span class="number">122</span>);  <span class="comment">// Integer ç±»å‹çš„Personç±»</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ç±»æ—¶æ·»åŠ æ³›å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&lt;E&gt; &#123;</span><br><span class="line">    E s;  <span class="comment">// Eè¡¨ç¤º sçš„æ•°æ®ç±»å‹ï¼Œè¯¥æ•°æ®ç±»å‹åœ¨å®šä¹‰Personå¯¹è±¡çš„æ—¶å€™æŒ‡å®šï¼Œå³åœ¨ç¼–è¯‘æœŸé—´ï¼Œå°±ç¡®å®šEæ˜¯ä»€ä¹ˆç±»å‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(E s)</span> &#123;  <span class="comment">// Eä¹Ÿå¯ä»¥æ˜¯å‚æ•°ç±»å‹</span></span><br><span class="line">        <span class="built_in">this</span>.s = s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> E <span class="title function_">f</span><span class="params">()</span> &#123;  <span class="comment">// è¿”å›ç±»å‹ä¹Ÿå¯ä»¥ä½¿ç”¨E</span></span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è¯­æ³•"><a class="markdownIt-Anchor" href="#è¯­æ³•"></a> è¯­æ³•</h2>
<p><strong>æ³›å‹çš„å£°æ˜</strong></p>
<p><code>interface æ¥å£å&lt;T&gt;&#123;&#125;</code> å’Œ <code>class ç±»å&lt;K, V&gt;&#123;&#125;</code></p>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>å…¶ä¸­ï¼ŒTï¼ŒKï¼ŒV ä¸ä»£è¡¨å€¼ï¼Œè€Œæ˜¯è¡¨ç¤ºç±»å‹</li>
<li>ä»»æ„å­—æ¯éƒ½å¯ä»¥ï¼Œå¸¸ç”¨Tè¡¨ç¤ºï¼Œæ˜¯ Type çš„ç¼©å†™</li>
</ul>
<p><strong>æ³›å‹çš„å®ä¾‹åŒ–</strong></p>
<p>è¦åœ¨ç±»ååç±³å¨œæŒ‡å®šç±»å‹å‚æ•°çš„å€¼ï¼ˆç±»å‹ï¼‰ã€‚å¦‚ï¼š</p>
<ul>
<li><code>Person&lt;String&gt; person = new Person&lt;String&gt;(&quot;xzt&quot;);</code></li>
<li><code>Iterator&lt;Customer&gt; iterator = cunstomers.iterator();</code></li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>Tï¼ŒKï¼ŒVåªèƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸èƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹</li>
<li>åœ¨ç»™æ³›å‹æŒ‡å®šå…·ä½“ç±»å‹åï¼Œå¯ä»¥ä¼ å…¥è¯¥ç±»å‹æˆ–è€…å…¶å­ç±»ç±»å‹</li>
<li>æ³›å‹çš„ä½¿ç”¨å½¢å¼
<ul>
<li><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();</code></li>
<li><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();</code> æ¨èå†™æ³•ï¼Œç¼–è¯‘å™¨ä¼šè¿›è¡Œç±»å‹æ¨æ–­ã€‚</li>
</ul>
</li>
<li><code>ArrayList list = new ArrayList();</code>é»˜è®¤æ³›å‹æ˜¯ Object ç±»</li>
</ul>
<h2 id="è‡ªå®šä¹‰æ³›å‹"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰æ³›å‹"></a> è‡ªå®šä¹‰æ³›å‹</h2>
<h3 id="è‡ªå®šä¹‰æ³›å‹ç±»"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰æ³›å‹ç±»"></a> è‡ªå®šä¹‰æ³›å‹ç±»</h3>
<p><strong>åŸºæœ¬è¯­æ³•</strong>ï¼š<code>class ç±»å&lt;T, R ...&gt; &#123; æˆå‘˜ &#125;</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¥å£</p>
<p><strong>æ³¨æ„ç»†èŠ‚</strong></p>
<ul>
<li>æ™®é€šæˆå‘˜å¯ä»¥ä½¿ç”¨æ³›å‹ï¼ˆå±æ€§ã€æ–¹æ³•ï¼‰</li>
<li>ä½¿ç”¨æ³›å‹çš„æ•°ç»„ï¼Œä¸èƒ½åˆå§‹åŒ–ã€‚<strong>å› ä¸ºæ•°ç»„åœ¨newçš„æ—¶å€™ï¼Œä¸èƒ½ç¡®å®š T çš„ç±»å‹ï¼Œå°±æ— æ³•åœ¨å†…å­˜ä¸­å¼€ç©ºé—´</strong></li>
<li>é™æ€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨ç±»çš„æ³›å‹ã€‚<strong>å› ä¸ºé™æ€æ–¹æ³•å’Œç±»ç›¸å…³ï¼Œåœ¨ç±»åŠ è½½æ—¶ï¼Œå¯¹è±¡è¿˜æ²¡åˆ›å»ºï¼Œæ‰€ä»¥é™æ€æ–¹æ³•ä¸èƒ½ä½¿ç”¨æ³›å‹</strong></li>
<li>æ³›å‹ç±»çš„ç±»å‹ï¼Œæ˜¯åœ¨åˆ›å»ºå¯¹è±¡æ—¶ç¡®å®šçš„ï¼Œå› ä¸ºåˆ›å»ºå¯¹è±¡æ—¶ï¼Œéœ€è¦æŒ‡å®šç¡®å®šç±»å‹</li>
<li>å¦‚æœåœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ²¡æœ‰æŒ‡å®šç±»å‹ï¼Œé»˜è®¤ä¸º Object</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Tiger</span>&lt;T, R, M&gt; &#123;</span><br><span class="line">    String name;</span><br><span class="line">    R r;</span><br><span class="line">    T t;</span><br><span class="line">    M m;</span><br><span class="line">    T[] ts;  <span class="comment">// ä½¿ç”¨æ³›å‹çš„æ•°ç»„ï¼Œä¸å…è®¸ç›´æ¥åˆå§‹åŒ–ï¼Œå› ä¸ºæ•°ç»„åœ¨newçš„æ—¶å€™ï¼Œä¸èƒ½ç¡®å®šTçš„ç±»å‹ï¼Œå°±æ— æ³•åœ¨å†…å­˜ä¸­å¼€ç©ºé—´</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Tiger</span><span class="params">(String name, R r, T t, M m)</span> &#123;  <span class="comment">//æ„é€ å™¨ä½¿ç”¨æ³›å‹</span></span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.r = r;</span><br><span class="line">        <span class="built_in">this</span>.t = t;</span><br><span class="line">        <span class="built_in">this</span>.m = m;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–¹æ³•ä½¿ç”¨æ³›å‹ï¼Œè¿”å›ç±»å‹ä¹Ÿå¯ä»¥ä½¿ç”¨æ³›å‹</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">getR</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setR</span><span class="params">(R r)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.r = r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getT</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setT</span><span class="params">(T t)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.t = t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> M <span class="title function_">getM</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> m;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setM</span><span class="params">(M m)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.m = m;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è‡ªå®šä¹‰æ³›å‹æ¥å£"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰æ³›å‹æ¥å£"></a> è‡ªå®šä¹‰æ³›å‹æ¥å£</h3>
<p><strong>åŸºæœ¬è¯­æ³•</strong>ï¼š<code>interface æ¥å£å&lt;T, R, ...&gt; &#123;&#125;</code></p>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>æ¥å£ä¸­ï¼Œé™æ€æˆå‘˜ä¹Ÿä¸èƒ½ä½¿ç”¨æ³›å‹</li>
<li>æ³›å‹æ¥å£ç±»å‹ä¸­ï¼Œåœ¨ç»§æ‰¿æ¥å£æˆ–è€…å®ç°æ¥å£æ—¶ç¡®å®š</li>
<li>æ²¡æœ‰æŒ‡å®šç±»å‹ï¼Œé»˜è®¤ä¸º Object</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IUsb</span>&lt;U, R&gt; &#123;</span><br><span class="line">    <span class="comment">// æ™®é€šæ–¹æ³•ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ¥å£æ³›å‹</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">10</span>; <span class="comment">// åœ¨æ¥å£ä¸­ï¼Œæ‰€æœ‰æˆå‘˜éƒ½æ˜¯é™æ€æˆå‘˜</span></span><br><span class="line">    R <span class="title function_">get</span><span class="params">(U u)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">(R r)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">Run</span><span class="params">(R r1, R r2, U u1, U u2)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨jdk 8ä¸­ï¼Œå¯ä»¥åœ¨æ¥å£ä¸­ï¼Œä½¿ç”¨é»˜è®¤æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ³›å‹</span></span><br><span class="line">    <span class="keyword">default</span> R <span class="title function_">method</span><span class="params">(U u)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»§æ‰¿æ³›å‹æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IA</span> <span class="keyword">extends</span> <span class="title class_">IUsb</span>&lt;String, Double&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®ç°æ³›å‹æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AA</span> <span class="keyword">implements</span> <span class="title class_">IA</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Double <span class="title function_">get</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">(Double aDouble)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Run</span><span class="params">(Double r1, Double r2, String u1, String u2)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è‡ªå®šä¹‰æ³›å‹æ–¹æ³•"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰æ³›å‹æ–¹æ³•"></a> è‡ªå®šä¹‰æ³›å‹æ–¹æ³•</h3>
<p><strong>åŸºæœ¬è¯­æ³•</strong>ï¼š<code>ä¿®é¥°ç¬¦ &lt;T, R, ...&gt;è¿”å›ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨) &#123;&#125;</code></p>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>æ³›å‹æ–¹æ³•ï¼Œå¯ä»¥å®šä¹‰åœ¨æ™®é€šç±»ä¸­ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨æ³›å‹ç±»ä¸­ã€‚</li>
<li>å½“æ³›å‹æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œç±»å‹ä¼šç¡®å®š</li>
<li>è‹¥ä¿®é¥°ç¬¦åé¢æ²¡æœ‰æ³›å‹<code>&lt;T, R, ..&gt;</code>ï¼Œåˆ™è¯¥æ–¹æ³•ä¸æ˜¯æ³›å‹æ–¹æ³•</li>
</ul>
<h2 id="æ³›å‹çš„ç»§æ‰¿å’Œé€šé…ç¬¦"><a class="markdownIt-Anchor" href="#æ³›å‹çš„ç»§æ‰¿å’Œé€šé…ç¬¦"></a> æ³›å‹çš„ç»§æ‰¿å’Œé€šé…ç¬¦</h2>
<ul>
<li>æ³›å‹ä¸å…·å¤‡ç»§æ‰¿æ€§ã€‚<code>List&lt;Object&gt; list = new ArrayList&lt;String&gt;()</code> æ˜¯ä¸æ­£ç¡®çš„</li>
<li><code>&lt;?&gt;</code>ï¼šæ”¯æŒä»»æ„æ³›å‹ç±»å‹</li>
<li><code>&lt;? extends A&gt;</code>ï¼šæ”¯æŒAç±»åŠAç±»çš„å­ç±»ï¼Œè§„å®šäº†æ³›å‹çš„ä¸Šé™</li>
<li><code>&lt;? super A&gt;</code>ï¼šæ”¯æŒAç±»ä»¥åŠAç±»çš„çˆ¶ç±»ï¼Œä¸é™äºç›´æ¥çˆ¶ç±»ï¼Œè§„å®šäº†æ³›å‹çš„ä¸‹é™</li>
</ul>
<h1 id="junitå•å…ƒæµ‹è¯•ç±»"><a class="markdownIt-Anchor" href="#junitå•å…ƒæµ‹è¯•ç±»"></a> Junitå•å…ƒæµ‹è¯•ç±»</h1>
<ul>
<li><code>Junit</code>æ˜¯ä¸€ä¸ªJavaè¯­è¨€çš„å•å…ƒæµ‹è¯•æ¡†æ¶</li>
<li>å¤šæ•°Javaçš„å¼€å‘ç¯å¢ƒå¦å·²ç»é›†æˆäº†<code>Junit</code>ä½œä¸ºå•å…ƒæµ‹è¯•å·¥å…·</li>
<li>åœ¨éœ€è¦æµ‹è¯•çš„æ–¹æ³•ä¸Šé¢åŠ å…¥<code>@Test</code>ï¼Œåˆ™å¯ä»¥ç›´æ¥è¿è¡Œè¯¥æ–¹æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.Junit_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Junit_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span>  <span class="comment">// ä½¿ç”¨Junitç±»æµ‹è¯•è¯¥æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æµ‹è¯•m1æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m2</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æµ‹è¯•m2æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ç¨‹åºè¿›ç¨‹çº¿ç¨‹åŸºç¡€"><a class="markdownIt-Anchor" href="#ç¨‹åºè¿›ç¨‹çº¿ç¨‹åŸºç¡€"></a> ç¨‹åºè¿›ç¨‹çº¿ç¨‹ï¼ˆåŸºç¡€ï¼‰</h1>
<h2 id="åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ¦‚å¿µ"></a> åŸºæœ¬æ¦‚å¿µ</h2>
<ul>
<li>ç¨‹åºï¼šä¸ºå®ŒæˆæŸä¸ªç‰¹å®šä»»åŠ¡ã€ç”¨æŸç§è¯­è¨€ç¼–å†™çš„ä¸€ç»„æŒ‡ä»¤çš„é›†åˆã€‚</li>
<li>è¿›ç¨‹ï¼šè¿è¡Œä¸­çš„ç¨‹åºã€‚æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ–æ˜¯æ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚</li>
<li>çº¿ç¨‹ï¼šçº¿ç¨‹æ˜¯ç”±è¿›ç¨‹åˆ›å»ºçš„ï¼Œæ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“ã€‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºå¤šä¸ªçº¿ç¨‹ã€‚</li>
<li>å•çº¿ç¨‹ï¼šåŒä¸€æ—¶åˆ»åªå…è®¸æ‰§è¡Œä¸€ä¸ªçº¿ç¨‹ã€‚</li>
<li>å¤šçº¿ç¨‹ï¼šåŒä¸€æ—¶åˆ»å¯ä»¥æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ã€‚</li>
<li>å¹¶å‘ï¼šåŒä¸€æ—¶åˆ»ï¼Œå¤šä¸ªä»»åŠ¡äº¤æ›¿æ‰§è¡Œã€‚å•æ ¸cpuå®ç°çš„å¤šä»»åŠ¡å°±æ˜¯å¹¶å‘ã€‚</li>
<li>å¹¶è¡Œï¼šåŒä¸€æ—¶åˆ»ï¼Œå¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œã€‚å¤šæ ¸cpuå¯ä»¥å®ç°å¹¶è¡Œã€‚</li>
</ul>
<h2 id="çº¿ç¨‹ä½¿ç”¨"><a class="markdownIt-Anchor" href="#çº¿ç¨‹ä½¿ç”¨"></a> çº¿ç¨‹ä½¿ç”¨</h2>
<p>ä¸¤ç§æ–¹æ³•ï¼š</p>
<ul>
<li>ç»§æ‰¿<code>Thread</code>ç±»ï¼Œé‡å†™<code>run()</code>æ–¹æ³•</li>
<li>å®ç°<code>Runnable</code>æ¥å£ï¼Œé‡å†™<code>run()</code> æ–¹æ³•</li>
</ul>
<p><img src="/img/Java/02JavaBasic/image-20220920171554507.png" alt="image-20220920171554507" /></p>
<h3 id="ç»§æ‰¿threadç±»"><a class="markdownIt-Anchor" href="#ç»§æ‰¿threadç±»"></a> ç»§æ‰¿<code>Thread</code>ç±»</h3>
<ul>
<li>å½“ä¸€ä¸ªç±»ç»§æ‰¿äº†<code>Thread</code>ç±»ï¼Œè¯¥ç±»å°±å¯ä»¥å½“ä½œçº¿ç¨‹ä½¿ç”¨</li>
<li>ä¼šé‡å†™<code>run</code>æ–¹æ³•ï¼Œå†™è‡ªå·±çš„ä¸šåŠ¡ä»£ç </li>
<li><code>run</code> <code>Thread</code>ç±»å®ç°äº†<code>Runnable</code>æ¥å£ä¸­çš„<code>run</code>æ–¹æ³•ã€‚</li>
</ul>
<p><strong>è¿è¡Œæµç¨‹</strong>â­</p>
<p>è¿è¡Œ<code>main</code>å‡½æ•° =&gt; å¼€å¯è¿›ç¨‹ =&gt; åˆ›å»º<code>main</code>çº¿ç¨‹ =&gt; åˆ›å»ºå­çº¿ç¨‹<code>Thread-0</code>ã€‚</p>
<p>å½“<code>main</code>çº¿ç¨‹å¯åŠ¨ä¸€ä¸ªå­çº¿ç¨‹<code>Thread-0</code>æ—¶ï¼Œä¸»çº¿ç¨‹ä¸ä¼šé˜»å¡ï¼Œä¼šç»§ç»­æ‰§è¡Œã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šéœ€è¦è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹ç»“æŸåè¿›ç¨‹æ‰ä¼šç»“æŸã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Cat.java</span></span><br><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">times</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;  <span class="comment">// æ¯éš”1sè¾“å‡ºä¸€æ¬¡</span></span><br><span class="line">            System.out.println(<span class="string">&quot;mmm&quot;</span> + (times ++));</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(times == <span class="number">5</span>) <span class="keyword">break</span>;  <span class="comment">// è¾“å‡º5æ¬¡ï¼Œç»“æŸçº¿ç¨‹</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Thread01.java</span></span><br><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        cat.start(); <span class="comment">// å¯åŠ¨çº¿ç¨‹-&gt; æ‰§è¡Œcatçš„runæ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨cat.run(),å› ä¸ºè¿™æ ·å°±æ˜¯åœ¨ä½¿ç”¨mainçº¿ç¨‹ä¸²è¡ŒåŒ–æ‰§è¡Œã€‚</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹Thread-0äº¤æ›¿æ‰§è¡Œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼š&quot;</span> + Thread.currentThread().getName());</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">60</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸»çº¿ç¨‹ï¼ši = &quot;</span> + i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/02JavaBasic/image-20220921095214016.png" alt="image-20220921095214016" /></p>
<p><strong><code>start()</code>å‡½æ•°æºç </strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">start();</span><br><span class="line">(<span class="number">1</span>)</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        start0();</span><br><span class="line">    &#125;</span><br><span class="line">(<span class="number">2</span>)</span><br><span class="line">	<span class="comment">// start0() æ˜¯æœ¬åœ°æ–¹æ³•ï¼Œæ˜¯JVMè°ƒç”¨ï¼Œåº•å±‚æ˜¯C/C++å®ç°.</span></span><br><span class="line">	<span class="comment">// çœŸæ­£å®ç°å¤šçº¿ç¨‹çš„æ•ˆæœæ˜¯start0()æ–¹æ³•ã€‚</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">start0</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/02JavaBasic/image-20220921100108731.png" alt="image-20220921100108731" /></p>
<h3 id="å®ç°runnableæ¥å£"><a class="markdownIt-Anchor" href="#å®ç°runnableæ¥å£"></a> å®ç°<code>Runnable</code>æ¥å£ğŸ’¡</h3>
<ul>
<li>javaæ˜¯å•ç»§æ‰¿çš„ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ä¸€ä¸ªç±»å·²ç»ç»§æ‰¿äº†æŸä¸ªçˆ¶ç±»ï¼Œè¿™æ—¶åœ¨ç”¨ç»§æ‰¿<code>Thread</code>ç±»æ–¹æ³•æ¥åˆ›å»ºçº¿ç¨‹åˆ™ä¸èƒ½äº†ã€‚</li>
<li>åˆ™å¯ä»¥é€šè¿‡å®ç°<code>Runnable</code>æ¥å£æ¥åˆ›å»ºçº¿ç¨‹ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Runnable01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        <span class="comment">// dog.start(); ä¸èƒ½ç›´æ¥è°ƒç”¨startæ–¹æ³•</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(dog);  <span class="comment">// åº•å±‚ä½¿ç”¨äº†è®¾è®¡æ¨¡å¼(ä»£ç†æ¨¡å¼)</span></span><br><span class="line">        thread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å°ç‹—æ±ªæ±ªå«..&quot;</span> + (++ count) + Thread.currentThread().getName());</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(count == <span class="number">10</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ¨¡æ‹Ÿ<code>Thread</code>ç±»çš„é™æ€ä»£ç†æ¨¡å¼</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Tiger</span> <span class="variable">tiger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tiger</span>();</span><br><span class="line">        <span class="type">ThreadProxy</span> <span class="variable">threadProxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadProxy</span>(tiger);</span><br><span class="line">        threadProxy.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Aniaml</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Tiger</span> <span class="keyword">extends</span> <span class="title class_">Aniaml</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è€è™å—·å—·å«..&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThreadProxy</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;<span class="comment">// æ¨¡æ‹ŸThreadç±»çš„ä»£ç†æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(target != <span class="literal">null</span>) &#123;</span><br><span class="line">            target.run();  <span class="comment">// åŠ¨æ€ç»‘å®šï¼Œåœ¨æœ¬ä¾‹ä¸­å°±æ˜¯è°ƒç”¨äº†tigerçš„runæ–¹æ³•ã€‚</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ThreadProxy</span><span class="params">(Runnable target)</span> &#123;  <span class="comment">// æ„é€ å‡½æ•°ï¼Œç”¨äºæ¥æ”¶å®ç°äº†Runnableæ¥å£çš„ç±»</span></span><br><span class="line">        <span class="built_in">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;  </span><br><span class="line">        start0(); <span class="comment">// å¯åŠ¨çº¿ç¨‹æœ€å…³é”®çš„å°±æ˜¯start0å‡½æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start0</span><span class="params">()</span> &#123; <span class="comment">// ç®€å•æ¨¡æ‹Ÿstart0å‡½æ•°</span></span><br><span class="line">        run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="threadå’Œrunnaleçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#threadå’Œrunnaleçš„åŒºåˆ«"></a> <code>Thread</code>å’Œ<code>Runnale</code>çš„åŒºåˆ«</h3>
<ul>
<li>æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œä»jdkæ–‡æ¡£å¯ä»¥çœ‹åˆ°<code>Thread</code>ç±»æœ¬èº«å°±å®ç°äº†<code>Runnale</code>æ¥å£<code>start() -&gt; start0()</code></li>
<li>å®ç°<code>Runnable</code>æ¥å£æ›´åŠ é€‚åˆå¤šä¸ªçº¿ç¨‹<strong>å…±äº«</strong>ä¸€ä¸ªèµ„æºçš„æƒ…å†µï¼Œå¹¶ä¸”é¿å…äº†å•ç»§æ‰¿çš„é™åˆ¶ã€‚å»ºè®®ä½¿ç”¨</li>
</ul>
<h2 id="å¤šçº¿ç¨‹"><a class="markdownIt-Anchor" href="#å¤šçº¿ç¨‹"></a> å¤šçº¿ç¨‹</h2>
<p>åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹ï¼Œåˆ†åˆ«æ‰§è¡Œä¸åŒçš„åŠŸèƒ½ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread03</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T1</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T1</span>();</span><br><span class="line">        <span class="type">T2</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T2</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(t1);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(t2);</span><br><span class="line">        thread1.start();  <span class="comment">// å¯åŠ¨ç¬¬ä¸€ä¸ªçº¿ç¨‹</span></span><br><span class="line">        thread2.start();  <span class="comment">// å¯åŠ¨ç¬¬äºŒä¸ªçº¿ç¨‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯éš”1sè¾“å‡ºä¸€æ¬¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T1</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello World &quot;</span> + (++count));</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (count == <span class="number">10</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T2</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hi.. &quot;</span> + (++count));</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (count == <span class="number">5</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="çº¿ç¨‹ç»ˆæ­¢"><a class="markdownIt-Anchor" href="#çº¿ç¨‹ç»ˆæ­¢"></a> çº¿ç¨‹ç»ˆæ­¢</h2>
<ul>
<li>çº¿ç¨‹å®Œæˆä»»åŠ¡åï¼Œä¼šè‡ªåŠ¨é€€å‡º</li>
<li>è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨å˜é‡æ¥æ§åˆ¶runæ–¹æ³•é€€å‡ºçš„æ–¹å¼åœæ­¢çº¿ç¨‹ï¼Œå³é€šçŸ¥æ–¹å¼ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.exit_;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadExit_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        t1.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯ä»¥é€šè¿‡ä¿®æ”¹loopï¼Œè®©t1é€€å‡ºrunæ–¹æ³•</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">10000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        t1.setLoop(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (loop) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">50</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;T è¿è¡Œä¸­...&quot;</span> + (++ count));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLoop</span><span class="params">(<span class="type">boolean</span> loop)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.loop = loop;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•"><a class="markdownIt-Anchor" href="#çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•"></a> çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•</h2>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>setName(name)</code></td>
<td style="text-align:center">è®¾ç½®çº¿ç¨‹åç§°ï¼Œä½¿ä¹‹ä¸å‚æ•°nameç›¸åŒ</td>
</tr>
<tr>
<td style="text-align:center"><code>getName(name)</code></td>
<td style="text-align:center">è¿”å›è¯¥çº¿ç¨‹çš„åç§°</td>
</tr>
<tr>
<td style="text-align:center"><code>start()</code></td>
<td style="text-align:center">å¯åŠ¨çº¿ç¨‹ï¼Œjavaè™šæ‹Ÿæœºåº•å±‚è°ƒç”¨<code>start0</code>æ–¹æ³•</td>
</tr>
<tr>
<td style="text-align:center"><code>run()</code></td>
<td style="text-align:center">è°ƒç”¨çº¿ç¨‹å¯¹è±¡<code>run</code>æ–¹æ³•</td>
</tr>
<tr>
<td style="text-align:center"><code>setPriority(idx)</code></td>
<td style="text-align:center">æ›´æ”¹çº¿ç¨‹çš„ä¼˜å…ˆçº§</td>
</tr>
<tr>
<td style="text-align:center"><code>getPriority()</code></td>
<td style="text-align:center">è·å–çº¿ç¨‹çš„ä¼˜å…ˆçº§</td>
</tr>
<tr>
<td style="text-align:center"><code>sleep(time)</code></td>
<td style="text-align:center">åœ¨æŒ‡å®šçš„æ¯«ç§’æ•°å†…è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¼‘çœ </td>
</tr>
<tr>
<td style="text-align:center"><code>interrupt</code></td>
<td style="text-align:center">ä¸­æ–­çº¿ç¨‹ï¼Œæ³¨æ„ä¸æ˜¯ç»ˆæ­¢</td>
</tr>
<tr>
<td style="text-align:center"><code>yield</code></td>
<td style="text-align:center">çº¿ç¨‹çš„ç¤¼è®©ï¼Œè®©å‡ºä¸€ä¸‹cpuè®©å…¶ä»–çº¿ç¨‹æ‰§è¡Œã€‚ä½†ç¤¼è®©æ—¶é—´ä¸ç¡®å®šã€‚æ‰€ä»¥ä¹Ÿä¸ä¸€å®šæˆåŠŸ</td>
</tr>
<tr>
<td style="text-align:center"><code>join</code></td>
<td style="text-align:center">çº¿ç¨‹çš„æ’é˜Ÿï¼Œæ’é˜Ÿçš„çº¿ç¨‹ä¸€æ—¦æ’é˜ŸæˆåŠŸï¼Œåˆ™è‚¯å®šå…ˆæ‰§è¡Œç©æ’å…¥çš„çº¿ç¨‹æ‰€æœ‰ä»»åŠ¡</td>
</tr>
</tbody>
</table>
<ul>
<li>ç”¨æˆ·çº¿ç¨‹ï¼šä¹Ÿå«å·¥ä½œçº¿ç¨‹ï¼Œå½“çº¿ç¨‹çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆ–é€šçŸ¥æ–¹å¼ç»“æŸ</li>
<li>å®ˆæŠ¤çº¿ç¨‹ï¼šä¸€èˆ¬æ˜¯ä¸ºå·¥ä½œçº¿ç¨‹æœåŠ¡çš„ï¼Œå½“æ‰€æœ‰çš„ç”¨æˆ·çº¿ç¨‹ç»“æŸï¼Œå®ˆæŠ¤çº¿ç¨‹è‡ªåŠ¨ç»“æŸã€‚</li>
<li>å¸¸è§çš„å®ˆæŠ¤çº¿ç¨‹ï¼šåƒåœ¾å›æ”¶æœºåˆ¶ã€‚</li>
</ul>
<p>è®¾ç½®å®ˆæŠ¤çº¿ç¨‹çš„æ–¹æ³•ï¼š<code>å­çº¿ç¨‹.setDaemon(true)</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hspedu.method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> éŸ©é¡ºå¹³</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadMethod03</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">MyDaemonThread</span> <span class="variable">myDaemonThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyDaemonThread</span>();</span><br><span class="line">        <span class="comment">//å¦‚æœæˆ‘ä»¬å¸Œæœ›å½“mainçº¿ç¨‹ç»“æŸåï¼Œå­çº¿ç¨‹è‡ªåŠ¨ç»“æŸ</span></span><br><span class="line">        <span class="comment">//,åªéœ€å°†å­çº¿ç¨‹è®¾ä¸ºå®ˆæŠ¤çº¿ç¨‹å³å¯</span></span><br><span class="line">        myDaemonThread.setDaemon(<span class="literal">true</span>);</span><br><span class="line">        myDaemonThread.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>( <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;<span class="comment">//mainçº¿ç¨‹</span></span><br><span class="line">            System.out.println(<span class="string">&quot;å®å¼ºåœ¨è¾›è‹¦çš„å·¥ä½œ...&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyDaemonThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (; ; ) &#123;<span class="comment">//æ— é™å¾ªç¯</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);<span class="comment">//ä¼‘çœ 1000æ¯«ç§’</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;é©¬è“‰å’Œå®‹å–†å¿«ä¹èŠå¤©ï¼Œå“ˆå“ˆå“ˆ~~~&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€"><a class="markdownIt-Anchor" href="#çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€"></a> çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ(çŠ¶æ€)</h2>
<p><img src="/img/Java/02JavaBasic/image-20220921150038797.png" alt="image-20220921150038797" /></p>
<p><strong>çŠ¶æ€è½¬ç§»å›¾</strong></p>
<p><img src="/img/Java/02JavaBasic/image-20220923092250790.png" alt="image-20220923092250790" /></p>
<h2 id="é”"><a class="markdownIt-Anchor" href="#é”"></a> é”</h2>
<h3 id="synchronizedçº¿ç¨‹åŒæ­¥"><a class="markdownIt-Anchor" href="#synchronizedçº¿ç¨‹åŒæ­¥"></a> <code>Synchronized</code>çº¿ç¨‹åŒæ­¥ â­</h3>
<p><code>synchronized</code>æ‰€å¾—æ˜¯å¯¹è±¡ä¸æ˜¯ä»£ç ï¼Œé”æ–¹æ³•å’Œéé”æ–¹æ³•åŒæ—¶æ‰§è¡Œã€‚</p>
<blockquote>
<p>åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œä¸€äº›æ•æ„Ÿè¯æ•°æ®ä¸å…è®¸è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼Œæ­¤æ—¶å°±æ˜¯ç”¨åŒæ­¥è®¿é—®æŠ€æœ¯ï¼Œä¿è¯æ•°æ®åœ¨ä»»ä½•æ—¶åˆ»ï¼Œæœ€å¤šæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œä»¥ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚</p>
<p>çº¿ç¨‹åŒæ­¥ï¼Œå³å½“æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨å¯¹å†…å­˜è¿›è¡Œæ“ä½œæ—¶ï¼Œå…¶ä»–çº¿ç¨‹éƒ½ä¸èƒ½å¯¹è¿™ä¸ªå†…å­˜åœ°å€è¿›è¡Œæ“ä½œï¼Œç›´åˆ°è¯¥çº¿ç¨‹å®Œæˆæ“ä½œï¼Œå…¶ä»–çº¿ç¨‹æ‰èƒ½å¯¹è¯¥å†…å­˜åœ°å€è¿›è¡Œæ“ä½œã€‚</p>
</blockquote>
<p><strong>å±æ€§</strong></p>
<ol>
<li>å¯é‡å…¥ ï¼Œå¯ä»¥åŠ å¾ˆå¤šé“é”ï¼Œä½†æ˜¯é”çš„è¿˜æ˜¯this</li>
<li>å¼‚å¸¸é”ï¼Œè‹¥ç¨‹åºäº§ç”Ÿäº†å¼‚å¸¸ï¼Œåˆ™ä¼šè‡ªåŠ¨é‡Šæ”¾é”ã€‚</li>
</ol>
<p><code>synchronized</code><strong>åº•å±‚å®ç°</strong></p>
<p>å½“<code>synchronized(object)</code>åï¼Œä¼šé¦–å…ˆä½¿ç”¨ markword è®°å½•è¿™ä¸ªçº¿ç¨‹IDï¼ˆåå‘é”ï¼‰ï¼›ç„¶åå¦‚æœäº§ç”Ÿäº†çº¿ç¨‹äº‰ç”¨ï¼Œåˆ™å‡çº§ä¸ºè‡ªæ—‹é”ï¼›10æ¬¡ä»¥åï¼Œå‡çº§ä¸ºé‡é‡çº§é” - OS</p>
<p>æ‰§è¡Œæ—¶é—´çŸ­ï¼ˆåŠ é”ä»£ç ï¼‰ï¼Œçº¿ç¨‹æ•°å°‘ï¼Œç”¨è‡ªæ—‹</p>
<p>æ‰§è¡Œæ—¶é—´é•¿ï¼Œçº¿ç¨‹æ•°å¤šï¼Œç”¨ç³»ç»Ÿé”</p>
<ul>
<li>JDKæ—©æœŸ</li>
</ul>
<p><strong>ä½¿ç”¨æ–¹æ³•</strong></p>
<ul>
<li>åŒæ­¥ä»£ç å—</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(å¯¹è±¡) &#123;  <span class="comment">// å¾—åˆ°å¯¹è±¡çš„é”ï¼Œæ‰èƒ½æ“ä½œåŒæ­¥ä»£ç </span></span><br><span class="line">    <span class="comment">// éœ€è¦è¢«åŒæ­¥çš„ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>synchronized</code> è¿˜å¯ä»¥æ”¾åœ¨æ–¹æ³•å£°æ˜ä¸­ï¼Œè¡¨ç¤ºæ•´ä¸ªæ–¹æ³•ä¸ºåŒæ­¥æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">m</span> <span class="params">(String name)</span> &#123;</span><br><span class="line">    <span class="comment">// éœ€è¦è¢«åŒæ­¥çš„ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å®ä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hspedu.syn;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> éŸ©é¡ºå¹³</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œæ¨¡æ‹Ÿä¸‰ä¸ªçª—å£åŒæ—¶å”®ç¥¨100å¼ </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SellTicket</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//æµ‹è¯•ä¸€æŠŠ</span></span><br><span class="line">        <span class="type">SellTicket03</span> <span class="variable">sellTicket03</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicket03</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(sellTicket03).start();<span class="comment">//ç¬¬1ä¸ªçº¿ç¨‹-çª—å£</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(sellTicket03).start();<span class="comment">//ç¬¬2ä¸ªçº¿ç¨‹-çª—å£</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(sellTicket03).start();<span class="comment">//ç¬¬3ä¸ªçº¿ç¨‹-çª—å£</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®ç°æ¥å£æ–¹å¼, ä½¿ç”¨synchronizedå®ç°çº¿ç¨‹åŒæ­¥</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SellTicket03</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticketNum</span> <span class="operator">=</span> <span class="number">100</span>;<span class="comment">//è®©å¤šä¸ªçº¿ç¨‹å…±äº« ticketNum</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="literal">true</span>;<span class="comment">//æ§åˆ¶runæ–¹æ³•å˜é‡</span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">object</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŒæ­¥æ–¹æ³•ï¼ˆé™æ€çš„ï¼‰çš„é”ä¸ºå½“å‰ç±»æœ¬èº«</span></span><br><span class="line">    <span class="comment">//è€éŸ©è§£è¯»</span></span><br><span class="line">    <span class="comment">//1. public synchronized static void m1() &#123;&#125; é”æ˜¯åŠ åœ¨ SellTicket03.class</span></span><br><span class="line">    <span class="comment">//2. å¦‚æœåœ¨é™æ€æ–¹æ³•ä¸­ï¼Œå®ç°ä¸€ä¸ªåŒæ­¥ä»£ç å—.</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        synchronized (SellTicket03.class) &#123;</span></span><br><span class="line"><span class="comment">            System.out.println(&quot;m2&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">m2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (SellTicket03.class) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;m2&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è€éŸ©è¯´æ˜</span></span><br><span class="line">    <span class="comment">//1. public synchronized void sell() &#123;&#125; å°±æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•</span></span><br><span class="line">    <span class="comment">//2. è¿™æ—¶é”åœ¨ thiså¯¹è±¡</span></span><br><span class="line">    <span class="comment">//3. ä¹Ÿå¯ä»¥åœ¨ä»£ç å—ä¸Šå†™ synchronize ,åŒæ­¥ä»£ç å—, äº’æ–¥é”è¿˜æ˜¯åœ¨thiså¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="comment">/*synchronized*/</span> <span class="keyword">void</span> <span class="title function_">sell</span><span class="params">()</span> &#123; <span class="comment">//åŒæ­¥æ–¹æ³•, åœ¨åŒä¸€æ—¶åˆ»ï¼Œ åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œsellæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">synchronized</span> (<span class="comment">/*this*/</span> object) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ticketNum &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;å”®ç¥¨ç»“æŸ...&quot;</span>);</span><br><span class="line">                loop = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;çª—å£ &quot;</span> + Thread.currentThread().getName() + <span class="string">&quot; å”®å‡ºä¸€å¼ ç¥¨&quot;</span></span><br><span class="line">                    + <span class="string">&quot; å‰©ä½™ç¥¨æ•°=&quot;</span> + (--ticketNum));<span class="comment">//1 - 0 - -1  - -2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (loop) &#123;</span><br><span class="line">            <span class="comment">//ä¼‘çœ 50æ¯«ç§’, æ¨¡æ‹Ÿ</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">50</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            sell();<span class="comment">//sellæ–¹æ³•æ˜¯ä¸€ä¸ª åŒæ­¥æ–¹æ³•</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äº’æ–¥é”"><a class="markdownIt-Anchor" href="#äº’æ–¥é”"></a> äº’æ–¥é”</h3>
<blockquote>
<p>javaè¯­è¨€ä¸­ï¼Œå¼•å…¥äº†å¯¹è±¡äº’æ–¥é”çš„æ¦‚å¿µï¼Œæ¥ä¿è¯å…±äº«æ•°æ®çš„å®Œæ•´æ€§ã€‚</p>
<p>å…³é”®å­—<code>synchronized</code> æ¥ä¸å¯¹è±¡çš„äº’æ–¥é”è”ç³»ï¼Œå½“æŸå¯¹è±¡ç”¨synchronized ä¿®é¥°æ—¶ï¼Œè¡¨æ˜è¯¥å¯¹è±¡åœ¨ä»»æ„æ—¶åˆ»åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹è®¿é—®ã€‚</p>
<p>åŒæ­¥æ–¹æ³•ï¼ˆéé™æ€ï¼‰çš„é”å¯ä»¥æ˜¯thisï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å¯¹è±¡ï¼ˆè¦æ±‚æ˜¯åŒä¸€å¯¹è±¡ï¼‰</p>
<p>åŒæ­¥æ–¹æ³•ï¼ˆé™æ€<code>static</code>ï¼‰çš„é”å¯ä»¥æ˜¯å½“å‰ç±»æœ¬èº«ã€‚<code>ç±».class</code></p>
</blockquote>
<h3 id="æ­»é”"><a class="markdownIt-Anchor" href="#æ­»é”"></a> æ­»é”</h3>
<blockquote>
<p>å¤šä¸ªçº¿ç¨‹éƒ½å ç”¨äº†å¯¹æ–¹çš„é”èµ„æºï¼Œä½†ä¸è‚¯ç›¸è®©ï¼Œå¯¼è‡´äº†æ­»é”ã€‚åœ¨ç¼–ç¨‹æ—¶ä¸€å®šè¦é¿å…æ­»é”çš„æ”¾ç”Ÿã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hspedu.syn;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> éŸ©é¡ºå¹³</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * æ¨¡æ‹Ÿçº¿ç¨‹æ­»é”</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeadLock_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//æ¨¡æ‹Ÿæ­»é”ç°è±¡</span></span><br><span class="line">        <span class="type">DeadLockDemo</span> <span class="variable">A</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DeadLockDemo</span>(<span class="literal">true</span>);</span><br><span class="line">        A.setName(<span class="string">&quot;Açº¿ç¨‹&quot;</span>);</span><br><span class="line">        <span class="type">DeadLockDemo</span> <span class="variable">B</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DeadLockDemo</span>(<span class="literal">false</span>);</span><br><span class="line">        B.setName(<span class="string">&quot;Bçº¿ç¨‹&quot;</span>);</span><br><span class="line">        A.start();</span><br><span class="line">        B.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//çº¿ç¨‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DeadLockDemo</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Object</span> <span class="variable">o1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();<span class="comment">// ä¿è¯å¤šçº¿ç¨‹ï¼Œå…±äº«ä¸€ä¸ªå¯¹è±¡,è¿™é‡Œä½¿ç”¨static</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Object</span> <span class="variable">o2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="type">boolean</span> flag;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DeadLockDemo</span><span class="params">(<span class="type">boolean</span> flag)</span> &#123;<span class="comment">//æ„é€ å™¨</span></span><br><span class="line">        <span class="built_in">this</span>.flag = flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸‹é¢ä¸šåŠ¡é€»è¾‘çš„åˆ†æ</span></span><br><span class="line">        <span class="comment">//1. å¦‚æœflag ä¸º T, çº¿ç¨‹A å°±ä¼šå…ˆå¾—åˆ°/æŒæœ‰ o1 å¯¹è±¡é”, ç„¶åå°è¯•å»è·å– o2 å¯¹è±¡é”</span></span><br><span class="line">        <span class="comment">//2. å¦‚æœçº¿ç¨‹A å¾—ä¸åˆ° o2 å¯¹è±¡é”ï¼Œå°±ä¼šBlocked</span></span><br><span class="line">        <span class="comment">//3. å¦‚æœflag ä¸º F, çº¿ç¨‹B å°±ä¼šå…ˆå¾—åˆ°/æŒæœ‰ o2 å¯¹è±¡é”, ç„¶åå°è¯•å»è·å– o1 å¯¹è±¡é”</span></span><br><span class="line">        <span class="comment">//4. å¦‚æœçº¿ç¨‹B å¾—ä¸åˆ° o1 å¯¹è±¡é”ï¼Œå°±ä¼šBlocked</span></span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (o1) &#123;<span class="comment">//å¯¹è±¡äº’æ–¥é”, ä¸‹é¢å°±æ˜¯åŒæ­¥ä»£ç </span></span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot; è¿›å…¥1&quot;</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (o2) &#123; <span class="comment">// è¿™é‡Œè·å¾—liå¯¹è±¡çš„ç›‘è§†æƒ</span></span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot; è¿›å…¥2&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (o2) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot; è¿›å…¥3&quot;</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (o1) &#123; <span class="comment">// è¿™é‡Œè·å¾—liå¯¹è±¡çš„ç›‘è§†æƒ</span></span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot; è¿›å…¥4&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é‡Šæ”¾é”"><a class="markdownIt-Anchor" href="#é‡Šæ”¾é”"></a> é‡Šæ”¾é”</h3>
<ul>
<li>å½“å‰çº¿ç¨‹çš„åŒæ­¥æ–¹æ³•ã€åŒæ­¥ä»£ç å—æ‰§è¡Œç»“æŸ</li>
<li>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­é‡åˆ°<code>break</code>ã€<code>return</code></li>
<li>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å— ã€åŒæ­¥æ–¹æ³•ä¸­å‡ºç°äº†æœªå¤„ç†çš„<code>Error</code>æˆ–<code>Exception</code>ï¼Œå¯¼è‡´å¼‚å¸¸ç»“æŸ</li>
<li>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­æ‰§è¡Œäº†çº¿ç¨‹å¯¹è±¡çš„<code>wait()</code>æ–¹æ³•ï¼Œå½“å‰çº¿ç¨‹æš‚åœï¼Œå¹¶é‡Šæ”¾é”</li>
</ul>
<h3 id="synchronizedä¼˜åŒ–"><a class="markdownIt-Anchor" href="#synchronizedä¼˜åŒ–"></a> <code>synchronized</code>ä¼˜åŒ–</h3>
<ul>
<li>é”çš„ç»†åŒ–</li>
<li>é”çš„ç²—åŒ–</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FineCoarseLock</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å½“å­˜åœ¨å¤šæ®µéœ€è¦åŠ é”çš„ä»£ç ï¼Œåˆ™å¯ä»¥è¿›è¡Œé”çš„ç²—è¯ï¼Œå³å°†é”åŠ è½½è¯¥æ–¹æ³•ä¸Šã€‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        count ++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é”çš„ç»†åŒ–ï¼ˆç»†ç²’åº¦ï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åªéœ€è¦å°†æ‰€åŠ è½½å…³é”®çš„ä¸šåŠ¡ä»£ç ä¸Š</span></span><br><span class="line">        <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="volatile"><a class="markdownIt-Anchor" href="#volatile"></a> <code>volatile</code></h2>
<ul>
<li>ä¿è¯çº¿ç¨‹å¯è§æ€§ï¼Œæ¯æ¬¡æ”¹å†™éƒ½ä¼šè¢«çº¿ç¨‹è¯»å–ã€‚</li>
<li>ç¦æ­¢æŒ‡ä»¤é‡æ’åº</li>
<li>ä¸èƒ½ä¿è¯åŸå­æ€§ï¼Œå¹¶ä¸èƒ½ä¿è¯å¤šä¸ªçº¿ç¨‹å…±åŒä¿®æ”¹runningå˜é‡æ—¶æ‰€å¸¦æ¥çš„ä¸ä¸€è‡´é—®é¢˜ã€‚</li>
</ul>
<p>å®ä¾‹1ï¼šä¿è¯çº¿ç¨‹å¯è§æ€§</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sun.awt.windows.ThemeReader;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;m start&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(flag) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;m end!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t::m, <span class="string">&quot;t1&quot;</span>).start();  <span class="comment">// lambda è¡¨è¾¾å¼å’Œä¸‹é¢çš„å†™æ³•å«ä¹‰ç›¸åŒ</span></span><br><span class="line"><span class="comment">//        new Thread(new Runnable() &#123;</span></span><br><span class="line"><span class="comment">//            @Override</span></span><br><span class="line"><span class="comment">//            public void run() &#123;</span></span><br><span class="line"><span class="comment">//                t.m();</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;, &quot;t1&quot;);</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        t.flag = <span class="literal">false</span>;  <span class="comment">// æ”¹å†™åï¼Œçº¿ç¨‹ä¼šç›´æ¥è·å–åˆ°ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ä¾‹2ï¼šç¦æ­¢æŒ‡ä»¤é‡æ’åº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Mgr06</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Mgr06 INSTANCE; <span class="comment">// å®šä¹‰ä¸€ä¸ªç§æœ‰å¯¹è±¡ï¼Œå¹¶ä¸”ä¸€å®šéœ€è¦æ˜¯volatile</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Mgr06</span><span class="params">()</span> &#123;  <span class="comment">// æ„é€ å‡½æ•°ç§æœ‰åŒ–</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Mgr06 <span class="title function_">getINSTANCE</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(INSTANCE == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// åŒé‡æ£€æŸ¥ã€‚ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</span></span><br><span class="line">            <span class="keyword">synchronized</span> (Mgr06.class) &#123;  <span class="comment">// å› ä¸ºæ­¤æ—¶æ˜¯é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨thisï¼Œéœ€è¦ä½¿ç”¨ ç±»å.class</span></span><br><span class="line">                <span class="keyword">if</span> (INSTANCE == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                    INSTANCE = <span class="keyword">new</span> <span class="title class_">Mgr06</span>();  <span class="comment">// 1.ç”³è¯·å†…å­˜  2. è®¾ç½®åˆå§‹åª  3.èµ‹å€¼</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                System.out.println(Mgr06.getINSTANCE().hashCode());  <span class="comment">// åˆ›å»º100ä¸ªå¯¹è±¡åŒæ—¶è·å–Mgr06å¯¹è±¡ã€‚</span></span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘"><a class="markdownIt-Anchor" href="#å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘"></a> å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘â­â­â­</h1>
<p>å‡¡æ˜¯ä»æ—¶é—´è§’åº¦æˆ–è€…ä¼˜å…ˆçº§è§’åº¦è§£å†³å¤šçº¿ç¨‹é—®é¢˜çš†ä¸å¯¹ï¼ï¼ï¼å‡¡æ˜¯ä»<code>join</code>è€ƒè™‘çš„ï¼Œä¹Ÿå…¨ä¸å¯¹ï¼ï¼ï¼</p>
<h2 id="å“²å­¦å®¶å°±é¤é—®é¢˜"><a class="markdownIt-Anchor" href="#å“²å­¦å®¶å°±é¤é—®é¢˜"></a> å“²å­¦å®¶å°±é¤é—®é¢˜</h2>
<p><img src="https://img-blog.csdnimg.cn/20200311170922207.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h3 id="æ­»é”å†™æ³•"><a class="markdownIt-Anchor" href="#æ­»é”å†™æ³•"></a> æ­»é”å†™æ³•</h3>
<ul>
<li>åˆ›å»ºç­·å­ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ChopStick ç±» ç­·å­ç±»</span></span><br><span class="line"><span class="keyword">package</span> com.xzt.PhilosopherDining;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChopStick</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>åˆ›å»ºçº¿ç¨‹ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// T01_DeadLockç±»ï¼Œä¼šé€ æˆæ­»é”</span></span><br><span class="line"><span class="keyword">package</span> com.xzt.PhilosopherDining;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T01_DeadLock</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();  <span class="comment">// åˆ›å»º5æ ¹ç­·å­</span></span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();</span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();</span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();</span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p0&quot;</span>, <span class="number">0</span>, ch0, ch1);  <span class="comment">// åˆ›å»º5ä¸ªå“²å­¦å®¶ï¼ŒæŒ‡å®šå…¶ç¼–å·åŠå·¦å³ç­·å­ç¼–å·ã€‚</span></span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p1&quot;</span>, <span class="number">1</span>, ch1, ch2);</span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p2&quot;</span>, <span class="number">2</span>, ch2, ch3);</span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p3&quot;</span>, <span class="number">3</span>, ch3, ch4);</span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p4&quot;</span>, <span class="number">4</span>, ch4, ch0);</span><br><span class="line"></span><br><span class="line">        p0.start();</span><br><span class="line">        p1.start();</span><br><span class="line">        p2.start();</span><br><span class="line">        p3.start();</span><br><span class="line">        p4.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Philosohper</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">        <span class="keyword">private</span> ChopStick left, right;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> index;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Philosohper</span><span class="params">(String name, <span class="type">int</span> index, ChopStick left, ChopStick right)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.setName(name);</span><br><span class="line">            <span class="built_in">this</span>.index = index;</span><br><span class="line">            <span class="built_in">this</span>.left = left;</span><br><span class="line">            <span class="built_in">this</span>.right = right;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (right) &#123;  <span class="comment">// æ‹¿èµ·å³ç­·å­</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">synchronized</span> (left) &#123;  <span class="comment">// æ‹¿èµ·å·¦ç­·å­</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(index + <span class="string">&quot; å·å“²å­¦å®¶å·²ç»åƒå®Œ&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å·¦æ’‡å­ç®—æ³•"><a class="markdownIt-Anchor" href="#å·¦æ’‡å­ç®—æ³•"></a> å·¦æ’‡å­ç®—æ³•</h3>
<ul>
<li>è§£å†³æ­»é”é—®é¢˜ï¼ˆ<strong>å·¦æ’‡å­ç®—æ³•</strong>ï¼‰</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.PhilosopherDining;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * åªéœ€è¦æœ‰ä¸€ä¸ªå“²å­¦å®¶æ˜¯å·¦æ’‡å­å°±å¯ä»¥ï¼Œç„¶åå…ˆæŠ“å·¦æ‰‹ï¼ŒåæŠ“å³æ‰‹ï¼Œå…¶ä»–çš„å“²å­¦å®¶ä»ç„¶å…ˆæŠ“å³æ‰‹å†æŠ“å·¦æ‰‹ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T02_DeadLockOpen</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();  <span class="comment">// åˆ›å»º5æ ¹ç­·å­</span></span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();</span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();</span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();</span><br><span class="line">        <span class="type">ChopStick</span> <span class="variable">ch4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChopStick</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p0&quot;</span>, <span class="number">0</span>, ch0, ch1);  <span class="comment">// åˆ›å»º5ä¸ªå“²å­¦å®¶ï¼ŒæŒ‡å®šå…¶ç¼–å·åŠå·¦å³ç­·å­ç¼–å·ã€‚</span></span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p1&quot;</span>, <span class="number">1</span>, ch1, ch2);</span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p2&quot;</span>, <span class="number">2</span>, ch2, ch3);</span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p3&quot;</span>, <span class="number">3</span>, ch3, ch4);</span><br><span class="line">        <span class="type">Philosohper</span> <span class="variable">p4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Philosohper</span>(<span class="string">&quot;p4&quot;</span>, <span class="number">4</span>, ch4, ch0);</span><br><span class="line"></span><br><span class="line">        p0.start();</span><br><span class="line">        p1.start();</span><br><span class="line">        p2.start();</span><br><span class="line">        p3.start();</span><br><span class="line">        p4.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Philosohper</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">        <span class="keyword">private</span> ChopStick left, right;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> index;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Philosohper</span><span class="params">(String name, <span class="type">int</span> index, ChopStick left, ChopStick right)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.setName(name);</span><br><span class="line">            <span class="built_in">this</span>.index = index;</span><br><span class="line">            <span class="built_in">this</span>.left = left;</span><br><span class="line">            <span class="built_in">this</span>.right = right;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (index % <span class="number">2</span> == <span class="number">0</span>) &#123;  <span class="comment">// å¶æ•°çš„å“²å­¦å®¶æ˜¯å·¦æ’‡å­</span></span><br><span class="line">                <span class="keyword">synchronized</span> (left) &#123;  <span class="comment">// æ‹¿èµ·å·¦ç­·å­</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">synchronized</span> (right) &#123;  <span class="comment">// æ‹¿èµ·å³ç­·å­</span></span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                        &#125;</span><br><span class="line">                        System.out.println(index + <span class="string">&quot; å·å“²å­¦å®¶å·²ç»åƒå®Œ&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (right) &#123;  <span class="comment">// æ‹¿èµ·å·¦ç­·å­</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">synchronized</span> (left) &#123;  <span class="comment">// æ‹¿èµ·å³ç­·å­</span></span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                        &#125;</span><br><span class="line">                        System.out.println(index + <span class="string">&quot; å·å“²å­¦å®¶å·²ç»åƒå®Œ&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="äº¤æ›¿è¾“å‡º"><a class="markdownIt-Anchor" href="#äº¤æ›¿è¾“å‡º"></a> äº¤æ›¿è¾“å‡º</h2>
<p>ä¸¤ä¸ªå­—ç¬¦ä¸²<code>1234567</code>ï¼Œ<code>ABCDEFG</code>ï¼Œè¦æ±‚äº¤æ›¿è¾“å‡ºï¼Œå¹¶ä¸”æ¯æ¬¡å…ˆè¾“å‡ºæ•°å­—ã€‚</p>
<h3 id="å®ç°æ–¹å¼1locksupport"><a class="markdownIt-Anchor" href="#å®ç°æ–¹å¼1locksupport"></a> å®ç°æ–¹å¼1ï¼šLockSupport</h3>
<p><code>LockSupport.unpark(t1)</code>ã€<code>LockSupport.park()</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.alternateoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.LockSupport;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T01_Output</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="literal">null</span>, t2 = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] aI = <span class="string">&quot;1234567&quot;</span>.toCharArray();</span><br><span class="line">        <span class="type">char</span>[] aC = <span class="string">&quot;ABCDEFG&quot;</span>.toCharArray();</span><br><span class="line"></span><br><span class="line">        t1 = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> c : aI) &#123;</span><br><span class="line">                System.out.println(c);</span><br><span class="line">                LockSupport.unpark(t2); <span class="comment">// å…ˆå«é†’t2</span></span><br><span class="line">                LockSupport.park(); <span class="comment">// ç„¶åç¡è§‰</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        t2 = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> c : aC) &#123;</span><br><span class="line">                LockSupport.park(); <span class="comment">// å…ˆç¡è§‰ æŒ‚èµ·</span></span><br><span class="line">                System.out.println(c);</span><br><span class="line">                LockSupport.unpark(t1);  <span class="comment">// ç„¶åå«é†’t1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å®ç°æ–¹æ³•2synchronized"><a class="markdownIt-Anchor" href="#å®ç°æ–¹æ³•2synchronized"></a> å®ç°æ–¹æ³•2<code>synchronized</code></h3>
<p><code>wait(); notify()</code></p>
<p>å­˜åœ¨é—®é¢˜ï¼šå¯èƒ½å…ˆè¾“å‡ºäº†å­—æ¯åè¾“å‡ºäº†æ•°å­—ã€‚å¯ä»¥ä½¿ç”¨<code>CountDownLatch latch = new CountDownLatch(1); // é—¨é—©</code></p>
<p>ç»™åè¾“å‡ºçš„å‰é¢æ’ä¸Šé—¨é—©<code>latch.await()</code>ï¼Œç­‰å…ˆè¾“å‡ºçš„è¾“å‡ºç»“æŸåæ”¾ä¸‹é—¨é—©<code>latch.countDown()</code>ï¼Œå¦‚ä¸‹æ³¨é‡Šéƒ¨åˆ†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.alternateoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T02_WaitNotify</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="literal">null</span>, t2 = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">        <span class="type">char</span>[] aI = <span class="string">&quot;1234567&quot;</span>.toCharArray();</span><br><span class="line">        <span class="type">char</span>[] aC = <span class="string">&quot;ABCDEFG&quot;</span>.toCharArray();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        CountDownLatch latch = new CountDownLatch(1);</span></span><br><span class="line">        t1 = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (o) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">char</span> c : aI) &#123;</span><br><span class="line">                    System.out.println(c);</span><br><span class="line"><span class="comment">//                    latch.countDown();</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        o.notify();  <span class="comment">// å«é†’å¯¹æ–¹</span></span><br><span class="line">                        o.wait(); <span class="comment">// waitè®©å‡ºé”è‡ªå·±ä¼‘æ¯</span></span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                o.notify();  <span class="comment">// å¿…è¦ï¼Œå¦åˆ™æ— æ³•åœæ­¢ï¼Œå› ä¸ºæ€»æœ‰ç»“æŸæ—¶ä¼šæœ‰ä¸€æ–¹åœ¨ä¼‘æ¯ï¼Œéœ€è¦å«é†’</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        t2 = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line"><span class="comment">//            try &#123;</span></span><br><span class="line"><span class="comment">//                latch.await();</span></span><br><span class="line"><span class="comment">//            &#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">//                throw new RuntimeException(e);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="keyword">synchronized</span> (o) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">char</span> c : aC) &#123;</span><br><span class="line">                    System.out.println(c);</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        o.notify();</span><br><span class="line">                        o.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                o.notify();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å®ç°æ–¹å¼3renntrantlock"><a class="markdownIt-Anchor" href="#å®ç°æ–¹å¼3renntrantlock"></a> å®ç°æ–¹å¼3ï¼š<code>RenntrantLock()</code></h3>
<p><code>RenntrantLock()</code>å¯é‡å…¥é”ï¼Œå¯ä»¥åšé˜Ÿåˆ—ã€‚<code>singal(); await();</code></p>
<p><code>RenntrantLock</code> å’Œ<code>synchronized</code>çš„åŒºåˆ«</p>
<ul>
<li><code>RenntrantLock</code> å¯ä»¥åšé˜Ÿåˆ—ï¼Œå¤šä¸ªé˜Ÿåˆ—<code>Condition</code>ï¼›<code>synchronized</code>åªæœ‰ä¸€ä¸ªé˜Ÿåˆ—</li>
<li><code>RenntrantLock</code> å¯ä»¥åšå…¬å¹³é”ï¼›<code>synchronized</code>åªèƒ½åšéå…¬å¹³é”ã€‚</li>
<li><code>RenntrantLock</code> å¯ä»¥å°è¯•ä¸Šé”ï¼›<code>synchronized</code>åªèƒ½å‚»å‚»ç­‰å¾…ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.alternateoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T03_Lock_Condition</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] aI = <span class="string">&quot;1234567&quot;</span>.toCharArray();</span><br><span class="line">        <span class="type">char</span>[] aC = <span class="string">&quot;ABCDEFG&quot;</span>.toCharArray();</span><br><span class="line"></span><br><span class="line">        <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();  <span class="comment">// å¯é‡å…¥é”</span></span><br><span class="line">        <span class="type">Condition</span> <span class="variable">condition1</span> <span class="operator">=</span> lock.newCondition(); <span class="comment">// é˜Ÿåˆ—1</span></span><br><span class="line">        <span class="type">Condition</span> <span class="variable">condition2</span> <span class="operator">=</span> lock.newCondition(); <span class="comment">// é˜Ÿåˆ—2</span></span><br><span class="line"></span><br><span class="line">        <span class="type">CountDownLatch</span> <span class="variable">latch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatch</span>(<span class="number">1</span>);  <span class="comment">// é—¨é—©</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                latch.await();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            lock.lock(); <span class="comment">// ä¸Šé”</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">char</span> c : aI) &#123;</span><br><span class="line">                    System.out.println(c);</span><br><span class="line">                    </span><br><span class="line">                    condition2.signal();</span><br><span class="line">                    condition1.await();</span><br><span class="line">                &#125;</span><br><span class="line">                condition2.signal();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            lock.lock(); <span class="comment">// ä¸Šé”</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">char</span> c : aC) &#123;</span><br><span class="line">                    System.out.println(c);</span><br><span class="line">                    latch.countDown(); <span class="comment">// æ”¾ä¸‹é—¨é—©</span></span><br><span class="line"></span><br><span class="line">                    condition1.signal();</span><br><span class="line">                    condition2.await();</span><br><span class="line">                &#125;</span><br><span class="line">                condition1.signal();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å®ç°æ–¹å¼4transferqueue"><a class="markdownIt-Anchor" href="#å®ç°æ–¹å¼4transferqueue"></a> å®ç°æ–¹å¼4ï¼š<code>TransferQueue&lt;&gt;</code></h3>
<p><code>TransferQueue&lt;&gt;</code>æ˜¯ä¸€ä¸ªäº¤æ¢é˜Ÿåˆ—ï¼Œå®¹é‡ä¸º0ï¼Œåªèƒ½ç”¨äºäº¤æ¢ã€‚äº’ç›¸æ‰“å°å¯¹æ–¹çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.alternateoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.LinkedTransferQueue;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T04_TransferQueue</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] aI = <span class="string">&quot;1234567&quot;</span>.toCharArray();</span><br><span class="line">        <span class="type">char</span>[] aC = <span class="string">&quot;ABCDEFG&quot;</span>.toCharArray();</span><br><span class="line"></span><br><span class="line">        LinkedTransferQueue&lt;Character&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedTransferQueue</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">char</span> c : aI) &#123;</span><br><span class="line">                    queue.transfer(c);  <span class="comment">// å…ˆä»ä¸€ä¸ªc</span></span><br><span class="line">                    System.out.println(queue.take());  <span class="comment">//åœ¨è¾“å‡º</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">char</span> c : aC) &#123;</span><br><span class="line">                    System.out.println(queue.take());  <span class="comment">// å…ˆè¾“å‡ºé˜Ÿåˆ—ä¸­çš„å…ƒç´ ï¼Œè¾“å‡ºçš„æ˜¯aIæ‰”è¿›å»çš„ã€‚</span></span><br><span class="line">                    queue.transfer(c); <span class="comment">// å†æ‰”è¿›å»ä¸€ä¸ªc</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="äº‹åŠ¡é—®é¢˜"><a class="markdownIt-Anchor" href="#äº‹åŠ¡é—®é¢˜"></a> äº‹åŠ¡é—®é¢˜</h2>
<p>ä¸‰ä¸ªä»»åŠ¡ï¼Œä¸€ä¸ªä»»åŠ¡æ‰§è¡Œé”™è¯¯ï¼Œå…¶ä»–ä»»åŠ¡éƒ½åº”è¯¥å–æ¶ˆã€‚</p>
<h2 id="cas-æ— é”ä¼˜åŒ–è‡ªæ—‹"><a class="markdownIt-Anchor" href="#cas-æ— é”ä¼˜åŒ–è‡ªæ—‹"></a> CAS æ— é”ä¼˜åŒ–ï¼Œè‡ªæ—‹</h2>
<h2 id="atomicinterge"><a class="markdownIt-Anchor" href="#atomicinterge"></a> <code>AtomicInterge</code></h2>
<p>ä¸éœ€è¦åŠ é”ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicInteger;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T01_AtomicInterge</span> &#123;</span><br><span class="line">    <span class="type">AtomicInteger</span> <span class="variable">count</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">0</span>); <span class="comment">// ç›¸å½“äºInterge count = 0;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">            count.incrementAndGet(); <span class="comment">// ç›¸å½“äº count ++ï¼Œä½†æ˜¯æ˜¯çº¿ç¨‹å®‰å…¨çš„</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T01_AtomicInterge</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T01_AtomicInterge</span>();</span><br><span class="line">        List&lt;Thread&gt; threads = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            threads.add(<span class="keyword">new</span> <span class="title class_">Thread</span>(t::m, <span class="string">&quot;thread-&quot;</span> + i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        threads.forEach((o) -&gt; o.start());</span><br><span class="line">        </span><br><span class="line">        threads.forEach((o) -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                o.join();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(t.count);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ–°ç±»å‹é”åŒæ­¥é”"><a class="markdownIt-Anchor" href="#æ–°ç±»å‹é”åŒæ­¥é”"></a> æ–°ç±»å‹é”ï¼ˆåŒæ­¥é”ï¼‰</h2>
<h3 id="synchronized"><a class="markdownIt-Anchor" href="#synchronized"></a> <code>synchronized</code></h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * ä¸‹é¢æ ·ä¾‹ä¼šç­‰t1çº¿ç¨‹ç»“æŸåæ‰è°ƒç”¨t2çº¿ç¨‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T00_Synchronized</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">            <span class="comment">// if(i == 2) t.m2();  // æ­¤å¤„è°ƒç”¨m2ï¼Œåˆ™å¯å®ç°å½“è¾“å‡º2æ—¶è°ƒç”¨m2æ–¹æ³•ï¼Œä½“ç°äº†synchronizedçš„å¯é‡ç”¨æ€§ã€‚</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">m2</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;m2......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T00_Synchronized</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T00_Synchronized</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t::m1, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t::m2, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="renntrantlockå¯é‡å…¥é”"><a class="markdownIt-Anchor" href="#renntrantlockå¯é‡å…¥é”"></a> <code>RenntrantLock</code>å¯é‡å…¥é”</h3>
<p><code>private Lock lock = new ReentrantLock();</code></p>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½¿ç”¨ try lockè¿›è¡Œå°è¯•é”å®šï¼Œä¸ç®¡é”å®šä¸å¦ï¼Œæ–¹æ³•éƒ½å°†ç»§ç»­æ‰§è¡Œã€‚ä¸‹æ–¹m2æ–¹æ³•</li>
<li><strong>å…¬å¹³é”</strong>ï¼Œé»˜è®¤æ˜¯éå…¬å¹³é”ï¼Œå…¬å¹³é”å®šä¹‰æ–¹æ³•<code>private ReentrantLocklock = new ReentrantLock(true);</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T01_RenntrantLock</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">()</span> &#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                System.out.println(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">locked</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            locked = lock.tryLock(<span class="number">5</span>, TimeUnit.SECONDS);  <span class="comment">// 5sä¹‹å†…å°è¯•è·å¾—é”ï¼Œè·å¾—è¿”å›true</span></span><br><span class="line">            System.out.println(<span class="string">&quot;m2 ....&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(locked) lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T01_RenntrantLock</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T01_RenntrantLock</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t::m1, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t::m2, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * å…¬å¹³é”</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T02_RenntrantLock2</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>(<span class="literal">true</span>); <span class="comment">// å…¬å¹³é”</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;è·å¾—é”&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å…¬å¹³é”è¾“å‡ºï¼šä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿è¾“å‡ºï¼Œéå…¬å¹³ï¼šç­‰çº¿ç¨‹1ç»“æŸï¼Œçº¿ç¨‹2æ‰èƒ½æ‹¿åˆ°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T02_RenntrantLock2</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T02_RenntrantLock2</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="countdownlatch-é—¨é—©"><a class="markdownIt-Anchor" href="#countdownlatch-é—¨é—©"></a> <code>CountDownLatch</code> é—¨é—©</h3>
<p><code>CountDownLatch latch = new CountDownLatch(å€¼);</code></p>
<p><strong>æœ€ç»ˆè¦çš„æ–¹æ³•</strong></p>
<ul>
<li><code>latch.countDown();</code> é—¨é—©å€¼å‡ä¸€ã€‚</li>
<li><code>latch.await();</code> æ’ä¸Šé—¨é—©ï¼Œç­‰å¾…é—¨é—©çš„å€¼å‡ä¸º0åç»§ç»­å¾€åæ‰§è¡Œã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T03_CountDownLatchTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">usingCountDownLatch</span><span class="params">()</span> &#123;</span><br><span class="line">        Thread[] threads = <span class="keyword">new</span> <span class="title class_">Thread</span>[<span class="number">100</span>];</span><br><span class="line">        <span class="type">CountDownLatch</span> <span class="variable">latch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatch</span>(threads.length); <span class="comment">// å€¼ä¸º100 çš„é—¨é—©</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; threads.length; i++) &#123;</span><br><span class="line">            threads[i] = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">10000</span>; j++) &#123;</span><br><span class="line">                    result += j;</span><br><span class="line">                &#125;</span><br><span class="line">                latch.countDown();  <span class="comment">// é—¨é—©å‡ä¸€</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; threads.length; i++) &#123;</span><br><span class="line">            threads[i].start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            latch.await();  <span class="comment">// æ’ä¸Šé—¨é—©ï¼Œåˆå§‹ä¸º100,ç­‰ä¸Šé¢é—¨é—©å€¼å‡ä¸º0æ—¶å¯ä»¥å¾€åç»§ç»­æ‰§è¡Œ</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;end Latch&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">usingJoin</span><span class="params">()</span> &#123;</span><br><span class="line">        Thread[] threads = <span class="keyword">new</span> <span class="title class_">Thread</span>[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; threads.length; i++) &#123;</span><br><span class="line">            threads[i] = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">10000</span>; j++) &#123;</span><br><span class="line">                    result += j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; threads.length; i++) &#123;</span><br><span class="line">            threads[i].start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨joinå‡½æ•°ï¼Œå’Œä¸Šé¢æ•ˆæœä¸€æ ·ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; threads.length; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                threads[i].join();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;end Latch&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        usingCountDownLatch();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="cyclicbarrier-æ …æ "><a class="markdownIt-Anchor" href="#cyclicbarrier-æ …æ "></a> <code>CyclicBarrier</code> æ …æ </h3>
<p>ä¸»è¦ç”¨äºé™æµã€‚</p>
<p><strong>å®šä¹‰æ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="type">CyclicBarrier</span> <span class="variable">barrier</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CyclicBarrier</span>(<span class="number">20</span>, <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;æ»¡äººï¼Œå‘è½¦ï¼ï¼ï¼&quot;</span>);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="type">CyclicBarrier</span> <span class="variable">barrier1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CyclicBarrier</span>(<span class="number">20</span>, () -&gt; &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;æ»¡äººï¼Œå‘è½¦&quot;</span>);</span><br><span class="line">&#125;);  <span class="comment">// lambdaè¡¨è¾¾å¼ï¼Œå’Œä¸Šé¢ä¸€æ ·</span></span><br></pre></td></tr></table></figure>
<p><strong>å®ä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CyclicBarrier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T04_TestCyclicBarrier</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">CyclicBarrier</span> <span class="variable">barrier</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CyclicBarrier</span>(<span class="number">20</span>, <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ»¡äººï¼Œå‘è½¦ï¼ï¼ï¼&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">CyclicBarrier</span> <span class="variable">barrier1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CyclicBarrier</span>(<span class="number">20</span>, () -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ»¡äººï¼Œå‘è½¦&quot;</span>);</span><br><span class="line">        &#125;);  <span class="comment">// lambdaè¡¨è¾¾å¼ï¼Œå’Œä¸Šé¢ä¸€æ ·</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">try</span>&#123;</span><br><span class="line">                    barrier.await();  <span class="comment">// æ»¡20ä¸ªçº¿ç¨‹æ‰èƒ½æ‰§è¡Œ</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="phaser-é˜¶æ®µ"><a class="markdownIt-Anchor" href="#phaser-é˜¶æ®µ"></a> <code>Phaser</code> é˜¶æ®µ</h3>
<p>â€¦</p>
<h3 id="readwritelock-è¯»å†™é”"><a class="markdownIt-Anchor" href="#readwritelock-è¯»å†™é”"></a> <code>ReadWriteLock</code> è¯»å†™é”</h3>
<ul>
<li>è¯»é”æ˜¯å…±äº«é”ï¼Œå†™é”æ˜¯ç‹¬å é”ã€‚è¯»é”å…±äº«é”å¯ä¿è¯å¹¶å‘è¯»æ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œå…¶ä¸­è¯»å†™ï¼Œå†™è¯»ï¼Œå†™å†™æ˜¯äº’æ–¥çš„</li>
<li><code>synchronized</code>å’Œ<code>renntrantLock</code>éƒ½æ˜¯ç‹¬å é”ã€‚</li>
</ul>
<p><strong>å®šä¹‰æ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">static</span> <span class="type">ReadWriteLock</span> <span class="variable">readWriteLock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantReadWriteLock</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="type">Lock</span> <span class="variable">readLock</span> <span class="operator">=</span> readWriteLock.readLock();  <span class="comment">// å½“ä¸€ä¸ªçº¿ç¨‹è·å¾—è¯»é”æ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä»ç„¶å¯ä»¥ç»§ç»­è¯»ï¼Œ</span></span><br><span class="line"><span class="keyword">static</span> <span class="type">Lock</span> <span class="variable">writeLock</span> <span class="operator">=</span> readWriteLock.writeLock();</span><br></pre></td></tr></table></figure>
<p><strong>å®ä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sound.sampled.FloatControl;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReadWriteLock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantReadWriteLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * è¯»å†™é”ï¼šå…±äº«é”å’Œæ’ä»–é”</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T05_TestReadWirteLock</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> value;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">ReadWriteLock</span> <span class="variable">readWriteLock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantReadWriteLock</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Lock</span> <span class="variable">readLock</span> <span class="operator">=</span> readWriteLock.readLock();  <span class="comment">// å½“ä¸€ä¸ªçº¿ç¨‹è·å¾—è¯»é”æ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä»ç„¶å¯ä»¥ç»§ç»­è¯»ï¼Œ</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Lock</span> <span class="variable">writeLock</span> <span class="operator">=</span> readWriteLock.writeLock();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">read</span><span class="params">(Lock lock)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;read over!!&quot;</span>);</span><br><span class="line">            <span class="comment">// æ¨¡æ‹Ÿè¯»å–æ“ä½œ</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(Lock lock, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            value = v;</span><br><span class="line">            System.out.println(<span class="string">&quot;write over!!&quot;</span>);</span><br><span class="line">            <span class="comment">// æ¨¡æ‹Ÿè¯»å–æ“ä½œ</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        Runnable readR = () -&gt; read(lock);  // 1sè¯»ä¸€æ¬¡</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">readR</span> <span class="operator">=</span> () -&gt; read(readLock);  <span class="comment">// 1sæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šè¯»å–</span></span><br><span class="line"><span class="comment">//        Runnable writeR = () -&gt; write(lock, new Random().nextInt());</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">writeR</span> <span class="operator">=</span> () -&gt; write(writeLock, <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">18</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(readR).start();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(writeR).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="semaphoreä¿¡å·é‡"><a class="markdownIt-Anchor" href="#semaphoreä¿¡å·é‡"></a> <code>Semaphore</code>ä¿¡å·é‡</h3>
<p><strong>å®šä¹‰æ–¹æ³•</strong>ï¼š<code>Semaphore s = new Semaphore(å€¼, true)</code>ï¼Œæ­¤å¤„çš„ å€¼ ä»£è¡¨æœ€å¤§å…è®¸åŒæ—¶æ‰§è¡Œçš„çº¿ç¨‹ä¸ªæ•°ã€‚<code>true</code>ä»£è¡¨å…¬å¹³é”ã€‚</p>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong></p>
<ul>
<li><code>s.acquire()</code> è·å¾—ä¿¡å·é‡(é”)ï¼Œä¿¡å·é‡å€¼å‡ä¸€ï¼Œè‹¥ä¸º0ï¼Œåˆ™å…¶ä»–çº¿ç¨‹æ— æ³•è·å–</li>
<li><code>s.release()</code> é‡Šæ”¾ä¿¡å·é‡(é”)ï¼Œä¿¡å·é‡å€¼åŠ ä¸€ã€‚</li>
</ul>
<p><strong>å®ä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Semaphore;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T06_TestSemaphore</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Semaphore</span> <span class="variable">semaphore</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Semaphore</span>(<span class="number">1</span>);  <span class="comment">// å…è®¸ä¸€ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œ</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                semaphore.acquire();  <span class="comment">// è·å¾—ä¿¡å·é‡ï¼Œä¿¡å·é‡å€¼å‡ä¸€ï¼Œè‹¥ä¸º0ï¼Œåˆ™å…¶ä»–çº¿ç¨‹æ— æ³•è·å–</span></span><br><span class="line">                System.out.println(<span class="string">&quot;T1 running....&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;T1 running....&quot;</span>);</span><br><span class="line">                semaphore.release(); <span class="comment">// é‡Šæ”¾ä¿¡å·é‡ï¼Œå…¶ä»–çº¿ç¨‹åˆå¯ä»¥é‡æ–°è·å–ã€‚</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                semaphore.acquire();  <span class="comment">// è·å¾—ä¿¡å·é‡ï¼Œä¿¡å·é‡å€¼å‡ä¸€ï¼Œè‹¥ä¸º0ï¼Œåˆ™å…¶ä»–çº¿ç¨‹æ— æ³•è·å–</span></span><br><span class="line">                System.out.println(<span class="string">&quot;T2 running....&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;T2 running....&quot;</span>);</span><br><span class="line">                semaphore.release(); <span class="comment">// é‡Šæ”¾ä¿¡å·é‡ï¼Œå…¶ä»–çº¿ç¨‹åˆå¯ä»¥é‡æ–°è·å–ã€‚</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="exchanger-äº¤æ¢å™¨"><a class="markdownIt-Anchor" href="#exchanger-äº¤æ¢å™¨"></a> <code>Exchanger</code> äº¤æ¢å™¨</h3>
<p><code>static Exchanger&lt;String&gt; exchanger = new Exchanger&lt;&gt;();</code></p>
<p>äº¤æ¢ä¸¤ä¸ªçº¿ç¨‹ä¸­çš„å†…å®¹ï¼Œåªèƒ½æ˜¯ä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´ã€‚</p>
<p><strong>å®ä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Exchanger;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T07_TestExchanger</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> Exchanger&lt;String&gt; exchanger = <span class="keyword">new</span> <span class="title class_">Exchanger</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;T1&quot;</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                s = exchanger.exchange(s);  <span class="comment">// é˜»å¡</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &quot;</span> + s);</span><br><span class="line">        &#125;, <span class="string">&quot;t1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;T2&quot;</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                s = exchanger.exchange(s);  <span class="comment">// é˜»å¡ï¼Œå½“Exchangeré‡Œé¢å­˜åœ¨ä¸¤ä¸ªæ—¶è¿›è¡Œäº¤æ¢ã€‚</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &quot;</span> + s);</span><br><span class="line">        &#125;, <span class="string">&quot;t2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">t1 T2</span></span><br><span class="line"><span class="comment">t2 T1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="locksupport"><a class="markdownIt-Anchor" href="#locksupport"></a> <code>LockSupport</code></h3>
<p>å¯ä»¥ä»»æ„ä½ç½®åœæ­¢ã€‚å¹¶ä¸”å¯ä»¥å«é†’æŒ‡å®šçº¿ç¨‹ã€‚</p>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong></p>
<ul>
<li><code>LockSupport.park()</code>ï¼Œå°†çº¿ç¨‹æš‚åœï¼Œä½†ä¸æ˜¯ç»ˆæ­¢ã€‚</li>
<li><code>LockSupport.unpark(çº¿ç¨‹å)</code>ï¼Œå°†æŒ‡å®šçº¿ç¨‹æ¢å¤ã€‚å¹¶ä¸”<code>unpark</code>å¯ä»¥åœ¨<code>park</code>ä¹‹å‰è°ƒç”¨</li>
</ul>
<p><strong>å®ä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.LockSupport;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">T08_TestLockSupport</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">5</span>) LockSupport.park();  <span class="comment">// å°†tçº¿ç¨‹æš‚åœï¼Œä½†æ²¡æœ‰ç»ˆæ­¢ã€‚</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        t.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">8000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;8s end!!!&quot;</span>);</span><br><span class="line">        LockSupport.unpark(t); <span class="comment">// å°†tçº¿ç¨‹æ¢å¤</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ioæµ"><a class="markdownIt-Anchor" href="#ioæµ"></a> IOæµ</h1>
<h2 id="æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ–‡ä»¶"></a> æ–‡ä»¶</h2>
<blockquote>
<p>æ–‡ä»¶æ˜¯ä¿å­˜æ•°æ®çš„åœ°æ–¹</p>
</blockquote>
<h3 id="æ–‡ä»¶æµ"><a class="markdownIt-Anchor" href="#æ–‡ä»¶æµ"></a> æ–‡ä»¶æµ</h3>
<blockquote>
<p>æ–‡ä»¶åœ¨ç¨‹åºä¸­æ˜¯ä»¥æµçš„å½¢å¼æ¥æ“ä½œçš„</p>
<p>è¾“å…¥æµï¼šæ•°æ®ä»æ•°æ®æºï¼ˆæ–‡ä»¶ï¼‰åˆ°ç¨‹åºï¼ˆå†…å­˜ï¼‰çš„è·¯å¾„</p>
<p>è¾“å‡ºæµï¼šæ•°æ®ä»ç¨‹åºï¼ˆå†…å­˜ï¼‰åˆ°æ•°æ®æºï¼ˆæ–‡ä»¶ï¼‰çš„è·¯å¾„</p>
</blockquote>
<h3 id="å¸¸ç”¨çš„æ–‡ä»¶æ“ä½œ"><a class="markdownIt-Anchor" href="#å¸¸ç”¨çš„æ–‡ä»¶æ“ä½œ"></a> å¸¸ç”¨çš„æ–‡ä»¶æ“ä½œ</h3>
<ul>
<li>åˆ›å»ºæ–‡ä»¶å¯¹è±¡ç›¸å…³æ„é€ å™¨å’Œæ–¹æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(String pathname);  <span class="comment">// æ ¹æ®è·¯å¾„æ„å»ºä¸€ä¸ªFileå¯¹è±¡</span></span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(File parent, String child); <span class="comment">// æ ¹æ®çˆ¶ç›®å½•æ–‡ä»¶+å­è·¯å¾„æ„å»º</span></span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(String parent, String child); <span class="comment">// æ ¹æ®çˆ¶ç›®å½•+å­è·¯å¾„æ„å»º</span></span><br><span class="line"></span><br><span class="line">file.crateNewFile(); <span class="comment">// åˆ›å»ºæ–°æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è·å–æ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–æ–‡ä»¶çš„ä¿¡æ¯</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">info</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//å…ˆåˆ›å»ºæ–‡ä»¶å¯¹è±¡</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;e:\\news1.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ï¼Œå¾—åˆ°å¯¹åº”ä¿¡æ¯</span></span><br><span class="line">    System.out.println(<span class="string">&quot;æ–‡ä»¶åå­—=&quot;</span> + file.getName());</span><br><span class="line">    <span class="comment">//getNameã€getAbsolutePathã€getParentã€lengthã€existsã€isFileã€isDirectory</span></span><br><span class="line">    System.out.println(<span class="string">&quot;æ–‡ä»¶ç»å¯¹è·¯å¾„=&quot;</span> + file.getAbsolutePath());</span><br><span class="line">    System.out.println(<span class="string">&quot;æ–‡ä»¶çˆ¶çº§ç›®å½•=&quot;</span> + file.getParent());</span><br><span class="line">    System.out.println(<span class="string">&quot;æ–‡ä»¶å¤§å°(å­—èŠ‚)=&quot;</span> + file.length());</span><br><span class="line">    System.out.println(<span class="string">&quot;æ–‡ä»¶æ˜¯å¦å­˜åœ¨=&quot;</span> + file.exists());<span class="comment">//T</span></span><br><span class="line">    System.out.println(<span class="string">&quot;æ˜¯ä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶=&quot;</span> + file.isFile());<span class="comment">//T</span></span><br><span class="line">    System.out.println(<span class="string">&quot;æ˜¯ä¸æ˜¯ä¸€ä¸ªç›®å½•=&quot;</span> + file.isDirectory());<span class="comment">//F</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ç›®å½•çš„æ“ä½œå’Œæ–‡ä»¶åˆ é™¤</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ¤æ–­ d:\\news1.txt æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±åˆ é™¤</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;e:\\news1.txt&quot;</span>;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(filePath);</span><br><span class="line">    <span class="keyword">if</span> (file.exists()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (file.delete()) &#123;</span><br><span class="line">            System.out.println(filePath + <span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(filePath + <span class="string">&quot;åˆ é™¤å¤±è´¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¯¥æ–‡ä»¶ä¸å­˜åœ¨...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­ D:\\demo02 æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨å°±åˆ é™¤ï¼Œå¦åˆ™æç¤ºä¸å­˜åœ¨</span></span><br><span class="line"><span class="comment">//è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½“ä¼šåˆ°ï¼Œåœ¨javaç¼–ç¨‹ä¸­ï¼Œç›®å½•ä¹Ÿè¢«å½“åšæ–‡ä»¶</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m2</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;D:\\demo02&quot;</span>;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(filePath);</span><br><span class="line">    <span class="keyword">if</span> (file.exists()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (file.delete()) &#123;</span><br><span class="line">            System.out.println(filePath + <span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(filePath + <span class="string">&quot;åˆ é™¤å¤±è´¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¯¥ç›®å½•ä¸å­˜åœ¨...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­ D:\\demo\\a\\b\\c ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±æç¤ºå·²ç»å­˜åœ¨ï¼Œå¦åˆ™å°±åˆ›å»º</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m3</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">directoryPath</span> <span class="operator">=</span> <span class="string">&quot;D:\\demo\\a\\b\\c&quot;</span>;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(directoryPath);</span><br><span class="line">    <span class="keyword">if</span> (file.exists()) &#123;</span><br><span class="line">        System.out.println(directoryPath + <span class="string">&quot;å­˜åœ¨..&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (file.mkdirs()) &#123; <span class="comment">//åˆ›å»ºä¸€çº§ç›®å½•ä½¿ç”¨mkdir() ï¼Œåˆ›å»ºå¤šçº§ç›®å½•ä½¿ç”¨mkdirs()</span></span><br><span class="line">            System.out.println(directoryPath + <span class="string">&quot;åˆ›å»ºæˆåŠŸ..&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(directoryPath + <span class="string">&quot;åˆ›å»ºå¤±è´¥...&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ioæµåŸç†åŠæµçš„åˆ†ç±»"><a class="markdownIt-Anchor" href="#ioæµåŸç†åŠæµçš„åˆ†ç±»"></a> IOæµåŸç†åŠæµçš„åˆ†ç±»</h2>
<blockquote>
<p>I/OæŠ€æœ¯æ˜¯éå¸¸å®ç”¨çš„æŠ€æœ¯ï¼Œç”¨äºå¤„ç†æ•°æ®ä¼ è¾“ã€‚å¦‚è¯»/å†™æ–‡ä»¶ã€‚ç½‘ç»œé€šè®¯ç­‰ã€‚</p>
<p>javaç¨‹åºä¸­ï¼Œå¯¹äºæ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºæ˜¯ä»¥<code>stream</code>æµçš„æ–¹å¼è¿›è¡Œ</p>
<p><code>java.io</code>åŒ…ä¸‹æä¾›äº†å„ç§æµç±»å’Œæ¥å£ã€‚</p>
</blockquote>
<h3 id="ioæµåŸç†"><a class="markdownIt-Anchor" href="#ioæµåŸç†"></a> I/OæµåŸç†</h3>
<ul>
<li>è¾“å…¥inputï¼šè¯»å–å¤–éƒ¨æ•°æ®åˆ°ç¨‹åºï¼ˆå†…å­˜ï¼‰ä¸­</li>
<li>è¾“å‡ºoutputï¼šå°†ç¨‹åºè¾“å‡ºåˆ°ç£ç›˜ã€å…‰ç›˜ç­‰å­˜å‚¨è®¾å¤‡ä¸­ã€‚</li>
</ul>
<h3 id="æµçš„åˆ†ç±»"><a class="markdownIt-Anchor" href="#æµçš„åˆ†ç±»"></a> æµçš„åˆ†ç±»</h3>
<p><img src="/img/Java/02JavaBasic/image-20220922145641013.png" alt="image-20220922145641013" /></p>
<p>615</p>
<h2 id="èŠ‚ç‚¹æµå’Œå¤„ç†æµ"><a class="markdownIt-Anchor" href="#èŠ‚ç‚¹æµå’Œå¤„ç†æµ"></a> èŠ‚ç‚¹æµå’Œå¤„ç†æµ</h2>
<h2 id="è¾“å…¥æµ"><a class="markdownIt-Anchor" href="#è¾“å…¥æµ"></a> è¾“å…¥æµ</h2>
<h2 id="è¾“å‡ºæµ"><a class="markdownIt-Anchor" href="#è¾“å‡ºæµ"></a> è¾“å‡ºæµ</h2>
<h2 id="propertiesç±»"><a class="markdownIt-Anchor" href="#propertiesç±»"></a> <code>Properties</code>ç±»</h2>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ1</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>Java ä¼ä¸šå¼€å‘åŸºç¡€ MySQL</title>
    <url>/2022/06/06/JAVA/04JavaMySQL/</url>
    <content><![CDATA[<h1 id="æ•°æ®åº“"><a class="markdownIt-Anchor" href="#æ•°æ®åº“"></a> æ•°æ®åº“</h1>
<ul>
<li>æ•°æ®åº“ï¼šç®€ç§°DBï¼ˆDataBaseï¼‰ï¼ŒæŒ‰ç…§ä¸€å®šæ ¼å¼å­˜å‚¨æ•°æ®çš„ä¸€äº›æ–‡ä»¶çš„ç»„åˆã€‚å­˜å‚¨æ•°æ®çš„ä»“åº“ï¼Œå®é™…å°±æ˜¯ä¸€å †æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¸­å­˜å‚¨äº†å…·æœ‰ç‰¹å®šæ ¼å¼çš„æ•°æ®ã€‚</li>
<li>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼šç®€ç§°DBMSï¼ˆDataBaseManagementï¼‰ï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ˜¯ä¸“é—¨ç”¨æ¥ç®¡ç†æ•°æ®åº“ä¸­æ•°æ®çš„ï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿå¯ä»¥å¯¹æ•°æ®åº“å½“ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥ã€‚
<ul>
<li>å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼šMySQLï¼ŒOracleï¼ŒMS SqlServerï¼ŒDB2, sybaseç­‰â€¦</li>
</ul>
</li>
<li>SQLï¼šç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œç¨‹åºå‘˜éœ€è¦å­¦ä¹ SQLè¯­å¥ï¼Œç¨‹åºå‘˜é€šè¿‡ç¼–å†™SQLè¯­å¥ï¼Œç„¶åDBMSè´Ÿè´£æ‰§è¡ŒSQLè¯­å¥ï¼Œæœ€ç»ˆæ¥å®Œæˆå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚
<ul>
<li>SQLæ˜¯ä¸€å¥—æ ‡å‡†ï¼Œ</li>
</ul>
</li>
</ul>
<p><strong>ä¸‰è€…ä¹‹é—´çš„å…³ç³»</strong></p>
<p>â€‹	DBMS â€”&gt; æ‰§è¡Œ  ----&gt; SQL â€”&gt; æ“ä½œ ----&gt; DB</p>
<h1 id="æŸ¥çœ‹mysqlæœåŠ¡"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹mysqlæœåŠ¡"></a> æŸ¥çœ‹MySQLæœåŠ¡</h1>
<blockquote>
<p>â€‹	è®¡ç®—æœºç‚¹å‡»å³é”®ï¼Œé€‰æ‹©ç®¡ç†ï¼Œåœ¨é€‰æ‹©æœåŠ¡å’Œåº”ç”¨ç¨‹åºä¸­çš„æœåŠ¡ï¼Œæ‰¾åˆ°mysqlæœåŠ¡ã€‚é»˜è®¤æ˜¯è‡ªåŠ¨å¯åŠ¨çŠ¶æ€ï¼Œåªæœ‰åœ¨å¯åŠ¨çŠ¶æ€æ‰èƒ½å¤Ÿä½¿ç”¨ã€‚</p>
</blockquote>
<h2 id="mysqlæœåŠ¡å¯åœ"><a class="markdownIt-Anchor" href="#mysqlæœåŠ¡å¯åœ"></a> MySQLæœåŠ¡å¯åœ</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">net stop MySQL  <span class="comment">#åœæ­¢æœåŠ¡</span></span><br><span class="line">net start MySQL <span class="comment">#å¼€å¯æœåŠ¡</span></span><br></pre></td></tr></table></figure>
<h2 id="ç™»å½•mysql"><a class="markdownIt-Anchor" href="#ç™»å½•mysql"></a> ç™»å½•MySQL</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -uroot -på¯†ç   <span class="comment"># æ˜¾ç¤ºå¯†ç çš„å½¢å¼</span></span><br><span class="line">mysql -uroot -p <span class="comment"># éšè—å¯†ç </span></span><br></pre></td></tr></table></figure>
<h1 id="sql-åˆ†ç±»"><a class="markdownIt-Anchor" href="#sql-åˆ†ç±»"></a> SQL åˆ†ç±»â­</h1>
<ul>
<li>DQLï¼šæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œå…³é”®å­—ï¼š<code>select</code></li>
<li>DMLï¼šæ•°æ®æ“ä½œè¯­è¨€ï¼Œè¡¨ä¸­æ•°æ®çš„å¢åˆ æ”¹ï¼Œ<code>delete</code>ã€<code>insert</code>ã€<code>update</code></li>
<li>DDLï¼šæ•°æ®å®šä¹‰è¯­è¨€ï¼Œè¡¨ç»“æ„çš„å¢åˆ æ”¹<code>create</code>ã€<code>drop</code>ã€<code>alter</code>ä¸»è¦æ“ä½œçš„æ˜¯è¡¨ç»“æ„</li>
<li>TCLï¼šäº‹åŠ¡æ§åˆ¶è¯­è¨€ï¼Œäº‹åŠ¡æäº¤<code>commit</code>ï¼Œäº‹ç‰©å›æ»š<code>rollback</code></li>
<li>DCLï¼šæ•°æ®æ§åˆ¶è¯­è¨€ï¼Œæˆæƒ<code>grant</code>ï¼Œæ’¤é”€æƒé™<code>revoke</code>â€¦</li>
</ul>
<h1 id="mysqlå¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#mysqlå¸¸ç”¨å‘½ä»¤"></a> MySQLå¸¸ç”¨å‘½ä»¤</h1>
<p>ä»¥ä¸‹å‘½ä»¤ä¸åŒºåˆ†å¤§å°å†™ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">show databases;  <span class="comment"># æŸ¥çœ‹mysqlä¸­æœ‰å“ªäº›æ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line">use æ•°æ®åº“å;  <span class="comment"># ä½¿ç”¨æ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line">create database æ•°æ®åº“å;  <span class="comment"># åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line">show tables;  <span class="comment"># æŸ¥çœ‹æ•°æ®åº“ä¸­æœ‰å“ªäº›è¡¨</span></span><br></pre></td></tr></table></figure>
<p>æ•°æ®åº“ä¸­æœ€åŸºæœ¬çš„å•å…ƒæ˜¯è¡¨ï¼štable</p>
<p>ä»»ä½•ä¸€å¼ è¡¨éƒ½æœ‰è¡Œå’Œåˆ—ï¼š</p>
<ul>
<li>è¡Œï¼ˆrowï¼‰ï¼šè¢«ç§°ä¸ºæ•°æ®/è®°å½•ã€‚</li>
<li>åˆ—ï¼ˆcolumnï¼‰ï¼šåˆ«æˆä¸ºå­—æ®µï¼Œæ¯ä¸ªå­—æ®µéƒ½æœ‰å­—æ®µåï¼Œæ•°æ®ç±»å‹ï¼Œçº¦æŸç­‰å±æ€§ã€‚
<ul>
<li>å­—æ®µåï¼šæ˜¯ä¸€ä¸ªæ™®é€šçš„åå­—ï¼Œè§åçŸ¥æ„</li>
<li>æ•°æ®ç±»å‹ï¼šå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œæ—¥æœŸç­‰</li>
<li>çº¦æ•°ï¼šçº¦æŸæœ‰å¾ˆå¤šï¼Œå…¶ä¸­æœ‰å”¯ä¸€æ€§çº¦æŸã€‚</li>
</ul>
</li>
</ul>
<h2 id="æŸ¥çœ‹è¡¨ç»“æ„"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹è¡¨ç»“æ„"></a> æŸ¥çœ‹è¡¨ç»“æ„</h2>
<p>åªæŸ¥çœ‹è¡¨ç»“æ„ä¸æŸ¥çœ‹æ•°æ®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">desc</span> è¡¨å;  </span><br><span class="line"><span class="keyword">describe</span> è¡¨å;</span><br></pre></td></tr></table></figure>
<h1 id="dqlæ•°æ®æŸ¥è¯¢è¯­è¨€"><a class="markdownIt-Anchor" href="#dqlæ•°æ®æŸ¥è¯¢è¯­è¨€"></a> DQLæ•°æ®æŸ¥è¯¢è¯­è¨€</h1>
<h2 id="ç®€å•æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#ç®€å•æŸ¥è¯¢"></a> ç®€å•æŸ¥è¯¢</h2>
<ul>
<li>æŸ¥è¯¢ä¸€ä¸ªå­—æ®µ</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µå <span class="keyword">from</span> è¡¨å;</span><br></pre></td></tr></table></figure>
<ul>
<li>æŸ¥è¯¢ä¸¤ä¸ªå­—æ®µæˆ–å¤šä¸ªå­—æ®µï¼Œä½¿ç”¨<code>,</code>éš”å¼€</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µå<span class="number">1</span>, å­—æ®µå<span class="number">2</span> <span class="keyword">from</span> è¡¨å;</span><br></pre></td></tr></table></figure>
<ul>
<li>æŸ¥è¯¢æ‰€æœ‰å­—æ®µï¼Œä½¿ç”¨<code>*</code>è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œæ•ˆç‡ä½ï¼Œå¯è¯»æ€§å·®</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> è¡¨å; </span><br></pre></td></tr></table></figure>
<ul>
<li>ç»™æŸä¸ªå­—æ®µåèµ·åˆ«åï¼Œä½¿ç”¨<code>as</code> å…³é”®å­—ï¼Œå…¶ä¸­<code>as</code>å…³é”®å­—å¯ä»¥çœç•¥ã€‚åªæ˜¯å°†æ˜¾ç¤ºçš„æŸ¥è¯¢ç»“æœåˆ—åæ˜¾ç¤ºä¸ºåˆ«åã€‚è‹¥åˆ«åä¸­æœ‰ç©ºæ ¼æˆ–æ˜¯ä¸­æ–‡åˆ™å¯ä»¥ä½¿ç”¨<code>å•å¼•å·</code>å°†åˆ«åæ‹¬èµ·æ¥</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µå<span class="number">1</span>, å­—æ®µå<span class="number">2</span> <span class="keyword">as</span> åˆ«å <span class="keyword">from</span> è¡¨å;</span><br><span class="line"><span class="keyword">select</span> å­—æ®µå<span class="number">1</span>, å­—æ®µå<span class="number">2</span> åˆ«å <span class="keyword">from</span> è¡¨å;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä½¿ç”¨æ•°å­¦è¡¨è¾¾å¼</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µå <span class="operator">*</span> <span class="number">12</span> <span class="keyword">from</span> è¡¨å;</span><br></pre></td></tr></table></figure>
<p>æ¡ä»¶æŸ¥è¯¢</p>
<p>ä¸æ˜¯å°†è¡¨ä¸­æ‰€æœ‰æ•°æ®éƒ½æŸ¥å‡ºæ¥ï¼Œæ˜¯æŸ¥è¯¢å‡ºæ¥ç¬¦åˆæ¡ä»¶çš„ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">	å­—æ®µ<span class="number">1</span>, å­—æ®µ<span class="number">2</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	è¡¨å</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	æ¡ä»¶;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>=</code>ç­‰äºæ¡ä»¶</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sno <span class="operator">=</span> <span class="string">&#x27;201717901&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;&gt;</code>ã€<code>!=</code> ä¸ç­‰äº</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sno <span class="operator">!=</span> <span class="string">&#x27;201717901&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sno <span class="operator">&lt;&gt;</span> <span class="string">&#x27;201717901&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;</code> ï¼Œ<code>&lt;=</code>ï¼Œ<code>&gt;</code>ï¼Œ<code>&gt;=</code></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sage <span class="operator">&lt;</span> <span class="number">18</span>;</span><br><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sage <span class="operator">&lt;=</span> <span class="number">18</span>;</span><br><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sage <span class="operator">&gt;</span> <span class="number">18</span>;</span><br><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sage <span class="operator">&gt;=</span> <span class="number">18</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>between...and...</code> å¿…é¡»å·¦å°å³å¤§ï¼Œ ç­‰åŒäº <code>&gt;= and &lt;=</code></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sage <span class="operator">&gt;=</span> <span class="number">18</span> <span class="keyword">and</span> sage <span class="operator">&lt;=</span> <span class="number">30</span>;</span><br><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sage <span class="keyword">between</span> <span class="number">18</span> <span class="keyword">and</span> <span class="number">30</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>is null</code> ï¼Œ<code>is not null</code>ï¼Œåœ¨æ•°æ®åº“ä¸­ <code>null</code>ä¸èƒ½ä½¿ç”¨<code>=</code>è¡¡é‡ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> phone <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> phone <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>and</code> å¹¶ä¸”</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sage <span class="operator">&gt;=</span> <span class="number">18</span> <span class="keyword">and</span> phone <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>or</code>æˆ–è€…</li>
</ul>
<p><code>and</code> å’Œ <code>or</code> åŒæ—¶å‡ºç°ï¼Œæœ‰ä¼˜å…ˆçº§é—®é¢˜ï¼Œ<code>and</code>ä¼˜å…ˆçº§æ¯”<code>or</code>é«˜</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno, sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> phone <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">or</span> sage <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>in</code>ï¼Œç›¸å½“äºå¤šä¸ª<code>or</code>ï¼Œä¸æ˜¯åŒºé—´ï¼Œæ˜¯ä¸ªå…·ä½“çš„å€¼ã€‚<code>not in</code></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="keyword">in</span> (<span class="string">&#x27;ggg&#x27;</span>, <span class="string">&#x27;mmm&#x27;</span>, <span class="string">&#x27;qqq&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="operator">=</span> <span class="string">&#x27;ggg&#x27;</span> <span class="keyword">or</span> sname <span class="operator">=</span> <span class="string">&#x27;mmm&#x27;</span> <span class="keyword">or</span> sname <span class="operator">=</span> <span class="string">&#x27;qqq&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>not</code> å–éï¼Œé€šå¸¸ä½¿ç”¨äº <code>is</code>æˆ–<code>in</code>ä¸­</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="keyword">not</span> <span class="keyword">in</span> (<span class="string">&#x27;ggg&#x27;</span>, <span class="string">&#x27;mmm&#x27;</span>, <span class="string">&#x27;qqq&#x27;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>like</code>ï¼Œ æ¨¡ç³ŠæŸ¥è¯¢ï¼Œ<code>%</code>ä»£è¡¨åŒ¹é…ä»»æ„ä¸ªå­—ç¬¦ï¼Œ<code>_</code> ä»»æ„ä¸€ä¸ªå­—ç¬¦</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;%o%&#x27;</span>; # åå­—ä¸­å«oçš„</span><br><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;%t&#x27;</span>;  # ä»¥tç»“å°¾çš„</span><br><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;k%&#x27;</span>;  # ä»¥kå¼€å¤´çš„</span><br><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;_a%&#x27;</span>; # ç¬¬äºŒä¸ªå­—æ¯æ˜¯açš„åå­—</span><br><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;%\_%&#x27;</span>; # åå­—ä¸­æœ‰_çš„</span><br></pre></td></tr></table></figure>
<h2 id="æ’åº"><a class="markdownIt-Anchor" href="#æ’åº"></a> æ’åº</h2>
<ul>
<li>å…³é”®å­—ï¼š<code>order by</code> é»˜è®¤å‡åºï¼Œé™åºå…³é”®å­—ï¼š<code>desc</code>ï¼ŒæŒ‡é¡¶å‡åº<code>asc</code></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno, sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">order</span> <span class="keyword">by</span> sno; # é»˜è®¤æ˜¯å‡åº</span><br><span class="line"><span class="keyword">select</span> sno, sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">order</span> <span class="keyword">by</span> sno <span class="keyword">desc</span>; # é™åº</span><br><span class="line"><span class="keyword">select</span> sno, sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">order</span> <span class="keyword">by</span> sno <span class="keyword">asc</span>;  # å‡åº</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸¤ä¸ªå­—æ®µæˆ–è€…å¤šä¸ªå­—æ®µæ’åº</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno, sname, sage <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>, sno <span class="keyword">asc</span>; # æŒ‰ç…§å¹´é¾„å‡åºï¼Œç›¸åŒåˆ™æŒ‰ç…§å­¦å·å‡åº</span><br></pre></td></tr></table></figure>
<ul>
<li>æ ¹æ®å­—æ®µçš„ä½ç½®æ’åºï¼Œä¸å»ºè®®ï¼ï¼ï¼</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno, sage, sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="number">2</span>;  # ä»¥sageæ’åºï¼Œç¬¬<span class="number">2</span>åˆ—æ’åº</span><br></pre></td></tr></table></figure>
<ul>
<li>å½“æ¡ä»¶è¯­å¥å’Œæ’åºå…±å­˜æ—¶ï¼Œéœ€è¦å…ˆå†™æ¡ä»¶è¯­å¥å†å†™æ’åºè¯­å¥</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sage <span class="keyword">between</span> <span class="number">18</span> <span class="keyword">and</span> <span class="number">30</span> <span class="keyword">order</span> <span class="keyword">by</span> sno <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>
<h2 id="æ•°æ®å¤„ç†å‡½æ•°-å•è¡Œå¤„ç†å‡½æ•°"><a class="markdownIt-Anchor" href="#æ•°æ®å¤„ç†å‡½æ•°-å•è¡Œå¤„ç†å‡½æ•°"></a> æ•°æ®å¤„ç†å‡½æ•° / å•è¡Œå¤„ç†å‡½æ•°</h2>
<p><strong>å•è¡Œå¤„ç†å‡½æ•°</strong> çš„ç‰¹ç‚¹ï¼šä¸€ä¸ªè¾“å…¥å¯¹åº”ä¸€ä¸ªè¾“å‡º</p>
<p>å¤šè¡Œå¤„ç†å‡½æ•°ï¼šå¤šä¸ªè¾“å…¥å¯¹åº”ä¸€ä¸ªè¾“å‡º</p>
<ul>
<li><code>upper()</code> å°†è¯¥å­—æ®µçš„æ‰€æœ‰å­—æ¯éƒ½å˜ä¸ºå¤§å†™</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">upper</span>(sname) <span class="keyword">from</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>lower</code> å°†è¯¥å­—æ®µçš„æ‰€æœ‰å­—æ¯éƒ½å˜ä¸ºå°å†™</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">lower</span>(sname) <span class="keyword">from</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>substr(æˆªå–çš„å­—ç¬¦ä¸², èµ·å§‹ä¸‹æ ‡, æˆªå–é•¿åº¦)</code>å–å­ä¸²ï¼Œ<strong>èµ·å§‹ä¸‹æ ‡ä»1å¼€å§‹</strong>ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> substr(sname, <span class="number">1</span>, <span class="number">1</span>) <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>length</code>å–é•¿åº¦</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> length(sname) <span class="keyword">from</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>concat(str1, str2)</code> å­—ç¬¦ä¸²æ‹¼æ¥</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(<span class="built_in">upper</span>(substr(sname, <span class="number">1</span>, <span class="number">1</span>)), substr(sname, <span class="number">2</span>, length(sname) <span class="operator">-</span> <span class="number">1</span>)) <span class="keyword">from</span> <span class="keyword">user</span>;  # å°†é¦–å­—æ¯è½¬ä¸ºå¤§å†™</span><br></pre></td></tr></table></figure>
<ul>
<li><code>trim()</code> å»ç©ºæ ¼</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sname <span class="operator">=</span> <span class="built_in">trim</span>(<span class="string">&#x27;   king&#x27;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>round(å°æ•°, ä¿ç•™çš„å°æ•°ä½)</code>å››èˆäº”å…¥ï¼Œä¿ç•™çš„å°æ•°ä½å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œ-1åˆ™ä»£è¡¨ä¿ç•™åˆ°åä½ã€‚</li>
<li><code>rand()</code> ç”Ÿæˆéšæœºæ•°ï¼Œç”Ÿæˆ<code>0 ~ 1</code>çš„éšæœºæ•°</li>
<li><code>ifnull(æ•°æ®ï¼Œè¢«å½“ä½œå“ªä¸ªå€¼)</code> ï¼Œç©ºå¤„ç†å‡½æ•°ï¼Œå¯ä»¥å°†<code>null</code>è½¬æ¢ä¸ºä¸€ä¸ªå…·ä½“çš„å€¼ã€‚</li>
<li><code>case...when...then...when...then...else...end</code></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">	sno, </span><br><span class="line">	sage,</span><br><span class="line">	(<span class="keyword">case</span> sex <span class="keyword">when</span> <span class="string">&#x27;ç”·&#x27;</span> <span class="keyword">then</span> sage <span class="operator">+</span> <span class="number">2</span> <span class="keyword">then</span> <span class="string">&#x27;å¥³&#x27;</span> <span class="keyword">then</span> sage <span class="operator">+</span> <span class="number">1</span> <span class="keyword">else</span> sage <span class="keyword">end</span>) <span class="keyword">as</span> new_sage </span><br><span class="line"><span class="keyword">from</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ†ç»„å‡½æ•°-å¤šè¡Œå¤„ç†å‡½æ•°"><a class="markdownIt-Anchor" href="#åˆ†ç»„å‡½æ•°-å¤šè¡Œå¤„ç†å‡½æ•°"></a> åˆ†ç»„å‡½æ•° / å¤šè¡Œå¤„ç†å‡½æ•°</h2>
<p>è¾“å…¥å¤šè¡Œï¼Œæœ€ç»ˆè¾“å‡ºä¸€è¡Œã€‚<strong>åˆ†ç»„å‡½æ•°åœ¨ä½¿ç”¨æ—¶å¿…é¡»å…ˆè¿›è¡Œåˆ†ç»„æ‰èƒ½å¤Ÿä½¿ç”¨</strong>ã€‚è‹¥æ²¡æœ‰åˆ†ç»„åˆ™é»˜è®¤æ•´å¼ è¡¨ä¸ºä¸€ç»„ã€‚</p>
<ul>
<li><code>max</code>ã€<code>count</code>ã€<code>avg</code>ã€<code>min</code>ã€<code>sum</code></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(sal) <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sal) <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(sal) <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong></p>
<ol>
<li>åˆ†ç»„å‡½æ•°è‡ªåŠ¨å¿½ç•¥<code>null</code>ï¼Œä¸æ˜¯ä¸€ä¸ªå€¼ï¼Œæ˜¯ä»€ä¹ˆä¹Ÿæ²¡æœ‰</li>
<li>åˆ†ç»„å‡½æ•°ä¸­<code>count(*)</code>å’Œ<code>count(å…·ä½“å­—æ®µ)</code>ä¸åŒã€‚</li>
<li>åˆ†ç»„å‡½æ•°ä¸èƒ½ç›´æ¥ä½¿ç”¨åœ¨<code>where</code>å­å¥ï¼Œå› ä¸º<code>where</code>çš„æ‰§è¡Œé¡ºåºæ¯”<code>group by</code>é«˜ã€‚<strong>å‚è€ƒä¸‹é¢çš„æ‰§è¡Œé¡ºåº</strong></li>
</ol>
<h2 id="åˆ†ç»„æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#åˆ†ç»„æŸ¥è¯¢"></a> åˆ†ç»„æŸ¥è¯¢</h2>
<p>å¯ä»¥å°†æ•°æ®å…ˆè¿›è¡Œåˆ†ç»„ï¼Œç„¶åéƒ½æ¯ä¸€ç»„æ•°æ®è¿›è¡Œæ“ä½œã€‚</p>
<p><strong>å…³é”®è¯</strong>ï¼š<code>group by</code></p>
<p><strong>å…³é”®å­—é¡ºåº</strong>ï¼š<code>select...from...where...group by...order by...</code></p>
<p><strong>æ‰§è¡Œé¡ºåº</strong>ï¼š<code>from -&gt; where -&gt; group by -&gt; select -&gt; order by</code>â­</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥æ‰¾è®¡ç®—æœºä¸“ä¸šæ¯ç§æ€§åˆ«çš„å¹³å‡å¹´é¾„</span></span><br><span class="line"><span class="keyword">select</span> sex, <span class="built_in">avg</span>(sage) <span class="keyword">from</span> student <span class="keyword">where</span> major <span class="operator">=</span> <span class="string">&#x27;computer&#x27;</span> <span class="keyword">group</span> <span class="keyword">by</span> sex;</span><br><span class="line"><span class="comment">-- æŸ¥æ‰¾æ¯ä¸ªä¸“ä¸šçš„æœ€å¤§å¹´é¾„</span></span><br><span class="line"><span class="keyword">select</span> major, <span class="built_in">max</span>(sage) <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> major;</span><br></pre></td></tr></table></figure>
<p>ç»“è®ºï¼šåœ¨ä¸€æ¡<code>select</code> è¯­å¥ä¸­ï¼Œå¦‚æœæœ‰<code>group by</code>è¯­å¥çš„è¯ï¼Œ<code>select</code>åé¢åªèƒ½è·Ÿï¼šå‚åŠ åˆ†ç»„çš„å­—æ®µï¼Œä»¥åŠåˆ†ç»„å‡½æ•°ï¼Œå…¶ä»–çš„ä¸€å¾‹ä¸èƒ½è·Ÿã€‚</p>
<ul>
<li>è”åˆåˆ†ç»„</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥æ‰¾ä¸åŒä¸“ä¸šä¸åŒæ€§åˆ«çš„æœ€å¤§å¹´é¾„</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sage) <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> major, sex;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>having</code></li>
</ul>
<p>ä½¿ç”¨<code>having</code>å¯ä»¥å¯¹åˆ†å®Œä¹‹åçš„æ•°æ®è¿›ä¸€æ­¥è¿‡æ»¤ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼š<code>having</code>ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œä¸èƒ½ä»£æ›¿<code>where</code>ï¼Œå¿…é¡»å’Œ<code>group by</code>è”åˆä½¿ç”¨ã€‚</p>
<p><strong>ä¼˜åŒ–ç­–ç•¥</strong>ï¼šä¼˜å…ˆé€‰æ‹©<code>where</code></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥æ‰¾ä¸åŒä¸“ä¸šçš„æœ€å¤§å¹´é¾„ï¼Œå¹¶ä¸”åªæ˜¾ç¤ºæœ€å¤§å¹´é¾„å¤§äº20çš„æ•°æ®ã€‚æ‰§è¡Œæ•ˆç‡ä½ã€‚</span></span><br><span class="line"><span class="keyword">select</span> major, <span class="built_in">max</span>(sage) <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> major <span class="keyword">having</span> <span class="built_in">max</span>(sage) <span class="operator">&gt;</span> <span class="number">20</span>;</span><br><span class="line"><span class="comment">-- å’Œä¸Šé¢çš„æ•ˆæœä¸€æ ·ã€‚</span></span><br><span class="line"><span class="keyword">select</span> major, <span class="built_in">max</span>(sage) <span class="keyword">where</span> sage <span class="operator">&gt;</span> <span class="number">20</span> <span class="keyword">group</span> <span class="keyword">by</span> major;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ€»ç»“ï¼š</li>
</ul>
<p><strong>å…³é”®å­—é¡ºåº</strong>ï¼š<code>select...from...where...group by...having...order by...</code> åªèƒ½æŒ‰ç…§è¿™ä¸ªé¡ºåºæ¥</p>
<p><strong>æ‰§è¡Œé¡ºåº</strong>ï¼š<code>from -&gt; where -&gt; group by -&gt; having -&gt; select -&gt; order by</code></p>
<h2 id="å»é™¤é‡å¤è®°å½•"><a class="markdownIt-Anchor" href="#å»é™¤é‡å¤è®°å½•"></a> å»é™¤é‡å¤è®°å½•</h2>
<p>æ³¨æ„ï¼šåŸè¡¨æ•°æ®ä¸ä¼šè¢«ä¿®æ”¹ï¼Œåªæ˜¯æŸ¥è¯¢ç»“æœå»é‡ã€‚</p>
<p><strong>å…³é”®å­—</strong>ï¼š<code>distinct</code>ï¼Œåªèƒ½å‡ºç°åœ¨æ‰€æœ‰å­—æ®µçš„å‰é¢ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ç»Ÿè®¡ä¸“ä¸šæ•°é‡</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> major) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<h2 id="è¿æ¥æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#è¿æ¥æŸ¥è¯¢"></a> è¿æ¥æŸ¥è¯¢</h2>
<p>ä»ä¸€å¼ è¡¨ä¸­å•ç‹¬æŸ¥è¯¢ç§°ä¸ºå•è¡¨æŸ¥è¯¢ã€‚è·¨è¡¨æŸ¥è¯¢ç§°ä¸ºé“¾æ¥æŸ¥è¯¢ã€‚</p>
<h3 id="æ ¹æ®è¿æ¥æ–¹å¼åˆ†ç±»"><a class="markdownIt-Anchor" href="#æ ¹æ®è¿æ¥æ–¹å¼åˆ†ç±»"></a> <strong>æ ¹æ®è¿æ¥æ–¹å¼åˆ†ç±»</strong></h3>
<ul>
<li>å†…è¿æ¥
<ul>
<li>ç­‰å€¼è¿æ¥</li>
<li>éç­‰å€¼è¿æ¥</li>
<li>è‡ªè¿æ¥</li>
</ul>
</li>
<li>å¤–è¿æ¥
<ul>
<li>å·¦è¿æ¥</li>
<li>æœ‰è¿æ¥</li>
</ul>
</li>
<li>å…¨è¿æ¥</li>
</ul>
<p>å½“ä¸¤å¼ è¡¨è¿›è¡Œè¿æ¥æŸ¥è¯¢æ²¡æœ‰ä»»ä½•æ¡ä»¶é™åˆ¶çš„æ—¶å€™ï¼Œæœ€ç»ˆæŸ¥è¯¢ç»“æœæ¡æ•°ï¼Œæ˜¯ä¸¤å¼ è¡¨æ¡æ•°çš„ä¹˜ç§¯ã€‚è¿™ç§ç°è±¡ç§°ä¸º <strong>ç¬›å¡å°”ç§¯ç°è±¡</strong>ã€‚</p>
<p>è¡¨çš„è¿æ¥æ¬¡æ•°è¶Šå¤šï¼Œæ•ˆç‡è¶Šä½ã€‚åˆ™éœ€è¦é¿å…å°½å¯èƒ½å¤šçš„è¡¨è¿æ¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> user.sname, student.major <span class="keyword">from</span> <span class="keyword">user</span>, student <span class="keyword">where</span> user.sno <span class="operator">=</span> student.sno;</span><br></pre></td></tr></table></figure>
<h3 id="å†…è¿æ¥ä¹‹ç­‰å€¼è¿æ¥"><a class="markdownIt-Anchor" href="#å†…è¿æ¥ä¹‹ç­‰å€¼è¿æ¥"></a> å†…è¿æ¥ä¹‹ç­‰å€¼è¿æ¥</h3>
<p><code>table1 inner join table2 on æ¡ä»¶</code> å†…è¿æ¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> u.sname, s.major <span class="keyword">from</span> <span class="keyword">user</span> u, student s <span class="keyword">where</span> u.sno <span class="operator">=</span> s.sno; # SQL92</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> u.sname, s.major <span class="keyword">from</span> <span class="keyword">user</span> u <span class="keyword">inner</span> <span class="keyword">join</span> student s <span class="keyword">on</span> u.sno <span class="operator">=</span> s.sno; # SQL99 ç»“æ„æ›´æ¸…æ™°ï¼Œè¡¨è¿æ¥çš„æ¡ä»¶æ˜¯ç‹¬ç«‹çš„ï¼Œåé¢å¯åŠ <span class="keyword">where</span>è¿›ä¸€æ­¥è¿›è¡Œç­›é€‰</span><br></pre></td></tr></table></figure>
<h3 id="å†…è¿æ¥ä¹‹éç­‰å€¼è¿æ¥"><a class="markdownIt-Anchor" href="#å†…è¿æ¥ä¹‹éç­‰å€¼è¿æ¥"></a> å†…è¿æ¥ä¹‹éç­‰å€¼è¿æ¥</h3>
<p>è¿æ¥æ¡ä»¶æ˜¯éç­‰å€¼å…³ç³»</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">	e.ename, e.sal, s.grade </span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">	emp e </span><br><span class="line"><span class="keyword">join</span> </span><br><span class="line">	salgrade s </span><br><span class="line"><span class="keyword">on</span> </span><br><span class="line">	e.sal <span class="keyword">between</span> s.losal <span class="keyword">on</span> s.hisal</span><br></pre></td></tr></table></figure>
<h3 id="å†…è¿æ¥ä¹‹è‡ªè¿æ¥"><a class="markdownIt-Anchor" href="#å†…è¿æ¥ä¹‹è‡ªè¿æ¥"></a> å†…è¿æ¥ä¹‹è‡ªè¿æ¥</h3>
<p>å°†ä¸€å¼ è¡¨çœ‹ä½œä¸¤å¼ è¡¨ï¼Œç»™ä¸€å¼ è¡¨èµ·ä¸¤ä¸ªåˆ«åã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.name <span class="keyword">as</span> <span class="string">&#x27;å‘˜å·¥å&#x27;</span>, b.name <span class="keyword">as</span> <span class="string">&#x27;é¢†å¯¼å&#x27;</span> <span class="keyword">from</span> <span class="keyword">user</span> a <span class="keyword">join</span> <span class="keyword">user</span> b <span class="keyword">on</span> a.pid <span class="operator">=</span> b.id;</span><br></pre></td></tr></table></figure>
<h3 id="å¤–è¿æ¥ä¹‹å³è¿æ¥"><a class="markdownIt-Anchor" href="#å¤–è¿æ¥ä¹‹å³è¿æ¥"></a> å¤–è¿æ¥ä¹‹å³è¿æ¥</h3>
<p><strong>å…³é”®è¯</strong>ï¼š<code>right [outer] join...on</code></p>
<p><strong>å†…è¿æ¥çš„ç‰¹ç‚¹</strong>ï¼šå°†å®Œå…¨åŒ¹é…ä¸Šçš„è¿æ¥æ¡ä»¶æŸ¥è¯¢å‡ºæ¥ã€‚</p>
<p><strong>å¤–è¿æ¥ï¼ˆå³ï¼‰</strong>ï¼šè¡¨ç¤ºå°†<code>join</code>å…³é”®å­—å³è¾¹çš„è¡¨çœ‹ä½œ<strong>ä¸»è¡¨</strong>ï¼Œéœ€è¦å°†å…¶ä¸­çš„æ•°æ®ä¼šå…¨éƒ¨æŸ¥å‡ºæ¥ã€‚ä¸¤å¼ è¡¨å­˜åœ¨ä¸»æ¬¡å…³ç³»ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">	u.sname, s.major </span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">	<span class="keyword">user</span> u </span><br><span class="line"><span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> </span><br><span class="line">	student s </span><br><span class="line"><span class="keyword">on</span> </span><br><span class="line">	u.sno <span class="operator">=</span> s.sno;</span><br></pre></td></tr></table></figure>
<h3 id="å¤–è¿æ¥ä¹‹å·¦è¿æ¥"><a class="markdownIt-Anchor" href="#å¤–è¿æ¥ä¹‹å·¦è¿æ¥"></a> å¤–è¿æ¥ä¹‹å·¦è¿æ¥</h3>
<p><strong>å…³é”®è¯</strong>ï¼š<code>left [outer] join...on</code></p>
<p>å’Œä¸Šé¢æ•ˆæœç›¸åŒï¼Œéœ€è¦å°†ä¸¤å¼ è¡¨çš„é¡ºåºå˜ä¸€ä¸‹ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">	u.sname, s.major </span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">	student s  </span><br><span class="line"><span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> </span><br><span class="line">	<span class="keyword">user</span> u</span><br><span class="line"><span class="keyword">on</span> </span><br><span class="line">	u.sno <span class="operator">=</span> s.sno;</span><br></pre></td></tr></table></figure>
<h3 id="å¤šè¡¨è¿æ¥"><a class="markdownIt-Anchor" href="#å¤šè¡¨è¿æ¥"></a> å¤šè¡¨è¿æ¥</h3>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	...</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	a</span><br><span class="line"><span class="keyword">join</span> </span><br><span class="line">	b</span><br><span class="line"><span class="keyword">on</span></span><br><span class="line">	aå’Œbçš„è¿æ¥æ¡ä»¶</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span></span><br><span class="line">	c</span><br><span class="line"><span class="keyword">on</span> </span><br><span class="line">	aå’Œcçš„è¿æ¥æ¡ä»¶</span><br></pre></td></tr></table></figure>
<h2 id="å­æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#å­æŸ¥è¯¢"></a> å­æŸ¥è¯¢</h2>
<p><code>select</code>è¯­å¥ä¸­åµŒå¥—<code>select</code>è¯­å¥ï¼Œè¢«åµŒå¥—çš„<code>select</code>è¯­å¥ç§°ä¸ºå­æŸ¥è¯¢ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	..(<span class="keyword">select</span>)..</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	..(<span class="keyword">select</span>)..</span><br><span class="line"><span class="keyword">where</span> </span><br><span class="line">	..(<span class="keyword">select</span>)..</span><br></pre></td></tr></table></figure>
<ul>
<li><code>where</code>å­å¥ä¸­çš„å­æŸ¥è¯¢</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ‰¾å‡ºå¤§äºå¹³å‡å¹´é¾„çš„å­¦ç”Ÿ</span></span><br><span class="line"><span class="keyword">select</span> sname, sage <span class="keyword">from</span> student <span class="keyword">where</span> sage <span class="operator">&gt;</span> (<span class="keyword">select</span> <span class="built_in">avg</span>(sage) <span class="keyword">from</span> student);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>from</code>å­å¥ä¸­çš„å­æŸ¥è¯¢</li>
</ul>
<p><code>from</code>åé¢çš„å­æŸ¥è¯¢ï¼Œå¯ä»¥å°†å­æŸ¥è¯¢çš„æŸ¥è¯¢ç»“æœå½“ä½œä¸€å¼ ä¸´æ—¶è¡¨ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ‰¾å‡ºæ¯ä¸ªå²—ä½å¹³å‡è–ªèµ„çš„ ç­‰çº§</span></span><br><span class="line"><span class="keyword">select</span> job, <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> job;</span><br><span class="line"></span><br><span class="line">### åˆå¹¶</span><br><span class="line"><span class="keyword">select</span> t.job, s.grade </span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">	(<span class="keyword">select</span> job, <span class="built_in">avg</span>(sal) <span class="keyword">as</span> avgsal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> job) t</span><br><span class="line"><span class="keyword">join</span> </span><br><span class="line">	salgrade s </span><br><span class="line"><span class="keyword">on</span> </span><br><span class="line">	t.avgsal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>select</code>åé¢å‡ºç°çš„å­æŸ¥è¯¢</li>
</ul>
<p>æ­¤æ—¶è¦æ±‚å­æŸ¥è¯¢åªèƒ½ä¸€æ¬¡è¿”å›ä¸€æ¡ç»“æœï¼Œå¤šä½™ä¸€æ¡å°±æŠ¥é”™ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	u.sno, (selct s.sname <span class="keyword">from</span> student <span class="keyword">where</span> u.sno <span class="operator">=</span> s.sno) <span class="keyword">as</span> sname</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	<span class="keyword">user</span> u;</span><br></pre></td></tr></table></figure>
<h2 id="unionåˆå¹¶æŸ¥è¯¢ç»“æœé›†"><a class="markdownIt-Anchor" href="#unionåˆå¹¶æŸ¥è¯¢ç»“æœé›†"></a> <code>union</code>åˆå¹¶æŸ¥è¯¢ç»“æœé›†</h2>
<p>ä¸‹é¢ä¸‰ç§å†™æ³•æ¯”è¾ƒã€‚<code>union</code>æ•ˆç‡æ¯”è¾ƒé«˜ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname, major <span class="keyword">from</span> student <span class="keyword">where</span> major <span class="operator">=</span> <span class="string">&#x27;è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯&#x27;</span> <span class="keyword">or</span> major <span class="operator">=</span> <span class="string">&#x27;ç½‘ç»œå·¥ç¨‹&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> sname, major <span class="keyword">from</span> student <span class="keyword">where</span> major <span class="keyword">in</span> (<span class="string">&#x27;è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯&#x27;</span>, <span class="string">&#x27;ç½‘ç»œå·¥ç¨‹&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> sname, major <span class="keyword">from</span> student <span class="keyword">where</span> major <span class="operator">=</span> <span class="string">&#x27;è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯&#x27;</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> sname, major <span class="keyword">from</span> student <span class="keyword">where</span> major <span class="operator">=</span> <span class="string">&#x27;ç½‘ç»œå·¥ç¨‹&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼šåœ¨åˆå¹¶æ—¶ï¼Œä¸¥æ ¼è¦æ±‚ä¸¤ä¸ªç»“æœé›†çš„åˆ—æ•°ç›¸åŒã€‚mysqlå¯ä»¥åˆ—çš„æ•°æ®ç±»å‹å¯ä¸ä¸€è‡´ï¼Œorcalåˆ™ä¸è¡Œã€‚</p>
<h2 id="limit"><a class="markdownIt-Anchor" href="#limit"></a> <code>limit</code></h2>
<p><code>limit startIndex, length</code></p>
<p>å°†æŸ¥è¯¢ç»“æœé›†ä¸­çš„ä¸€éƒ¨åˆ†æŸ¥è¯¢å‡ºæ¥ï¼Œé€šå¸¸ç”¨äºåˆ†é¡µæŸ¥è¯¢ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šmysqlä¸­ <code>limit</code> åœ¨ <code>order by</code> ä¹‹åæ‰§è¡Œã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŒ‰ç…§å¹´é¾„é™åºå–å‰10æ¡è®°å½•.</span></span><br><span class="line"><span class="keyword">select</span> sname, major, sage <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> sage <span class="keyword">desc</span> limit <span class="number">10</span>;</span><br><span class="line"><span class="keyword">select</span> sname, major, sage <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> sage <span class="keyword">desc</span> limit <span class="number">0</span>, <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<h3 id="é€šç”¨åˆ†é¡µ"><a class="markdownIt-Anchor" href="#é€šç”¨åˆ†é¡µ"></a> é€šç”¨åˆ†é¡µ</h3>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">limit startIndex, length</span><br></pre></td></tr></table></figure>
<p>lengthï¼špageSize</p>
<p>startIndexï¼š(pageNo - 1) * pageSizeï¼›</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">limit (pageNo <span class="operator">-</span> <span class="number">1</span>) <span class="operator">*</span> pageSize, pageSize;</span><br></pre></td></tr></table></figure>
<h1 id="ddlæ•°æ®å®šä¹‰è¯­è¨€"><a class="markdownIt-Anchor" href="#ddlæ•°æ®å®šä¹‰è¯­è¨€"></a> DDLæ•°æ®å®šä¹‰è¯­è¨€</h1>
<h2 id="è¡¨çš„åˆ›å»º"><a class="markdownIt-Anchor" href="#è¡¨çš„åˆ›å»º"></a> è¡¨çš„åˆ›å»º</h2>
<p><strong>è¯­æ³•æ ¼å¼</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> è¡¨å(</span><br><span class="line">    å­—æ®µå<span class="number">1</span> æ•°æ®ç±»å‹ï¼Œ</span><br><span class="line">    å­—æ®µå<span class="number">2</span> æ•°æ®ç±»å‹ï¼Œ</span><br><span class="line">	å­—æ®µå<span class="number">3</span> æ•°æ®ç±»å‹</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å¿«é€Ÿåˆ›å»ºè¡¨(è¡¨çš„å¤åˆ¶)</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp <span class="keyword">as</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<p>è¡¨åå»ºè®®ä»¥<code>t_</code>æˆ–è€…<code>tb_</code>å¼€å§‹ï¼Œå¯è¯»æ€§å¼ºï¼Œè§åçŸ¥æ„ã€‚</p>
<p>å­—æ®µåï¼šè§åçŸ¥æ„ã€‚</p>
<p><strong>æ•°æ®ç±»å‹</strong>ï¼š</p>
<ul>
<li><code>vachar</code> å¯å˜é•¿åº¦å­—ç¬¦ä¸²ï¼Œä¼šæ ¹æ®æ•°æ®å®é™…é•¿åº¦<strong>åŠ¨æ€åˆ†é…</strong>é•¿åº¦ï¼Œæœ€é•¿255ã€‚</li>
<li><code>char</code> å­—ç¬¦ï¼Œä¸ä¼šæ ¹æ®æ•°æ®å®é™…é•¿åº¦åˆ†é…é•¿åº¦ï¼Œåªä¼šåˆ†é…å›ºå®šé•¿åº¦ï¼Œä¼šå¯¼è‡´ç©ºé—´æµªè´¹</li>
<li><code>int</code> æ•´å‹</li>
<li><code>bigint</code> ç­‰åŒäºjavaä¸­çš„<code>long</code></li>
<li><code>float</code> <code>double</code></li>
<li><code>date</code> çŸ­æ—¥æœŸ</li>
<li><code>datetime</code> é•¿æ—¥æœŸ</li>
<li><code>clob</code> å­—ç¬¦å¤§å¯¹è±¡ï¼Œæœ€å¤šå¯å­˜å‚¨4Gçš„å­—ç¬¦ä¸²ã€‚è¶…è¿‡255å­—ç¬¦çš„éƒ½éœ€è¦ä½¿ç”¨ã€‚</li>
<li><code>blob</code> äºŒè¿›åˆ¶å¤§å¯¹è±¡ã€‚ä¸“é—¨ç”¨æ¥å­˜å‚¨å›¾ç‰‡ï¼Œå£°éŸ³ï¼Œè§†é¢‘ç­‰æµåª’ä½“æ•°æ®ã€‚å¾€<code>blob</code>ç±»å‹çš„å­—æ®µä¸Šæ’å…¥æ•°æ®æ—¶éœ€è¦ä½¿ç”¨IOæµæ‰è¡Œã€‚</li>
</ul>
<h2 id="åˆ é™¤è¡¨æ ¼"><a class="markdownIt-Anchor" href="#åˆ é™¤è¡¨æ ¼"></a> åˆ é™¤è¡¨æ ¼</h2>
<p><code>drop table if exists è¡¨å</code></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> t_student; <span class="comment">-- å½“studentä¸å­˜åœ¨æ—¶åˆ™æŠ¥é”™ã€‚</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> t_student;</span><br></pre></td></tr></table></figure>
<h1 id="dmlæ•°æ®æ“ä½œè¯­è¨€"><a class="markdownIt-Anchor" href="#dmlæ•°æ®æ“ä½œè¯­è¨€"></a> DMLæ•°æ®æ“ä½œè¯­è¨€</h1>
<h2 id="æ’å…¥æ•°æ®"><a class="markdownIt-Anchor" href="#æ’å…¥æ•°æ®"></a> æ’å…¥æ•°æ®</h2>
<p><code>insert into è¡¨å(å­—æ®µ1, å­—æ®µ2, å­—æ®µ3, ...) values(å€¼1, å€¼2, å€¼2)</code></p>
<p>æ³¨æ„ï¼šå­—æ®µåå’Œå€¼éœ€è¦ä¸€ä¸€å¯¹åº”ï¼Œæ•°é‡è¦å¯¹åº”ï¼Œæ•°æ®ç±»å‹ä¹Ÿè¦å¯¹åº”ã€‚å¯ä»¥åŒæ—¶æ’å…¥å¤šæ¡æ•°æ®ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_student(sname, sage, sex) <span class="keyword">values</span>(<span class="string">&#x27;aaa&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;ç”·&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_student(sname, sage, sex) <span class="keyword">values</span>((<span class="string">&#x27;aaa&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;ç”·&#x27;</span>), (<span class="string">&#x27;bbb&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;ç”·&#x27;</span>), (<span class="string">&#x27;ccc&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;å¥³&#x27;</span>));</span><br></pre></td></tr></table></figure>
<p><strong>æ•°å­—æ ¼å¼åŒ–</strong>ï¼š<code>format(æ•°å­—, æ ¼å¼)</code></p>
<p><code>str_to_date('å­—ç¬¦ä¸²æ—¥æœŸ', 'æ—¥æœŸæ ¼å¼')</code>ï¼š å°†å­—ç¬¦ä¸²varcharç±»å‹è½¬ä¸ºdateç±»å‹ã€‚<code>str_to_date('20-04-1999', '%d-%m-%Y')</code></p>
<p><code>dateformat(æ—¥æœŸç±»å‹æ•°æ®, 'æ—¥æœŸæ ¼å¼')</code>ï¼šå°†dateç±»å‹è½¬æ¢ä¸ºä¸€å®šæ ¼å¼çš„varcharç±»å‹ã€‚</p>
<p><strong><code>date</code>å’Œ<code>datetime</code>çš„åŒºåˆ«</strong></p>
<ul>
<li><code>date</code>æ˜¯çŸ­æ—¥æœŸï¼ŒåªåŒ…æ‹¬å¹´æœˆæ—¥ä¿¡æ¯ã€‚é»˜è®¤æ ¼å¼ï¼š<code>%Y-%m-%d</code></li>
<li><code>datetime</code>æ˜¯é•¿æ—¥æœŸï¼ŒåŒ…æ‹¬å¹´æœˆæ—¥æ—¶åˆ†ç§’ä¿¡æ¯ã€‚é»˜è®¤æ ¼å¼ï¼š<code>%Y-%m-%d %h:%i:%s</code></li>
<li><code>now()</code>å‡½æ•°ï¼Œè·å–ç³»ç»Ÿå½“å‰æ—¶é—´ã€‚å¹¶ä¸”è·å–çš„æ—¶é—´å¸¦æœ‰æ—¶åˆ†ç§’ä¿¡æ¯ã€‚</li>
</ul>
<h2 id="ä¿®æ”¹æ•°æ®"><a class="markdownIt-Anchor" href="#ä¿®æ”¹æ•°æ®"></a> ä¿®æ”¹æ•°æ®</h2>
<p><code>update è¡¨å set å­—æ®µ1 = å€¼1, å­—æ®µ2 = å€¼2 where æ¡ä»¶</code></p>
<p><strong>æ³¨æ„</strong>ï¼šæ²¡æœ‰æ¡ä»¶ï¼Œä¼šæŠŠæ‰€æœ‰æ•°æ®éƒ½æ›´æ–°ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> t_student <span class="keyword">set</span> sname <span class="operator">=</span> <span class="string">&#x27;mmm&#x27;</span>, sage <span class="operator">=</span> <span class="number">20</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ é™¤æ•°æ®"><a class="markdownIt-Anchor" href="#åˆ é™¤æ•°æ®"></a> åˆ é™¤æ•°æ®</h2>
<ul>
<li><code>delete from è¡¨å where æ¡ä»¶;</code></li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šæ²¡æœ‰æ¡ä»¶ä¼šæŠŠæ•´å¼ è¡¨æ•°æ®å…¨éƒ¨åˆ é™¤ã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šæ•ˆç‡è¾ƒæ…¢ï¼Œå¹¶ä¸”åˆ é™¤ååœ¨ç¡¬ç›˜ä¸Šçš„å­˜å‚¨ç©ºé—´ä¸é‡Šæ”¾ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå¯ä»¥å›æ»šã€‚å¯ä»¥æ¢å¤åˆ é™¤çš„æ•°æ®ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> sno <span class="operator">=</span> <span class="string">&#x27;202010101&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>truncate table è¡¨å</code> å±äºDDLæ“ä½œ</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼šæ•ˆç‡é«˜ï¼Œç‰©ç†åˆ é™¤ï¼Œè¡¨ä¸€æ¬¡è¢«æˆªæ–­ã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šä¸æ”¯æŒå›æ»šã€‚</p>
<h1 id="çº¦æŸ"><a class="markdownIt-Anchor" href="#çº¦æŸ"></a> çº¦æŸ</h1>
<blockquote>
<p>åœ¨åˆ›å»ºè¡¨æ—¶å¯ä»¥ç»™è¡¨ä¸­çš„å­—æ®µåŠ ä¸Šä¸€äº›çº¦æŸï¼Œæ¥ä¿è¯è¿™ä¸ªè¡¨ä¸­æ•°æ®çš„å®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§ï¼ï¼ï¼</p>
</blockquote>
<h2 id="å¸¸è§çš„çº¦æŸ"><a class="markdownIt-Anchor" href="#å¸¸è§çš„çº¦æŸ"></a> å¸¸è§çš„çº¦æŸ</h2>
<ul>
<li>éç©ºçº¦æŸï¼š<code>not null</code></li>
<li>å”¯ä¸€æ€§çº¦æŸï¼š<code>unique</code></li>
<li>ä¸»é”®çº¦æŸï¼š<code>primary key</code>ï¼Œç®€ç§°ï¼ˆPKï¼‰</li>
<li>å¤–é”®çº¦æŸï¼š<code>foreign key</code>ï¼Œç®€ç§°ï¼ˆFKï¼‰</li>
<li>æ£€æŸ¥çº¦æŸï¼š<code>check</code> ï¼ˆmysqlä¸æ”¯æŒï¼Œorcalæ”¯æŒï¼‰</li>
</ul>
<h2 id="éç©ºçº¦æŸ"><a class="markdownIt-Anchor" href="#éç©ºçº¦æŸ"></a> éç©ºçº¦æŸ</h2>
<blockquote>
<p>éç©ºçº¦æŸ<code>not null</code> çš„å­—æ®µä¸èƒ½ä¸ºNULL</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test (</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="å”¯ä¸€æ€§çº¦æŸ"><a class="markdownIt-Anchor" href="#å”¯ä¸€æ€§çº¦æŸ"></a> å”¯ä¸€æ€§çº¦æŸ</h2>
<blockquote>
<p>å”¯ä¸€æ€§çº¦æŸ<code>unique</code>çº¦æŸçš„å­—æ®µä¸èƒ½é‡å¤ã€‚</p>
</blockquote>
<p>å¯ä»¥ä¸¤ä¸ªå­—æ®µè”åˆèµ·æ¥å…·æœ‰å”¯ä¸€æ€§ã€‚</p>
<p><strong>è¡¨çº§çº¦æŸ</strong>ï¼šçº¦æŸæ²¡æœ‰æ·»åŠ åœ¨åˆ—åé¢ï¼Œè¿™ç§çº¦æŸè¢«ç§°ä¸ºè¡¨çº§çº¦æŸã€‚å½“éœ€è¦å¤šä¸ªå­—æ®µè”åˆèµ·æ¥æ·»åŠ æŸä¸€çº¦æŸæ—¶ï¼Œéœ€è¦ä½¿ç”¨è¡¨çº§çº¦æŸã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test (</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    email <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">unique</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- nameå’Œemailè”åˆèµ·æ¥å…·æœ‰å”¯ä¸€æ€§çš„åˆ›å»ºæ–¹æ³•ï¼ˆé‡åä¸åŒèº«ä»½è¯å·ï¼‰</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test (</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    email <span class="type">varchar</span>(<span class="number">255</span>),  <span class="operator">/</span><span class="operator">/</span> çº¦æŸæ²¡æœ‰æ·»åŠ åœ¨åˆ—åé¢ï¼Œè¿™ç§çº¦æŸè¢«ç§°ä¸ºè¡¨çº§çº¦æŸã€‚</span><br><span class="line">    <span class="keyword">unique</span> (name, email)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="ä¸»é”®çº¦æŸ"><a class="markdownIt-Anchor" href="#ä¸»é”®çº¦æŸ"></a> ä¸»é”®çº¦æŸâ­â­</h2>
<blockquote>
<p>ä¸»é”®çº¦æŸ <code>primary key</code> çº¦æŸçš„å­—æ®µå€¼å³ä¸èƒ½ä¸ºç©ºä¹Ÿä¸èƒ½é‡å¤ã€‚ä¹Ÿå¯ä»¥è¿›è¡Œè¡¨çº§çº¦æŸ</p>
<p>åœ¨mysqlä¸­ï¼Œå¦‚æœä¸€ä¸ªå­—æ®µåŒæ—¶è¢«<code>unique</code>å’Œ<code>not null</code>çº¦æŸæ—¶ï¼Œåˆ™è¯¥å­—æ®µè‡ªåŠ¨å˜æˆä¸»é”®å­—æ®µã€‚ï¼ˆæ³¨æ„ï¼šOrcalä¸ä¸€æ ·ï¼ï¼ï¼ï¼‰</p>
</blockquote>
<p><strong>ä¸»é”®ç‰¹å¾</strong>ï¼š<code>not null</code> + <code>unique</code></p>
<p><strong>ç›¸å…³æœ¯è¯­</strong></p>
<ul>
<li>ä¸»é”®çº¦æŸï¼šå°±æ˜¯ä¸€ç§çº¦æŸ</li>
<li>ä¸»é”®å­—æ®µï¼šæŸä¸ªå­—æ®µåŠ ä¸Šäº†ä¸»é”®çº¦æŸï¼Œåˆ™è¯¥å­—æ®µä¸ºä¸»é”®å­—æ®µ</li>
<li>ä¸»é”®å€¼ï¼šä¸»é”®å­—æ®µä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½å«åšä¸»é”®å€¼ã€‚</li>
</ul>
<p>ä¸»é”®å€¼æ˜¯æ¯ä¸€è¡Œè®°å½•çš„<strong>å”¯ä¸€æ ‡è¯†</strong>ï¼Œæ˜¯æ¯ä¸€è¡Œè®°å½•çš„èº«ä»½è¯å·ã€‚</p>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li>ä»»ä½•ä¸€å¼ è¡¨éƒ½åº”è¯¥æœ‰ä¸»é”®ï¼Œæ²¡æœ‰ä¸»é”®åˆ™è¡¨æ— æ•ˆã€‚</li>
<li>åœ¨å®é™…å¼€å‘ä¸­ä¸å»ºè®®ä½¿ç”¨å¤åˆä¸»é”®ã€‚</li>
<li>ä¸€å¼ è¡¨åªèƒ½å­˜åœ¨ä¸€ä¸ªä¸»é”®çº¦æŸ</li>
<li>ä¸»é”®å€¼å»ºè®®ä½¿ç”¨ï¼š<code>int</code>ã€<code>bigint</code>ã€<code>char</code>ç­‰ç±»å‹ï¼Œä¸å»ºè®®ä½¿ç”¨<code>varchar</code>ï¼Œä¸€èˆ¬éƒ½æ˜¯æ•°å­—ï¼Œä¸€èˆ¬éƒ½æ˜¯å®šé•¿çš„ã€‚</li>
</ul>
<p><strong>ä¸»é”®åˆ†ç±»</strong></p>
<ul>
<li>è‡ªç„¶ä¸»é”®ï¼šä¸€ä¸ªè‡ªç„¶æ•°ï¼Œå’Œä¸šåŠ¡æ²¡å…³ç³»</li>
<li>ä¸šåŠ¡ä¸»é”®ï¼šä¸»é”®å’Œä¸šåŠ¡ç´§å¯†å…³è”ã€‚ä¾‹å¦‚æ‹¿é“¶è¡Œå¡å·åšä¸»é”®ã€‚</li>
<li>åœ¨å®é™…å¼€å‘ä¸­ï¼Œè‡ªç„¶ä¸»é”®ä½¿ç”¨çš„è¾ƒå¤šã€‚ä¸»é”®ä¸å»ºè®®ä½¿ç”¨ä¸šåŠ¡ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åˆ—çº§çº¦æŸ</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test (</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment, <span class="comment">-- auto_increment è‡ªå¢</span></span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    email <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">unique</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¡¨çº§çº¦æŸ - å¤åˆä¸»é”®ï¼Œåœ¨å®é™…å¼€å‘ä¸­ä¸å»ºè®®ä½¿ç”¨å¤åˆä¸»é”®</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test (</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    sno <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    email <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">unique</span>,</span><br><span class="line">    <span class="keyword">primary</span> key(id, sno)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="å¤–é”®çº¦æŸ"><a class="markdownIt-Anchor" href="#å¤–é”®çº¦æŸ"></a> å¤–é”®çº¦æŸ</h2>
<blockquote>
<p>ä¸»é”®çº¦æŸ <code>foreign key</code> çº¦æŸçš„å­—æ®µï¼Œä¿è¯äº†è¯¥å­—æ®µä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æ˜¯å¼•ç”¨çš„å¤–é”®å€¼æˆ–ä¸ºNULLã€‚</p>
</blockquote>
<p><strong>ç›¸å…³çº¦æŸ</strong></p>
<ul>
<li>å¤–é”®çº¦æŸï¼šæ˜¯ä¸€ç§çº¦æŸ</li>
<li>å¤–é”®å­—æ®µï¼šè¯¥å­—æ®µä¸Šæ·»åŠ äº†å¤–é”®çº¦æŸ</li>
<li>å¤–é”®å€¼ï¼šå¤–é”®å­—æ®µä¸­çš„æ¯ä¸€ä¸ªå€¼ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li>è¢«å¼•ç”¨çš„è¡¨ä¸ºçˆ¶è¡¨ï¼Œè¢«çº¦æŸçš„è¡¨ä¸ºå­è¡¨ã€‚</li>
<li>åˆ é™¤è¡¨çš„æ—¶å€™ï¼Œåº”è¯¥å…ˆåˆ å­è¡¨å†åˆ é™¤çˆ¶è¡¨ã€‚</li>
<li>åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œåº”è¯¥å…ˆåˆ›çˆ¶è¡¨å†åˆ›é”®å­è¡¨ã€‚</li>
<li>å­è¡¨ä¸­çš„å¤–é”®å¼•ç”¨çš„çˆ¶è¡¨ä¸­çš„æŸä¸ªå­—æ®µï¼Œè¢«å¼•ç”¨çš„è¿™ä¸ªå­—æ®µä¸æ˜¯å¿…é¡»ä¸ºä¸»é”®ï¼Œä½†å¿…é¡»å…·æœ‰å”¯ä¸€æ€§<code>unique</code></li>
<li>å¤–é”®å€¼å¯ä»¥ä¸ºNULL</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student (</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment, <span class="comment">-- auto_increment è‡ªå¢</span></span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    cno <span class="type">int</span>,</span><br><span class="line">    email <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">unique</span>,</span><br><span class="line">    <span class="keyword">foreign</span> key(cno) <span class="keyword">references</span> t_class(classno)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h1 id="å­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#å­˜å‚¨å¼•æ“"></a> å­˜å‚¨å¼•æ“ğŸ’¤</h1>
<blockquote>
<p>å­˜å‚¨å¼•æ“æ˜¯MySQLä¸­ç‰¹æœ‰çš„ä¸€ä¸ªæœ¯è¯­ã€‚</p>
<p>å®é™…ä¸Šå­˜å‚¨å¼•æ“æ˜¯ä¸€ä¸ªè¡¨å­˜å‚¨/ç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚ä¸åŒçš„å­˜å‚¨å¼•æ“ï¼Œè¡¨æ•°æ®çš„å­˜å‚¨æ–¹å¼ä¸åŒã€‚</p>
</blockquote>
<h2 id="ç»™è¡¨æ·»åŠ æŒ‡å®šå­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#ç»™è¡¨æ·»åŠ æŒ‡å®šå­˜å‚¨å¼•æ“"></a> ç»™è¡¨æ·»åŠ /æŒ‡å®šâ€å­˜å‚¨å¼•æ“â€œ</h2>
<ul>
<li>mysqlé»˜è®¤çš„å­˜å‚¨å¼•æ“æ˜¯ï¼šInnoDB</li>
<li>mysqlé»˜è®¤çš„å­—ç¬¦ç¼–ç æ–¹å¼æ˜¯ï¼šutf8</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `t_student` (</span><br><span class="line">    `<span class="keyword">no</span>` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">    `name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `cno` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (`<span class="keyword">no</span>`),</span><br><span class="line">    KEY `cno` (`cno`),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> `t_student_ibfk_1` <span class="keyword">FOREIGN</span> KEY (`cno`) <span class="keyword">REFERENCES</span> `t_class` (`classno`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">11</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- ENGINEæ¥æŒ‡å®šå­˜å‚¨å¼•æ“ã€‚CHARSETæ¥æŒ‡å®šè¿™å¼ è¡¨çš„å­—ç¬¦ç¼–ç æ–¹å¼ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_product(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">)engine<span class="operator">=</span>InnoDB <span class="keyword">default</span> charset<span class="operator">=</span>gbk;</span><br></pre></td></tr></table></figure>
<h2 id="mysqlæ”¯æŒçš„å­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#mysqlæ”¯æŒçš„å­˜å‚¨å¼•æ“"></a> mysqlæ”¯æŒçš„å­˜å‚¨å¼•æ“</h2>
<p>mysqlæ”¯æŒä¹å¤§å­˜å‚¨å¼•æ“ï¼Œå½“å‰5.5.36æ”¯æŒ8ä¸ªã€‚ç‰ˆæœ¬ä¸åŒæ”¯æŒæƒ…å†µä¸åŒã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">show engines</span><br><span class="line"></span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">      Engine: FEDERATED</span><br><span class="line">     Support: NO</span><br><span class="line">     Comment: Federated MySQL storage engine</span><br><span class="line">Transactions: NULL</span><br><span class="line">          XA: NULL</span><br><span class="line">  Savepoints: NULL</span><br><span class="line">*************************** 2. row ***************************</span><br><span class="line">      Engine: MRG_MYISAM</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: Collection of identical MyISAM tables</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 3. row ***************************</span><br><span class="line">      Engine: MyISAM</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: MyISAM storage engine</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 4. row ***************************</span><br><span class="line">      Engine: BLACKHOLE</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: /dev/null storage engine (anything you write to it disappears</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 5. row ***************************</span><br><span class="line">      Engine: CSV</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: CSV storage engine</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 6. row ***************************</span><br><span class="line">      Engine: MEMORY</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: Hash based, stored <span class="keyword">in</span> memory, useful <span class="keyword">for</span> temporary tables</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 7. row ***************************</span><br><span class="line">      Engine: ARCHIVE</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: Archive storage engine</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 8. row ***************************</span><br><span class="line">      Engine: InnoDB</span><br><span class="line">     Support: DEFAULT</span><br><span class="line">     Comment: Supports transactions, row-level locking, and foreign keys</span><br><span class="line">Transactions: YES</span><br><span class="line">          XA: YES</span><br><span class="line">  Savepoints: YES</span><br><span class="line">*************************** 9. row ***************************</span><br><span class="line">      Engine: PERFORMANCE_SCHEMA</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: Performance Schema</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br></pre></td></tr></table></figure>
<h2 id="å¸¸è§çš„å­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#å¸¸è§çš„å­˜å‚¨å¼•æ“"></a> å¸¸è§çš„å­˜å‚¨å¼•æ“</h2>
<h3 id="myisamå­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#myisamå­˜å‚¨å¼•æ“"></a> MyISAMå­˜å‚¨å¼•æ“</h3>
<p>å®ƒç®¡ç†çš„è¡¨å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸‰ä¸ªæ–‡ä»¶è¡¨ç¤ºæ¯ä¸ªè¡¨ï¼š
<ul>
<li>æ ¼å¼æ–‡ä»¶ â€” å­˜å‚¨è¡¨ç»“æ„çš„å®šä¹‰ï¼ˆ<code>mytable.frm</code>ï¼‰</li>
<li>æ•°æ®æ–‡ä»¶ â€” å­˜å‚¨è¡¨è¡Œçš„å†…å®¹ï¼ˆ<code>mytable.MYD</code>ï¼‰</li>
<li>ç´¢å¼•æ–‡ä»¶ â€” å­˜å‚¨è¡¨ä¸Šç´¢å¼•ï¼ˆ<code>mytable.MYI</code>ï¼‰ï¼šç´¢å¼•æ˜¯ä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œç¼©å°æ‰«æèŒƒå›´ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡çš„ä¸€ç§æœºåˆ¶</li>
</ul>
</li>
<li>å¯è¢«è½¬æ¢ä¸ºå‹ç¼©ã€åªè¯»è¡¨æ¥èŠ‚çœç©ºé—´</li>
</ul>
<p>æç¤ºä¸€ä¸‹ï¼š</p>
<ul>
<li>å¯¹äºä¸€å¼ è¡¨æ¥è¯´ï¼Œåªè¦æ˜¯ä¸»é”®ï¼Œ</li>
<li>æˆ–è€…åŠ æœ‰uniqueçº¦æŸçš„å­—æ®µä¸Šä¼šè‡ªåŠ¨åˆ›å»ºç´¢å¼•ã€‚</li>
</ul>
<p>MyISAM<strong>å­˜å‚¨å¼•æ“ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>å¯è¢«è½¬æ¢ä¸ºå‹ç¼©ã€åªè¯»è¡¨æ¥èŠ‚çœç©ºé—´</li>
<li>è¿™æ˜¯è¿™ç§å­˜å‚¨å¼•æ“çš„ä¼˜åŠ¿ï¼ï¼ï¼ï¼</li>
<li>MyISAMä¸æ”¯æŒäº‹åŠ¡æœºåˆ¶ï¼Œå®‰å…¨æ€§ä½ã€‚</li>
</ul>
<h3 id="innodbå­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#innodbå­˜å‚¨å¼•æ“"></a> InnoDBå­˜å‚¨å¼•æ“</h3>
<blockquote>
<p>è¿™æ˜¯mysqlé»˜è®¤çš„å­˜å‚¨å¼•æ“ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªé‡é‡çº§çš„å­˜å‚¨å¼•æ“ã€‚</p>
<p>InnoDBæ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒæ•°æ®åº“å´©æºƒåè‡ªåŠ¨æ¢å¤æœºåˆ¶ã€‚</p>
<p>InnoDBå­˜å‚¨å¼•æ“æœ€ä¸»è¦çš„ç‰¹ç‚¹æ˜¯ï¼šéå¸¸å®‰å…¨ã€‚</p>
</blockquote>
<p>å®ƒç®¡ç†çš„è¡¨å…·æœ‰ä¸‹åˆ—ä¸»è¦ç‰¹å¾ï¼š</p>
<ul>
<li>æ¯ä¸ª InnoDB è¡¨åœ¨æ•°æ®åº“ç›®å½•ä¸­ä»¥<code>.frm</code> æ ¼å¼æ–‡ä»¶è¡¨ç¤º</li>
<li>InnoDB è¡¨ç©ºé—´ tablespace è¢«ç”¨äºå­˜å‚¨è¡¨çš„å†…å®¹ï¼ˆè¡¨ç©ºé—´æ˜¯ä¸€ä¸ªé€»è¾‘åç§°ã€‚è¡¨ç©ºé—´å­˜å‚¨æ•°æ®+ç´¢å¼•ã€‚ï¼‰</li>
<li>æä¾›ä¸€ç»„ç”¨æ¥è®°å½•äº‹åŠ¡æ€§æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶</li>
<li>ç”¨ COMMIT(æäº¤)ã€SAVEPOINT åŠROLLBACK(å›æ»š)æ”¯æŒäº‹åŠ¡å¤„ç†</li>
<li>æä¾›å…¨ ACID å…¼å®¹</li>
<li>åœ¨ MySQL æœåŠ¡å™¨å´©æºƒåæä¾›è‡ªåŠ¨æ¢å¤</li>
<li>å¤šç‰ˆæœ¬ï¼ˆMVCCï¼‰å’Œè¡Œçº§é”å®š</li>
<li>æ”¯æŒå¤–é”®åŠå¼•ç”¨çš„å®Œæ•´æ€§ï¼ŒåŒ…æ‹¬çº§è”åˆ é™¤å’Œæ›´æ–°</li>
</ul>
<p>InnoDBæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯<strong>æ”¯æŒäº‹åŠ¡</strong>ï¼šä»¥ä¿è¯æ•°æ®çš„å®‰å…¨ã€‚æ•ˆç‡ä¸æ˜¯å¾ˆé«˜ï¼Œå¹¶ä¸”ä¹Ÿä¸èƒ½å‹ç¼©ï¼Œä¸èƒ½è½¬æ¢ä¸ºåªè¯»ï¼Œä¸èƒ½å¾ˆå¥½çš„èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚</p>
<h3 id="memoryå­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#memoryå­˜å‚¨å¼•æ“"></a> MEMORYå­˜å‚¨å¼•æ“</h3>
<blockquote>
<p>ä½¿ç”¨ MEMORY å­˜å‚¨å¼•æ“çš„è¡¨ï¼Œå…¶æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä¸”è¡Œçš„é•¿åº¦å›ºå®šï¼Œè¿™ä¸¤ä¸ªç‰¹ç‚¹ä½¿å¾— MEMORY å­˜å‚¨å¼•æ“éå¸¸å¿«ã€‚</p>
</blockquote>
<p>MEMORY å­˜å‚¨å¼•æ“ç®¡ç†çš„è¡¨å…·æœ‰ä¸‹åˆ—ç‰¹å¾ï¼š</p>
<ul>
<li>åœ¨æ•°æ®åº“ç›®å½•å†…ï¼Œæ¯ä¸ªè¡¨å‡ä»¥.frm æ ¼å¼çš„æ–‡ä»¶è¡¨ç¤ºã€‚</li>
<li>è¡¨æ•°æ®åŠç´¢å¼•è¢«å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚ï¼ˆç›®çš„å°±æ˜¯å¿«ï¼ŒæŸ¥è¯¢å¿«ï¼ï¼‰</li>
<li>è¡¨çº§é”æœºåˆ¶ã€‚</li>
<li>ä¸èƒ½åŒ…å« TEXT æˆ– BLOB å­—æ®µã€‚</li>
</ul>
<p>EMORY å­˜å‚¨å¼•æ“ä»¥å‰è¢«ç§°ä¸ºHEAP å¼•æ“ã€‚</p>
<p>MEMORYå¼•æ“ä¼˜ç‚¹ï¼šæŸ¥è¯¢æ•ˆç‡æ˜¯æœ€é«˜çš„ã€‚ä¸éœ€è¦å’Œç¡¬ç›˜äº¤äº’ã€‚<br />
MEMORYå¼•æ“ç¼ºç‚¹ï¼šä¸å®‰å…¨ï¼Œå…³æœºä¹‹åæ•°æ®æ¶ˆå¤±ã€‚å› ä¸ºæ•°æ®å’Œç´¢å¼•éƒ½æ˜¯åœ¨å†…å­˜å½“ä¸­ã€‚</p>
<h1 id="äº‹åŠ¡"><a class="markdownIt-Anchor" href="#äº‹åŠ¡"></a> äº‹åŠ¡â­â­â­â­â­</h1>
<blockquote>
<p>ä¸€ä¸ªäº‹åŠ¡å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡é€»è¾‘ã€‚æ˜¯ä¸€ä¸ªæœ€å°çš„å·¥ä½œå•å…ƒã€‚ä¸å¯å†åˆ†ã€‚</p>
<p>äº‹åŠ¡ï¼šå°±æ˜¯æ‰¹é‡çš„DMLè¯­å¥åŒæ—¶æˆåŠŸï¼Œæˆ–è€…åŒæ—¶å¤±è´¥ï¼</p>
</blockquote>
<h2 id="å’Œäº‹åŠ¡æœ‰å…³çš„dmlè¯­å¥"><a class="markdownIt-Anchor" href="#å’Œäº‹åŠ¡æœ‰å…³çš„dmlè¯­å¥"></a> å’Œäº‹åŠ¡æœ‰å…³çš„DMLè¯­å¥</h2>
<p>åªæœ‰DMLè¯­å¥æ‰ä¼šæœ‰äº‹åŠ¡è¿™ä¸€è¯´ï¼Œå…¶å®ƒè¯­å¥å’Œäº‹åŠ¡æ— å…³ï¼ï¼ï¼</p>
<p><code>insert</code>ã€<code>delete</code>ã€<code>update</code>åªæœ‰è¿™ä¸‰ä¸ªè¯­å¥å’Œäº‹åŠ¡æœ‰å…³ç³»ï¼Œå…¶å®ƒéƒ½æ²¡æœ‰å…³ç³»ã€‚æ•°æ®å®‰å…¨ç¬¬ä¸€ä½ï¼ï¼ï¼</p>
<p><strong>äº‹åŠ¡çš„æœ¬è´¨</strong>ï¼šä¸€ä¸ªäº‹åŠ¡å…¶å®å°±æ˜¯å¤šæ¡DMLè¯­å¥åŒæ—¶æˆåŠŸï¼Œæˆ–è€…åŒæ—¶å¤±è´¥ï¼</p>
<h2 id="äº‹åŠ¡çš„å®ç°"><a class="markdownIt-Anchor" href="#äº‹åŠ¡çš„å®ç°"></a> äº‹åŠ¡çš„å®ç°</h2>
<p>InnoDBå­˜å‚¨å¼•æ“ï¼šæä¾›ä¸€ç»„ç”¨æ¥è®°å½•äº‹åŠ¡æ€§æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶ã€‚</p>
<p>åœ¨äº‹åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€æ¡DMLçš„æ“ä½œéƒ½ä¼šè®°å½•åˆ°â€œäº‹åŠ¡æ€§æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶â€ä¸­ã€‚</p>
<p>åœ¨äº‹åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æäº¤äº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥å›æ»šäº‹åŠ¡ã€‚</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">äº‹åŠ¡å¼€å¯äº†ï¼š</span><br><span class="line">insert</span><br><span class="line">insert</span><br><span class="line">insert</span><br><span class="line">delete</span><br><span class="line">update</span><br><span class="line">update</span><br><span class="line">update</span><br><span class="line">äº‹åŠ¡ç»“æŸäº†ï¼</span><br></pre></td></tr></table></figure>
<p><strong>æäº¤äº‹åŠ¡</strong></p>
<ul>
<li><strong>æ¸…ç©ºäº‹åŠ¡æ€§æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶</strong>ï¼Œå°†æ•°æ®å…¨éƒ¨å½»åº•æŒä¹…åŒ–åˆ°æ•°æ®åº“è¡¨ä¸­ã€‚</li>
<li>æäº¤äº‹åŠ¡æ ‡å¿—ç€ï¼Œäº‹åŠ¡çš„ç»“æŸã€‚å¹¶ä¸”æ˜¯ä¸€ç§<strong>å…¨éƒ¨æˆåŠŸçš„ç»“æŸã€‚</strong></li>
</ul>
<p><strong>å›æ»šäº‹åŠ¡</strong></p>
<ul>
<li>å°†ä¹‹å‰æ‰€æœ‰çš„DMLæ“ä½œå…¨éƒ¨æ’¤é”€ï¼Œå¹¶ä¸”<strong>æ¸…ç©ºäº‹åŠ¡æ€§æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶</strong></li>
<li>å›æ»šäº‹åŠ¡æ ‡å¿—ç€ï¼Œäº‹åŠ¡çš„ç»“æŸã€‚å¹¶ä¸”æ˜¯ä¸€ç§<strong>å…¨éƒ¨å¤±è´¥çš„ç»“æŸ</strong> ã€‚</li>
</ul>
<h2 id="æäº¤å›æ»šäº‹åŠ¡transaction"><a class="markdownIt-Anchor" href="#æäº¤å›æ»šäº‹åŠ¡transaction"></a> æäº¤/å›æ»šäº‹åŠ¡(transaction)</h2>
<ul>
<li>æäº¤äº‹åŠ¡ï¼š<code>commit;</code>è¯­å¥</li>
<li>å›æ»šäº‹åŠ¡ï¼š<code>rollback;</code>è¯­å¥ï¼ˆå›æ»šæ°¸è¿œéƒ½æ˜¯åªèƒ½å›æ»šåˆ°ä¸Šä¸€æ¬¡çš„æäº¤ç‚¹ï¼ï¼‰</li>
</ul>
<p>mysqlé»˜è®¤æƒ…å†µä¸‹æ˜¯æ”¯æŒè‡ªåŠ¨æäº¤äº‹åŠ¡çš„ã€‚ï¼ˆè‡ªåŠ¨æäº¤ï¼‰</p>
<ul>
<li>è¿™ç§è‡ªåŠ¨æäº¤å®é™…ä¸Šæ˜¯ä¸ç¬¦åˆæˆ‘ä»¬çš„å¼€å‘ä¹ æƒ¯ï¼Œå› ä¸ºä¸€ä¸ªä¸šåŠ¡é€šå¸¸æ˜¯éœ€è¦å¤šæ¡DMLè¯­å¥å…±åŒæ‰§è¡Œæ‰èƒ½å®Œæˆçš„ï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨ï¼Œå¿…é¡»è¦æ±‚åŒæ—¶æˆåŠŸä¹‹åå†æäº¤ï¼Œæ‰€ä»¥ä¸èƒ½æ‰§è¡Œä¸€æ¡å°±æäº¤ä¸€æ¡ã€‚</li>
</ul>
<p>æ¯æ‰§è¡Œä¸€æ¡DMLè¯­å¥ï¼Œåˆ™æäº¤ä¸€æ¬¡ã€‚</p>
<p>å…³é—­mysqlçš„è‡ªåŠ¨æäº¤æœºåˆ¶ï¼š<code>start transaction;</code></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æäº¤äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">start</span> transaction; <span class="comment">-- å…³é—­è‡ªåŠ¨æäº¤</span></span><br><span class="line">DML;</span><br><span class="line">DML;</span><br><span class="line">DML;</span><br><span class="line">DML;</span><br><span class="line"><span class="keyword">commit</span>;  <span class="comment">-- æäº¤äº‹åŠ¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- å›æ»šäº‹åŠ¡</span></span><br><span class="line"><span class="keyword">start</span> transaction; <span class="comment">-- å…³é—­è‡ªåŠ¨æäº¤</span></span><br><span class="line">DML;</span><br><span class="line">DML;</span><br><span class="line">DML;</span><br><span class="line">DML;</span><br><span class="line"><span class="keyword">rollback</span>;  <span class="comment">-- å›æ»šäº‹åŠ¡ï¼Œå›æ»šåˆ°ä¸Šä¸€æ¬¡æäº¤çš„èŠ‚ç‚¹ã€‚</span></span><br></pre></td></tr></table></figure>
<h2 id="äº‹åŠ¡çš„ç‰¹æ€§"><a class="markdownIt-Anchor" href="#äº‹åŠ¡çš„ç‰¹æ€§"></a> äº‹åŠ¡çš„ç‰¹æ€§</h2>
<ul>
<li><strong>A åŸå­æ€§</strong>ï¼šè¯´æ˜äº‹åŠ¡æ˜¯æœ€å°çš„å·¥ä½œå•å…ƒã€‚ä¸å¯å†åˆ†ã€‚</li>
<li><strong>C ä¸€è‡´æ€§</strong>ï¼šæ‰€æœ‰äº‹åŠ¡è¦æ±‚ï¼Œåœ¨åŒä¸€ä¸ªäº‹åŠ¡å½“ä¸­ï¼Œæ‰€æœ‰æ“ä½œå¿…é¡»åŒæ—¶æˆåŠŸï¼Œæˆ–è€…åŒæ—¶å¤±è´¥ï¼Œä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚</li>
<li><strong>I éš”ç¦»æ€§</strong>ï¼šAäº‹åŠ¡å’ŒBäº‹åŠ¡ä¹‹é—´å…·æœ‰ä¸€å®šçš„éš”ç¦»ã€‚å¤šä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œä¸€å¼ è¡¨çš„ç»“æœï¼Ÿ</li>
<li><strong>D æŒä¹…æ€§</strong>ï¼šäº‹åŠ¡æœ€ç»ˆç»“æŸçš„ä¸€ä¸ªä¿éšœã€‚äº‹åŠ¡æäº¤ï¼Œå°±ç›¸å½“äºå°†æ²¡æœ‰ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šçš„æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼</li>
</ul>
<h2 id="äº‹åŠ¡çš„éš”ç¦»æ€§"><a class="markdownIt-Anchor" href="#äº‹åŠ¡çš„éš”ç¦»æ€§"></a> äº‹åŠ¡çš„éš”ç¦»æ€§</h2>
<p>ä¾‹å¦‚ï¼šAæ•™å®¤å’ŒBæ•™å®¤ä¸­é—´æœ‰ä¸€é“å¢™ï¼Œè¿™é“å¢™å¯ä»¥å¾ˆåšï¼Œä¹Ÿå¯ä»¥å¾ˆè–„ã€‚è¿™å°±æ˜¯äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚è¿™é“å¢™è¶Šåšï¼Œè¡¨ç¤ºéš”ç¦»çº§åˆ«å°±è¶Šé«˜ã€‚</p>
<h3 id="äº‹åŠ¡çš„4ä¸ªéš”ç¦»çº§åˆ«"><a class="markdownIt-Anchor" href="#äº‹åŠ¡çš„4ä¸ªéš”ç¦»çº§åˆ«"></a> äº‹åŠ¡çš„4ä¸ªéš”ç¦»çº§åˆ«â­</h3>
<p>æŸ¥çœ‹éš”ç¦»çº§åˆ«ï¼š<code>SELECT @@tx_isolation</code>ï¼Œmysqlé»˜è®¤çš„éš”ç¦»çº§åˆ«ï¼š<code>repeatable read</code></p>
<p>è®¾ç½®å…¨å±€çš„éš”ç¦»çº§åˆ«ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- è®¾ç½®å…¨å±€çš„éš”ç¦»çº§åˆ«ä¸ºread uncommitted</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> transaction isolation level read uncommitted;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æŸ¥çœ‹éš”ç¦»çº§åˆ«</span></span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@tx</span>_isolation</span><br></pre></td></tr></table></figure>
<h4 id="è¯»æœªæäº¤"><a class="markdownIt-Anchor" href="#è¯»æœªæäº¤"></a> <strong>è¯»æœªæäº¤</strong></h4>
<blockquote>
<p><code>read uncommitted</code>ï¼ˆæœ€ä½çš„éš”ç¦»çº§åˆ«ï¼‰æ²¡æœ‰æäº¤å°±è¯»åˆ°äº†</p>
<p>äº‹åŠ¡Aå¯ä»¥è¯»å–åˆ°äº‹åŠ¡Bæœªæäº¤ï¼ˆæ²¡æœ‰<code>commit</code>ï¼‰çš„æ•°æ®ã€‚</p>
</blockquote>
<p><strong>å­˜åœ¨é—®é¢˜</strong>ï¼šè„è¯»ç°è±¡ï¼ï¼ï¼ Dirty Read</p>
<p>è¿™ç§éš”ç¦»çº§åˆ«ä¸€èˆ¬éƒ½æ˜¯ç†è®ºä¸Šçš„ï¼Œå¤§å¤šæ•°çš„æ•°æ®åº“éš”ç¦»çº§åˆ«éƒ½æ˜¯äºŒæ¡£èµ·æ­¥ï¼</p>
<h4 id="è¯»å·²æäº¤"><a class="markdownIt-Anchor" href="#è¯»å·²æäº¤"></a> è¯»å·²æäº¤</h4>
<blockquote>
<p><code>read committed</code>ã€‚æäº¤ä¹‹åæ‰èƒ½è¯»åˆ°</p>
<p>äº‹åŠ¡Aåªèƒ½è¯»å–åˆ°äº‹åŠ¡Bæäº¤ä¹‹åçš„æ•°æ®ã€‚è§£å†³äº†è„è¯»çš„ç°è±¡ã€‚</p>
</blockquote>
<p><strong>å­˜åœ¨çš„é—®é¢˜</strong>ï¼šä¸å¯é‡å¤è¯»å–æ•°æ®</p>
<ul>
<li>åœ¨äº‹åŠ¡å¼€å¯ä¹‹åï¼Œç¬¬ä¸€æ¬¡è¯»åˆ°çš„æ•°æ®æ˜¯3æ¡ï¼Œå½“å‰äº‹åŠ¡è¿˜æ²¡æœ‰ç»“æŸï¼Œå¯èƒ½ç¬¬äºŒæ¬¡å†è¯»å–çš„æ—¶å€™ï¼Œè¯»åˆ°çš„æ•°æ®æ˜¯4æ¡ï¼Œ3ä¸ç­‰äº4ç§°ä¸ºä¸å¯é‡å¤è¯»å–ã€‚</li>
</ul>
<p>è¿™ç§éš”ç¦»çº§åˆ«æ˜¯æ¯”è¾ƒçœŸå®çš„æ•°æ®ï¼Œæ¯ä¸€æ¬¡è¯»åˆ°çš„æ•°æ®æ˜¯ç»å¯¹çš„çœŸå®ã€‚</p>
<p>oracleæ•°æ®åº“é»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯ï¼šread committed</p>
<h4 id="å¯é‡å¤è¯»"><a class="markdownIt-Anchor" href="#å¯é‡å¤è¯»"></a> å¯é‡å¤è¯»</h4>
<blockquote>
<p><code>repeatable read</code>ã€‚æäº¤ä¹‹åä¹Ÿè¯»ä¸åˆ°ï¼Œæ°¸è¿œè¯»å–çš„éƒ½æ˜¯åˆšå¼€å¯äº‹åŠ¡æ—¶çš„æ•°æ®</p>
<p>äº‹åŠ¡Aå¼€å¯ä¹‹åï¼Œä¸ç®¡æ˜¯å¤šä¹…ï¼Œæ¯ä¸€æ¬¡åœ¨äº‹åŠ¡Aä¸­è¯»å–åˆ°çš„æ•°æ®éƒ½æ˜¯ä¸€è‡´çš„ã€‚å³ä½¿äº‹åŠ¡Bå°†æ•°æ®å·²ç»ä¿®æ”¹ï¼Œå¹¶ä¸”æäº¤äº†ï¼Œäº‹åŠ¡Aè¯»å–åˆ°çš„æ•°æ®è¿˜æ˜¯æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œè¿™å°±æ˜¯å¯é‡å¤è¯»ã€‚</p>
<p>MySQLä¸­é»˜è®¤çš„éš”ç¦»çº§åˆ«</p>
</blockquote>
<p>è§£å†³äº†ä¸å¯é‡å¤è¯»å–æ•°æ®ã€‚</p>
<p><strong>å­˜åœ¨é—®é¢˜</strong>ï¼šå¯ä»¥ä¼šå‡ºç°å¹»å½±è¯»ã€‚æ¯ä¸€æ¬¡è¯»å–åˆ°çš„æ•°æ®éƒ½æ˜¯å¹»è±¡ã€‚ä¸å¤ŸçœŸå®ï¼</p>
<h4 id="åºåˆ—åŒ–ä¸²è¡ŒåŒ–"><a class="markdownIt-Anchor" href="#åºåˆ—åŒ–ä¸²è¡ŒåŒ–"></a> åºåˆ—åŒ–/ä¸²è¡ŒåŒ–</h4>
<blockquote>
<p><code>serializable</code>ï¼ˆæœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼‰</p>
<p>è¿™æ˜¯æœ€é«˜éš”ç¦»çº§åˆ«ï¼Œæ•ˆç‡æœ€ä½ã€‚è§£å†³äº†æ‰€æœ‰çš„é—®é¢˜ã€‚</p>
</blockquote>
<p>è¿™ç§éš”ç¦»çº§åˆ«è¡¨ç¤ºäº‹åŠ¡æ’é˜Ÿï¼Œä¸èƒ½å¹¶å‘ï¼ä¸¤ä¸ªäº‹åŠ¡ä¸èƒ½åŒæ—¶è®¿é—®åŒä¸€å¼ è¡¨ã€‚</p>
<p><code>synchronized</code>ï¼Œçº¿ç¨‹åŒæ­¥ï¼ˆäº‹åŠ¡åŒæ­¥ï¼‰æ¯ä¸€æ¬¡è¯»å–åˆ°çš„æ•°æ®éƒ½æ˜¯æœ€çœŸå®çš„ï¼Œå¹¶ä¸”æ•ˆç‡æ˜¯æœ€ä½çš„ã€‚</p>
<h1 id="ç´¢å¼•-index"><a class="markdownIt-Anchor" href="#ç´¢å¼•-index"></a> ç´¢å¼• (index)</h1>
<blockquote>
<p>ç´¢å¼•æ˜¯åœ¨æ•°æ®åº“è¡¨çš„å­—æ®µä¸Šæ·»åŠ çš„ï¼Œæ˜¯ä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆç‡å­˜åœ¨çš„ä¸€ç§æœºåˆ¶ã€‚</p>
<p>ä¸€å¼ è¡¨çš„ä¸€ä¸ªå­—æ®µå¯ä»¥æ·»åŠ ä¸€ä¸ªç´¢å¼•ï¼Œå½“ç„¶ï¼Œå¤šä¸ªå­—æ®µè”åˆèµ·æ¥ä¹Ÿå¯ä»¥æ·»åŠ ç´¢å¼•ã€‚</p>
<p>ç´¢å¼•ç›¸å½“äºä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œæ˜¯ä¸ºäº†ç¼©å°æ‰«æèŒƒå›´è€Œå­˜åœ¨çš„ä¸€ç§æœºåˆ¶ã€‚</p>
</blockquote>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">å¯¹äºä¸€æœ¬å­—å…¸æ¥è¯´ï¼ŒæŸ¥æ‰¾æŸä¸ªæ±‰å­—æœ‰ä¸¤ç§æ–¹å¼ï¼š</span><br><span class="line">	ç¬¬ä¸€ç§æ–¹å¼ï¼šä¸€é¡µä¸€é¡µæŒ¨ç€æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ï¼Œè¿™ç§æŸ¥æ‰¾æ–¹å¼å±äºå…¨å­—å…¸æ‰«æã€‚æ•ˆç‡æ¯”è¾ƒä½ã€‚</span><br><span class="line">	ç¬¬äºŒç§æ–¹å¼ï¼šå…ˆé€šè¿‡ç›®å½•ï¼ˆç´¢å¼•ï¼‰å»å®šä½ä¸€ä¸ªå¤§æ¦‚çš„ä½ç½®ï¼Œç„¶åç›´æ¥å®šä½åˆ°è¿™ä¸ªä½ç½®ï¼Œåšå±€åŸŸæ€§æ‰«æï¼Œç¼©å°æ‰«æçš„èŒƒå›´ï¼Œå¿«é€Ÿçš„æŸ¥æ‰¾ã€‚è¿™ç§æŸ¥æ‰¾æ–¹å¼å±äºé€šè¿‡ç´¢å¼•æ£€ç´¢ï¼Œæ•ˆç‡è¾ƒé«˜ã€‚</span><br></pre></td></tr></table></figure>
<p>MySQLåœ¨æŸ¥è¯¢æ–¹é¢ä¸»è¦å°±æ˜¯ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§æ–¹å¼ï¼šå…¨è¡¨æ‰«æ</li>
<li>ç¬¬äºŒç§æ–¹å¼ï¼šæ ¹æ®ç´¢å¼•æ£€ç´¢ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_user <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;jack&#x27;</span>;</span><br><span class="line"><span class="comment">-- è‹¥nameå­—æ®µä¸Šæ²¡æœ‰æ·»åŠ ç´¢å¼•ï¼Œåˆ™ä¼šè¿›è¡Œå…¨æ‰«æ</span></span><br></pre></td></tr></table></figure>
<p>åœ¨mysqlæ•°æ®åº“å½“ä¸­ç´¢å¼•æ˜¯éœ€è¦æ’åºçš„ï¼Œå¹¶ä¸”è¿™ä¸ªæ‰€ä»¥çš„æ’åºå’Œ<code>TreeSet</code>æ•°æ®ç»“æ„ç›¸åŒã€‚<code>TreeSetï¼ˆTreeMapï¼‰</code>åº•å±‚æ˜¯ä¸€ä¸ªè‡ªå¹³è¡¡çš„äºŒå‰æ ‘ï¼<strong>åœ¨mysqlå½“ä¸­ç´¢å¼•æ˜¯ä¸€ä¸ª<code>B-Tree</code>æ•°æ®ç»“æ„</strong>ã€‚</p>
<p>éµå¾ªå·¦å°åˆå¤§åŸåˆ™å­˜æ”¾ï¼Œé‡‡ç”¨ä¸­åºéå†æ–¹å¼éå†å–æ•°æ®ã€‚</p>
<h2 id="å®ç°åŸç†"><a class="markdownIt-Anchor" href="#å®ç°åŸç†"></a> å®ç°åŸç†</h2>
<blockquote>
<p>ç¼©å°æ‰«æèŒƒå›´ï¼Œé¿å…å…¨è¡¨æ‰«æ</p>
</blockquote>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li>åœ¨ä»»ä½•æ•°æ®åº“å½“ä¸­ä¸»é”®ä¸Šéƒ½ä¼šè‡ªåŠ¨æ·»åŠ ç´¢å¼•å¯¹è±¡ã€‚å¦å¤–åœ¨mysqlå½“ä¸­ï¼Œä¸€ä¸ªå­—æ®µä¸Šå¦‚æœæœ‰<code>unique</code>çº¦æŸçš„è¯ï¼Œä¹Ÿä¼šè‡ªåŠ¨åˆ›å»ºç´¢å¼•å¯¹è±¡ã€‚</li>
<li>åœ¨ä»»ä½•æ•°æ®åº“å½“ä¸­ï¼Œä»»ä½•ä¸€å¼ è¡¨çš„ä»»ä½•ä¸€æ¡è®°å½•åœ¨ç¡¬ç›˜å­˜å‚¨ä¸Šéƒ½æœ‰ä¸€ä¸ªç¡¬ç›˜çš„ç‰©ç†å­˜å‚¨ç¼–å·ã€‚</li>
<li>åœ¨mysqlå½“ä¸­ï¼Œç´¢å¼•æ˜¯ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ï¼Œä¸åŒçš„å­˜å‚¨å¼•æ“ä»¥ä¸åŒçš„å½¢å¼å­˜åœ¨ã€‚ä¸ç®¡ç´¢å¼•å­˜å‚¨åœ¨å“ªé‡Œï¼Œç´¢å¼•åœ¨mysqlå½“ä¸­éƒ½æ˜¯ä¸€ä¸ªæ ‘çš„å½¢å¼å­˜åœ¨ã€‚ï¼ˆè‡ªå¹³è¡¡äºŒå‰æ ‘ï¼šB-Treeï¼‰
<ul>
<li>åœ¨MyISAMå­˜å‚¨å¼•æ“ä¸­ï¼Œç´¢å¼•å­˜å‚¨åœ¨ä¸€ä¸ª.MYIæ–‡ä»¶ä¸­ã€‚</li>
<li>åœ¨InnoDBå­˜å‚¨å¼•æ“ä¸­ç´¢å¼•å­˜å‚¨åœ¨ä¸€ä¸ªé€»è¾‘åç§°å«åštablespaceçš„å½“ä¸­ã€‚</li>
<li>åœ¨MEMORYå­˜å‚¨å¼•æ“å½“ä¸­ç´¢å¼•è¢«å­˜å‚¨åœ¨å†…å­˜å½“ä¸­ã€‚</li>
</ul>
</li>
</ul>
<h2 id="æ·»åŠ ç´¢å¼•çš„åŸåˆ™"><a class="markdownIt-Anchor" href="#æ·»åŠ ç´¢å¼•çš„åŸåˆ™"></a> æ·»åŠ ç´¢å¼•çš„åŸåˆ™</h2>
<p>åœ¨mysqlå½“ä¸­ï¼Œä¸»é”®ä¸Šï¼Œä»¥åŠuniqueå­—æ®µä¸Šéƒ½ä¼šè‡ªåŠ¨æ·»åŠ ç´¢å¼•çš„ï¼ï¼ï¼ï¼</p>
<ul>
<li>æ•°æ®é‡åºå¤§</li>
<li>è¯¥å­—æ®µç»å¸¸å‡ºç°åœ¨whereçš„åé¢ï¼Œä»¥æ¡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªå­—æ®µæ€»æ˜¯è¢«æ‰«æã€‚</li>
<li>è¯¥å­—æ®µå¾ˆå°‘çš„DML(insert delete update)æ“ä½œã€‚ï¼ˆå› ä¸ºDMLä¹‹åï¼Œç´¢å¼•éœ€è¦é‡æ–°æ’åºã€‚ï¼‰</li>
</ul>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li>å»ºè®®ä¸è¦éšæ„æ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•ä¹Ÿæ˜¯éœ€è¦ç»´æŠ¤çš„ï¼Œå¤ªå¤šçš„è¯åè€Œä¼šé™ä½ç³»ç»Ÿçš„æ€§èƒ½ã€‚</li>
<li>å»ºè®®é€šè¿‡ä¸»é”®æŸ¥è¯¢ï¼Œå»ºè®®é€šè¿‡uniqueçº¦æŸçš„å­—æ®µè¿›è¡ŒæŸ¥è¯¢ï¼Œæ•ˆç‡æ˜¯æ¯”è¾ƒé«˜çš„ã€‚</li>
</ul>
<h2 id="ç´¢å¼•çš„åˆ›åˆ "><a class="markdownIt-Anchor" href="#ç´¢å¼•çš„åˆ›åˆ "></a> ç´¢å¼•çš„åˆ›åˆ </h2>
<p><strong>åˆ›å»ºç´¢å¼•</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ç»™studentè¡¨ä¸­çš„snameå­—æ®µæ·»åŠ ç´¢å¼•ï¼Œå¹¶èµ·åï¼šstu_sname_index</span></span><br><span class="line"><span class="keyword">create</span> index stu_sname_index <span class="keyword">on</span> student(sname);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¯­æ³•</span></span><br><span class="line"><span class="keyword">create</span> index ç´¢å¼•å <span class="keyword">on</span> è¡¨(å­—æ®µ);</span><br></pre></td></tr></table></figure>
<p><strong>åˆ é™¤ç´¢å¼•</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> index stu_sname_index <span class="keyword">on</span> student;</span><br><span class="line"><span class="comment">-- è¯­æ³•</span></span><br><span class="line"><span class="keyword">drop</span> index ç´¢å¼•å <span class="keyword">on</span> è¡¨;</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ä¸€ä¸ªSqlè¯­å¥æ˜¯å¦ä½¿ç”¨äº†ç´¢å¼•æ£€ç´¢</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="operator">=</span> <span class="string">&#x27;KING&#x27;</span>;</span><br><span class="line"><span class="comment">-- ç»“æœä¸­type=ALL åˆ™ä¸º å…¨è¡¨æ‰«æ</span></span><br></pre></td></tr></table></figure>
<h2 id="ç´¢å¼•å¤±æ•ˆ"><a class="markdownIt-Anchor" href="#ç´¢å¼•å¤±æ•ˆ"></a> ç´¢å¼•å¤±æ•ˆ</h2>
<ul>
<li>æƒ…å†µ1</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;%T&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>snameä¸Šå³ä½¿æ·»åŠ äº†ç´¢å¼•ï¼Œä¹Ÿä¸ä¼šèµ°ç´¢å¼•ã€‚</p>
<p>åŸå› æ˜¯ï¼šå› ä¸ºæ¨¡ç³ŠåŒ¹é…å½“ä¸­ä»¥â€œ%â€å¼€å¤´äº†ï¼å°½é‡é¿å…æ¨¡ç³ŠæŸ¥è¯¢çš„æ—¶å€™ä»¥â€œ%â€å¼€å§‹ã€‚è¿™æ˜¯ä¸€ç§ä¼˜åŒ–çš„æ‰‹æ®µ/ç­–ç•¥ã€‚</p>
<ul>
<li>æƒ…å†µ2</li>
</ul>
<p>ä½¿ç”¨orçš„æ—¶å€™ä¼šå¤±æ•ˆï¼Œå¦‚æœä½¿ç”¨oré‚£ä¹ˆè¦æ±‚orä¸¤è¾¹çš„æ¡ä»¶å­—æ®µéƒ½è¦æœ‰ç´¢å¼•ï¼Œæ‰ä¼šèµ°ç´¢å¼•ï¼Œå¦‚æœå…¶ä¸­ä¸€è¾¹æœ‰ä¸€ä¸ªå­—æ®µæ²¡æœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªå­—æ®µä¸Šçš„ç´¢å¼•ä¹Ÿä¼šå®ç°ã€‚æ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸å»ºè®®ä½¿ç”¨orçš„åŸå› ã€‚</p>
<ul>
<li>æƒ…å†µ3</li>
</ul>
<p>ä½¿ç”¨å¤åˆç´¢å¼•çš„æ—¶å€™ï¼Œæ²¡æœ‰ä½¿ç”¨å·¦ä¾§çš„åˆ—æŸ¥æ‰¾ï¼Œç´¢å¼•å¤±æ•ˆ</p>
<p><strong>ç¬¦åˆç´¢å¼•</strong>ï¼šä¸¤ä¸ªå­—æ®µï¼Œæˆ–è€…æ›´å¤šçš„å­—æ®µè”åˆèµ·æ¥æ·»åŠ ä¸€ä¸ªç´¢å¼•ï¼Œå«åšå¤åˆç´¢å¼•ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> index emp_job_sal_index <span class="keyword">on</span> emp(job,sal); <span class="comment">-- åˆ›å»ºå¤åˆç´¢å¼•</span></span><br><span class="line"></span><br><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> job <span class="operator">=</span> <span class="string">&#x27;MANAGER&#x27;</span>; <span class="comment">-- å¯ä»¥ä½¿ç”¨ç´¢å¼•</span></span><br><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">=</span> <span class="number">800</span>; <span class="comment">-- ä¸èƒ½ä½¿ç”¨ç´¢å¼•</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æƒ…å†µ4</li>
</ul>
<p>åœ¨whereå½“ä¸­ç´¢å¼•åˆ—å‚åŠ äº†è¿ç®—ï¼Œç´¢å¼•å¤±æ•ˆã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> index emp_sal_index <span class="keyword">on</span> emp(sal); <span class="comment">-- åˆ›å»ºç´¢å¼•</span></span><br><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">=</span> <span class="number">800</span>; <span class="comment">-- å¯ä»¥</span></span><br><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">+</span><span class="number">1</span> <span class="operator">=</span> <span class="number">800</span>; <span class="comment">-- ä¸å¯ä»¥</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æƒ…å†µ5</li>
</ul>
<p>åœ¨whereå½“ä¸­ç´¢å¼•åˆ—ä½¿ç”¨äº†å‡½æ•°</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="built_in">lower</span>(ename) <span class="operator">=</span> <span class="string">&#x27;smith&#x27;</span>; <span class="comment">-- ä¸è¡Œ</span></span><br></pre></td></tr></table></figure>
<h2 id="ç´¢å¼•çš„åˆ†ç±»"><a class="markdownIt-Anchor" href="#ç´¢å¼•çš„åˆ†ç±»"></a> ç´¢å¼•çš„åˆ†ç±»</h2>
<blockquote>
<p>ç´¢å¼•æ˜¯å„ç§æ•°æ®åº“è¿›è¡Œä¼˜åŒ–çš„é‡è¦æ‰‹æ®µã€‚ä¼˜åŒ–çš„æ—¶å€™ä¼˜å…ˆè€ƒè™‘çš„å› ç´ å°±æ˜¯ç´¢å¼•ã€‚</p>
</blockquote>
<ul>
<li>å•ä¸€ç´¢å¼•ï¼šä¸€ä¸ªå­—æ®µä¸Šæ·»åŠ ç´¢å¼•</li>
<li>å¤åˆç´¢å¼•ï¼šä¸¤ä¸ªå­—æ®µæˆ–è€…æ›´å¤šçš„å­—æ®µä¸Šæ·»åŠ ç´¢å¼•ã€‚</li>
<li>ä¸»é”®ç´¢å¼•ï¼šä¸»é”®ä¸Šæ·»åŠ ç´¢å¼•ã€‚</li>
<li>å”¯ä¸€æ€§ç´¢å¼•ï¼šå…·æœ‰<code>unique</code>çº¦æŸçš„å­—æ®µä¸Šæ·»åŠ ç´¢å¼•ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šå”¯ä¸€æ€§æ¯”è¾ƒå¼±çš„å­—æ®µä¸Šæ·»åŠ ç´¢å¼•ç”¨å¤„ä¸å¤§ã€‚</p>
<h1 id="è§†å›¾"><a class="markdownIt-Anchor" href="#è§†å›¾"></a> è§†å›¾</h1>
<blockquote>
<p>view:ç«™åœ¨ä¸åŒçš„è§’åº¦å»çœ‹å¾…åŒä¸€ä»½æ•°æ®ã€‚</p>
</blockquote>
<h2 id="åˆ›å»ºè§†å›¾å¯¹è±¡"><a class="markdownIt-Anchor" href="#åˆ›å»ºè§†å›¾å¯¹è±¡"></a> åˆ›å»ºè§†å›¾å¯¹è±¡</h2>
<p>åªæœ‰DQLè¯­å¥æ‰èƒ½ä»¥<code>view</code>çš„å½¢å¼åˆ›å»ºã€‚<code>create view view_name as</code> è¿™é‡Œçš„è¯­å¥å¿…é¡»æ˜¯DQLè¯­å¥;</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept2 <span class="keyword">as</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept; <span class="comment">-- è¡¨å¤åˆ¶</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept2; <span class="comment">-- æŸ¥çœ‹è¡¨ä¸­æ•°æ®</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> dept2_view <span class="keyword">as</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept2; <span class="comment">-- åˆ›å»ºè§†å›¾å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<h2 id="åˆ é™¤è§†å›¾å¯¹è±¡"><a class="markdownIt-Anchor" href="#åˆ é™¤è§†å›¾å¯¹è±¡"></a> åˆ é™¤è§†å›¾å¯¹è±¡</h2>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> dept2_view; <span class="comment">-- åˆ é™¤è§†å›¾å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<h2 id="è§†å›¾çš„ä½œç”¨"><a class="markdownIt-Anchor" href="#è§†å›¾çš„ä½œç”¨"></a> è§†å›¾çš„ä½œç”¨</h2>
<p>æˆ‘ä»¬å¯ä»¥é¢å‘è§†å›¾å¯¹è±¡è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œå¯¹è§†å›¾å¯¹è±¡çš„å¢åˆ æ”¹æŸ¥ï¼Œä¼šå¯¼è‡´åŸè¡¨è¢«æ“ä½œï¼</p>
<p><strong>è§†å›¾çš„ç‰¹ç‚¹</strong>ï¼šé€šè¿‡å¯¹è§†å›¾çš„æ“ä½œï¼Œä¼šå½±å“åˆ°åŸè¡¨æ•°æ®ã€‚</p>
<p><strong>ä½œç”¨</strong>ï¼šæ–¹ä¾¿ï¼Œç®€åŒ–å¼€å‘ï¼Œåˆ©äºç»´æŠ¤ã€‚</p>
<p>è§†å›¾å¯¹è±¡ä¹Ÿæ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­çš„ï¼Œä¸ä¼šæ¶ˆå¤±ã€‚</p>
<h1 id="dbaå¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#dbaå¸¸ç”¨å‘½ä»¤"></a> DBAå¸¸ç”¨å‘½ä»¤</h1>
<p>éœ€è¦é‡ç‚¹æŒæ¡ï¼šæ•°æ®çš„å¯¼å…¥å’Œå¯¼å‡ºï¼ˆæ•°æ®çš„å¤‡ä»½ï¼‰</p>
<p><strong>æ•°æ®å¯¼å‡º</strong>ï¼š</p>
<p>æ³¨æ„ï¼šåœ¨windowsçš„doså‘½ä»¤çª—å£ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysqldump bjpowernode&gt;D:\bjpowernode.sql -uroot -p123456  <span class="comment"># å¯¼å‡ºæ•°æ®åº“</span></span><br><span class="line">mysqldump bjpowernode emp&gt;D:\bjpowernode.sql -uroot -p123456  <span class="comment"># å¯¼å‡ºæŒ‡å®šçš„è¡¨</span></span><br></pre></td></tr></table></figure>
<p><strong>æ•°æ®å¯¼å…¥</strong></p>
<p>æ³¨æ„ï¼šéœ€è¦å…ˆç™»å½•åˆ°mysqlæ•°æ®åº“æœåŠ¡å™¨ä¸Šã€‚ç„¶ååˆ›å»ºæ•°æ®åº“ï¼š<code>create database bjpowernode;</code>ä½¿ç”¨æ•°æ®åº“ï¼š<code>use bjpowernode</code>ç„¶ååˆå§‹åŒ–æ•°æ®åº“ï¼š<code>source D:\bjpowernode.sql</code></p>
<h1 id="æ•°æ®åº“è®¾è®¡ä¸‰èŒƒå¼"><a class="markdownIt-Anchor" href="#æ•°æ®åº“è®¾è®¡ä¸‰èŒƒå¼"></a> æ•°æ®åº“è®¾è®¡ä¸‰èŒƒå¼â­â­</h1>
<blockquote>
<p>æ•°æ®åº“è¡¨çš„è®¾è®¡ä¾æ®ã€‚æ•™ä½ æ€ä¹ˆè¿›è¡Œæ•°æ®åº“è¡¨çš„è®¾è®¡ã€‚</p>
</blockquote>
<p><strong>åˆ†ç±»</strong></p>
<ul>
<li>ç¬¬ä¸€èŒƒå¼ï¼šè¦æ±‚ä»»ä½•ä¸€å¼ è¡¨å¿…é¡»æœ‰ä¸»é”®ï¼Œæ¯ä¸€ä¸ªå­—æ®µåŸå­æ€§ä¸å¯å†åˆ†ã€‚</li>
<li>ç¬¬äºŒèŒƒå¼ï¼šå»ºç«‹åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œè¦æ±‚æ‰€æœ‰éä¸»é”®å­—æ®µå®Œå…¨ä¾èµ–ä¸»é”®ï¼Œä¸è¦äº§ç”Ÿéƒ¨åˆ†ä¾èµ–ã€‚</li>
<li>ç¬¬ä¸‰èŒƒå¼ï¼šå»ºç«‹åœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œè¦æ±‚æ‰€æœ‰éä¸»é”®å­—æ®µç›´æ¥ä¾èµ–ä¸»é”®ï¼Œä¸è¦äº§ç”Ÿä¼ é€’ä¾èµ–ã€‚</li>
</ul>
<p>è®¾è®¡æ•°æ®åº“è¡¨çš„æ—¶å€™ï¼ŒæŒ‰ç…§ä»¥ä¸Šçš„èŒƒå¼è¿›è¡Œï¼Œå¯ä»¥é¿å…è¡¨ä¸­æ•°æ®çš„å†—ä½™ï¼Œç©ºé—´çš„æµªè´¹ã€‚</p>
<h2 id="ç¬¬ä¸€èŒƒå¼"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€èŒƒå¼"></a> ç¬¬ä¸€èŒƒå¼</h2>
<blockquote>
<p>æœ€æ ¸å¿ƒï¼Œæœ€é‡è¦çš„èŒƒå¼ï¼Œæ‰€æœ‰è¡¨çš„è®¾è®¡éƒ½éœ€è¦æ»¡è¶³ã€‚</p>
</blockquote>
<p><strong>å¿…é¡»æœ‰ä¸»é”®</strong>ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªå­—æ®µéƒ½æ˜¯åŸå­æ€§ä¸å¯å†åˆ†ã€‚</p>
<h2 id="ç¬¬äºŒèŒƒå¼"><a class="markdownIt-Anchor" href="#ç¬¬äºŒèŒƒå¼"></a> ç¬¬äºŒèŒƒå¼</h2>
<blockquote>
<p>å»ºç«‹åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œè¦æ±‚æ‰€æœ‰éä¸»é”®å­—æ®µå¿…é¡»å®Œå…¨ä¾èµ–ä¸»é”®ï¼Œä¸è¦äº§ç”Ÿéƒ¨åˆ†ä¾èµ–ã€‚</p>
</blockquote>
<p>å¯ä»¥åˆ©ç”¨å¤–é”®<code>foreign key</code>æ¶ˆé™¤éƒ¨ä»½ä¾èµ–ã€‚</p>
<p><strong>å¤šå¯¹å¤šæ€ä¹ˆè®¾è®¡ï¼Ÿ</strong></p>
<ul>
<li>å¤šå¯¹å¤šï¼Œä¸‰å¼ è¡¨ï¼Œå…³ç³»è¡¨ä¸¤ä¸ªå¤–é”®ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</li>
</ul>
<p>ä¾‹å¦‚ï¼šå­¦ç”Ÿè¡¨ã€æ•™å¸ˆè¡¨ã€å­¦ç”Ÿæ•™å¸ˆå…³ç³»è¡¨ã€‚</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">å­¦ç”Ÿè¡¨</span><br><span class="line">   å­¦ç”Ÿç¼–å·(pk)		å­¦ç”Ÿåå­—</span><br><span class="line">   ------------------------------------</span><br><span class="line">   1001					å¼ ä¸‰</span><br><span class="line">   1002					æå››</span><br><span class="line">   1003					ç‹äº”</span><br><span class="line">  </span><br><span class="line">æ•™å¸ˆè¡¨</span><br><span class="line">æ•™å¸ˆç¼–å·(pk)		æ•™å¸ˆå§“å</span><br><span class="line">--------------------------------------</span><br><span class="line">001					ç‹è€å¸ˆ</span><br><span class="line">002					èµµè€å¸ˆ</span><br><span class="line"></span><br><span class="line">å­¦ç”Ÿæ•™å¸ˆå…³ç³»è¡¨</span><br><span class="line">id(pk)			å­¦ç”Ÿç¼–å·(fk)			æ•™å¸ˆç¼–å·(fk)</span><br><span class="line">------------------------------------------------------</span><br><span class="line">1						1001						001</span><br><span class="line">2						1002						002</span><br><span class="line">3						1003						001</span><br><span class="line">4						1001						002</span><br></pre></td></tr></table></figure>
<h2 id="ç¬¬ä¸‰èŒƒå¼"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰èŒƒå¼"></a> ç¬¬ä¸‰èŒƒå¼</h2>
<blockquote>
<p>ä¸‰èŒƒå¼å»ºç«‹åœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œè¦æ±‚æ‰€æœ‰éä¸»é”®å­—å…¸å¿…é¡»ç›´æ¥ä¾èµ–ä¸»é”®ï¼Œä¸è¦äº§ç”Ÿä¼ é€’ä¾èµ–ã€‚</p>
</blockquote>
<p><strong>æ€ä¹ˆè®¾è®¡ä¸€å¯¹å¤šï¼Ÿ</strong></p>
<ul>
<li>ä¸€å¯¹<em>å¤š</em>ï¼Œä¸¤å¼ è¡¨ï¼Œ<em>å¤š</em>çš„è¡¨åŠ å¤–é”®ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</li>
</ul>
<p>ä¾‹å¦‚ï¼šå­¦ç”Ÿè¡¨ã€ç­çº§è¡¨</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">ç­çº§è¡¨ï¼šä¸€</span><br><span class="line">ç­çº§ç¼–å·(pk)				ç­çº§åç§°</span><br><span class="line">----------------------------------------</span><br><span class="line">01						   ä¸€å¹´ä¸€ç­</span><br><span class="line">02						   ä¸€å¹´äºŒç­</span><br><span class="line">03						   ä¸€å¹´ä¸‰ç­</span><br><span class="line"></span><br><span class="line">å­¦ç”Ÿè¡¨ï¼šå¤š</span><br><span class="line">å­¦ç”Ÿç¼–å·ï¼ˆPKï¼‰       å­¦ç”Ÿå§“å      ç­çº§ç¼–å·(fk)</span><br><span class="line">-------------------------------------------</span><br><span class="line">1001				å¼ ä¸‰			01			</span><br><span class="line">1002				æå››			02			</span><br><span class="line">1003				ç‹äº”			03			</span><br><span class="line">1004				èµµå…­			03</span><br></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2>
<ul>
<li>
<p>ä¸€å¯¹å¤š</p>
<p>ä¸€å¯¹å¤šï¼Œä¸¤å¼ è¡¨ï¼Œå¤šçš„è¡¨åŠ å¤–é”®ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
</li>
<li>
<p>å¤šå¯¹å¤š</p>
<p>å¤šå¯¹å¤šï¼Œä¸‰å¼ è¡¨ï¼Œå…³ç³»è¡¨ä¸¤ä¸ªå¤–é”®ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
</li>
<li>
<p>ä¸€å¯¹ä¸€</p>
<p>åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œå¯èƒ½å­˜åœ¨ä¸€å¼ è¡¨å­—æ®µå¤ªå¤šï¼Œå¤ªåºå¤§ã€‚è¿™ä¸ªæ—¶å€™è¦æ‹†åˆ†è¡¨ã€‚</p>
<p>ä¸€å¯¹ä¸€ï¼Œå¤–é”®å”¯ä¸€ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">æ²¡æœ‰æ‹†åˆ†è¡¨ä¹‹å‰ï¼šä¸€å¼ è¡¨</span><br><span class="line">t<span class="built_in">_</span>user</span><br><span class="line">id		login<span class="built_in">_</span>name		login<span class="built_in">_</span>pwd		real<span class="built_in">_</span>name		email				address........</span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">1			zhangsan		123				å¼ ä¸‰				zhangsan@xxx</span><br><span class="line">2			lisi			123				æå››				lisi@xxx</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">è¿™ç§åºå¤§çš„è¡¨å»ºè®®æ‹†åˆ†ä¸ºä¸¤å¼ ï¼š</span><br><span class="line">t<span class="built_in">_</span>login ç™»å½•ä¿¡æ¯è¡¨</span><br><span class="line">id(pk)		login<span class="built_in">_</span>name		login<span class="built_in">_</span>pwd	</span><br><span class="line">---------------------------------</span><br><span class="line">1				zhangsan		123			</span><br><span class="line">2				lisi			123			</span><br><span class="line"></span><br><span class="line">t<span class="built_in">_</span>user ç”¨æˆ·è¯¦ç»†ä¿¡æ¯è¡¨</span><br><span class="line">id(pk)		real<span class="built_in">_</span>name		email				address........	 login<span class="built_in">_</span>id(fk+unique)</span><br><span class="line">-----------------------------------------------------------------------------------------</span><br><span class="line">100			å¼ ä¸‰				zhangsan@xxx								1</span><br><span class="line">200			æå››				lisi@xxx	</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>å®é™…ç»éªŒ</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">æ•°æ®åº“è®¾è®¡ä¸‰èŒƒå¼æ˜¯ç†è®ºä¸Šçš„ã€‚</span><br><span class="line">å®è·µå’Œç†è®ºæœ‰çš„æ—¶å€™æœ‰åå·®ã€‚</span><br><span class="line"></span><br><span class="line">æœ€ç»ˆçš„ç›®çš„éƒ½æ˜¯ä¸ºäº†æ»¡è¶³å®¢æˆ·çš„éœ€æ±‚ï¼Œæœ‰çš„æ—¶å€™ä¼šæ‹¿å†—ä½™æ¢æ‰§è¡Œé€Ÿåº¦ã€‚</span><br><span class="line"></span><br><span class="line">å› ä¸ºåœ¨sqlå½“ä¸­ï¼Œè¡¨å’Œè¡¨ä¹‹é—´è¿æ¥æ¬¡æ•°è¶Šå¤šï¼Œæ•ˆç‡è¶Šä½ã€‚ï¼ˆç¬›å¡å°”ç§¯ï¼‰</span><br><span class="line"></span><br><span class="line">æœ‰çš„æ—¶å€™å¯èƒ½ä¼šå­˜åœ¨å†—ä½™ï¼Œä½†æ˜¯ä¸ºäº†å‡å°‘è¡¨çš„è¿æ¥æ¬¡æ•°ï¼Œè¿™æ ·åšä¹Ÿæ˜¯åˆç†çš„ï¼Œ</span><br><span class="line">å¹¶ä¸”å¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼Œsqlè¯­å¥çš„ç¼–å†™éš¾åº¦ä¹Ÿä¼šé™ä½ã€‚</span><br><span class="line"></span><br><span class="line">é¢è¯•çš„æ—¶å€™æŠŠè¿™å¥è¯è¯´ä¸Šï¼šä»–å°±ä¸ä¼šè®¤ä¸ºä½ æ˜¯åˆçº§ç¨‹åºå‘˜äº†ï¼</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ3</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Java ä¼ä¸šå¼€å‘åŸºç¡€ Spring5-AOP</title>
    <url>/2022/09/27/JAVA/07Spring5_AOP/</url>
    <content><![CDATA[<h2 id="aopæ¦‚è¿°"><a class="markdownIt-Anchor" href="#aopæ¦‚è¿°"></a> AOPæ¦‚è¿°</h2>
<blockquote>
<p>é¢å‘åˆ‡é¢ï¼ˆæ–¹é¢ï¼‰ç¼–ç¨‹ï¼Œä¸ä¿®æ”¹æºä»£ç è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚</p>
<p>åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„<strong>è€¦åˆåº¦é™ä½</strong>ï¼Œ<strong>æé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§</strong>ï¼ŒåŒæ—¶<strong>æé«˜äº†å¼€å‘çš„æ•ˆç‡</strong>ã€‚</p>
<p>é€šä¿—æè¿°ï¼šä¸é€šè¿‡ä¿®æ”¹æºä»£ç æ–¹å¼ï¼Œåœ¨ä¸»å¹²åŠŸèƒ½é‡Œé¢æ·»åŠ æ–°åŠŸèƒ½</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20200702135106266.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTQ5NjE5MA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="aopåº•å±‚åŸç†"><a class="markdownIt-Anchor" href="#aopåº•å±‚åŸç†"></a> AOPåº•å±‚åŸç†</h2>
<p>åº•å±‚æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†çš„æ–¹å¼å®ç°çš„ã€‚</p>
<p><strong>åŠ¨æ€ä»£ç†çš„ä¸¤ç§æƒ…å†µ</strong></p>
<ul>
<li>
<p><strong>æœ‰æ¥å£æƒ…å†µ</strong>ï¼šä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ã€‚</p>
<p>åˆ›å»ºæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡ï¼Œå¢å¼ºç±»çš„æ–¹æ³•ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200702135134128.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTQ5NjE5MA==,size_16,color_FFFFFF,t_70" alt="æœ‰æ¥å£æƒ…å†µ" /></p>
</li>
<li>
<p><strong>æ²¡æœ‰æ¥å£æƒ…å†µ</strong>ï¼šä½¿ç”¨ CGLIB åŠ¨æ€ä»£ç†</p>
<p>åˆ›å»ºå½“å‰ç±»çš„å­ç±»çš„ä»£ç†å¯¹è±¡ï¼Œå¢å¼ºç±»çš„æ–¹æ³•ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/2020070213514980.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTQ5NjE5MA==,size_16,color_FFFFFF,t_70" alt="æ²¡æœ‰æ¥å£æƒ…å†µ" /></p>
</li>
</ul>
<h3 id="jdk-åŠ¨æ€ä»£ç†"><a class="markdownIt-Anchor" href="#jdk-åŠ¨æ€ä»£ç†"></a> JDK åŠ¨æ€ä»£ç†</h3>
<p>ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œä½¿ç”¨ <code>Proxy</code> ç±»é‡Œé¢çš„æ–¹æ³•åˆ›å»ºä»£ç†å¯¹è±¡ã€‚è°ƒç”¨ <code>newProxyInstance</code> æ–¹æ³•ï¼Œæ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><code>ClassLoader</code> ç±»åŠ è½½å™¨</li>
<li><code>interfaces</code> å¢å¼ºæ–¹æ³•æ‰€åœ¨çš„ç±»ï¼Œè¿™ä¸ªç±»å®ç°çš„æ¥å£ï¼Œæ”¯æŒå¤šä¸ªæ¥å£</li>
<li><code>InvocationHandler</code> å®ç°è¿™ä¸ªæ¥å£ <code>InvocationHandler</code>ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ï¼Œå†™å¢å¼ºçš„éƒ¨åˆ†</li>
</ul>
<p>å®ä¾‹ä»£ç </p>
<p>åˆ›å»ºæ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">update</span><span class="params">(String id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºæ¥å£å®ç°ç±»ï¼Œå®ç°æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">UserDao</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;addæ–¹æ³•æ‰§è¡Œ ....&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">update</span><span class="params">(String id)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;updateæ–¹æ³•æ‰§è¡Œ ....&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ Proxy ç±»åˆ›å»ºæ¥å£ä»£ç†å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDKProxy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡</span></span><br><span class="line">        Class[] interfaces = &#123;UserDao.class&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="type">UserDaoImpl</span> <span class="variable">userDao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDaoImpl</span>();</span><br><span class="line">        <span class="type">UserDao</span> <span class="variable">dao</span> <span class="operator">=</span> (UserDao) Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, <span class="keyword">new</span> <span class="title class_">UserDaoProxy</span>(userDao));</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> dao.add(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">        <span class="comment">// ä¸‹é¢è¿™æ ·ä¹Ÿå¯ä»¥</span></span><br><span class="line">        <span class="comment">/*Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new InvocationHandler() &#123;</span></span><br><span class="line"><span class="comment">            @Override</span></span><br><span class="line"><span class="comment">            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span></span><br><span class="line"><span class="comment">                return null;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;);*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä»£ç†å¯¹è±¡ä»£ç </span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserDaoProxy</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æŠŠåˆ›å»ºçš„æ˜¯è°çš„ä»£ç†å¯¹è±¡ï¼ŒæŠŠè°ä¼ é€’è¿‡æ¥ã€‚</span></span><br><span class="line">    <span class="comment">// é€šè¿‡æœ‰å‚æ„é€ ä¼ é€’</span></span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserDaoProxy</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¢å¼ºçš„é€»è¾‘</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹æ³•æ‰§è¡Œä¹‹å‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œ....&quot;</span> + method.getName() + <span class="string">&quot;:&quot;</span> + Arrays.toString(args));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¢å¼ºçš„æ–¹æ³•æ‰§è¡Œ</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">res</span> <span class="operator">=</span> method.invoke(obj, args);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•ä¹‹åæ‰§è¡Œ...&quot;</span> + obj);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœ</p>
<p><img src="/img/Java/07Spring5_AOP/image-20220927144305893.png" alt="image-20220927144305893" /></p>
<h2 id="aop-ç›¸å…³æœ¯è¯­"><a class="markdownIt-Anchor" href="#aop-ç›¸å…³æœ¯è¯­"></a> AOP ç›¸å…³æœ¯è¯­</h2>
<ul>
<li><strong>è¿æ¥ç‚¹</strong>ï¼šç±»é‡Œé¢å“ªäº›æ–¹æ³•å¯ä»¥è¢«å¢å¼ºï¼Œè¿™äº›æ–¹æ³•ç§°ä¸ºè¿æ¥ç‚¹</li>
<li><strong>åˆ‡å…¥ç‚¹</strong>ï¼šå®é™…è¢«çœŸæ­£å¢å¼ºçš„æ–¹æ³•ç§°ä¸ºåˆ‡å…¥ç‚¹</li>
<li><strong>é€šçŸ¥</strong>ï¼ˆå¢å¼ºï¼‰ï¼šå®é™…å¢å¼ºçš„é€»è¾‘éƒ¨åˆ†ç§°ä¸ºé€šçŸ¥ï¼Œä¸”åˆ†ä¸ºä»¥ä¸‹äº”ç§ç±»å‹ï¼š
<ul>
<li>1ï¼‰å‰ç½®é€šçŸ¥ 2ï¼‰åç½®é€šçŸ¥ 3ï¼‰ç¯ç»•é€šçŸ¥ 4ï¼‰å¼‚å¸¸é€šçŸ¥ 5ï¼‰æœ€ç»ˆé€šçŸ¥</li>
</ul>
</li>
<li><strong>åˆ‡é¢</strong>ï¼šæŠŠé€šçŸ¥åº”ç”¨åˆ°åˆ‡å…¥ç‚¹è¿‡ç¨‹</li>
</ul>
<h2 id="aop-æ“ä½œ"><a class="markdownIt-Anchor" href="#aop-æ“ä½œ"></a> AOP æ“ä½œ</h2>
<blockquote>
<p>Spring æ¡†æ¶ä¸€èˆ¬éƒ½æ˜¯åŸºäº <strong>AspectJ</strong> å®ç° AOP æ“ä½œï¼ŒAspectJ ä¸æ˜¯ Spring ç»„æˆéƒ¨åˆ†ï¼Œç‹¬ç«‹ AOP æ¡†æ¶ï¼Œä¸€èˆ¬æŠŠ AspectJ å’Œ Spirng æ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œè¿›è¡Œ AOP æ“ä½œ</p>
</blockquote>
<p>åŸºäº AspectJ å®ç° AOP æ“ä½œï¼š</p>
<ul>
<li>åŸºäº xml é…ç½®æ–‡ä»¶å®ç°</li>
<li>åŸºäºæ³¨è§£æ–¹å¼å®ç°ï¼ˆæœ€å¸¸ä½¿ç”¨ï¼‰</li>
</ul>
<p><strong>æ­¥éª¤</strong></p>
<ul>
<li>å¼•å…¥ç›¸å…³ä¾èµ– <code>spring-aspects-5.3.23.jar</code> <code>com.springsource.net.sf.cglib-2.2.0.jar</code> <code>com.springsource.org.aopalliance-1.0.0.jar</code> <code>com.springsource.org.aspectj.weaver-1.6.8.RELEASE.jar</code></li>
</ul>
<h3 id="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"></a> åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</h3>
<p><strong>ä½œç”¨</strong>ï¼šçŸ¥é“å¯¹å“ªä¸ªç±»é‡Œé¢çš„å“ªä¸ªæ–¹æ³•è¿›è¡Œå¢å¼º</p>
<p><strong>è¯­æ³•ç»“æ„</strong>ï¼š <code>execution([æƒé™ä¿®é¥°ç¬¦] [è¿”å›ç±»å‹] [ç±»å…¨è·¯å¾„] [æ–¹æ³•åç§°]([å‚æ•°åˆ—è¡¨]))</code></p>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¹ com.atguigu.dao.BookDao ç±»é‡Œé¢çš„ add è¿›è¡Œå¢å¼º</span></span><br><span class="line">execution(* com.atguigu.dao.BookDao.add(..))</span><br><span class="line"><span class="comment">// å¯¹ com.atguigu.dao.BookDao ç±»é‡Œé¢çš„æ‰€æœ‰çš„æ–¹æ³•è¿›è¡Œå¢å¼º</span></span><br><span class="line">execution(* com.atguigu.dao.BookDao.*(..))</span><br><span class="line"><span class="comment">// å¯¹ com.atguigu.dao åŒ…é‡Œé¢æ‰€æœ‰ç±»ï¼Œç±»é‡Œé¢æ‰€æœ‰æ–¹æ³•è¿›è¡Œå¢å¼º</span></span><br><span class="line">execution(* com.atguigu.dao.*.*(..))</span><br></pre></td></tr></table></figure>
<h3 id="aspectj-æ³¨è§£"><a class="markdownIt-Anchor" href="#aspectj-æ³¨è§£"></a> AspectJ æ³¨è§£</h3>
<ol>
<li>
<p>åˆ›å»ºç±»ï¼Œåœ¨ç±»é‡Œé¢å®šä¹‰æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.aopanno;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * è¢«å¢å¼ºçš„ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;add......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åˆ›å»ºå¢å¼ºç±»(ç¼–å†™å¢å¼ºçš„é€»è¾‘)ã€‚åœ¨å¢å¼ºç±»é‡Œé¢åˆ›å»ºæ–¹æ³•ï¼Œè®©ä¸åŒçš„æ–¹æ³•ä»£è¡¨ä¸åŒçš„é€šçŸ¥ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.aopanno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * å¢å¼ºçš„ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserProxy</span> &#123;</span><br><span class="line">    <span class="comment">// å‰ç½®é€šçŸ¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>è¿›è¡Œé€šçŸ¥çš„é…ç½®</p>
<ol>
<li>
<p>åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯æ³¨è§£æ‰«æ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯æ³¨è§£æ‰«æ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xzt.aopanno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä½¿ç”¨æ³¨è§£åˆ›å»º <code>User</code> å’Œ <code>UserProxy</code> å¯¹è±¡ï¼Œåœ¨æ¯ä¸ªç±»ä¸Šæ·»åŠ æ³¨è§£<code>@Component</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserProxy</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨å¢å¼ºç±»ä¸Šæ·»åŠ æ³¨è§£<code>@Aspect</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span>  <span class="comment">// ç”Ÿæˆä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserProxy</span> &#123;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨ spring é…ç½®æ–‡ä»¶ä¸­å¼€å¯ç”Ÿæˆä»£ç†å¯¹è±¡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼€å¯AspectJ ç”Ÿæˆä»£ç†å¯¹è±¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li>
<p>é…ç½®ä¸åŒç±»å‹çš„é€šçŸ¥ã€‚åœ¨å¢å¼ºç±»çš„é‡Œé¢ï¼Œåœ¨ä½œä¸ºé€šçŸ¥æ–¹æ³•ä¸Šé¢æ·»åŠ é€šçŸ¥ç±»å‹æ³¨è§£ï¼Œä½¿ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼é…ç½®ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.aopanno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * å¢å¼ºçš„ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span>  <span class="comment">// ç”Ÿæˆä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserProxy</span> &#123;</span><br><span class="line">    <span class="comment">// å‰ç½®é€šçŸ¥</span></span><br><span class="line">    <span class="comment">// @Beforeæ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;execution(* com.xzt.aopanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After(value = &quot;execution(* com.xzt.aopanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;after.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterReturning(value = &quot;execution(* com.xzt.aopanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterReturning</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterReturning.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterThrowing(value = &quot;execution(* com.xzt.aopanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterThrowing</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterThrowing.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¯ç»•é€šçŸ¥</span></span><br><span class="line">    <span class="meta">@Around(value = &quot;execution(* com.xzt.aopanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">around</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¯ç»•ä¹‹å‰.....&quot;</span>);</span><br><span class="line">        <span class="comment">// è¢«å¢å¼ºçš„æ–¹æ³•æ‰§è¡Œ</span></span><br><span class="line">        proceedingJoinPoint.proceed();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ç¯ç»•ä¹‹å.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>è¿›è¡Œæµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;user&quot;</span>, User.class);</span><br><span class="line"></span><br><span class="line">    user.add();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/07Spring5_AOP/image-20220927152920890.png" alt="image-20220927152920890" /></p>
</li>
</ol>
<h4 id="å…¬å…±åˆ‡å…¥ç‚¹æŠ½å–"><a class="markdownIt-Anchor" href="#å…¬å…±åˆ‡å…¥ç‚¹æŠ½å–"></a> å…¬å…±åˆ‡å…¥ç‚¹æŠ½å–</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.aopanno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * å¢å¼ºçš„ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span>  <span class="comment">// ç”Ÿæˆä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserProxy</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›¸åŒåˆ‡å…¥ç‚¹æŠ½å–</span></span><br><span class="line">    <span class="meta">@Pointcut(value = &quot;execution(* com.xzt.aopanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pointdemo</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‰ç½®é€šçŸ¥</span></span><br><span class="line">    <span class="comment">// @Beforeæ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;pointdemo()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After(value = &quot;pointdemo()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;after.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterReturning(value = &quot;pointdemo()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterReturning</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterReturning.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterThrowing(value = &quot;pointdemo()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterThrowing</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterThrowing.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¯ç»•é€šçŸ¥</span></span><br><span class="line">    <span class="meta">@Around(value = &quot;pointdemo()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">around</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¯ç»•ä¹‹å‰.....&quot;</span>);</span><br><span class="line">        <span class="comment">// è¢«å¢å¼ºçš„æ–¹æ³•æ‰§è¡Œ</span></span><br><span class="line">        proceedingJoinPoint.proceed();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ç¯ç»•ä¹‹å.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è®¾ç½®å¢å¼ºç±»çš„ä¼˜å…ˆçº§"><a class="markdownIt-Anchor" href="#è®¾ç½®å¢å¼ºç±»çš„ä¼˜å…ˆçº§"></a> è®¾ç½®å¢å¼ºç±»çš„ä¼˜å…ˆçº§</h4>
<p>å¤šä¸ªå¢å¼ºç±» å¯¹åŒä¸€ä¸ªæ–¹æ³• è¿›è¡Œå¢å¼ºï¼Œå¯ä»¥è®¾ç½®ä¼˜å…ˆçº§:</p>
<ul>
<li>åœ¨å¢å¼ºç±»çš„ä¸Šé¢æ·»åŠ æ³¨è§£<code>@Order(å€¼)</code>ï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.aopanno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Before;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.annotation.Order;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Order(3)</span>  <span class="comment">// è®¾ç½®æœ‰ä¼˜å…ˆçº§</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonProxy</span> &#123;</span><br><span class="line">    <span class="comment">// å‰ç½®é€šçŸ¥</span></span><br><span class="line">    <span class="comment">// @Beforeæ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;execution(* com.xzt.aopanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Person before.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="aspectj-é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#aspectj-é…ç½®æ–‡ä»¶"></a> AspectJ é…ç½®æ–‡ä»¶ğŸ’¤</h3>
<ol>
<li>
<p>åˆ›å»ºä¸¤ä¸ªç±» å¢å¼ºç±» å’Œ è¢«å¢å¼ºç±»ï¼Œåˆ›å»ºæ–¹æ³•</p>
</li>
<li>
<p>åœ¨ spring é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºä¸¤ä¸ªç±»å¯¹è±¡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.aopanno.User&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userProxy&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.aopanno.UserProxy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨ spring é…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ‡å…¥ç‚¹ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®aopå¢å¼º --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;p&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.xzt.aopanno.User.add(..))&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®åˆ‡é¢ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;userProxy&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¢å¼ºä½œç”¨åœ¨å…·ä½“çš„æ–¹æ³•ä¸Š --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;before&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;p&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:before</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="çº¯æ³¨è§£å¼€å‘"><a class="markdownIt-Anchor" href="#çº¯æ³¨è§£å¼€å‘"></a> çº¯æ³¨è§£å¼€å‘â­â­â­</h3>
<p>éœ€è¦ç¼–å†™é…ç½®æ–‡ä»¶(<code>ConfigAPP.java</code>)ä»£æ›¿<code>xml</code>é…ç½®æ–‡ä»¶ï¼Œä¸Šé¢å†™ä¸Šä¸‰ä¸ªæ³¨è§£ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.EnableAspectJAutoProxy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span>  <span class="comment">// é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.xzt&quot;&#125;)</span>  <span class="comment">// IOCç»„ä»¶æ‰«æ</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy(proxyTargetClass = true)</span> <span class="comment">// ç”ŸæˆAspectJä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConfigApp</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ3</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Java ä¼ä¸šå¼€å‘åŸºç¡€ JavaWeb</title>
    <url>/2022/09/25/JAVA/05JavaWeb/</url>
    <content><![CDATA[<p>å› ä¸ºHTMLå’ŒCSSç›¸å¯¹æ¯”è¾ƒç†Ÿç»ƒï¼Œæ‰€ä»¥ç›´æ¥è·³è¿‡å¼€å§‹å­¦ä¹ JavaScript</p>
<h1 id="javascript"><a class="markdownIt-Anchor" href="#javascript"></a> JavaScript</h1>
<h2 id="javascriptä»‹ç»"><a class="markdownIt-Anchor" href="#javascriptä»‹ç»"></a> JavaScriptä»‹ç»</h2>
<blockquote>
<p>JSæ˜¯å¼±ç±»å‹ï¼ŒJavaæ˜¯å¼ºç±»å‹</p>
</blockquote>
<p><strong>ç‰¹ç‚¹</strong></p>
<ul>
<li>äº¤äº’æ€§ï¼ˆå®ƒå¯ä»¥åšçš„å°±æ˜¯ä¿¡æ¯çš„åŠ¨æ€äº¤äº’ï¼‰</li>
<li>å®‰å…¨æ€§ï¼ˆä¸å…è®¸ç›´æ¥è®¿é—®æœ¬åœ°ç¡¬ç›˜ï¼‰</li>
<li>è·¨å¹³å°æ€§ï¼ˆåªè¦æ˜¯å¯ä»¥è§£é‡Š JS çš„æµè§ˆå™¨éƒ½å¯ä»¥æ‰§è¡Œï¼Œå’Œå¹³å°æ— å…³ï¼‰</li>
</ul>
<h2 id="jså’Œhtmlä»£ç çš„ç»“åˆæ–¹å¼"><a class="markdownIt-Anchor" href="#jså’Œhtmlä»£ç çš„ç»“åˆæ–¹å¼"></a> JSå’Œhtmlä»£ç çš„ç»“åˆæ–¹å¼</h2>
<h3 id="ç¬¬ä¸€ç§æ–¹å¼"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€ç§æ–¹å¼"></a> ç¬¬ä¸€ç§æ–¹å¼</h3>
<p>åªéœ€è¦åœ¨<code>head</code>æ ‡ç­¾ä¸­ï¼Œæˆ–è€…åœ¨<code>body</code>æ ‡ç­¾ä¸­ï¼Œä½¿ç”¨<code>script</code>æ ‡ç­¾æ¥ä¹¦å†™JSä»£ç </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// alertæ˜¯JSè¯­è¨€æä¾›çš„ä¸€ä¸ªè­¦å‘Šå‡½æ•°ï¼Œå¯ä»¥æ¥æ”¶ä»»ä½•å‚æ•°</span></span></span><br><span class="line"><span class="language-javascript">        	<span class="title function_">alert</span>(<span class="string">&quot;Hello Word!!&quot;</span>);  </span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="ç¬¬äºŒç§æ–¹å¼"><a class="markdownIt-Anchor" href="#ç¬¬äºŒç§æ–¹å¼"></a> ç¬¬äºŒç§æ–¹å¼</h3>
<p>ä½¿ç”¨<code>script</code>æ ‡ç­¾ä¸­çš„<code>src</code>å±æ€§å¼•å…¥å•ç‹¬çš„<code>JavaScript</code>ä»£ç æ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;Hello World!!!&quot;</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä½¿ç”¨scriptæ ‡ç­¾å¼•å…¥å¤–éƒ¨jsæ–‡ä»¶ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;a.js&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ª<code>script</code>æ ‡ç­¾å¯ä»¥ç”¨æ¥å®šä¹‰jsä»£ç ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å¼•å…¥jsæ–‡ä»¶ï¼Œä¸¤ä¸ªåŠŸèƒ½äºŒé€‰ä¸€ä½¿ç”¨ã€‚ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚ä½†æ˜¯å¯ä»¥å†™å¤šä¸ª<code>script</code>ä»£ç ã€‚</p>
<h2 id="jså˜é‡"><a class="markdownIt-Anchor" href="#jså˜é‡"></a> JSå˜é‡</h2>
<h3 id="jsçš„å˜é‡ç±»å‹"><a class="markdownIt-Anchor" href="#jsçš„å˜é‡ç±»å‹"></a> JSçš„å˜é‡ç±»å‹</h3>
<ul>
<li>æ•°å€¼ç±»å‹ï¼š<code>number</code>ï¼ŒåŒ…å«äº†Javaçš„å¤šæœ‰æ•°å€¼æœ‰å…³çš„ç±»å‹</li>
<li>å­—ç¬¦ä¸²ç±»å‹ï¼š<code>string</code></li>
<li>å¯¹è±¡ç±»å‹ï¼š<code>Object</code></li>
<li>å¸ƒå°”ç±»å‹ï¼š<code>boolean</code></li>
<li>å‡½æ•°ç±»å‹ï¼š<code>function</code></li>
</ul>
<p>JSé‡Œç‰¹æ®Šçš„å€¼</p>
<ul>
<li><code>undefined</code> æœªå®šä¹‰ï¼Œæ‰€æœ‰jså˜é‡æœªèµ‹äºˆåˆå§‹å€¼çš„æ—¶å€™ï¼Œé»˜è®¤å€¼éƒ½æ˜¯<code>undefined</code></li>
<li><code>null</code> ç©ºå€¼</li>
<li><code>NaN</code> å…¨ç§°æ˜¯ï¼šNot a Numberã€‚éæ•°å­—ï¼Œéæ•°å€¼ã€‚æ•°å€¼ç±»å‹*å­—ç¬¦ä¸²ç±»å‹å°±ä¼šå‡ºç°</li>
</ul>
<p>JSä¸­å®šä¹‰å˜é‡çš„æ ¼å¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> å˜é‡å;</span><br><span class="line"><span class="keyword">var</span> å˜é‡å = å€¼;</span><br></pre></td></tr></table></figure>
<p>å®ä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> i;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// alert(i); // undefined</span></span></span><br><span class="line"><span class="language-javascript">        i = <span class="number">12</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// typeof()æ˜¯JavaScriptè¯­è¨€æä¾›çš„ä¸€ä¸ªå‡½æ•°ã€‚</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>( <span class="title function_">typeof</span>(i) ); <span class="comment">// number</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        i = <span class="string">&quot;abc&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// å®ƒå¯ä»¥å–å˜é‡çš„æ•°æ®ç±»å‹è¿”å›</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>( <span class="title function_">typeof</span>(i) ); <span class="comment">// String</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> a = <span class="number">12</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> b = <span class="string">&quot;abc&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>( a * b ); <span class="comment">// NaNæ˜¯éæ•°å­—ï¼Œéæ•°å€¼ã€‚</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="å…³ç³»æ¯”è¾ƒè¿ç®—"><a class="markdownIt-Anchor" href="#å…³ç³»æ¯”è¾ƒè¿ç®—"></a> å…³ç³»ï¼ˆæ¯”è¾ƒï¼‰è¿ç®—</h3>
<ul>
<li>ç­‰äºï¼š<code>==</code> ç­‰äºæ˜¯ç®€å•çš„åšå­—é¢å€¼æ¯”è¾ƒ</li>
<li>å…¨ç­‰äºï¼š<code>===</code> é™¤äº†åšå­—é¢çš„æ¯”è¾ƒä¹‹å¤–ï¼Œè¿˜ä¼šæ¯”è¾ƒä¸¤ä¸ªå˜é‡çš„æ•°æ®ç±»å‹ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;12&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( a == b ); <span class="comment">// true</span></span><br><span class="line"><span class="title function_">alert</span>( a === b ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h3 id="é€»è¾‘è¿ç®—"><a class="markdownIt-Anchor" href="#é€»è¾‘è¿ç®—"></a> é€»è¾‘è¿ç®—</h3>
<ul>
<li>ä¸”è¿ç®—ï¼š<code>&amp;&amp;</code></li>
<li>æˆ–è¿ç®—ï¼š<code>||</code></li>
<li>å–åè¿ç®—ï¼š<code>!</code></li>
</ul>
<p>åœ¨JSè¯­è¨€ä¸­ï¼Œæ‰€æœ‰çš„å˜é‡ï¼Œéƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ª<code>boolean</code>ç±»å‹çš„å˜é‡å»ä½¿ç”¨</p>
<p><code>0/null/undefined/&quot;&quot;</code>éƒ½è®¤ä¸ºæ˜¯false</p>
<h3 id="æ•°ç»„"><a class="markdownIt-Anchor" href="#æ•°ç»„"></a> æ•°ç»„</h3>
<p>JSä¸­æ•°ç»„çš„å®šä¹‰æ–¹å¼ï¼š</p>
<ul>
<li><code>var æ•°ç»„å = [];</code> ç©ºæ•°ç»„</li>
<li><code>var æ•°ç»„å = [1, 'abc', true]</code> å®šä¹‰æ•°ç»„æ—¶èµ‹å€¼å…ƒç´ ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li>JSè¯­è¨€ä¸­çš„æ•°ç»„ï¼Œåªè¦æˆ‘ä»¬é€šè¿‡æ•°ç»„ä¸‹æ ‡èµ‹å€¼ï¼Œé‚£ä¹ˆæœ€å¤§çš„ä¸‹æ ‡å€¼ï¼Œå°±ä¼šè‡ªåŠ¨çš„ç»™æ•°ç»„åšæ‰©å®¹æ“ä½œã€‚</li>
<li>JSä¸­çš„æ•°ç»„ä¸­å…ƒç´ ç±»å‹å¯ä»¥ä¸åŒã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line">arr[<span class="number">9</span>] = <span class="number">10</span>;</span><br><span class="line"><span class="title function_">alert</span>(arr.<span class="property">length</span>);  <span class="comment">//10,å…¶ä»–å…ƒç´ ä¸ºé»˜è®¤å€¼undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">	<span class="title function_">alert</span>(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å‡½æ•°"><a class="markdownIt-Anchor" href="#å‡½æ•°"></a> å‡½æ•°</h3>
<h4 id="å‡½æ•°çš„å®šä¹‰æ–¹å¼"><a class="markdownIt-Anchor" href="#å‡½æ•°çš„å®šä¹‰æ–¹å¼"></a> å‡½æ•°çš„å®šä¹‰æ–¹å¼</h4>
<ul>
<li>ç¬¬ä¸€ç§ï¼šå¯ä»¥ä½¿ç”¨<code>function</code>å…³é”®å­—æ¥å®šä¹‰å‡½æ•°</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> å‡½æ•°å(å½¢å‚åˆ—è¡¨) &#123;</span><br><span class="line">    å‡½æ•°ä½“;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨JSä¸­ä¸éœ€è¦å¯ä»¥è§„å®šå‡½æ•°çš„è¿”å›ç±»å‹ï¼Œåªéœ€è¦ç›´æ¥åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨<code>return</code>è¯­å¥è¿”å›å€¼å³å¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fun1</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;111&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fun1</span>(<span class="number">1</span>, <span class="string">&quot;ab&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun2</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;222&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="title function_">fun2</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fun3 = <span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun3</span>(<span class="number">1</span>, <span class="string">&quot;ab&quot;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>ç¬¬äºŒç§å‡½æ•°å®šä¹‰æ–¹å¼</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> å‡½æ•°å = <span class="keyword">function</span>(<span class="params">å½¢å‚åˆ—è¡¨</span>) &#123;</span><br><span class="line">    å‡½æ•°ä½“</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨Javaä¸­å‡½æ•°å…è®¸é‡è½½ï¼Œä½†æ˜¯åœ¨JSä¸­å‡½æ•°çš„é‡è½½ä¼šç›´æ¥è¦†ç›–æ‰ä¸Šä¸€æ¬¡çš„å®šä¹‰ã€‚</p>
<h4 id="å‡½æ•°çš„argumentséšå½¢å‚æ•°"><a class="markdownIt-Anchor" href="#å‡½æ•°çš„argumentséšå½¢å‚æ•°"></a> å‡½æ•°çš„<code>arguments</code>éšå½¢å‚æ•°</h4>
<p>åªåœ¨<code>function</code>å‡½æ•°å†…ã€‚å°±æ˜¯åœ¨<code>function</code>å‡½æ•°ä¸­ä¸éœ€è¦å®šä¹‰ï¼Œä½†å´å¯ä»¥ç›´æ¥ç”¨æ¥è·å–æ‰€æœ‰å‚æ•°çš„å˜é‡ã€‚å«éšå½¢å‚æ•°ã€‚</p>
<p>æ¯”è¾ƒåƒjavaåŸºç¡€çš„å¯å˜é•¿å‚æ•°ä¸€æ ·ã€‚å¯å˜é•¿å‚æ•°å…¶å®æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p>
<p>é‚£ä¹ˆ js ä¸­çš„éšå½¢å‚æ•°ä¹Ÿè·Ÿ java çš„å¯å˜é•¿å‚æ•°ä¸€æ ·ã€‚æ“ä½œç±»ä¼¼æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// éœ€æ±‚ï¼šè¦æ±‚ ç¼–å†™ ä¸€ä¸ªå‡½æ•°ã€‚ç”¨äºè®¡ç®—æ‰€æœ‰å‚æ•°ç›¸åŠ çš„å’Œå¹¶è¿”å›</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;  <span class="comment">// arguments.lengthå®é™…ä¼ å…¥å‚æ•°çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">typeof</span>(<span class="variable language_">arguments</span>[i]) == <span class="string">&quot;number&quot;</span>) &#123;  <span class="comment">// å½“å‰å‚æ•°ç±»å‹ä¸ºnumber</span></span><br><span class="line">            result += <span class="variable language_">arguments</span>[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( <span class="title function_">sum</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">&quot;abc&quot;</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>) );</span><br></pre></td></tr></table></figure>
<h3 id="jsä¸­çš„è‡ªå®šä¹‰å¯¹è±¡"><a class="markdownIt-Anchor" href="#jsä¸­çš„è‡ªå®šä¹‰å¯¹è±¡"></a> JSä¸­çš„è‡ªå®šä¹‰å¯¹è±¡</h3>
<h4 id="objectå½¢å¼çš„è‡ªå®šä¹‰å¯¹è±¡"><a class="markdownIt-Anchor" href="#objectå½¢å¼çš„è‡ªå®šä¹‰å¯¹è±¡"></a> Objectå½¢å¼çš„è‡ªå®šä¹‰å¯¹è±¡</h4>
<p><strong>å®šä¹‰æ ¼å¼</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> å˜é‡å = <span class="keyword">new</span> <span class="title class_">Object</span>();	<span class="comment">// åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç©ºå¯¹è±¡</span></span><br><span class="line">å˜é‡å.å±æ€§å = å€¼;	<span class="comment">// å®šä¹‰ä¸€ä¸ªå±æ€§</span></span><br><span class="line">å˜é‡å.å±æ€§å = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;;	<span class="comment">// å®šä¹‰ä¸€ä¸ªå±æ€§å‡½æ•°åï¼šfunction()&#123;&#125;	</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// å¯¹è±¡çš„è®¿é—®</span></span><br><span class="line">å˜é‡å.å±æ€§/å‡½æ•°å();</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Object</span>(); </span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&quot;åä»”&quot;</span>;</span><br><span class="line">obj.<span class="property">age</span> = <span class="number">18</span>;</span><br><span class="line">obj.<span class="property">fun</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;å§“åï¼š&quot;</span> + <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot; , å¹´é¾„ï¼š&quot;</span> + <span class="variable language_">this</span>.<span class="property">age</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¹è±¡çš„è®¿é—®ï¼š</span></span><br><span class="line"><span class="comment">//     å˜é‡å.å±æ€§ / å‡½æ•°å();</span></span><br><span class="line"><span class="title function_">alert</span>( obj.<span class="property">age</span> );</span><br><span class="line">obj.<span class="title function_">fun</span>();</span><br></pre></td></tr></table></figure>
<h4 id="å½¢å¼çš„è‡ªå®šä¹‰å¯¹è±¡"><a class="markdownIt-Anchor" href="#å½¢å¼çš„è‡ªå®šä¹‰å¯¹è±¡"></a> {}å½¢å¼çš„è‡ªå®šä¹‰å¯¹è±¡</h4>
<p><strong>å®šä¹‰æ ¼å¼</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> å˜é‡å = &#123;	<span class="comment">// ç©ºå¯¹è±¡</span></span><br><span class="line">    å±æ€§åï¼šå€¼,	<span class="comment">// å®šä¹‰ä¸€ä¸ªå±æ€§</span></span><br><span class="line">    å±æ€§åï¼šå€¼,	<span class="comment">// å®šä¹‰ä¸€ä¸ªå±æ€§</span></span><br><span class="line">    å‡½æ•°åï¼š<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;	<span class="comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡çš„è®¿é—®</span></span><br><span class="line">å¯¹è±¡å.å±æ€§/å‡½æ•°å();</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;å›½å“¥&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">    fun : <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;å§“åï¼š&quot;</span> + <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot; , å¹´é¾„ï¼š&quot;</span> + <span class="variable language_">this</span>.<span class="property">age</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡çš„è®¿é—®ï¼š</span></span><br><span class="line"><span class="comment">//     å˜é‡å.å±æ€§ / å‡½æ•°å();</span></span><br><span class="line"><span class="title function_">alert</span>(obj.<span class="property">name</span>);</span><br><span class="line">obj.<span class="title function_">fun</span>();</span><br></pre></td></tr></table></figure>
<h2 id="jsä¸­çš„äº‹ä»¶"><a class="markdownIt-Anchor" href="#jsä¸­çš„äº‹ä»¶"></a> JSä¸­çš„äº‹ä»¶</h2>
<blockquote>
<p>æ˜¯ç”µè„‘è¾“å…¥è®¾å¤‡å’Œé¡µé¢è¿›è¡Œäº¤äº’çš„å“åº”ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºäº‹ä»¶ã€‚</p>
</blockquote>
<h3 id="å¸¸ç”¨çš„äº‹ä»¶"><a class="markdownIt-Anchor" href="#å¸¸ç”¨çš„äº‹ä»¶"></a> å¸¸ç”¨çš„äº‹ä»¶</h3>
<ul>
<li><code>onload</code> åŠ è½½å®Œæˆäº‹ä»¶ï¼šé¡µé¢åŠ è½½å®Œæˆä¹‹åï¼Œå¸¸ç”¨äºåšé¡µé¢ js ä»£ç åˆå§‹åŒ–æ“ä½œ</li>
<li><code>onclick</code> å•å‡»äº‹ä»¶ï¼šå¸¸ç”¨äºæŒ‰é’®çš„ç‚¹å‡»å“åº”æ“ä½œã€‚</li>
<li><code>onblur</code> å¤±å»ç„¦ç‚¹äº‹ä»¶ï¼šå¸¸ç”¨ç”¨äºè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹åéªŒè¯å…¶è¾“å…¥å†…å®¹æ˜¯å¦åˆæ³•ã€‚</li>
<li><code>onchange</code> å†…å®¹å‘ç”Ÿæ”¹å˜äº‹ä»¶ï¼šå¸¸ç”¨äºä¸‹æ‹‰åˆ—è¡¨å’Œè¾“å…¥æ¡†å†…å®¹å‘ç”Ÿæ”¹å˜åæ“ä½œ</li>
<li><code>onsubmit</code> è¡¨å•æäº¤äº‹ä»¶ï¼š å¸¸ç”¨äºè¡¨å•æäº¤å‰ï¼ŒéªŒè¯æ‰€æœ‰è¡¨å•é¡¹æ˜¯å¦åˆæ³•ã€‚</li>
</ul>
<h3 id="æ³¨å†Œç»‘å®šäº‹ä»¶"><a class="markdownIt-Anchor" href="#æ³¨å†Œç»‘å®šäº‹ä»¶"></a> æ³¨å†Œ(ç»‘å®š)äº‹ä»¶</h3>
<blockquote>
<p>äº‹ä»¶çš„æ³¨å†Œå…¶å®å°±æ˜¯å‘Šè¯‰æµè§ˆå™¨ï¼Œå½“äº‹ä»¶å“åº”åè¦æ‰§è¡Œå“ªäº›æ“ä½œä»£ç ï¼Œå«äº‹ä»¶æ³¨å†Œæˆ–äº‹ä»¶ç»‘å®šã€‚</p>
</blockquote>
<ul>
<li>é™æ€æ³¨å†Œäº‹ä»¶</li>
</ul>
<p>é€šè¿‡ <code>html</code> æ ‡ç­¾çš„äº‹ä»¶å±æ€§ç›´æ¥èµ‹äºäº‹ä»¶å“åº”åçš„ä»£ç ï¼Œè¿™ç§æ–¹å¼æˆ‘ä»¬å«é™æ€æ³¨å†Œã€‚</p>
<ul>
<li>åŠ¨æ€æ³¨å†Œäº‹ä»¶</li>
</ul>
<p>æ˜¯æŒ‡å…ˆé€šè¿‡ js ä»£ç å¾—åˆ°æ ‡ç­¾çš„ <code>dom</code> å¯¹è±¡ï¼Œç„¶åå†é€šè¿‡ <code>dom å¯¹è±¡.äº‹ä»¶å = function()&#123;&#125;</code> è¿™ç§å½¢å¼èµ‹äºäº‹ä»¶å“åº”åçš„ä»£ç ï¼Œå«åŠ¨æ€æ³¨å†Œã€‚</p>
<p>åŠ¨æ€æ³¨å†Œçš„åŸºæœ¬æ­¥éª¤ï¼š</p>
<ol>
<li>è·å–æ ‡ç­¾å¯¹è±¡</li>
<li>æ ‡ç­¾å¯¹è±¡.æ—¶é—´å = function(){}</li>
</ol>
<h3 id="onloadåŠ è½½å®Œæˆäº‹ä»¶"><a class="markdownIt-Anchor" href="#onloadåŠ è½½å®Œæˆäº‹ä»¶"></a> <code>onload</code>åŠ è½½å®Œæˆäº‹ä»¶</h3>
<p><code>onload</code>äº‹ä»¶æ˜¯æµè§ˆå™¨è§£æå®Œé¡µé¢ä¹‹åå°±ä¼šè‡ªåŠ¨è§¦å‘çš„äº‹ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// onloadäº‹ä»¶åŠ¨æ€æ³¨å†Œã€‚æ˜¯å›ºå®šå†™æ³•</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;åŠ¨æ€æ³¨å†Œçš„onloadäº‹ä»¶&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="onclickå•å‡»äº‹ä»¶"><a class="markdownIt-Anchor" href="#onclickå•å‡»äº‹ä»¶"></a> <code>onclick</code>å•å‡»äº‹ä»¶</h3>
<p><code>onclick</code>å•å‡»äº‹ä»¶å¸¸ç”¨äºæŒ‰é’®</p>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">onclickFun</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;é™æ€æ³¨å†Œonclickäº‹ä»¶&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// åŠ¨æ€æ³¨å†Œonclickäº‹ä»¶</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 1 è·å–æ ‡ç­¾å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            * document æ˜¯JavaScriptè¯­è¨€æä¾›çš„ä¸€ä¸ªå¯¹è±¡ï¼ˆæ–‡æ¡£ï¼‰&lt;br/&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            * get           è·å–</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            * Element       å…ƒç´ ï¼ˆå°±æ˜¯æ ‡ç­¾ï¼‰</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            * By            é€šè¿‡ã€‚ã€‚   ç”±ã€‚ã€‚ç»ã€‚ã€‚ã€‚</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            * Id            idå±æ€§</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            *</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            * getElementByIdé€šè¿‡idå±æ€§è·å–æ ‡ç­¾å¯¹è±¡</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            **/</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btnObj = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn01&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// alert( btnObj );</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 2 é€šè¿‡æ ‡ç­¾å¯¹è±¡.äº‹ä»¶å = function()&#123;&#125;</span></span></span><br><span class="line"><span class="language-javascript">            btnObj.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;åŠ¨æ€æ³¨å†Œçš„onclickäº‹ä»¶&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é™æ€æ³¨å†ŒonClickäº‹ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;onclickFun();&quot;</span>&gt;</span>æŒ‰é’®1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn01&quot;</span>&gt;</span>æŒ‰é’®2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="onblurå¤±å»ç„¦ç‚¹äº‹ä»¶"><a class="markdownIt-Anchor" href="#onblurå¤±å»ç„¦ç‚¹äº‹ä»¶"></a> <code>onblur</code>å¤±å»ç„¦ç‚¹äº‹ä»¶</h3>
<p><code>onblur</code>å¤±å»ç„¦ç‚¹äº‹ä»¶å¸¸ç”¨äºè¾“å…¥æ¡†ã€‚</p>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// é™æ€æ³¨å†Œå¤±å»ç„¦ç‚¹äº‹ä»¶</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">onblurFun</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// consoleæ˜¯æ§åˆ¶å°å¯¹è±¡ï¼Œæ˜¯ç”±JavaScriptè¯­è¨€æä¾›ï¼Œä¸“é—¨ç”¨æ¥å‘æµè§ˆå™¨çš„æ§åˆ¶å™¨æ‰“å°è¾“å‡ºï¼Œ ç”¨äºæµ‹è¯•ä½¿ç”¨</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// log() æ˜¯æ‰“å°çš„æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é™æ€æ³¨å†Œå¤±å»ç„¦ç‚¹äº‹ä»¶&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// åŠ¨æ€æ³¨å†Œ onbluräº‹ä»¶</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//1 è·å–æ ‡ç­¾å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> passwordObj = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">           <span class="comment">// alert(passwordObj);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//2 é€šè¿‡æ ‡ç­¾å¯¹è±¡.äº‹ä»¶å = function()&#123;&#125;;</span></span></span><br><span class="line"><span class="language-javascript">            passwordObj.<span class="property">onblur</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åŠ¨æ€æ³¨å†Œå¤±å»ç„¦ç‚¹äº‹ä»¶&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é™æ€æ³¨å†Œonbluräº‹ä»¶ --&gt;</span></span><br><span class="line">    ç”¨æˆ·å:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">onblur</span>=<span class="string">&quot;onblurFun();&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    å¯†ç :<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> &gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="onchangeå†…å®¹å‘ç”Ÿæ”¹å˜äº‹ä»¶"><a class="markdownIt-Anchor" href="#onchangeå†…å®¹å‘ç”Ÿæ”¹å˜äº‹ä»¶"></a> <code>onchange</code>å†…å®¹å‘ç”Ÿæ”¹å˜äº‹ä»¶</h3>
<p><code>onchange</code>å†…å®¹å‘ç”Ÿæ”¹å˜äº‹ä»¶ é€šå¸¸ç”¨äºä¸‹æ‹‰åˆ—è¡¨ä¸­ã€‚</p>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">onchangeFun</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;å¥³ç¥å·²ç»æ”¹å˜äº†&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//1 è·å–æ ‡ç­¾å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> selObj = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sel01&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// alert( selObj );</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//2 é€šè¿‡æ ‡ç­¾å¯¹è±¡.äº‹ä»¶å = function()&#123;&#125;</span></span></span><br><span class="line"><span class="language-javascript">            selObj.<span class="property">onchange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;ç”·ç¥å·²ç»æ”¹å˜äº†&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    è¯·é€‰æ‹©ä½ å¿ƒä¸­çš„å¥³ç¥ï¼š</span><br><span class="line">    <span class="comment">&lt;!--é™æ€æ³¨å†Œonchangeäº‹ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">onchange</span>=<span class="string">&quot;onchangeFun();&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>--å¥³ç¥--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>èŠ³èŠ³<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>ä½³ä½³<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>å¨˜å¨˜<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    è¯·é€‰æ‹©ä½ å¿ƒä¸­çš„ç”·ç¥ï¼š</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;sel01&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>--ç”·ç¥--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>å›½å“¥<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>åä»”<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>å¯ŒåŸ<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="onsubmitè¡¨å•æäº¤äº‹ä»¶"><a class="markdownIt-Anchor" href="#onsubmitè¡¨å•æäº¤äº‹ä»¶"></a> <code>onsubmit</code>è¡¨å•æäº¤äº‹ä»¶</h3>
<p><code>onsubmit</code>è¡¨å•æäº¤äº‹ä»¶ æ˜¯ä¸ºäº†åœ¨æäº¤æ—¶éªŒè¯è¡¨å•ä¸­çš„å†…å®¹æ˜¯å¦åˆæ³•</p>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// é™æ€æ³¨å†Œè¡¨å•æäº¤äº‹åŠ¡</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">onsubmitFun</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// è¦éªŒè¯æ‰€æœ‰è¡¨å•é¡¹æ˜¯å¦åˆæ³•ï¼Œå¦‚æœï¼Œæœ‰ä¸€ä¸ªä¸åˆæ³•å°±é˜»æ­¢è¡¨å•æäº¤</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;é™æ€æ³¨å†Œè¡¨å•æäº¤äº‹ä»¶----å‘ç°ä¸åˆæ³•&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// é˜»æ­¢è¡¨å•æäº¤</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//1 è·å–æ ‡ç­¾å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> formObj = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;form01&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//2 é€šè¿‡æ ‡ç­¾å¯¹è±¡.äº‹ä»¶å = function()&#123;&#125;</span></span></span><br><span class="line"><span class="language-javascript">            formObj.<span class="property">onsubmit</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// è¦éªŒè¯æ‰€æœ‰è¡¨å•é¡¹æ˜¯å¦åˆæ³•ï¼Œå¦‚æœï¼Œæœ‰ä¸€ä¸ªä¸åˆæ³•å°±é˜»æ­¢è¡¨å•æäº¤</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;åŠ¨æ€æ³¨å†Œè¡¨å•æäº¤äº‹ä»¶----å‘ç°ä¸åˆæ³•&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--return false å¯ä»¥é˜»æ­¢ è¡¨å•æäº¤ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://localhost:8080&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span> <span class="attr">onsubmit</span>=<span class="string">&quot;return onsubmitFun();&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é™æ€æ³¨å†Œ&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://localhost:8080&quot;</span> <span class="attr">id</span>=<span class="string">&quot;form01&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;åŠ¨æ€æ³¨å†Œ&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="domæ¨¡å‹"><a class="markdownIt-Anchor" href="#domæ¨¡å‹"></a> DOMæ¨¡å‹</h2>
<blockquote>
<p>DOM å…¨ç§°æ˜¯ Document Object Model æ–‡æ¡£å¯¹è±¡æ¨¡å‹</p>
<p>å¤§ç™½è¯ï¼Œå°±æ˜¯æŠŠæ–‡æ¡£ä¸­çš„æ ‡ç­¾ï¼Œå±æ€§ï¼Œæ–‡æœ¬ï¼Œè½¬æ¢æˆä¸ºå¯¹è±¡æ¥ç®¡ç†ã€‚</p>
</blockquote>
<h3 id="documentå¯¹è±¡"><a class="markdownIt-Anchor" href="#documentå¯¹è±¡"></a> Documentå¯¹è±¡</h3>
<p><img src="/img/Java/05JavaWeb/image-20220925160851563.png" alt="image-20220925160851563" /></p>
<p><strong>Document å¯¹è±¡çš„ç†è§£</strong>ï¼š</p>
<ul>
<li>Document å®ƒç®¡ç†äº†æ‰€æœ‰çš„ HTML æ–‡æ¡£å†…å®¹ã€‚</li>
<li>document å®ƒæ˜¯ä¸€ç§æ ‘ç»“æ„çš„æ–‡æ¡£ã€‚æœ‰å±‚çº§å…³ç³»ã€‚</li>
<li>å®ƒè®©æˆ‘ä»¬æŠŠæ‰€æœ‰çš„æ ‡ç­¾éƒ½å¯¹è±¡åŒ–ã€‚</li>
<li>æˆ‘ä»¬å¯ä»¥é€šè¿‡ document è®¿é—®æ‰€æœ‰çš„æ ‡ç­¾å¯¹è±¡ã€‚</li>
</ul>
<h3 id="documentå¯¹è±¡ä¸­çš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#documentå¯¹è±¡ä¸­çš„æ–¹æ³•"></a> Documentå¯¹è±¡ä¸­çš„æ–¹æ³•</h3>
<ul>
<li><code>document.getElementById(elementId)</code>é€šè¿‡æ ‡ç­¾çš„ id å±æ€§æŸ¥æ‰¾æ ‡ç­¾ dom å¯¹è±¡ï¼ŒelementId æ˜¯æ ‡ç­¾çš„ id å±æ€§å€¼</li>
<li><code>document.getElementsByName(elementName)</code> é€šè¿‡æ ‡ç­¾çš„ name å±æ€§æŸ¥æ‰¾æ ‡ç­¾ dom å¯¹è±¡ï¼ŒelementName æ ‡ç­¾çš„ name å±æ€§å€¼</li>
<li><code>document.getElementsByTagName(tagname)</code> é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾æ ‡ç­¾ dom å¯¹è±¡ã€‚tagname æ˜¯æ ‡ç­¾å</li>
<li><code>document.createElement( tagName)</code> é€šè¿‡ç»™å®šçš„æ ‡ç­¾åï¼Œåˆ›å»ºä¸€ä¸ªæ ‡ç­¾å¯¹è±¡ã€‚tagName æ˜¯è¦åˆ›å»ºçš„æ ‡ç­¾å</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼š<code>document</code> å¯¹è±¡çš„ä¸‰ä¸ªæŸ¥è¯¢æ–¹æ³•ï¼Œå¦‚æœæœ‰ id å±æ€§ï¼Œä¼˜å…ˆä½¿ç”¨ <code>getElementById</code> æ–¹æ³•æ¥è¿›è¡ŒæŸ¥è¯¢å¦‚æœæ²¡æœ‰ id å±æ€§ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨ <code>getElementsByName</code> æ–¹æ³•æ¥è¿›è¡ŒæŸ¥è¯¢å¦‚æœidå±æ€§å’Œnameå±æ€§éƒ½æ²¡æœ‰æœ€åå†æŒ‰æ ‡ç­¾åæŸ¥ <code>getElementsByTagName</code></p>
<h2 id="èŠ‚ç‚¹çš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³•"><a class="markdownIt-Anchor" href="#èŠ‚ç‚¹çš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³•"></a> èŠ‚ç‚¹çš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³•</h2>
<p>èŠ‚ç‚¹å°±æ˜¯æ ‡ç­¾å¯¹è±¡</p>
<p><strong>æ–¹æ³•</strong></p>
<ul>
<li><code>getElementsByTagName()</code>è·å–å½“å‰èŠ‚ç‚¹çš„æŒ‡å®šæ ‡ç­¾åå­©å­èŠ‚ç‚¹</li>
<li><code>appendChild(oChildNode)</code> å¯ä»¥æ·»åŠ ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œ<code>oChildNode</code>æ˜¯è¦æ·»åŠ çš„å­©å­èŠ‚ç‚¹ã€‚</li>
</ul>
<p><strong>å±æ€§</strong></p>
<ul>
<li><code>childNodes</code>å±æ€§ï¼Œè·å–å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹</li>
<li><code>firstChild</code>å±æ€§ï¼Œè·å–å½“å‰èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹</li>
<li><code>lastChild</code>å±æ€§ï¼Œè·å–å½“å‰èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹</li>
<li><code>parentNode</code>å±æ€§ï¼Œè·å–å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</li>
<li><code>nextSibling</code>å±æ€§ï¼Œè·å–å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li>
<li><code>previousSibling</code>å±æ€§ï¼Œè·å–å½“å‰èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹</li>
<li><code>className</code>ç”¨äºè·å–æˆ–è®¾ç½®æ ‡ç­¾çš„ class å±æ€§å€¼</li>
<li><code>innerHTML</code>å±æ€§ï¼Œè¡¨ç¤ºè·å–/è®¾ç½®èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ä¸­çš„å†…å®¹</li>
<li><code>innerText</code>å±æ€§ï¼Œè¡¨ç¤ºè·å–/è®¾ç½®èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ä¸­çš„æ–‡æœ¬</li>
</ul>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#æ­£åˆ™è¡¨è¾¾å¼"></a> æ­£åˆ™è¡¨è¾¾å¼</h2>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> å˜é‡å = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;å­—ç¬¦ä¸²&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> å˜é‡å = <span class="regexp">/å­—ç¬¦ä¸²/</span>;</span><br><span class="line"></span><br><span class="line"><span class="regexp">/[]/</span>; <span class="comment">// æˆ–</span></span><br><span class="line"><span class="regexp">/[a-z]/</span>  <span class="comment">// ä»»æ„a~z</span></span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚å­—ç¬¦ä¸²ä¸­ï¼Œæ˜¯å¦åŒ…å«å­—æ¯e</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;e&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/e/</span>; <span class="comment">// ä¹Ÿæ˜¯æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</span></span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚å­—ç¬¦ä¸²ä¸­ï¼Œæ˜¯å¦åŒ…å«å­—æ¯aæˆ–bæˆ–c</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/[abc]/</span>;</span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚å­—ç¬¦ä¸²ï¼Œæ˜¯å¦åŒ…å«å°å†™å­—æ¯</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/[a-z]/</span>;</span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚å­—ç¬¦ä¸²ï¼Œæ˜¯å¦åŒ…å«ä»»æ„å¤§å†™å­—æ¯</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/[A-Z]/</span>;</span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚å­—ç¬¦ä¸²ï¼Œæ˜¯å¦åŒ…å«ä»»æ„æ•°å­—</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/[0-9]/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚å­—ç¬¦ä¸²ï¼Œæ˜¯å¦åŒ…å«å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/\w/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚ å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«è‡³å°‘ä¸€ä¸ªa</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/a+/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚ å­—ç¬¦ä¸²ä¸­æ˜¯å¦ *åŒ…å«* é›¶ä¸ª æˆ– å¤šä¸ªa</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/a*/</span>;</span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚ å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«ä¸€ä¸ªæˆ–é›¶ä¸ªa</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/a?/</span>;</span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚ å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«è¿ç»­ä¸‰ä¸ªa</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/a&#123;3&#125;/</span>;</span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚ å­—ç¬¦ä¸²æ˜¯å¦åŒ… è‡³å°‘3ä¸ªè¿ç»­çš„aï¼Œæœ€å¤š5ä¸ªè¿ç»­çš„a</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/a&#123;3,5&#125;/</span>;</span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚ å­—ç¬¦ä¸²æ˜¯å¦åŒ… è‡³å°‘3ä¸ªè¿ç»­çš„aï¼Œ</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/a&#123;3,&#125;/</span>;</span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚ å­—ç¬¦ä¸²å¿…é¡»ä»¥aç»“å°¾</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/a$/</span>;</span><br><span class="line"><span class="comment">// è¡¨ç¤ºè¦æ±‚ å­—ç¬¦ä¸²å¿…é¡»ä»¥aæ‰“å¤´</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/^a/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦æ±‚å­—ç¬¦ä¸²ä¸­æ˜¯å¦*åŒ…å«* è‡³å°‘3ä¸ªè¿ç»­çš„a</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/a&#123;3,5&#125;/</span>;</span><br><span class="line"><span class="comment">// è¦æ±‚å­—ç¬¦ä¸²ï¼Œä»å¤´åˆ°å°¾éƒ½å¿…é¡»å®Œå…¨åŒ¹é…</span></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/^a&#123;3,5&#125;$/</span>;</span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/^\w&#123;5,12&#125;$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;wzg168[[[&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( patt.<span class="title function_">test</span>(str) );</span><br></pre></td></tr></table></figure>
<h1 id="jquery"><a class="markdownIt-Anchor" href="#jquery"></a> jQuery</h1>
<h2 id="jqueryä»‹ç»"><a class="markdownIt-Anchor" href="#jqueryä»‹ç»"></a> jQueryä»‹ç»</h2>
<blockquote>
<p>jQueryæ˜¯JavaScriptå’ŒæŸ¥è¯¢ï¼ˆQueryï¼‰ï¼Œä»–æ˜¯è¾…åŠ©JavaScriptå¼€å‘çš„jsç±»åº“ã€‚</p>
</blockquote>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong> ï¼šå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ write less,do more(å†™å¾—æ›´å°‘,åšå¾—æ›´å¤š)ï¼Œæ‰€ä»¥å®ƒå®ç°äº†å¾ˆå¤šæµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šjQuery æ˜¯å…è´¹ã€å¼€æºçš„ï¼ŒjQuery çš„è¯­æ³•è®¾è®¡å¯ä»¥ä½¿å¼€å‘æ›´åŠ ä¾¿æ·ï¼Œä¾‹å¦‚æ“ä½œ<a href="http://baike.baidu.com/view/55621.htm">æ–‡æ¡£</a>å¯¹è±¡ã€é€‰æ‹© <a href="http://baike.baidu.com/view/14806.htm">DOM </a>å…ƒç´ ã€åˆ¶ä½œåŠ¨ç”»æ•ˆæœã€äº‹ä»¶å¤„ç†ã€ä½¿ç”¨ <a href="http://baike.baidu.com/view/1641.htm">Ajax </a>ä»¥åŠå…¶ä»–åŠŸèƒ½</p>
<p><strong>æ³¨æ„</strong>ï¼šä½¿ç”¨jQueryä¸€å®šè¦å¼•ç”¨jQueryåº“ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨jQueryç»™ä¸€ä¸ªæŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Insert title here<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	<span class="comment">//ä½¿ç”¨$()ä»£æ›¿window.onload</span></span></span><br><span class="line"><span class="language-javascript">	$(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">		<span class="comment">//ä½¿ç”¨é€‰æ‹©å™¨è·å–æŒ‰é’®å¯¹è±¡ï¼Œéšåç»‘å®šå•å‡»å“åº”å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript">		$(<span class="string">&quot;#btnId&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="comment">//å¼¹å‡ºHello</span></span></span><br><span class="line"><span class="language-javascript">			<span class="title function_">alert</span>(<span class="string">&#x27;Hello&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">		&#125;);</span></span><br><span class="line"><span class="language-javascript">	&#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btnId&quot;</span>&gt;</span>SayHello<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="jqueryæ ¸å¿ƒå‡½æ•°"><a class="markdownIt-Anchor" href="#jqueryæ ¸å¿ƒå‡½æ•°"></a> jQueryæ ¸å¿ƒå‡½æ•°</h2>
<p><code>$</code>æ˜¯jQuery çš„ <strong>æ ¸å¿ƒå‡½æ•°</strong>ï¼Œèƒ½å®ŒæˆjQuery çš„å¾ˆå¤šåŠŸèƒ½ã€‚<code>$()</code>å°±æ˜¯è°ƒç”¨<code>$</code>è¿™ä¸ªå‡½æ•°</p>
<ul>
<li>ä¼ å…¥å‚æ•°ä¸ºã€å‡½æ•°ã€‘æ—¶ã€‚è¡¨ç¤ºé¡µé¢åŠ è½½å®Œæˆä¹‹åï¼Œç›¸å½“äº<code>window.onload = function()&#123;&#125;</code></li>
<li>ä¼ å…¥å‚æ•°ä¸ºã€HTMLå­—ç¬¦ä¸²ã€‘æ—¶ã€‚ä¼šå¯¹æˆ‘ä»¬åˆ›å»ºè¿™ä¸ª html æ ‡ç­¾å¯¹è±¡</li>
<li>ä¼ å…¥å‚æ•°ä¸ºã€é€‰æ‹©å™¨å­—ç¬¦ä¸²ã€‘æ—¶ï¼š
<ul>
<li><code>$(&quot;#idå±æ€§å€¼&quot;)</code> idé€‰æ‹©å™¨ï¼Œæ ¹æ®idæŸ¥è¯¢æ ‡ç­¾å¯¹è±¡</li>
<li><code>$(&quot;.classå±æ€§å€¼&quot;)</code> classé€‰æ‹©å™¨ï¼Œæ ¹æ®classå±æ€§æŸ¥è¯¢æ ‡ç­¾å¯¹è±¡</li>
<li><code>$(&quot;æ ‡ç­¾å&quot;)</code> æ ‡ç­¾åé€‰æ‹©å™¨ï¼Œæ ¹æ®æ ‡ç­¾åæŸ¥è¯¢æ ‡ç­¾å¯¹è±¡</li>
</ul>
</li>
<li>ä¼ å…¥å‚æ•°ä¸ºã€DOM å¯¹è±¡ã€‘æ—¶ï¼šä¼šæŠŠè¿™ä¸ªdomå¯¹è±¡è½¬æ¢ä¸ºjQueryå¯¹è±¡</li>
</ul>
<h2 id="jqueryå¯¹è±¡å’Œdomå¯¹è±¡çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#jqueryå¯¹è±¡å’Œdomå¯¹è±¡çš„åŒºåˆ«"></a> jQueryå¯¹è±¡å’ŒDOMå¯¹è±¡çš„åŒºåˆ«</h2>
<p><strong>DOMå¯¹è±¡</strong></p>
<ul>
<li>é€šè¿‡ <code>getElementById()</code>æŸ¥è¯¢å‡ºæ¥çš„æ ‡ç­¾å¯¹è±¡æ˜¯ Dom å¯¹è±¡</li>
<li>é€šè¿‡ <code>getElementsByName()</code>æŸ¥è¯¢å‡ºæ¥çš„æ ‡ç­¾å¯¹è±¡æ˜¯ Dom å¯¹è±¡</li>
<li>é€šè¿‡ <code>getElementsByTagName()</code>æŸ¥è¯¢å‡ºæ¥çš„æ ‡ç­¾å¯¹è±¡æ˜¯ Dom å¯¹è±¡</li>
<li>é€šè¿‡ <code>createElement()</code> æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡ï¼Œæ˜¯ Dom å¯¹è±¡</li>
</ul>
<p>DOMå¯¹è±¡<code>Alert</code>å‡ºæ¥çš„æ•ˆæœæ˜¯ï¼š<code>[object HTML æ ‡ç­¾åElement]</code></p>
<p><strong>jQueryå¯¹è±¡</strong></p>
<ul>
<li>é€šè¿‡ JQuery æä¾›çš„ API åˆ›å»ºçš„å¯¹è±¡ï¼Œæ˜¯ JQuery å¯¹è±¡</li>
<li>é€šè¿‡ JQuery åŒ…è£…çš„ Dom å¯¹è±¡ï¼Œä¹Ÿæ˜¯ JQuery å¯¹è±¡</li>
<li>é€šè¿‡ JQuery æä¾›çš„ API æŸ¥è¯¢åˆ°çš„å¯¹è±¡ï¼Œæ˜¯ JQuery å¯¹è±¡</li>
</ul>
<p>jQueryå¯¹è±¡<code>Alert</code>å‡ºæ¥çš„æ•ˆæœæ˜¯ï¼š[object Object]</p>
<h2 id="jqueryå¯¹è±¡çš„æœ¬è´¨"><a class="markdownIt-Anchor" href="#jqueryå¯¹è±¡çš„æœ¬è´¨"></a> jQueryå¯¹è±¡çš„æœ¬è´¨</h2>
<p>jQueryå¯¹è±¡æ˜¯ domå¯¹è±¡çš„æ•°ç»„ + jQuery æä¾›çš„ä¸€ç³»åˆ—åŠŸèƒ½å‡½æ•°ã€‚</p>
<h2 id="jqueryå¯¹è±¡å’Œdomå¯¹è±¡çš„ä½¿ç”¨åŒºåˆ«"><a class="markdownIt-Anchor" href="#jqueryå¯¹è±¡å’Œdomå¯¹è±¡çš„ä½¿ç”¨åŒºåˆ«"></a> jQueryå¯¹è±¡å’ŒDOMå¯¹è±¡çš„ä½¿ç”¨åŒºåˆ«</h2>
<ul>
<li>jQuery å¯¹è±¡ä¸èƒ½ä½¿ç”¨ DOM å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</li>
<li>DOM å¯¹è±¡ä¹Ÿä¸èƒ½ä½¿ç”¨ jQuery å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</li>
</ul>
<h2 id="jqueryå¯¹è±¡å’Œdomå¯¹è±¡äº’è½¬"><a class="markdownIt-Anchor" href="#jqueryå¯¹è±¡å’Œdomå¯¹è±¡äº’è½¬"></a> jQueryå¯¹è±¡å’ŒDOMå¯¹è±¡äº’è½¬â­</h2>
<p>DOMå¯¹è±¡è½¬ä¸º jQuery å¯¹è±¡</p>
<ul>
<li>ç°æœ‰DOMå¯¹è±¡</li>
<li><code>$(DOMå¯¹è±¡)</code>å°±å¯ä»¥è½¬æ¢æˆ jQueryå¯¹è±¡</li>
</ul>
<p>jQuery å¯¹è±¡è½¬ä¸º DOMå¯¹è±¡</p>
<ul>
<li>å…ˆæœ‰ jQueryå¯¹è±¡</li>
<li><code>jQueryå¯¹è±¡[ä¸‹æ ‡]</code>å–å‡ºç›¸åº”çš„DOMå¯¹è±¡ã€‚</li>
</ul>
<p><img src="/img/Java/05JavaWeb/image-20220925211944707.png" alt="image-20220925211944707" /></p>
<h2 id="jqueryé€‰æ‹©å™¨"><a class="markdownIt-Anchor" href="#jqueryé€‰æ‹©å™¨"></a> jQueryé€‰æ‹©å™¨â­â­â­</h2>
<h3 id="åŸºæœ¬é€‰æ‹©å™¨"><a class="markdownIt-Anchor" href="#åŸºæœ¬é€‰æ‹©å™¨"></a> åŸºæœ¬é€‰æ‹©å™¨</h3>
<ul>
<li><code>#id</code> æ ¹æ®idæŸ¥æ‰¾æ ‡ç­¾å¯¹è±¡</li>
<li><code>.class</code> æ ¹æ®classæŸ¥æ‰¾æ ‡ç­¾å¯¹è±¡</li>
<li><code>element</code> æ ¹æ®æ ‡ç­¾åæŸ¥æ‰¾æ ‡ç­¾å¯¹è±¡</li>
<li><code>*</code> è¡¨ç¤ºä»»æ„çš„ï¼Œæ‰€æœ‰é€‰æ‹©å™¨</li>
<li><code>selector1,selector2</code>ç»„åˆé€‰æ‹©å™¨ï¼šåˆå¹¶é€‰æ‹©å™¨1ï¼Œé€‰æ‹©å™¨2çš„ç»“æœå¹¶è¿”å›</li>
</ul>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;#one&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bbffaa&quot;</span>); <span class="comment">// css() æ–¹æ³• å¯ä»¥è®¾ç½®å’Œè·å–æ ·å¼</span></span><br><span class="line">$(<span class="string">&quot;.mini&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bbffaa&quot;</span>); <span class="comment">//2.é€‰æ‹© class ä¸º mini çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">$(<span class="string">&quot;div&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bbffaa&quot;</span>); <span class="comment">//3.é€‰æ‹© å…ƒç´ åæ˜¯ div çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">$(<span class="string">&quot;*&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bbffaa&quot;</span>); <span class="comment">//4.é€‰æ‹©æ‰€æœ‰çš„å…ƒç´ </span></span><br><span class="line">$(<span class="string">&quot;span,#two&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bbffaa&quot;</span>); <span class="comment">//5.é€‰æ‹©æ‰€æœ‰çš„ span å…ƒç´ å’Œidä¸ºtwoçš„å…ƒç´ </span></span><br></pre></td></tr></table></figure>
<h3 id="å±‚çº§é€‰æ‹©å™¨"><a class="markdownIt-Anchor" href="#å±‚çº§é€‰æ‹©å™¨"></a> å±‚çº§é€‰æ‹©å™¨</h3>
<ul>
<li><code>ancestor descendant</code>åä»£é€‰æ‹©å™¨ï¼šåœ¨ç»™å®šçš„ç¥–å…ˆå…ƒç´ ä¸‹åŒ¹é…<strong>æ‰€æœ‰çš„åä»£å…ƒç´ </strong></li>
<li><code>parent &gt; child</code>å­å…ƒç´ é€‰æ‹©å™¨ï¼šåœ¨ç»™å®šçš„çˆ¶å…ƒç´ ä¸‹åŒ¹é…<strong>æ‰€æœ‰çš„å­å…ƒç´ </strong></li>
<li><code>prev + next</code>ç›¸é‚»å…ƒç´ é€‰æ‹©å™¨ï¼šåŒ¹é…æ‰€æœ‰<strong>ç´§æ¥åœ¨</strong> prev å…ƒç´ åçš„ next å…ƒç´ </li>
<li><code>prev ~ sibings</code>ä¹‹åçš„å…„å¼Ÿå…ƒç´ é€‰æ‹©å™¨ï¼šåŒ¹é… prev å…ƒç´ <strong>ä¹‹åçš„æ‰€æœ‰</strong> siblings å…ƒç´ </li>
</ul>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.é€‰æ‹© body å†…çš„æ‰€æœ‰ div å…ƒç´ </span></span><br><span class="line">$(<span class="string">&quot;body div&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>, <span class="string">&quot;#bbffaa&quot;</span>);</span><br><span class="line"><span class="comment">// 2.åœ¨ body å†…, é€‰æ‹©divå­å…ƒç´   </span></span><br><span class="line">$(<span class="string">&quot;body &gt; div&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>, <span class="string">&quot;#bbffaa&quot;</span>);</span><br><span class="line"><span class="comment">// 3.é€‰æ‹© id ä¸º one çš„ä¸‹ä¸€ä¸ª div å…ƒç´  </span></span><br><span class="line">$(<span class="string">&quot;#one + div&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>, <span class="string">&quot;#bbffaa&quot;</span>);</span><br><span class="line"><span class="comment">// 4.é€‰æ‹© id ä¸º two çš„å…ƒç´ åé¢çš„æ‰€æœ‰ div å…„å¼Ÿå…ƒç´ </span></span><br><span class="line">$(<span class="string">&quot;#two ~ div&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>, <span class="string">&quot;#bbffaa&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="è¿‡æ»¤é€‰æ‹©å™¨"><a class="markdownIt-Anchor" href="#è¿‡æ»¤é€‰æ‹©å™¨"></a> è¿‡æ»¤é€‰æ‹©å™¨</h3>
<h4 id="åŸºæœ¬è¿‡æ»¤"><a class="markdownIt-Anchor" href="#åŸºæœ¬è¿‡æ»¤"></a> åŸºæœ¬è¿‡æ»¤</h4>
<ul>
<li><code>:first</code> è·å–ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li><code>:last</code> è·å–æœ€åä¸€ä¸ªå…ƒç´ </li>
<li><code>:not(selector)</code> å»é™¤æ‰€æœ‰ä¸ç»™å®šé€‰æ‹©å™¨åŒ¹é…çš„å…ƒç´ </li>
<li><code>:even</code> åŒ¹é…æ‰€æœ‰ç´¢å¼•å€¼ä¸ºå¶æ•°çš„å…ƒç´ ï¼Œä» 0 å¼€å§‹è®¡æ•°</li>
<li><code>:odd</code> åŒ¹é…æ‰€æœ‰ç´¢å¼•å€¼ä¸ºå¥‡æ•°çš„å…ƒç´ ï¼Œä» 0 å¼€å§‹è®¡æ•°</li>
<li><code>:eq(index)</code> åŒ¹é…ä¸€ä¸ªç»™å®šç´¢å¼•å€¼çš„å…ƒç´ </li>
<li><code>:gt(index)</code> åŒ¹é…æ‰€æœ‰å¤§äºç»™å®šç´¢å¼•å€¼çš„å…ƒç´ </li>
<li><code>:lt(index)</code> åŒ¹é…æ‰€æœ‰å°äºç»™å®šç´¢å¼•å€¼çš„å…ƒç´ </li>
<li><code>:header</code> åŒ¹é…å¦‚ <code>h1</code>, <code>h2</code>, <code>h3</code> ä¹‹ç±»çš„æ ‡é¢˜å…ƒç´ </li>
<li><code>:animated</code> åŒ¹é…æ‰€æœ‰æ­£åœ¨æ‰§è¡ŒåŠ¨ç”»æ•ˆæœçš„å…ƒç´ </li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//11.é€‰æ‹©æ²¡æœ‰æ‰§è¡ŒåŠ¨ç”»çš„æœ€åä¸€ä¸ªdiv</span></span><br><span class="line">$(<span class="string">&quot;div:not(:animated):last&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>, <span class="string">&quot;#bbffaa&quot;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="å†…å®¹è¿‡æ»¤å™¨"><a class="markdownIt-Anchor" href="#å†…å®¹è¿‡æ»¤å™¨"></a> å†…å®¹è¿‡æ»¤å™¨</h4>
<ul>
<li><code>:contains(text)</code> åŒ¹é…åŒ…å«ç»™å®šæ–‡æœ¬çš„å…ƒç´ </li>
<li><code>:empty</code> åŒ¹é…æ‰€æœ‰ä¸åŒ…å«å­å…ƒç´ æˆ–è€…æ–‡æœ¬çš„ç©ºå…ƒç´ </li>
<li><code>:parent</code> åŒ¹é…å«æœ‰å­å…ƒç´ æˆ–è€…æ–‡æœ¬çš„å…ƒç´ </li>
<li><code>has(selector)</code> åŒ¹é…å«æœ‰é€‰æ‹©å™¨æ‰€åŒ¹é…çš„å…ƒç´ çš„å…ƒç´ </li>
</ul>
<h4 id="å±æ€§è¿‡æ»¤å™¨"><a class="markdownIt-Anchor" href="#å±æ€§è¿‡æ»¤å™¨"></a> å±æ€§è¿‡æ»¤å™¨</h4>
<ul>
<li><code>[attribute]</code> ï¼šåŒ¹é…åŒ…å«ç»™å®šå±æ€§çš„å…ƒç´ **ã€‚**</li>
<li><code>[attribute=value]</code> ï¼šåŒ¹é…ç»™å®šçš„å±æ€§æ˜¯æŸä¸ªç‰¹å®šå€¼çš„å…ƒç´ </li>
<li><code>[attribute!=value]</code>ï¼šåŒ¹é…æ‰€æœ‰ä¸å«æœ‰æŒ‡å®šçš„å±æ€§ï¼Œæˆ–è€…å±æ€§ä¸ç­‰äºç‰¹å®šå€¼çš„å…ƒç´ ã€‚</li>
<li><code>[attribute^=value]</code>ï¼šåŒ¹é…ç»™å®šçš„å±æ€§æ˜¯ä»¥æŸäº›å€¼å¼€å§‹çš„å…ƒç´ </li>
<li><code>[attribute$=value]</code>ï¼šåŒ¹é…ç»™å®šçš„å±æ€§æ˜¯ä»¥æŸäº›å€¼ç»“å°¾çš„å…ƒç´ </li>
<li><code>[attribute*=value]</code>ï¼šåŒ¹é…ç»™å®šçš„å±æ€§æ˜¯ä»¥åŒ…å«æŸäº›å€¼çš„å…ƒç´ </li>
<li><code>[attrSel1][attrSel2][attrSelN]</code>ï¼šå¤åˆå±æ€§é€‰æ‹©å™¨ï¼Œéœ€è¦åŒæ—¶æ»¡è¶³å¤šä¸ªæ¡ä»¶æ—¶ä½¿ç”¨ã€‚]</li>
</ul>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é€‰å– å±æ€§titleå€¼ç­‰äº&#x27;test&#x27;çš„divå…ƒç´ </span></span><br><span class="line">$(<span class="string">&quot;div[title=&#x27;test&#x27;]&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>, <span class="string">&quot;#bbffaa&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¦–å…ˆé€‰å–æœ‰å±æ€§idçš„divå…ƒç´ ï¼Œç„¶ååœ¨ç»“æœä¸­ é€‰å–å±æ€§titleå€¼ å«æœ‰&#x27;es&#x27;çš„ div å…ƒç´ </span></span><br><span class="line">$(<span class="string">&quot;div[id][title*=&#x27;es&#x27;]&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>, <span class="string">&quot;#bbffaa&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€‰å– å«æœ‰ title å±æ€§å€¼, ä¸”title å±æ€§å€¼ä¸ç­‰äº test çš„ div å…ƒç´ </span></span><br><span class="line">$(<span class="string">&quot;div[title][title!=&#x27;test&#x27;]&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>, <span class="string">&quot;#bbffaa&quot;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="è¡¨å•è¿‡æ»¤å™¨"><a class="markdownIt-Anchor" href="#è¡¨å•è¿‡æ»¤å™¨"></a> è¡¨å•è¿‡æ»¤å™¨</h4>
<ul>
<li><code>:input</code>ï¼šåŒ¹é…æ‰€æœ‰ input, textarea, select å’Œ button å…ƒç´ </li>
<li><code>:text</code>ï¼šåŒ¹é…æ‰€æœ‰ æ–‡æœ¬è¾“å…¥æ¡†</li>
<li><code>:password</code>ï¼šåŒ¹é…æ‰€æœ‰çš„å¯†ç è¾“å…¥æ¡†</li>
<li><code>:radio</code>ï¼šåŒ¹é…æ‰€æœ‰çš„å•é€‰æ¡†</li>
<li><code>:checkbox</code>ï¼šåŒ¹é…æ‰€æœ‰çš„å¤é€‰æ¡†</li>
<li><code>:submit</code>ï¼šåŒ¹é…æ‰€æœ‰æäº¤æŒ‰é’®</li>
<li><code>:image</code>ï¼šåŒ¹é…æ‰€æœ‰ img æ ‡ç­¾</li>
<li><code>:reset</code>ï¼šåŒ¹é…æ‰€æœ‰é‡ç½®æŒ‰é’®</li>
<li><code>:button</code>ï¼š åŒ¹é…æ‰€æœ‰ input type=button <button>æŒ‰é’®</li>
<li><code>:file</code>ï¼š åŒ¹é…æ‰€æœ‰ input type=file æ–‡ä»¶ä¸Šä¼ </li>
<li><code>:hidden</code>ï¼šåŒ¹é…æ‰€æœ‰ä¸å¯è§å…ƒç´  display:none æˆ– input type=hidden</li>
</ul>
<h4 id="è¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤å™¨"><a class="markdownIt-Anchor" href="#è¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤å™¨"></a> è¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤å™¨</h4>
<ul>
<li><code>:enabled</code>ï¼šåŒ¹é…æ‰€æœ‰å¯ç”¨å…ƒç´ </li>
<li><code>:disabled</code>ï¼šåŒ¹é…æ‰€æœ‰ä¸å¯ç”¨å…ƒç´ </li>
<li><code>:checked</code>ï¼šåŒ¹é…æ‰€æœ‰é€‰ä¸­çš„å•é€‰ï¼Œå¤é€‰ï¼Œå’Œä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰ä¸­çš„optionæ ‡ç­¾å¯¹è±¡</li>
<li><code>:selected</code>ï¼šåŒ¹é…æ‰€æœ‰é€‰ä¸­çš„option</li>
</ul>
<h2 id="jqueryå…ƒç´ ç­›é€‰"><a class="markdownIt-Anchor" href="#jqueryå…ƒç´ ç­›é€‰"></a> jQueryå…ƒç´ ç­›é€‰</h2>
<ul>
<li><code>eq(index)</code>è·å–ç»™å®šç´¢å¼•çš„å…ƒç´ ï¼Œå’Œ<code>:eq(index)</code>æ•ˆæœç›¸åŒ</li>
<li><code>first()</code>è·å–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå’Œ<code>:first</code>æ•ˆæœç›¸åŒ</li>
<li><code>last()</code>è·å–æœ€åä¸€ä¸ªå…ƒç´ </li>
<li><code>filter(exp)</code>ç•™ä¸‹åŒ¹é…çš„å…ƒç´ </li>
<li><code>is(exp)</code> åˆ¤æ–­æ˜¯å¦åŒ¹é…ç»™å®šçš„é€‰æ‹©å™¨ï¼Œåªè¦æœ‰ä¸€ä¸ªåŒ¹é…å°±è¿”å›true</li>
<li><code>has(exp)</code>è¿”å›åŒ…å«æœ‰åŒ¹é…é€‰æ‹©å™¨çš„å…ƒç´ çš„å…ƒç´ ï¼ŒåŠŸèƒ½è·Ÿ :has ä¸€æ ·</li>
<li><code>not(exp)</code>åˆ é™¤åŒ¹é…é€‰æ‹©å™¨çš„å…ƒç´ ï¼ŒåŠŸèƒ½è·Ÿ :not ä¸€æ ·</li>
<li><code>children(exp)</code> è¿”å›åŒ¹é…ç»™å®šé€‰æ‹©å™¨çš„å­å…ƒç´ ï¼ŒåŠŸèƒ½è·Ÿ parent&gt;child ä¸€æ ·</li>
<li><code>find(exp)</code> è¿”å›åŒ¹é…ç»™å®šé€‰æ‹©å™¨çš„åä»£å…ƒç´ ï¼ŒåŠŸèƒ½è·Ÿ ancestor descendant ä¸€æ ·</li>
<li><code>next()</code>è¿”å›å½“å‰å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ ï¼ŒåŠŸèƒ½è·Ÿ prev + next åŠŸèƒ½ä¸€æ ·</li>
<li><code>nextAll()</code>è¿”å›å½“å‰å…ƒç´ åé¢æ‰€æœ‰çš„å…„å¼Ÿå…ƒç´ ï¼ŒåŠŸèƒ½è·Ÿ prev ~ siblings åŠŸèƒ½ä¸€æ ·</li>
<li><code>nextUntil()</code>è¿”å›å½“å‰å…ƒç´ åˆ°æŒ‡å®šåŒ¹é…çš„å…ƒç´ ä¸ºæ­¢çš„åé¢å…ƒç´ </li>
<li><code>parent()</code> è¿”å›çˆ¶å…ƒç´ </li>
<li><code>prev(exp)</code>è¿”å›å½“å‰å…ƒç´ çš„ä¸Šä¸€ä¸ªå…„å¼Ÿå…ƒç´ </li>
<li><code>prevAll()</code>è¿”å›å½“å‰å…ƒç´ å‰é¢æ‰€æœ‰çš„å…„å¼Ÿå…ƒç´ </li>
<li><code>prevUnit(exp)</code> è¿”å›å½“å‰å…ƒç´ åˆ°æŒ‡å®šåŒ¹é…çš„å…ƒç´ ä¸ºæ­¢çš„å‰é¢å…ƒç´ </li>
<li><code>siblings(exp)</code> è¿”å›æ‰€æœ‰å…„å¼Ÿå…ƒç´ </li>
<li><code>add()</code>æŠŠ add åŒ¹é…çš„é€‰æ‹©å™¨çš„å…ƒç´ æ·»åŠ åˆ°å½“å‰ jquery å¯¹è±¡ä¸­</li>
</ul>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;div&quot;</span>).<span class="title function_">eq</span>(<span class="number">3</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bfa&quot;</span>);</span><br><span class="line">$(<span class="string">&quot;div:eq(3)&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bfa&quot;</span>);  <span class="comment">// ä¸¤ç§å†™æ³•æ•ˆæœå®Œå…¨ä¸€æ ·</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//filter()åœ¨divä¸­é€‰æ‹©ç´¢å¼•ä¸ºå¶æ•°çš„</span></span><br><span class="line">$(<span class="string">&quot;div&quot;</span>).<span class="title function_">filter</span>(<span class="string">&quot;:even&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bfa&quot;</span>);</span><br><span class="line"><span class="comment">//siblings()    æ‰¾åˆ°æ‰€æœ‰çš„å…„å¼Ÿå…ƒç´ ï¼ŒåŒ…æ‹¬å‰é¢çš„å’Œåé¢çš„</span></span><br><span class="line">$(<span class="string">&quot;#two&quot;</span>).<span class="title function_">siblings</span>().<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bfa&quot;</span>)</span><br><span class="line"><span class="comment">//   $(&quot;span,#two,.mini,#one&quot;)</span></span><br><span class="line">$(<span class="string">&quot;span&quot;</span>).<span class="title function_">add</span>(<span class="string">&quot;#two&quot;</span>).<span class="title function_">add</span>(<span class="string">&quot;.mini&quot;</span>).<span class="title function_">add</span>(<span class="string">&quot;#one&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;#bfa&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="jqueryçš„å±æ€§æ“ä½œ"><a class="markdownIt-Anchor" href="#jqueryçš„å±æ€§æ“ä½œ"></a> jQueryçš„å±æ€§æ“ä½œ</h2>
<ul>
<li><code>html()</code> å®ƒå¯ä»¥è®¾ç½®å’Œè·å–èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ä¸­çš„å†…å®¹ã€‚å’Œdomå±æ€§ä¸­çš„<code>innerHtml</code>ä¸€æ ·</li>
<li><code>text()</code>ä»–å¯ä»¥è®¾ç½®å’Œè·å–èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ä¸­çš„æ–‡æœ¬ã€‚å’Œdomå±æ€§ä¸­çš„<code>innerText</code>ä¸€æ ·</li>
<li><code>val()</code>å®ƒå¯ä»¥è®¾ç½®å’Œè·å– <strong>è¡¨å•é¡¹</strong> çš„valueå±æ€§å€¼ã€‚å’Œdomå±æ€§<code>value</code>ä¸€æ ·</li>
</ul>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸ä¼ å‚æ•°ï¼Œæ˜¯è·å–ï¼Œä¼ é€’å‚æ•°æ˜¯è®¾ç½®</span></span><br><span class="line"><span class="title function_">alert</span>( $(<span class="string">&quot;div&quot;</span>).<span class="title function_">html</span>() );<span class="comment">// è·å–</span></span><br><span class="line">$(<span class="string">&quot;div&quot;</span>).<span class="title function_">html</span>(<span class="string">&quot;&lt;h1&gt;æˆ‘æ˜¯divä¸­çš„æ ‡é¢˜ 1&lt;/h1&gt;&quot;</span>);<span class="comment">// è®¾ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ä¼ å‚æ•°ï¼Œæ˜¯è·å–ï¼Œä¼ é€’å‚æ•°æ˜¯è®¾ç½®</span></span><br><span class="line"><span class="title function_">alert</span>( $(<span class="string">&quot;div&quot;</span>).<span class="title function_">text</span>() ); <span class="comment">// è·å–</span></span><br><span class="line">$(<span class="string">&quot;div&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;&lt;h1&gt;æˆ‘æ˜¯divä¸­çš„æ ‡é¢˜ 1&lt;/h1&gt;&quot;</span>); <span class="comment">// è®¾ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ä¼ å‚æ•°ï¼Œæ˜¯è·å–ï¼Œä¼ é€’å‚æ•°æ˜¯è®¾ç½®</span></span><br><span class="line">$(<span class="string">&quot;button&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>($(<span class="string">&quot;#username&quot;</span>).<span class="title function_">val</span>());<span class="comment">//è·å–</span></span><br><span class="line">    $(<span class="string">&quot;#username&quot;</span>).<span class="title function_">val</span>(<span class="string">&quot;è¶…çº§ç¨‹åºçŒ¿&quot;</span>);<span class="comment">// è®¾ç½®</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¹é‡æ“ä½œå•é€‰</span></span><br><span class="line">$(<span class="string">&quot;:radio&quot;</span>).<span class="title function_">val</span>([<span class="string">&quot;radio2&quot;</span>]);</span><br><span class="line"><span class="comment">// æ‰¹é‡æ“ä½œç­›é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€</span></span><br><span class="line">$(<span class="string">&quot;:checkbox&quot;</span>).<span class="title function_">val</span>([<span class="string">&quot;checkbox3&quot;</span>,<span class="string">&quot;checkbox2&quot;</span>]);</span><br><span class="line"><span class="comment">// æ‰¹é‡æ“ä½œå¤šé€‰çš„ä¸‹æ‹‰æ¡†é€‰ä¸­çŠ¶æ€</span></span><br><span class="line">$(<span class="string">&quot;#multiple&quot;</span>).<span class="title function_">val</span>([<span class="string">&quot;mul2&quot;</span>,<span class="string">&quot;mul3&quot;</span>,<span class="string">&quot;mul4&quot;</span>]);</span><br><span class="line"><span class="comment">// æ“ä½œå•é€‰çš„ä¸‹æ‹‰æ¡†é€‰ä¸­çŠ¶æ€</span></span><br><span class="line">$(<span class="string">&quot;#single&quot;</span>).<span class="title function_">val</span>([<span class="string">&quot;sin2&quot;</span>]);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>attr()</code>å¯ä»¥è®¾ç½®å’Œè·å–å±æ€§çš„å€¼ï¼Œä¸æ¨èæ“ä½œ<code>checked</code>ã€<code>readOnly</code>ã€<code>selected</code>ã€<code>disable</code>ç­‰ç­‰ã€‚<code>attr()</code>æ–¹æ³•è¿˜å¯ä»¥æ“ä½œé£æ ‡å‡†çš„å±æ€§ã€‚æ¯”å¦‚è‡ªå®šä¹‰å±æ€§ï¼š</li>
<li><code>prop()</code>å¯ä»¥è®¾ç½®å’Œè·å–å±æ€§çš„å€¼ï¼Œåªæ¨èæ“ä½œï¼š<code>checked</code>ã€<code>readOnly</code>ã€<code>selected</code>ã€<code>disable</code>ç­‰</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">alert</span>( $(<span class="string">&quot;:checkbox:first&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;name&quot;</span>) ); <span class="comment">// è·å–nameå±æ€§çš„å€¼</span></span><br><span class="line">$(<span class="string">&quot;:checkbox:first&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;abc&quot;</span>) ; <span class="comment">// è®¾ç½®nameå±æ€§çš„å€¼</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;:checkbox&quot;</span>).<span class="title function_">prop</span>(<span class="string">&quot;checked&quot;</span>,<span class="literal">false</span> );<span class="comment">// å®˜æ–¹è§‰å¾—è¿”å›undefinedæ˜¯ä¸€ä¸ªé”™è¯¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†æ–¹æ³•</span></span><br><span class="line">$(<span class="string">&quot;:checkbox[name=&#x27;items&#x27;]&quot;</span>).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨eachéå†çš„functionå‡½æ•°ä¸­ï¼Œæœ‰ä¸€ä¸ªthiså¯¹è±¡ã€‚è¿™ä¸ªthiså¯¹è±¡æ˜¯å½“å‰æ­£åœ¨éå†åˆ°çš„domå¯¹è±¡</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">checked</span> = !<span class="variable language_">this</span>.<span class="property">checked</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="domçš„å¢åˆ æ”¹"><a class="markdownIt-Anchor" href="#domçš„å¢åˆ æ”¹"></a> DOMçš„å¢åˆ æ”¹</h2>
<p>å†…éƒ¨æ’å…¥</p>
<ul>
<li><code>appendTo()</code>ï¼š<code>a.appendTo(b)</code>æŠŠaæ’å…¥åˆ°bå­å…ƒç´ çš„æœ«å°¾ï¼Œæˆä¸ºæœ€åä¸€ä¸ªå…ƒç´ ã€‚</li>
<li><code>prependTo()</code>ï¼š<code>a.prependTo(b)</code>æŠŠaæ’å…¥åˆ°bæ‰€æœ‰å­å…ƒç´ çš„å‰é¢ï¼Œæˆä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li>
</ul>
<p>å¤–éƒ¨æ’å…¥</p>
<ul>
<li><code>insertAfter()</code>ï¼š<code>a.insertAfter(b)</code>å¾—åˆ°ba</li>
<li><code>insertBefore()</code>ï¼š<code>a.insertBefore(b)</code>å¾—åˆ°ab</li>
</ul>
<p>æ›¿æ¢</p>
<ul>
<li><code>replaceWith()</code>ï¼š<code>a.replaceWith(b)</code>ï¼Œç”¨bæ›¿æ¢æ‰a</li>
<li><code>replaceAll()</code>ï¼š<code>a.replaceAll(b)</code>ï¼Œç”¨aæ›¿æ¢æ‰æ‰€æœ‰çš„b</li>
</ul>
<p>åˆ é™¤</p>
<ul>
<li><code>remove()</code>ï¼š<code>a.remove()</code>åˆ é™¤aæ ‡ç­¾</li>
<li><code>empty()</code>ï¼š<code>a.empty()</code>æ¸…ç©ºaæ ‡ç­¾çš„æ‰€æœ‰å†…å®¹ã€‚</li>
</ul>
<h2 id="cssæ ·å¼æ“ä½œ"><a class="markdownIt-Anchor" href="#cssæ ·å¼æ“ä½œ"></a> CSSæ ·å¼æ“ä½œ</h2>
<ul>
<li><code>addClass(classå±æ€§)</code> é€šè¿‡æ·»åŠ classå±æ€§æ¥æ·»åŠ æ ·å¼</li>
<li><code>removeClass(classå±æ€§)</code>é€šè¿‡åˆ é™¤classå±æ€§æ¥åˆ é™¤æ ·å¼</li>
<li><code>toggleClass(classå±æ€§)</code>å¯¹è¢«é€‰æ‹©çš„classå±æ€§è¿›è¡Œæ·»åŠ /åˆ é™¤ç±»çš„åˆ‡æ¢æ“ä½œ</li>
<li><code>offset()</code>è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ ç›¸å¯¹äºæ–‡æ¡£çš„ä½ç½®</li>
<li><code>offset(&#123;top:å€¼, left:å€¼&#125;)</code>è®¾ç½®ç›¸å¯¹äºæ–‡æ¡£çš„ä½ç½®</li>
</ul>
<h2 id="jqueryåŠ¨ç”»"><a class="markdownIt-Anchor" href="#jqueryåŠ¨ç”»"></a> jQueryåŠ¨ç”»</h2>
<p><strong>åŸºæœ¬åŠ¨ç”»</strong></p>
<ul>
<li><code>show()</code>ï¼Œå°†éšè—çš„å…ƒç´ å¯è§ã€‚</li>
<li><code>hide()</code>ï¼Œå°†å¯è§çš„å…ƒç´ éšè—</li>
<li><code>toggle()</code>ï¼Œå¯è§çš„éšè—ï¼Œéšè—çš„å¯è§</li>
</ul>
<p>ä»¥ä¸Šçš„ä¸‰ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ·»åŠ å‚æ•°ï¼š</p>
<ol>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåŠ¨ç”»æ‰§è¡Œçš„æ—¶é•¿ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ï¼šåŠ¨ç”»çš„å›è°ƒå‡½æ•°ï¼ŒåŠ¨ç”»å®Œæˆåè‡ªåŠ¨è°ƒç”¨çš„å‡½æ•°ã€‚</li>
</ol>
<p><strong>æ·¡å…¥æ·¡å‡ºåŠ¨ç”»</strong></p>
<ul>
<li><code>fadeIn(time)</code>åœ¨æŒ‡å®šæ—¶é—´å†…æ·¡å…¥ï¼ˆæ…¢æ…¢å¯è§ï¼‰</li>
<li><code>fadeOut(time)</code>åœ¨æŒ‡å®šæ—¶é—´å†…æ·¡å‡ºï¼ˆæ…¢æ…¢æ¶ˆå¤±ï¼‰</li>
<li><code>fadeTo([time], [0.5], [function])</code> åœ¨æŒ‡å®šæ—¶é•¿å†…æ…¢æ…¢çš„å°†é€æ˜åº¦ä¿®æ”¹åˆ°æŒ‡å®šçš„å€¼ã€‚0é€æ˜ï¼Œ1å®Œå…¨å¯è§ï¼Œ0.5åŠé€æ˜</li>
<li><code>fadeToggle(time, function)</code> æ·¡å…¥/æ·¡å‡ºåˆ‡æ¢</li>
</ul>
<h2 id="jqueryäº‹ä»¶å’Œjsäº‹ä»¶çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#jqueryäº‹ä»¶å’Œjsäº‹ä»¶çš„åŒºåˆ«"></a> jQueryäº‹ä»¶å’ŒJSäº‹ä»¶çš„åŒºåˆ«</h2>
<p><code>$(function()&#123;&#125;)</code> å’Œ <code>window.onload = function()&#123;&#125;</code>çš„åŒºåˆ«</p>
<p><strong>è§¦å‘çš„æ—¶é—´</strong>ï¼š</p>
<ul>
<li>jQuery çš„é¡µé¢åŠ è½½å®Œæˆä¹‹åæ˜¯æµè§ˆå™¨çš„å†…æ ¸è§£æå®Œé¡µé¢çš„æ ‡ç­¾åˆ›å»ºå¥½ DOM å¯¹è±¡ä¹‹åå°±ä¼š<strong>é©¬ä¸Šæ‰§è¡Œ</strong>ã€‚</li>
<li>åŸç”Ÿ js çš„é¡µé¢åŠ è½½å®Œæˆä¹‹åï¼Œé™¤äº†è¦ç­‰æµè§ˆå™¨å†…æ ¸è§£æå®Œæ ‡ç­¾åˆ›å»ºå¥½ DOM å¯¹è±¡ï¼Œè¿˜è¦ç­‰æ ‡ç­¾æ˜¾ç¤ºæ—¶éœ€è¦çš„å†…å®¹åŠ è½½å®Œæˆ</li>
</ul>
<p><strong>è§¦å‘çš„é¡ºåº</strong></p>
<ul>
<li>jQuery é¡µé¢åŠ è½½å®Œæˆä¹‹åå…ˆæ‰§è¡Œ</li>
<li>åŸç”Ÿ js çš„é¡µé¢åŠ è½½å®Œæˆä¹‹å</li>
</ul>
<p><strong>æ‰§è¡Œçš„æ¬¡æ•°</strong></p>
<ul>
<li>åŸç”Ÿ js çš„é¡µé¢åŠ è½½å®Œæˆä¹‹åï¼Œ<strong>åªä¼šæ‰§è¡Œæœ€åä¸€æ¬¡çš„èµ‹å€¼å‡½æ•°</strong>ï¼Œä¼šå°†å‰é¢çš„å‡½æ•°è¦†ç›–æ‰ã€‚</li>
<li>jQuery çš„é¡µé¢åŠ è½½å®Œæˆä¹‹åæ˜¯å…¨éƒ¨æŠŠæ³¨å†Œçš„ function å‡½æ•°ï¼Œä¾æ¬¡é¡ºåºå…¨éƒ¨æ‰§è¡Œã€‚</li>
</ul>
<h2 id="jqueryä¸­å…¶ä»–äº‹ä»¶çš„å¤„ç†æ–¹æ³•"><a class="markdownIt-Anchor" href="#jqueryä¸­å…¶ä»–äº‹ä»¶çš„å¤„ç†æ–¹æ³•"></a> jQueryä¸­å…¶ä»–äº‹ä»¶çš„å¤„ç†æ–¹æ³•</h2>
<ul>
<li><code>click([function])</code> å®ƒå¯ä»¥ç»‘å®šå•å‡»äº‹ä»¶ï¼Œä»¥åŠè§¦å‘å•å‡»äº‹ä»¶</li>
<li><code>mouseover()</code> é¼ æ ‡ç§»å…¥äº‹ä»¶</li>
<li><code>mouseout()</code> é¼ æ ‡ç§»å‡ºäº‹ä»¶</li>
<li><code>bind()</code> å¯ä»¥ç»™å…ƒç´ ä¸€æ¬¡æ€§ç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶ã€‚</li>
<li><code>one()</code> ä½¿ç”¨ä¸Šè·Ÿ bind ä¸€æ ·ã€‚ä½†æ˜¯ one æ–¹æ³•ç»‘å®šçš„äº‹ä»¶åªä¼šå“åº”ä¸€æ¬¡ã€‚</li>
<li><code>unbind()</code> è·Ÿ bind æ–¹æ³•ç›¸åçš„æ“ä½œï¼Œè§£é™¤äº‹ä»¶çš„ç»‘å®š</li>
<li><code>live()</code> ä¹Ÿæ˜¯ç”¨æ¥ç»‘å®šäº‹ä»¶ã€‚å®ƒå¯ä»¥ç”¨æ¥ç»‘å®šé€‰æ‹©å™¨åŒ¹é…çš„æ‰€æœ‰å…ƒç´ çš„äº‹ä»¶ã€‚å“ªæ€•è¿™ä¸ªå…ƒç´ æ˜¯åé¢åŠ¨æ€åˆ›å»ºå‡º æ¥çš„ä¹Ÿæœ‰</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨liveç»‘å®šçš„å•å‡»äº‹ä»¶</span></span><br><span class="line">$(<span class="string">&quot;h5&quot;</span>).<span class="title function_">live</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;h5å•å‡»äº‹ä»¶ == liveæ–¹æ³•ç»‘å®š&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">$(<span class="string">&quot;button&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;h5&quot;</span>).<span class="title function_">click</span>(); <span class="comment">// ä¸ä¼ functionæ˜¯è§¦å‘äº‹ä»¶</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¼ æ ‡ç§»å…¥</span></span><br><span class="line">$(<span class="string">&quot;h5&quot;</span>).<span class="title function_">mouseover</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä½ è¿›æ¥äº†&quot;</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// //é¼ æ ‡ç§»å‡º</span></span><br><span class="line">$(<span class="string">&quot;h5&quot;</span>).<span class="title function_">mouseout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä½ å‡ºå»äº†&quot;</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="äº‹ä»¶çš„å†’æ³¡"><a class="markdownIt-Anchor" href="#äº‹ä»¶çš„å†’æ³¡"></a> äº‹ä»¶çš„å†’æ³¡</h3>
<blockquote>
<p>äº‹ä»¶çš„å†’æ³¡æ˜¯æŒ‡ï¼Œçˆ¶å­å…ƒç´ åŒæ—¶ç›‘å¬åŒä¸€ä¸ªäº‹ä»¶ã€‚å½“è§¦å‘å­å…ƒç´ çš„äº‹ä»¶çš„æ—¶å€™ï¼ŒåŒä¸€ä¸ªäº‹ä»¶ä¹Ÿè¢«ä¼ é€’åˆ°äº†çˆ¶å…ƒç´ çš„äº‹ä»¶é‡Œå» å“åº”</p>
</blockquote>
<p>é˜»æ­¢äº‹ä»¶å†’æ³¡çš„æ–¹æ³•ï¼šåœ¨å­å…ƒç´ äº‹ä»¶å‡½æ•°ä½“å†…ï¼Œreturn false; å¯ä»¥é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ä¼ é€’</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    $(<span class="string">&quot;#content&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  <span class="comment">// divä¸ºçˆ¶å…ƒç´ </span></span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æˆ‘æ˜¯div&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;span&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  <span class="comment">// spanä¸ºå­å…ƒç´ </span></span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;æˆ‘æ˜¯span&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="jsäº‹ä»¶å¯¹è±¡"><a class="markdownIt-Anchor" href="#jsäº‹ä»¶å¯¹è±¡"></a> JSäº‹ä»¶å¯¹è±¡</h3>
<blockquote>
<p>äº‹ä»¶å¯¹è±¡ï¼Œæ˜¯å°è£…æœ‰è§¦å‘çš„äº‹ä»¶ä¿¡æ¯çš„ä¸€ä¸ª javascript å¯¹è±¡ã€‚</p>
<p>æˆ‘ä»¬é‡ç‚¹å…³å¿ƒçš„æ˜¯æ€ä¹ˆæ‹¿åˆ°è¿™ä¸ª javascript çš„äº‹ä»¶å¯¹è±¡ã€‚ä»¥åŠä½¿ç”¨ã€‚</p>
</blockquote>
<p>è·å– javascript äº‹ä»¶å¯¹è±¡</p>
<ul>
<li>åœ¨ç»™å…ƒç´ ç»‘å®šäº‹ä»¶çš„æ—¶å€™ï¼Œåœ¨äº‹ä»¶çš„ function( event ) å‚æ•°åˆ—è¡¨ä¸­æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°åï¼Œæˆ‘ä»¬ä¹ æƒ¯å–åä¸º eventã€‚ è¿™ä¸ª event å°±æ˜¯</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.åŸç”Ÿjavascriptè·å– äº‹ä»¶å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;areaDiv&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(event);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.JQueryä»£ç è·å– äº‹ä»¶å¯¹è±¡</span></span><br><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// $(&quot;#areaDiv&quot;).click(function (event) &#123;</span></span><br><span class="line">    <span class="comment">// 	console.log(event);</span></span><br><span class="line">    <span class="comment">// &#125;);</span></span><br><span class="line">    <span class="comment">//3.ä½¿ç”¨bindåŒæ—¶å¯¹å¤šä¸ªäº‹ä»¶ç»‘å®šåŒä¸€ä¸ªå‡½æ•°ã€‚æ€ä¹ˆè·å–å½“å‰æ“ä½œæ˜¯ä»€ä¹ˆäº‹ä»¶ã€‚</span></span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;#areaDiv&quot;</span>).<span class="title function_">bind</span>(<span class="string">&quot;mouseover mouseout&quot;</span>,<span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="string">&quot;mouseover&quot;</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é¼ æ ‡ç§»å…¥&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.<span class="property">type</span> == <span class="string">&quot;mouseout&quot;</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é¼ æ ‡ç§»å‡º&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="xml"><a class="markdownIt-Anchor" href="#xml"></a> XML</h1>
<blockquote>
<p>xmlæ˜¯å¯æ‰©å±•çš„æ ‡è®°æ€§è¯­è¨€</p>
</blockquote>
<p><strong>ä½œç”¨</strong></p>
<ul>
<li>ç”¨æ¥ä¿å­˜æ•°æ®ï¼Œè€Œä¸”è¿™äº›æ•°æ®å…·æœ‰è‡ªæˆ‘æè¿°æ€§</li>
<li>å¯ä»¥ä½œä¸ºé¡¹ç›®æˆ–è€…æ¨¡å—çš„é…ç½®æ–‡ä»¶</li>
<li>è¿˜å¯ä»¥ä½œä¸ºç½‘ç»œä¼ è¾“æ•°æ®çš„æ ¼å¼ã€‚ï¼ˆä¸å¤šç”¨äº†ï¼Œä¸»è¦ä»¥JSONä¸ºä¸»ï¼‰</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">students</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">student</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">id</span>&gt;</span>1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>xzt<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">students</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="xmlè¯­æ³•"><a class="markdownIt-Anchor" href="#xmlè¯­æ³•"></a> XMLè¯­æ³•</h2>
<h3 id="æ–‡æ¡£å£°æ˜"><a class="markdownIt-Anchor" href="#æ–‡æ¡£å£°æ˜"></a> æ–‡æ¡£å£°æ˜</h3>
<p><strong>å±æ€§</strong></p>
<ul>
<li><code>version</code>ç‰ˆæœ¬å·</li>
<li><code>encoding</code>ç¼–ç æ ¼å¼</li>
<li><code>standalone=&quot;yes/no&quot;</code>è¡¨ç¤ºè¯¥xmlæ–‡ä»¶æ˜¯å¦æ˜¯ç‹¬ç«‹çš„xml</li>
</ul>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li><code>&lt;?xml</code> éœ€è¦è¿åœ¨ä¸€èµ·å†™ã€‚å¦åˆ™ä¼šæŠ¥é”™</li>
</ul>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- version:xmlç‰ˆæœ¬ï¼› encoding:xmlç¼–ç  --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">students</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">student</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">id</span>&gt;</span>1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sex</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">student</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">id</span>&gt;</span>2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sex</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">students</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="xmlå…ƒç´ æ ‡ç­¾"><a class="markdownIt-Anchor" href="#xmlå…ƒç´ æ ‡ç­¾"></a> XMLå…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰</h3>
<blockquote>
<p>xmlå…ƒç´ æ˜¯æŒ‡ä»ï¼ˆä¸”åŒ…æ‹¬ï¼‰å¼€å§‹æ ‡ç­¾ç›´åˆ°ï¼ˆä¸”åŒ…æ‹¬ï¼‰ç»“æŸæ ‡ç­¾çš„éƒ¨åˆ†</p>
<p>å…ƒç´ å¯åŒ…å«å…¶ä»–å…ƒç´ ã€æ–‡æœ¬æˆ–è€…ä¸¤è€…çš„æ··åˆç‰©ã€‚å…ƒç´ ä¹Ÿå¯ä»¥æ‹¥æœ‰å±æ€§ã€‚</p>
</blockquote>
<p>å…ƒç´ ä¹Ÿåˆ†ä¸ºå•æ ‡ç­¾å’ŒåŒæ ‡ç­¾</p>
<ul>
<li>å•æ ‡ç­¾ï¼š<code>&lt;å…ƒç´ å å±æ€§=&quot;å€¼&quot;/&gt;</code></li>
<li>åŒæ ‡ç­¾ï¼š<code>&lt;å…ƒç´ å å±æ€§=&quot;å€¼&quot;&gt; &lt;/å…ƒç´ å&gt;</code></li>
</ul>
<h4 id="å‘½åè§„åˆ™"><a class="markdownIt-Anchor" href="#å‘½åè§„åˆ™"></a> å‘½åè§„åˆ™</h4>
<ul>
<li>åç§°å¯ä»¥åŒ…å«å­—æ¯ã€æ•°å­—ä»¥åŠå…¶ä»–å­—ç¬¦ã€‚</li>
<li>åç§°ä¸èƒ½ä»¥æ•°å­—æˆ–è€…æ ‡ç‚¹ç¬¦å·å¼€å§‹</li>
<li>åç§°ä¸èƒ½åŒ…å«ç©ºæ ¼</li>
</ul>
<h3 id="xmlå±æ€§"><a class="markdownIt-Anchor" href="#xmlå±æ€§"></a> XMLå±æ€§</h3>
<blockquote>
<p>xml çš„æ ‡ç­¾å±æ€§å’Œ html çš„æ ‡ç­¾å±æ€§æ˜¯éå¸¸ç±»ä¼¼çš„ï¼Œå±æ€§å¯ä»¥æä¾›å…ƒç´ çš„é¢å¤–ä¿¡æ¯ ã€‚</p>
</blockquote>
<p>åœ¨æ ‡ç­¾ä¸Šå¯ä»¥ä¹¦å†™å±æ€§ï¼š ä¸€ä¸ªæ ‡ç­¾ä¸Šå¯ä»¥ä¹¦å†™å¤šä¸ªå±æ€§ã€‚æ¯ä¸ªå±æ€§çš„å€¼å¿…é¡»ä½¿ç”¨ å¼•å· å¼•èµ·æ¥ã€‚å±æ€§ çš„è§„åˆ™å’Œæ ‡ç­¾çš„ä¹¦å†™è§„åˆ™ä¸€è‡´ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå±æ€§å¿…é¡»ç”¨<code>&quot;&quot;</code>å¼•èµ·æ¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">students</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">student</span> <span class="attr">id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;aaa&quot;</span> <span class="attr">sex</span>=<span class="string">&quot;ç”·&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">student</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">id</span>&gt;</span>2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sex</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">students</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="è¯­æ³•è§„åˆ™"><a class="markdownIt-Anchor" href="#è¯­æ³•è§„åˆ™"></a> è¯­æ³•è§„åˆ™</h3>
<ul>
<li>xmlä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½å¿…é¡»æœ‰å…³é—­æ ‡ç­¾</li>
<li>xmlå¯¹å¤§å°å†™æ•æ„Ÿ</li>
<li>xmlæ ‡ç­¾å¿…é¡»æ­£ç¡®çš„åµŒå¥—</li>
<li>xmlæ–‡æ¡£å¿…é¡»æœ‰æ ¹å…ƒç´ ï¼Œæ²¡æœ‰çˆ¶æ ‡ç­¾çš„é¡¶çº§å…ƒç´ </li>
<li>xmlçš„å±æ€§é¡»åŠ å¼•å·</li>
<li>xmlä¸­çš„ç‰¹æ®Šå­—ç¬¦ã€‚ä¾‹å¦‚<code>&gt;</code>éœ€è¦å†™ä¸º<code>&amp;gt;</code>ã€<code>&lt;</code>éœ€è¦å†™ä¸º<code>&amp;lt;</code></li>
</ul>
<h3 id="æ–‡æœ¬åŒºåŸŸcdataåŒº"><a class="markdownIt-Anchor" href="#æ–‡æœ¬åŒºåŸŸcdataåŒº"></a> æ–‡æœ¬åŒºåŸŸï¼ˆCDATAåŒºï¼‰</h3>
<blockquote>
<p>CDATA è¯­æ³•å¯ä»¥å‘Šè¯‰ xml è§£æå™¨ï¼Œæˆ‘ CDATA é‡Œçš„æ–‡æœ¬å†…å®¹ï¼Œåªæ˜¯çº¯æ–‡æœ¬ï¼Œä¸éœ€è¦ xml è¯­æ³•è§£æ</p>
</blockquote>
<p><strong>CDATAæ ¼å¼</strong></p>
<p><code>&lt;![CDATA[è¿™é‡Œå¯ä»¥æŠŠä½ è¾“å…¥çš„å­—ç¬¦åŸæ ·æ˜¾ç¤ºï¼Œä¸ä¼šè§£æxml]]&gt;</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">students</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">student</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">id</span>&gt;</span>2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span></span><br><span class="line">        	&lt;![CDATA[aaa&lt;&lt;&lt;&gt;&gt;&gt;aaa&gt;&gt;&gt;&lt;&lt;&lt;!!!!]]&gt;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sex</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">students</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="xmlè§£æ"><a class="markdownIt-Anchor" href="#xmlè§£æ"></a> XMLè§£æ</h2>
<blockquote>
<p>xml å¯æ‰©å±•çš„æ ‡è®°è¯­è¨€ã€‚ ä¸ç®¡æ˜¯ html æ–‡ä»¶è¿˜æ˜¯ xml æ–‡ä»¶å®ƒä»¬éƒ½æ˜¯æ ‡è®°å‹æ–‡æ¡£ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ w3c ç»„ç»‡åˆ¶å®šçš„ dom æŠ€æœ¯æ¥</p>
</blockquote>
<p>ç¬¬ä¸‰æ–¹çš„è§£æï¼š</p>
<ul>
<li>jdom åœ¨ dom åŸºç¡€ä¸Šè¿›è¡Œäº†å°è£… ã€‚</li>
<li>dom4j åˆå¯¹ jdom è¿›è¡Œäº†å°è£…ã€‚</li>
<li>pull ä¸»è¦ç”¨åœ¨ Android æ‰‹æœºå¼€å‘ï¼Œæ˜¯åœ¨è·Ÿ sax éå¸¸ç±»ä¼¼éƒ½æ˜¯äº‹ä»¶æœºåˆ¶è§£æ xml æ–‡ä»¶ã€‚</li>
</ul>
<p>è¿™ä¸ª Dom4j å®ƒæ˜¯ç¬¬ä¸‰æ–¹çš„è§£ææŠ€æœ¯ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹ç»™æˆ‘ä»¬æä¾›å¥½çš„ç±»åº“æ‰å¯ä»¥è§£æ xml</p>
<h3 id="dom4jè§£æ"><a class="markdownIt-Anchor" href="#dom4jè§£æ"></a> dom4jè§£æâ­â­â­</h3>
<blockquote>
<p>ç”±äº dom4j å®ƒä¸æ˜¯ sun å…¬å¸çš„æŠ€æœ¯ï¼Œè€Œå±äºç¬¬ä¸‰æ–¹å…¬å¸çš„æŠ€æœ¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ dom4j å°±éœ€è¦åˆ° dom4j å®˜ç½‘ä¸‹è½½ dom4j çš„ jar åŒ…ã€‚</p>
</blockquote>
<h4 id="dom4jç¼–ç¨‹æ­¥éª¤"><a class="markdownIt-Anchor" href="#dom4jç¼–ç¨‹æ­¥éª¤"></a> dom4jç¼–ç¨‹æ­¥éª¤</h4>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼š å…ˆåŠ è½½ xml æ–‡ä»¶åˆ›å»º Document å¯¹è±¡</li>
<li>ç¬¬äºŒæ­¥ï¼šé€šè¿‡ Document å¯¹è±¡æ‹¿åˆ°æ ¹å…ƒç´ å¯¹è±¡</li>
<li>ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡æ ¹å…ƒç´ .elelemts(æ ‡ç­¾å); å¯ä»¥è¿”å›ä¸€ä¸ªé›†åˆï¼Œè¿™ä¸ªé›†åˆé‡Œæ”¾ç€ã€‚æ‰€æœ‰ä½ æŒ‡å®šçš„æ ‡ç­¾åçš„å…ƒç´ å¯¹è±¡</li>
<li>ç¬¬å››æ­¥ï¼šæ‰¾åˆ°ä½ æƒ³è¦ä¿®æ”¹ã€åˆ é™¤çš„å­å…ƒç´ ï¼Œè¿›è¡Œç›¸åº”åœ¨çš„æ“ä½œ</li>
<li>ç¬¬äº”æ­¥ï¼Œä¿å­˜åˆ°ç¡¬ç›˜ä¸Š</li>
</ul>
<h4 id="è·å–-document-å¯¹è±¡"><a class="markdownIt-Anchor" href="#è·å–-document-å¯¹è±¡"></a> è·å– document å¯¹è±¡</h4>
<blockquote>
<p>é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªlibç›®å½•ï¼Œå¹¶æ·»åŠ dom4jçš„jaråŒ…ã€‚å¹¶æ·»åŠ åˆ°ç±»è·¯å¾„ã€‚</p>
</blockquote>
<p><strong>æ­¥éª¤</strong></p>
<ol>
<li>è¯»å– xml æ–‡ä»¶<code>SAXReader saxReader = new SAXReader(); Document document = saxReader.read(&quot;xmlæ–‡ä»¶ä½ç½®&quot;);</code></li>
<li>é€šè¿‡documentå¯¹è±¡è·å–æ ¹å…ƒç´  <code>Element rootElement = document.getRootElement();</code></li>
<li>é€šè¿‡æ ¹å…ƒç´ è·å–xmlé‡Œçš„æ ‡ç­¾å¯¹è±¡ <code>List&lt;Element&gt; books = rootElement.elements();</code></li>
<li>éå†ï¼Œå¤„ç†æ¯ä¸ªxmlé‡Œçš„æ ‡ç­¾è½¬åŒ–ä¸ºå¯¹åº”çš„ç±»
<ul>
<li><code>elementText()</code> ç›´æ¥è·å–æŒ‡å®šæ ‡ç­¾åçš„æ–‡æœ¬å†…å®¹</li>
</ul>
</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<p>éœ€è¦è§£æçš„xmlæ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">books</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">sn</span>=<span class="string">&quot;SN12341232&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>è¾Ÿé‚ªå‰‘è°±<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">price</span>&gt;</span>9.9<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>ç­ä¸»ä»»<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">sn</span>=<span class="string">&quot;SN12341231&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>è‘µèŠ±å®å…¸<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">price</span>&gt;</span>99.99<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>ç­é•¿<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">books</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸xmlæ–‡ä»¶ç›¸å¯¹åº”çš„Bookç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String sn;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(String sn, String name, BigDecimal price, String author)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sn = sn;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">        <span class="built_in">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSn</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSn</span><span class="params">(String sn)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sn = sn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> BigDecimal <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(BigDecimal price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAuthor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAuthor</span><span class="params">(String author)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Book&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;sn=&#x27;&quot;</span> + sn + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, price=&quot;</span> + price +</span><br><span class="line">                <span class="string">&quot;, author=&#x27;&quot;</span> + author + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>dom4jè§£æç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.dom4j.Document;</span><br><span class="line"><span class="keyword">import</span> org.dom4j.DocumentException;</span><br><span class="line"><span class="keyword">import</span> org.dom4j.Element;</span><br><span class="line"><span class="keyword">import</span> org.dom4j.io.SAXReader;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dom4jTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> Exception, NullPointerException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªSaxReaderè¾“å…¥æµï¼Œå»è¯»å– xmlé…ç½®æ–‡ä»¶ï¼Œç”ŸæˆDocumentå¯¹è±¡</span></span><br><span class="line">        <span class="comment">// 1.è¯»å–bools.xmlæ–‡ä»¶</span></span><br><span class="line">        <span class="type">SAXReader</span> <span class="variable">saxReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line">        <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span> saxReader.read(<span class="string">&quot;src/books.xml&quot;</span>);</span><br><span class="line">        <span class="comment">// 2.é€šè¿‡documentå¯¹è±¡è·å–æ ¹å…ƒç´ </span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">rootElement</span> <span class="operator">=</span> document.getRootElement();</span><br><span class="line">        <span class="comment">// 3.é€šè¿‡æ ¹å…ƒç´ è·å–bookæ ‡ç­¾å¯¹è±¡</span></span><br><span class="line">        List&lt;Element&gt; books = rootElement.elements();</span><br><span class="line">        <span class="comment">// 4.éå†ï¼Œå¤„ç†æ¯ä¸ªbookæ ‡ç­¾è½¬åŒ–ä¸ºBookç±»</span></span><br><span class="line">        <span class="keyword">for</span> (Element book : books) &#123;</span><br><span class="line">            <span class="comment">// asXML() æŠŠæ ‡ç­¾å¯¹è±¡è½¬æ¢ä¸ºæ ‡ç­¾å­—ç¬¦ä¸²</span></span><br><span class="line">            <span class="type">Element</span> <span class="variable">nameElement</span> <span class="operator">=</span> book.element(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">            <span class="comment">// getText()å¯ä»¥è·å–æ–‡æœ¬ä¸­çš„æ ‡ç­¾å†…å®¹</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">nameText</span> <span class="operator">=</span> nameElement.getText();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// elementText() ç›´æ¥è·å–æŒ‡å®šæ ‡ç­¾åçš„æ–‡æœ¬å†…å®¹</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">price</span> <span class="operator">=</span> nameElement.elementText(<span class="string">&quot;price&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">author</span> <span class="operator">=</span> nameElement.elementText(<span class="string">&quot;author&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// attributeValue() è·å–æŒ‡å®šå±æ€§åçš„å€¼</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sn</span> <span class="operator">=</span> book.attributeValue(<span class="string">&quot;sn&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">Book</span> <span class="variable">book1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Book</span>(sn, nameText, Double.parseDouble(price), author);</span><br><span class="line">            System.out.println(book1);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="tomcat"><a class="markdownIt-Anchor" href="#tomcat"></a> Tomcat</h1>
<blockquote>
<p>JavaWeb æ˜¯æŒ‡ï¼Œæ‰€æœ‰é€šè¿‡ Java è¯­è¨€ç¼–å†™å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®çš„ç¨‹åºçš„æ€»ç§°ï¼Œå« JavaWebã€‚</p>
<p>JavaWeb æ˜¯åŸºäºè¯·æ±‚å’Œå“åº”æ¥å¼€å‘çš„ã€‚</p>
</blockquote>
<p>è¯·æ±‚ï¼šè¯·æ±‚æ˜¯æŒ‡å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ç»™æœåŠ¡å™¨ï¼ˆTomcatï¼‰å‘é€æ•°æ®ï¼Œå«è¯·æ±‚ Request</p>
<p>å“åº”ï¼šå“åº”æ˜¯æŒ‡æœåŠ¡å™¨ç»™å®¢æˆ·ç«¯å›ä¼ æ•°æ®ï¼Œå«å“åº” Response</p>
<p>è¯·æ±‚å’Œå“åº”æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œæœ‰è¯·æ±‚å°±æœ‰å“åº”</p>
<p><strong>ç«¯å£å·</strong>ï¼š8080ã€‚<a href="https://localhost:8080">https://localhost:8080</a></p>
<h2 id="å¸¸ç”¨çš„webæœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#å¸¸ç”¨çš„webæœåŠ¡å™¨"></a> å¸¸ç”¨çš„WebæœåŠ¡å™¨</h2>
<p>webèµ„æºæŒ‰å®ç°çš„æŠ€æœ¯å’Œå‘ˆç°çš„æ•ˆæœä¸åŒï¼Œåˆ†ä¸ºé™æ€èµ„æºå’ŒåŠ¨æ€èµ„æº</p>
<ul>
<li>é™æ€èµ„æºï¼šhtmlã€cssã€jsã€txtã€MP4è§†é¢‘ã€jpgå›¾ç‰‡</li>
<li>åŠ¨æ€èµ„æºï¼šjspé¡µé¢ã€Servletç¨‹åºã€‚</li>
</ul>
<p><a href="https://blog.csdn.net/qq_40881680/category_11876209.html?spm=1001.2014.3001.5482">ç›¸å…³é…ç½®å‚è€ƒ</a></p>
<h1 id="servlet"><a class="markdownIt-Anchor" href="#servlet"></a> Servlet</h1>
<blockquote>
<p>Servletæ˜¯JavaEEè§„èŒƒä¹‹ä¸€</p>
</blockquote>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ3</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title>Java ä¼ä¸šå¼€å‘åŸºç¡€ Spring5-IOC</title>
    <url>/2022/09/26/JAVA/06Spring5_IOC/</url>
    <content><![CDATA[<h2 id="springæ¦‚è¿°"><a class="markdownIt-Anchor" href="#springæ¦‚è¿°"></a> Springæ¦‚è¿°</h2>
<blockquote>
<p>Spring æ˜¯è½»é‡çº§çš„å¼€æºçš„JavaEEæ¡†æ¶ã€‚</p>
<p>Spring å¯ä»¥è§£å†³ä¼ä¸šåº”ç”¨å¼€å‘çš„å¤æ‚æ€§</p>
<p>Spring æœ‰ä¸¤ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼šIOC å’Œ AOP</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/7a328642b6bf4efab14c287bff1ca290.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAY2FyeS56aGFp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Spring5æ¨¡å—" /></p>
<p><strong>ç‰¹ç‚¹</strong></p>
<ul>
<li>æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘</li>
<li>AOPç¼–ç¨‹æ”¯æŒ</li>
<li>æ–¹ä¾¿ç¨‹åºæµ‹è¯•</li>
<li>æ–¹ä¾¿å’Œå…¶ä»–æ¡†æ¶è¿›è¡Œæ•´åˆ</li>
<li>æ–¹ä¾¿è¿›è¡Œäº‹åŠ¡çš„æ“ä½œ</li>
<li>é™ä½APIå¼€å‘éš¾åº¦</li>
</ul>
<p>å¯ä»¥ä½¿ç”¨ <code>maven</code> åŒ…ç®¡ç†å·¥å…·ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½ Spring åˆ°æœ¬åœ°ã€‚</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://repo.spring.io/ui/native/release/org/springframework/spring/">Spring</a> ï¼Œä¸‹è½½å®Œæˆåï¼Œéœ€è¦å°†ä¸‹é¢å‡ ä¸ªjaråŒ…å¯¼å…¥åˆ°é¡¹ç›®æ–‡ä»¶ä¸­ã€‚è¿˜éœ€è¦å¼•å…¥ä¸€ä¸ªæ—¥å¿—åŒ…ã€‚</p>
<p><img src="/img/Java/06Spring/image-20220926163603438.png" alt="image-20220926163603438" /></p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://spring.io/projects/spring-framework#learn">Spring</a></p>
<h2 id="iocæ¦‚è¿°"><a class="markdownIt-Anchor" href="#iocæ¦‚è¿°"></a> IOCæ¦‚è¿°</h2>
<blockquote>
<p>æ§åˆ¶åè½¬IOC</p>
<p>aï¼‰æŠŠå¯¹è±¡åˆ›å»ºå’Œå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨è¿‡ç¨‹ï¼Œäº¤ç»™Springè¿›è¡Œç®¡ç†</p>
<p>bï¼‰ä½¿ç”¨IOCç›®çš„ï¼šä¸ºäº†é™ä½è€¦åˆåº¦</p>
</blockquote>
<h2 id="åº•å±‚åŸç†"><a class="markdownIt-Anchor" href="#åº•å±‚åŸç†"></a> åº•å±‚åŸç†</h2>
<ul>
<li>xmlè§£æ</li>
<li>å·¥å‚æ¨¡å¼</li>
</ul>
<p>è‹¥Aç±»ä¸­æƒ³è°ƒç”¨Bç±»ä¸­çš„æ–¹æ³•ã€‚ä¼ ç»Ÿçš„å…ˆåˆ›å»ºå¯¹è±¡å†è°ƒç”¨å¯¹è±¡ä¸­çš„æ–¹æ³•ï¼Œé€ æˆç¨‹åºçš„è€¦åˆåº¦å¤ªé«˜ã€‚å› æ­¤å‡ºç°äº†å·¥å‚æ¨¡å¼ï¼Œå¯ä»¥æœ‰æ•ˆé™ä½è€¦åˆåº¦ï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨è€¦åˆï¼š</p>
<p><strong>å·¥å‚æ¨¡å¼å®ç°è¿‡ç¨‹</strong></p>
<ol>
<li>å…ˆåˆ›å»ºç¬¬ä¸‰ä¸ªç±»ï¼ˆå·¥å‚ç±»Cï¼‰</li>
<li>é‡Œé¢å†™ä¸€ä¸ªé™æ€<code>static</code>æ–¹æ³•ï¼Œ</li>
<li>åœ¨æ–¹æ³•é‡Œé¢è¿”å›Bç±»çš„ä¸€ä¸ªå¯¹è±¡</li>
</ol>
<p>åˆ™Aç±»å°±å¯ä»¥é€šè¿‡<code>Bç±» ç±»å = Cç±»ç±»å.é™æ€æ–¹æ³•å();</code>æ¥è°ƒç”¨Bç±»ä¸­çš„æ–¹æ³•ã€‚</p>
<ul>
<li>åå°„</li>
</ul>
<h3 id="iocè§£è€¦è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#iocè§£è€¦è¿‡ç¨‹"></a> IOCè§£è€¦è¿‡ç¨‹â­</h3>
<ol>
<li>xmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®åˆ›å»ºçš„å¯¹è±¡ <code>&lt;bean id=&quot;dao&quot; class=&quot;com.xzt.UserDao&quot;&gt; &lt;/bean&gt;</code></li>
<li>åˆ›å»ºå·¥å‚ç±»ï¼Œå®ç°ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚æ–¹æ³•å®ç°è¿‡ç¨‹ã€‚
<ul>
<li>xmlè§£æ <code>String classValue = &quot;com.xzt.UserDao&quot;</code></li>
<li>é€šè¿‡åå°„åˆ›å»ºå¯¹è±¡ <code>Class clazz = Class.forName(classValue);</code></li>
<li><code>return (UserDao)clazz.newInstance();</code></li>
</ul>
</li>
</ol>
<h2 id="æ¥å£"><a class="markdownIt-Anchor" href="#æ¥å£"></a> æ¥å£</h2>
<p>IOC æ€æƒ³åŸºäºIOC å®¹å™¨å®Œæˆï¼ŒIOCå®¹å™¨åº•å±‚å°±æ˜¯å¯¹è±¡å·¥å‚</p>
<ul>
<li><code>BeanFactory</code> ï¼šIOCå®¹å™¨åŸºæœ¬å®ç°æ˜¯Springå†…éƒ¨æ¥å£çš„ä½¿ç”¨æ¥å£ï¼Œä¸æä¾›ç»™å¼€å‘äººå‘˜è¿›è¡Œä½¿ç”¨ã€‚</li>
<li><code>ApplicationContext</code>ï¼š<code>BeanFactory</code>æ¥å£çš„å­æ¥å£ï¼Œæä¾›æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œæä¾›ç»™å¼€å‘äººå‘˜ä½¿ç”¨ã€‚</li>
</ul>
<p><strong>åŒºåˆ«</strong></p>
<p><code>BeanFactory</code>åŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œåœ¨è·å–å¯¹è±¡æ—¶æ‰ä¼šåˆ›å»ºå¯¹è±¡ã€‚<code>ApplicationContext</code>åŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™å°±ä¼šæŠŠåœ¨é…ç½®æ–‡ä»¶å¯¹è±¡è¿›è¡Œåˆ›å»ºã€‚æ¨èä½¿ç”¨ï¼ï¼ï¼</p>
<h3 id="applicationcontextå®ç°ç±»"><a class="markdownIt-Anchor" href="#applicationcontextå®ç°ç±»"></a> <code>ApplicationContext</code>å®ç°ç±»</h3>
<ul>
<li><code>FileSystemXmlApplicationContext</code> æ ¹æ®ç³»ç»Ÿè·¯å¾„</li>
<li><code>ClassPathXmlApplicationContext</code> æ ¹æ®srcè·¯å¾„</li>
</ul>
<h2 id="iocå®¹å™¨-beanç®¡ç†"><a class="markdownIt-Anchor" href="#iocå®¹å™¨-beanç®¡ç†"></a> IOCå®¹å™¨-Beanç®¡ç†</h2>
<p><strong>Beanç®¡ç†</strong></p>
<ul>
<li>Springåˆ›å»ºå¯¹è±¡</li>
<li>Springæ³¨å…¥å±æ€§</li>
</ul>
<h3 id="åŸºäºxmlé…ç½®æ–‡ä»¶å®ç°beanç®¡ç†"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶å®ç°beanç®¡ç†"></a> åŸºäºXMLé…ç½®æ–‡ä»¶å®ç°Beanç®¡ç†</h3>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶åˆ›å»ºå¯¹è±¡"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶åˆ›å»ºå¯¹è±¡"></a> åŸºäºXMLé…ç½®æ–‡ä»¶åˆ›å»ºå¯¹è±¡</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// User.java</span></span><br><span class="line"><span class="keyword">package</span> com.xzt;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;add....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--1 é…ç½®Userå¯¹è±¡åˆ›å»º--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.spring5.User&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ bean æ ‡ç­¾ï¼Œæ ‡ç­¾é‡Œé¢æ·»åŠ å¯¹åº”å±æ€§ï¼Œå°±å¯ä»¥å®ç°å¯¹è±¡åˆ›å»ºã€‚</p>
<p><strong>beanæ ‡ç­¾çš„å¸¸ç”¨å±æ€§</strong></p>
<ul>
<li><code>id</code>å±æ€§ï¼šå”¯ä¸€æ ‡è¯†</li>
<li><code>class</code>å±æ€§ï¼šç±»çš„å…¨è·¯å¾„ï¼ˆåŒ…ç±»è·¯å¾„ï¼‰</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šåˆ›å»ºå¯¹è±¡æ—¶ï¼Œé»˜è®¤æ‰§è¡Œæ— å‚æ„é€ å‡½æ•°</p>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-setæ–¹å¼æ³¨å…¥"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-setæ–¹å¼æ³¨å…¥"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥å±æ€§ - setæ–¹å¼æ³¨å…¥â­</h4>
<p><code>&lt;property name=&quot;å˜é‡å&quot; value=&quot;å€¼&quot;&gt;&lt;/property&gt;</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Book ç±»</span></span><br><span class="line"><span class="comment">//ï¼ˆ1ï¼‰ä¼ ç»Ÿæ–¹å¼ï¼š åˆ›å»ºç±»ï¼Œå®šä¹‰å±æ€§å’Œå¯¹åº”çš„setæ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºå±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> String bname;</span><br><span class="line">    <span class="keyword">private</span> String bauthor;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºå±æ€§å¯¹åº”çš„setæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBname</span><span class="params">(String bname)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bname = bname;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBauthor</span><span class="params">(String bauthor)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bauthor = bauthor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--ï¼ˆ2ï¼‰springæ–¹å¼ï¼š setæ–¹æ³•æ³¨å…¥å±æ€§--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.spring5.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä½¿ç”¨propertyå®Œæˆå±æ€§æ³¨å…¥</span></span><br><span class="line"><span class="comment">        nameï¼šç±»é‡Œé¢å±æ€§åç§°</span></span><br><span class="line"><span class="comment">        valueï¼šå‘å±æ€§æ³¨å…¥çš„å€¼</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Hello&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bauthor&quot;</span> <span class="attr">value</span>=<span class="string">&quot;World&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-æœ‰å‚æ„é€ å‡½æ•°æ³¨å…¥"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-æœ‰å‚æ„é€ å‡½æ•°æ³¨å…¥"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥å±æ€§ - æœ‰å‚æ„é€ å‡½æ•°æ³¨å…¥â­</h4>
<p>ä¸¤ç§æ–¹å¼ï¼š</p>
<p><code>&lt;constructor-arg name=&quot;å˜é‡å&quot; value=&quot;å€¼&quot;&gt;&lt;/constructor-arg&gt;</code></p>
<p><code>&lt;constructor-arg index=&quot;å˜é‡ç¼–å·&quot; value=&quot;å€¼&quot;&gt;&lt;/constructor-arg&gt;</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ï¼ˆ1ï¼‰ä¼ ç»Ÿæ–¹å¼ï¼šåˆ›å»ºç±»ï¼Œæ„å»ºæœ‰å‚å‡½æ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Orders</span> &#123;</span><br><span class="line">    <span class="comment">//å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> String oname;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="comment">//æœ‰å‚æ•°æ„é€ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Orders</span><span class="params">(String oname, String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.oname = oname;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--ï¼ˆ2ï¼‰springæ–¹å¼ï¼šæœ‰å‚æ•°æ„é€ æ³¨å…¥å±æ€§--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orders&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.spring5.Orders&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç»™onameå˜é‡èµ‹å€¼ä¸ºHello addresså˜é‡èµ‹å€¼ä¸ºChina! --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;oname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Hello&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">value</span>=<span class="string">&quot;China!&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- å’Œä¸Šé¢çš„æ•ˆæœä¸€æ ·ï¼Œç»™ç¬¬ä¸€ä¸ªå‚æ•°èµ‹å€¼Helloï¼Œç»™ç¬¬äºŒä¸ªå‚æ•°èµ‹å€¼China! --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Hello&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;China!&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-påç§°ç©ºé—´æ³¨å…¥"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-påç§°ç©ºé—´æ³¨å…¥"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥å±æ€§ - påç§°ç©ºé—´æ³¨å…¥ ğŸ’¤</h4>
<p><strong>æ³¨æ„</strong>ï¼šéœ€è¦å…ˆæ·»åŠ påç§°ç©ºé—´åœ¨é…ç½®æ–‡ä»¶ä¸­</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 1ã€æ·»åŠ xmlns:p --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span> </span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--2ã€åœ¨beanæ ‡ç­¾è¿›è¡Œå±æ€§æ³¨å…¥ï¼ˆç®—æ˜¯setæ–¹å¼æ³¨å…¥çš„ç®€åŒ–æ“ä½œï¼‰--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.spring5.Book&quot;</span> <span class="attr">p:bname</span>=<span class="string">&quot;very&quot;</span> <span class="attr">p:bauthor</span>=<span class="string">&quot;good&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥ç©ºå€¼å’Œç‰¹æ®Šç¬¦å·"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥ç©ºå€¼å’Œç‰¹æ®Šç¬¦å·"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥ç©ºå€¼å’Œç‰¹æ®Šç¬¦å·</h4>
<p>å¯ä»¥å€ŸåŠ©<code>&lt;![CDATA[ ]]&gt;</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.spring5.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ï¼ˆ1ï¼‰nullå€¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">null</span>/&gt;</span>  <span class="comment">&lt;!-- å±æ€§é‡Œè¾¹æ·»åŠ ä¸€ä¸ªnullæ ‡ç­¾ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--ï¼ˆ2ï¼‰ç‰¹æ®Šç¬¦å·èµ‹å€¼ --&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- å±æ€§å€¼åŒ…å«ç‰¹æ®Šç¬¦å·</span></span><br><span class="line"><span class="comment">       a æŠŠ&lt;&gt;è¿›è¡Œè½¬ä¹‰ &amp;lt; &amp;gt;</span></span><br><span class="line"><span class="comment">       b æŠŠå¸¦ç‰¹æ®Šç¬¦å·å†…å®¹å†™åˆ°CDATA</span></span><br><span class="line"><span class="comment">      --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>&lt;![CDATA[&lt;&lt;å—äº¬&gt;&gt;]]&gt;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-å¤–éƒ¨bean"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-å¤–éƒ¨bean"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥å±æ€§ - å¤–éƒ¨Bean</h4>
<p>åˆ›å»ºä¸¤ä¸ªç±»<code>Service</code>ç±»å’Œ<code>Dao</code>ç±»ï¼Œåœ¨<code>Service</code>è°ƒç”¨<code>Dao</code>é‡Œçš„æ–¹æ³•ã€‚</p>
<p>åˆ›å»º<code>userDao</code>æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// userDao.java</span></span><br><span class="line"><span class="keyword">package</span> com.xzt.dao;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>userDaoImpl</code>ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// UserDaoImpl.java</span></span><br><span class="line"><span class="keyword">package</span> com.xzt.dao;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">UserDao</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;dao update .....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>userService</code>ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// UserService.java</span></span><br><span class="line"><span class="keyword">package</span> com.xzt.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.xzt.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.xzt.dao.UserDaoImpl;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1.åˆ›å»ºUserDaoå±æ€§ï¼Œç”Ÿæˆsetæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service add....&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¼ ç»Ÿæ–¹å¼</span></span><br><span class="line">        <span class="type">UserDao</span> <span class="variable">userDao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDaoImpl</span>();</span><br><span class="line">        userDao.update();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>bean2.xml</code>è¿›è¡Œå±æ€§æ³¨å…¥ï¼ˆä½¿ç”¨setæ–¹æ³•è¿›è¡Œæ³¨å…¥ï¼‰</p>
<ul>
<li><code>name</code>å±æ€§å€¼: ç±»é‡Œé¢å±æ€§çš„åå­—ï¼Œå°±æ˜¯ <code>private UserDao userDao</code> é‡Œé¢çš„userDao;</li>
<li><code>ref</code>å±æ€§å€¼: åˆ›å»º<code>userDao</code>å¯¹è±¡beanæ ‡ç­¾çš„idå€¼</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.serviceå’Œdaoå¯¹è±¡åˆ›å»º   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.service.UserService&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            æ³¨å…¥userDaoå¯¹è±¡</span></span><br><span class="line"><span class="comment">            nameå±æ€§å€¼: ç±»é‡Œé¢å±æ€§çš„åå­— private UserDao userDao;</span></span><br><span class="line"><span class="comment">            refå±æ€§å€¼: åˆ›å»ºuserDaoå¯¹è±¡beanæ ‡ç­¾çš„idå€¼</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoImpl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.dao.UserDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-å†…éƒ¨bean"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-å†…éƒ¨bean"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥å±æ€§ - å†…éƒ¨Bean</h4>
<p><strong>ä½œç”¨</strong>ï¼šä¸€å¯¹å¤šå…³ç³»ï¼šéƒ¨é—¨å’Œå‘˜å·¥ï¼Œä¸€ä¸ªéƒ¨é—¨å’Œå¤šä¸ªå‘˜å·¥ã€‚ä¸€ä¸ªå‘˜å·¥å±äºä¸€ä¸ªéƒ¨é—¨ã€‚åœ¨å®ä½“ç±»ä¹‹é—´è¡¨ç¤ºä¸€å¯¹å¤šçš„å…³ç³»ã€‚</p>
<p>éƒ¨é—¨ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.bean;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * éƒ¨é—¨ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dept</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String dname;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDname</span><span class="params">(String dname)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.dname = dname;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‘˜å·¥ç±»ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªéƒ¨é—¨å¯¹è±¡ï¼Œè¡¨ç¤ºè¯¥å‘˜å·¥æ‰€å±çš„éƒ¨é—¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.bean;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Emp</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String ename;</span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line">    <span class="comment">// å‘˜å·¥å±äºæŸä¸€ä¸ªéƒ¨é—¨ï¼Œå®šä¹‰ä¸€ä¸ªéƒ¨é—¨å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> Dept dept;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDept</span><span class="params">(Dept dept)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.dept = dept;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEname</span><span class="params">(String ename)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.ename = ename;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(String gender)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åˆ†åˆ«ç”¨ <em>å¤–éƒ¨ bean</em> å’Œ <em>å†…éƒ¨ bean</em> å®ç°äº†é…ç½®ï¼Œä¸¤ç§æ–¹å¼é€‰æ‹©ä¸€ç§å°±å¯ä»¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¤–éƒ¨beanå†™æ³• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.bean.Emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;lucy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.bean.Dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å†…éƒ¨beanå†™æ³• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.bean.Emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;lucy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.bean.Dept&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å®‰ä¿éƒ¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-çº§è”èµ‹å€¼"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥å±æ€§-çº§è”èµ‹å€¼"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥å±æ€§ - çº§è”èµ‹å€¼</h4>
<p>åŒæ—¶å‘æœ‰å…³è”çš„ç±»æ³¨å…¥å€¼ã€‚ä¸Šé¢çš„<code>å†…éƒ¨bean</code>ä¹Ÿå¯ä»¥å®ç°è¿™ç§æ•ˆæœ</p>
<p>ç¤ºä¾‹ä»£ç ï¼šä¿®æ”¹ä¸Šé¢çš„<code>xml</code>æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç¬¬ä¸€ç§å†™æ³• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.bean.Emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;lucy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- çº§è”èµ‹å€¼ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.bean.Dept&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å®‰ä¿éƒ¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">   	<span class="comment">&lt;!-- ç¬¬äºŒç§å†™æ³•ï¼Œéœ€è¦ç”Ÿæˆå¯¹åº”çš„getæ–¹æ³• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.bean.Emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;lucy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- çº§è”èµ‹å€¼ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept.dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å®‰ä¿éƒ¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>  <span class="comment">&lt;!-- éœ€è¦ç”Ÿæˆdeptçš„getæ–¹æ³•--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥é›†åˆå±æ€§-æ•°ç»„"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥é›†åˆå±æ€§-æ•°ç»„"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥é›†åˆå±æ€§-æ•°ç»„</h4>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ•°ç»„ç±»å‹æ³¨å…¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;courses&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>javaè¯¾ç¨‹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ•°æ®åº“è¯¾ç¨‹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥é›†åˆå±æ€§-list"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥é›†åˆå±æ€§-list"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥é›†åˆå±æ€§ - Listâ­</h4>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- listç±»å‹æ³¨å…¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>é‡Œæ–¯<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- listç±»å‹æ³¨å…¥ å¹¶ä¸”æ˜¯å¯¹è±¡ç±»å‹çš„å€¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cousers&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;course1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;course2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åˆ›å»ºå¤šä¸ªcourseå¯¹è±¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Math&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Spring&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;MySql&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>æŠŠé›†åˆæ³¨å…¥éƒ¨åˆ†æå–å‡ºæ¥</strong></p>
<ul>
<li>å¼•å…¥åç§°ç©ºé—´ï¼ˆç±»ä¼¼påç§°ç©ºé—´ï¼‰<code>util</code></li>
<li>åˆ›å»º<code>&lt;util:list id=&quot;idå€¼&quot;&gt; &lt;/util:list&gt;</code></li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼šå’Œä¸Šé¢çš„æ•ˆæœä¸€æ ·</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 1.å¼•å…¥utilå‘½åç©ºé—´ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.æå–listé›†åˆç±»å‹å±æ€§æ³¨å…¥ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">&quot;stringList&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>æå››<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 3.æå–listé›†åˆç±»å‹å±æ€§æ³¨å…¥ä½¿ç”¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;string&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Stu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;stringList&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ----------------------------------------------- --&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">&quot;courseList&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;course1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;course2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;string&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Stu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;courseList&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- åˆ›å»ºå¤šä¸ªcourseå¯¹è±¡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Math&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Spring&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;MySql&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥é›†åˆå±æ€§-map"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥é›†åˆå±æ€§-map"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥é›†åˆå±æ€§ - Map</h4>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- mapç±»å‹æ³¨å…¥ key-value --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maps&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;JAVA&quot;</span> <span class="attr">value</span>=<span class="string">&quot;java&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;PHP&quot;</span> <span class="attr">value</span>=<span class="string">&quot;php&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥é›†åˆå±æ€§-set"><a class="markdownIt-Anchor" href="#åŸºäºxmlé…ç½®æ–‡ä»¶-æ³¨å…¥é›†åˆå±æ€§-set"></a> åŸºäºXMLé…ç½®æ–‡ä»¶ - æ³¨å…¥é›†åˆå±æ€§ - Set</h4>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- setç±»å‹æ³¨å…¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sets&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>MySQL<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>Redis<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<p>ç¼–å†™<code>stu</code>å­¦ç”Ÿç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.collectiontype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Stu</span> &#123;</span><br><span class="line">    <span class="comment">// æ•°ç»„ç±»å‹å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> String[] courses;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String&gt; maps;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; sets;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Couser&gt; cousers;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCousers</span><span class="params">(List&lt;Couser&gt; cousers)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cousers = cousers;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSets</span><span class="params">(Set&lt;String&gt; sets)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sets = sets;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setList</span><span class="params">(List&lt;String&gt; list)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.list = list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMaps</span><span class="params">(Map&lt;String, String&gt; maps)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.maps = maps;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCourses</span><span class="params">(String[] courses)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.courses = courses;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™<code>Course</code>è¯¾ç¨‹ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.collectiontype;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Couser</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String cname;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCname</span><span class="params">(String cname)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cname = cname;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™<code>bean.xml</code>é…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Stu&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ•°ç»„ç±»å‹æ³¨å…¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;courses&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>javaè¯¾ç¨‹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ•°æ®åº“è¯¾ç¨‹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- listç±»å‹æ³¨å…¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>é‡Œæ–¯<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- mapç±»å‹æ³¨å…¥ key-value --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maps&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;JAVA&quot;</span> <span class="attr">value</span>=<span class="string">&quot;java&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;PHP&quot;</span> <span class="attr">value</span>=<span class="string">&quot;php&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- setç±»å‹æ³¨å…¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sets&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>MySQL<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>Redis<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- listç±»å‹æ³¨å…¥ å¹¶ä¸”æ˜¯å¯¹è±¡ç±»å‹çš„å€¼ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cousers&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;course1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;course2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- åˆ›å»ºå¤šä¸ªcourseå¯¹è±¡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Math&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Spring&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;MySql&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="å·¥å‚bean-factorybean"><a class="markdownIt-Anchor" href="#å·¥å‚bean-factorybean"></a> å·¥å‚bean (<code>FactoryBean</code>)</h3>
<blockquote>
<p>æ™®é€šbeanï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„beanç±»å‹å°±æ˜¯è¿”å›ç±»å‹ã€‚ä¸Šé¢æ‰€æœ‰çš„éƒ½æ˜¯æ™®é€šbeanã€‚</p>
<p>å·¥å‚beanï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„beanç±»å‹å¯ä»¥å’Œè¿”å›ç±»å‹ä¸ä¸€æ ·ã€‚</p>
</blockquote>
<ul>
<li>åˆ›å»ºç±»ï¼Œè®©è¿™ä¸ªç±»å®šä¹‰ä¸ºå·¥å‚ç±»ï¼Œé€šè¿‡å®ç°æ¥å£<code>FactoryBean</code></li>
<li>å®ç°æ¥å£é‡Œé¢çš„æ–¹æ³•ï¼Œåœ¨å®ç°çš„æ–¹æ³•ä¸­å®šä¹‰è¿”å›çš„ bean ç±»å‹</li>
</ul>
<p>åˆ›å»ºå·¥å‚ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.factorybean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.xzt.collectiontype.Couser;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.FactoryBean;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBean</span> <span class="keyword">implements</span> <span class="title class_">FactoryBean</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰è¿”å›bean</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Couser</span> <span class="variable">couser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Couser</span>();</span><br><span class="line">        <span class="keyword">return</span> couser;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSingleton</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> FactoryBean.<span class="built_in">super</span>.isSingleton();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™é…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 1.å¼•å…¥utilå‘½åç©ºé—´ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.factorybean.MyBean&quot;</span>&gt;</span>  <span class="comment">&lt;!-- å®šä¹‰çš„ç±»å‹ä¸º MyBeanç±»å‹ --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç¼–å†™æµ‹è¯•ç±»ã€‚è¿”å›ç±»å‹ä¸ºCourse</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Test01</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean3.xml&quot;</span>);</span><br><span class="line">        <span class="type">Couser</span> <span class="variable">couser</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;myBean&quot;</span>, Couser.class);<span class="comment">// beançš„å®šä¹‰ç±»å‹å’Œè¿”å›ç±»å‹ä¸ä¸€æ ·</span></span><br><span class="line">        System.out.println(couser);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="beançš„ä½œç”¨åŸŸ"><a class="markdownIt-Anchor" href="#beançš„ä½œç”¨åŸŸ"></a> Beançš„ä½œç”¨åŸŸ</h2>
<blockquote>
<p>åœ¨ spring é…ç½®æ–‡ä»¶ bean æ ‡ç­¾é‡Œé¢æœ‰å±æ€§ï¼ˆscopeï¼‰ç”¨äºè®¾ç½®å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹</p>
<p>åœ¨ Spring é‡Œé¢ï¼Œ**é»˜è®¤æƒ…å†µ **ä¸‹ bean æ˜¯ <strong>å•å®ä¾‹å¯¹è±¡</strong> ï¼Œä¸‹é¢è¿›è¡Œä½œç”¨åŸŸè®¾ç½®</p>
</blockquote>
<p>å•å®ä¾‹æ˜¯æŒ‡ä¸€ç›´éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¤šå®ä¾‹æ˜¯æŒ‡åˆ›å»ºä¸€æ¬¡å°±æ˜¯ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p>
<p><strong>è®¾ç½®å•å®ä¾‹ / å¤šå®ä¾‹</strong></p>
<p>é€šè¿‡å±æ€§<code>scope</code>è®¾ç½®æ˜¯å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹ã€‚</p>
<p><code>scope</code> å±æ€§å€¼</p>
<ul>
<li><code>singleton</code> é»˜è®¤å€¼ï¼Œè¡¨ç¤ºå•å®ä¾‹å¯¹è±¡ã€‚<strong>åœ¨åŠ è½½springé…ç½®æ–‡ä»¶æ—¶å°±ä¼šåˆ›å»ºå•å®ä¾‹å¯¹è±¡</strong></li>
<li><code>prototype</code> è¡¨ç¤ºå¤šå®ä¾‹å¯¹è±¡ã€‚<strong>ä¸æ˜¯åœ¨åŠ è½½springé…ç½®æ–‡ä»¶æ—¶åˆ›å»ºå•å®ä¾‹å¯¹è±¡ï¼Œæ˜¯åœ¨ä½¿ç”¨<code>getBean()</code>æ–¹æ³•æ—¶åˆ›å»ºå¤šå®ä¾‹ã€‚</strong></li>
<li><code>request</code></li>
<li><code>session</code></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.collectiontype.Couser&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Math&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="beançš„ç”Ÿå‘½å‘¨æœŸ"><a class="markdownIt-Anchor" href="#beançš„ç”Ÿå‘½å‘¨æœŸ"></a> Beançš„ç”Ÿå‘½å‘¨æœŸ</h2>
<blockquote>
<p>ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€ä¸ªå¯¹è±¡ä»åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹ã€‚</p>
</blockquote>
<h3 id="beançš„ç”Ÿå‘½å‘¨æœŸ-2"><a class="markdownIt-Anchor" href="#beançš„ç”Ÿå‘½å‘¨æœŸ-2"></a> Beançš„ç”Ÿå‘½å‘¨æœŸ</h3>
<ol>
<li>é€šè¿‡æ„é€ å™¨åˆ›å»ºBeanå®ä¾‹ï¼ˆæ— å‚æ„é€ ï¼‰</li>
<li>ä¸º bean çš„å±æ€§è®¾ç½®å€¼å’Œå¯¹å…¶ä»– bean å¼•ç”¨ï¼ˆè°ƒç”¨ set æ–¹æ³•ï¼‰</li>
<li>è°ƒç”¨ bean çš„åˆå§‹åŒ–çš„æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®åˆå§‹åŒ–çš„æ–¹æ³•ï¼‰</li>
<li>bean å¯ä»¥ä½¿ç”¨äº†ï¼ˆå¯¹è±¡è·å–åˆ°äº†ï¼‰</li>
<li>å½“å®¹å™¨å…³é—­æ—¶å€™ï¼Œè°ƒç”¨ bean çš„é”€æ¯çš„æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®é”€æ¯çš„æ–¹æ³•ï¼‰</li>
</ol>
<p>å®ä¾‹ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sun.tracing.dtrace.ArgsAttributes;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Orders</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String oname;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Orders</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¬¬ä¸€æ­¥ æ‰§è¡Œæ— å‚æ„é€ åˆ›å»ºå®ä¾‹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOname</span><span class="params">(String oname)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.oname = oname;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¬¬äºŒæ­¥ è°ƒç”¨setæ–¹æ³•è®¾ç½®å€¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºæ‰§è¡Œåˆå§‹åŒ–çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initMethod</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¬¬ä¸‰æ­¥ æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ›å»ºæ‰§è¡Œé”€æ¯çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initDestory</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¬¬äº”æ­¥ æ‰§è¡Œé”€æ¯çš„æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean4.xml&quot;</span>);</span><br><span class="line">        <span class="type">Orders</span> <span class="variable">order</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;order&quot;</span>, Orders.class);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¬¬å››æ­¥ è·å–åˆ›å»ºbeanå®ä¾‹å¯¹è±¡&quot;</span>);</span><br><span class="line">        System.out.println(order);</span><br><span class="line"></span><br><span class="line">        ((ClassPathXmlApplicationContext) context).close(); <span class="comment">// æ‰‹åŠ¨é”€æ¯</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™é…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- init-method: åˆå§‹åŒ–æ–¹æ³•æ˜¯è°ƒç”¨  destroy-method:é”€æ¯æ–¹æ³•æ—¶è°ƒç”¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;order&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.bean.Orders&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;initMethod&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;initDestory&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;oname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/06Spring/image-20220926212401428.png" alt="image-20220926212401428" /></p>
<h3 id="bean-çš„åç½®å¤„ç†å™¨"><a class="markdownIt-Anchor" href="#bean-çš„åç½®å¤„ç†å™¨"></a> Bean çš„åç½®å¤„ç†å™¨</h3>
<p>bean ç”Ÿå‘½å‘¨æœŸæœ‰ä¸ƒæ­¥ ï¼ˆæ­£å¸¸ç”Ÿå‘½å‘¨æœŸä¸ºäº”æ­¥ï¼Œè€Œé…ç½®åç½®å¤„ç†å™¨åä¸ºä¸ƒæ­¥ï¼‰</p>
<ol>
<li>é€šè¿‡æ„é€ å™¨åˆ›å»º bean å®ä¾‹ï¼ˆæ— å‚æ•°æ„é€ ï¼‰</li>
<li>ä¸º bean çš„å±æ€§è®¾ç½®å€¼å’Œå¯¹å…¶ä»– bean å¼•ç”¨ï¼ˆè°ƒç”¨ set æ–¹æ³•ï¼‰</li>
<li>æŠŠ bean å®ä¾‹ä¼ é€’ bean åç½®å¤„ç†å™¨çš„æ–¹æ³• <code>postProcessBeforeInitialization</code> ğŸ’¡</li>
<li>è°ƒç”¨ bean çš„åˆå§‹åŒ–çš„æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®åˆå§‹åŒ–çš„æ–¹æ³•ï¼‰</li>
<li>æŠŠ bean å®ä¾‹ä¼ é€’ bean åç½®å¤„ç†å™¨çš„æ–¹æ³• <code>postProcessAfterInitialization</code> ğŸ’¡</li>
<li>bean å¯ä»¥ä½¿ç”¨äº†ï¼ˆå¯¹è±¡è·å–åˆ°äº†ï¼‰</li>
<li>å½“å®¹å™¨å…³é—­æ—¶å€™ï¼Œè°ƒç”¨ bean çš„é”€æ¯çš„æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®é”€æ¯çš„æ–¹æ³•ï¼‰</li>
</ol>
<p>åç½®å¤„ç†å™¨çš„å®ç°æ–¹æ³•ï¼šåˆ›å»ºä¸€ä¸ªç±»<code>MyBeanPost</code>ï¼Œå®ç°ä¸€ä¸ªæ¥å£ <code>BeanPostProcessor</code>ã€‚å¹¶ä¸”åœ¨xmlä¸­é…ç½®åç½®å¤„ç†å™¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myBeanPost&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.bean.MyBeanPost&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é…ç½®åç½®å¤„ç†å™¨ï¼Œä¼šå¯¹å½“å‰xmlæ–‡ä»¶ä¸­çš„æ‰€æœ‰é…ç½®éƒ½æ·»åŠ ä¸Šåç½®å¤„ç†å™¨ --&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="beanç®¡ç†"><a class="markdownIt-Anchor" href="#beanç®¡ç†"></a> Beanç®¡ç†</h2>
<h3 id="xmlè‡ªåŠ¨è£…é…"><a class="markdownIt-Anchor" href="#xmlè‡ªåŠ¨è£…é…"></a> XMLè‡ªåŠ¨è£…é…</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.autowire;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dept</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.autowire;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Emp</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Dept dept;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDept</span><span class="params">(Dept dept)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.dept = dept;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Emp&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;dept=&quot;</span> + dept +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ‰‹åŠ¨è£…é… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.autowire.Emp&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.autowire.Dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>beanæ ‡ç­¾å±æ€§<code>autowire</code> ç”¨æ¥é…ç½®è‡ªåŠ¨è£…é…ã€‚<code>autowire</code>å±æ€§æœ‰ä¸¤ä¸ªå€¼ï¼š</p>
<ul>
<li><code>byName</code> æ ¹æ®å±æ€§åç§°æ³¨å…¥ã€‚éœ€è¦æ³¨å…¥beançš„idå€¼å’Œç±»å¯¹è±¡åç§°ä¸€æ ·ã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å®ç°è‡ªåŠ¨è£…é…-byName --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.autowire.Emp&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿™é‡Œçš„idå€¼å¿…é¡»å’ŒEmpç±»ä¸­çš„Deptå¯¹è±¡åç§°ç›¸åŒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.autowire.Dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><code>byType</code> æ ¹æ®ç±»å‹å±æ€§æ³¨å…¥ã€‚å­˜åœ¨ç¼ºé™·ï¼Œç›¸åŒçš„ç±»ä¸èƒ½åˆ›å»ºå¤šä¸ªã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å®ç°è‡ªåŠ¨è£…é…-byType --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.autowire.Emp&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xzt.autowire.Dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶"><a class="markdownIt-Anchor" href="#å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶"></a> å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶</h3>
<h4 id="ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯"><a class="markdownIt-Anchor" href="#ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯"></a> ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯</h4>
<ol>
<li>é…ç½®Druidï¼ˆå¾·é²ä¼Šï¼‰è¿æ¥æ± </li>
<li>å¼•å…¥Druidï¼ˆå¾·é²ä¼Šï¼‰è¿æ¥æ± ä¾èµ– jar åŒ…</li>
</ol>
<p>é…ç½®Druidï¼ˆå¾·é²ä¼Šï¼‰è¿æ¥æ± </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/userDb&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± "><a class="markdownIt-Anchor" href="#å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± "></a> å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± â­â­</h4>
<ol>
<li>åˆ›å»ºå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼Œ<code>properties</code> æ ¼å¼æ–‡ä»¶ï¼Œå†™æ•°æ®åº“ä¿¡æ¯ï¼ˆ<strong>jdbc.properties</strong>ï¼‰</li>
</ol>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># jdbc.properties</span></span><br><span class="line"><span class="attr">prop.driverClass</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">prop.url</span>=<span class="string">jdbc:mysql://localhost:3306/userDb</span></span><br><span class="line"><span class="attr">prop.userName</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">prop.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>æŠŠå¤–éƒ¨ properties å±æ€§æ–‡ä»¶å¼•å…¥åˆ° spring é…ç½®æ–‡ä»¶ä¸­ â€”â€” å¼•å…¥ context åç§°ç©ºé—´</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥contextåç§°ç©ºé—´ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®è¿æ¥æ± --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.driverClass&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.userName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="åŸºäºæ³¨è§£æ–¹å¼å¼•å…¥å¯¹è±¡"><a class="markdownIt-Anchor" href="#åŸºäºæ³¨è§£æ–¹å¼å¼•å…¥å¯¹è±¡"></a> åŸºäºæ³¨è§£æ–¹å¼å¼•å…¥å¯¹è±¡</h3>
<blockquote>
<p>æ³¨è§£ï¼šæ˜¯ä»£ç ç‰¹æ®Šæ ‡è®°ï¼Œæ ¼å¼ï¼š<code>@æ³¨è§£åç§°(å±æ€§åç§°=å±æ€§å€¼, å±æ€§åç§°=å±æ€§å€¼)</code></p>
</blockquote>
<p><strong>ä½œç”¨ä½ç½®</strong>ï¼šæ³¨è§£å¯ä»¥ä½œç”¨åœ¨ç±»ä¸Šã€æ–¹æ³•ä¸Šã€å±æ€§ä¸Šé¢ã€‚</p>
<p><strong>ç›®çš„</strong>ï¼šç®€åŒ–xmlé…ç½®</p>
<p><strong>springé’ˆå¯¹Beanç®¡ç†ä¸­åˆ›å»ºå¯¹è±¡æä¾›æ³¨è§£</strong></p>
<ul>
<li><code>@Component</code> æ™®é€šæ³¨è§£</li>
<li><code>@Service</code> ç”¨åœ¨ä¸šåŠ¡é€»è¾‘å±‚</li>
<li><code>@Controller</code> ç”¨åœ¨Webå±‚</li>
<li><code>@Repository</code> ç”¨åœ¨Daoå±‚</li>
</ul>
<p>ä¸Šé¢çš„å››ä¸ªæ³¨è§£ï¼ŒåŠŸèƒ½ç›¸åŒï¼Œéƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºBeanå®ä¾‹ã€‚</p>
<h4 id="åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»ºæ­¥éª¤"><a class="markdownIt-Anchor" href="#åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»ºæ­¥éª¤"></a> <strong>åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»ºæ­¥éª¤</strong>â­â­</h4>
<ol>
<li>
<p>å¼•å…¥AOPä¾èµ–<code>spring-aop-5.3.23.jar</code></p>
</li>
<li>
<p>å¼€å¯ç»„ä»¶æ‰«æã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­å¼•å…¥åç§°ç©ºé—´<code>context</code>ï¼Œç„¶åç¼–å†™é…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥contextåç§°ç©ºé—´ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯ç»„ä»¶æ‰«æ,ä¸¤ç§å†™æ³•</span></span><br><span class="line"><span class="comment">		1.å¦‚æœæ‰«æå¤šä¸ªåŒ…ï¼Œå¤šä¸ªåŒ…ä½¿ç”¨é€—å·éš”å¼€</span></span><br><span class="line"><span class="comment">		2.æ‰«æåŒ…ä¸Šå±‚ç›®å½•</span></span><br><span class="line"><span class="comment"> 	--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xzt.dao, com.xzt.service, com.xzt.controller&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xzt&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åˆ›å»ºç±»ï¼Œåœ¨ç±»ä¸Šé¢æ·»åŠ åˆ›å»ºå¯¹è±¡æ³¨é‡Šã€‚</p>
<p>åŠ å››ä¸ªæ³¨è§£ä¸­çš„å…¶ä¸­ä»»ä½•ä¸€ä¸ªéƒ½å¯ä»¥ã€‚å¹¶ä¸”å…¶ä¸­ valueå±æ€§å€¼å¯ä»¥ä¸å†™ã€‚é»˜è®¤å°±æ˜¯ç±»åç§°é¦–å­—æ¯å°å†™ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * ç”¨æ³¨è§£æ–¹å¼åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// åŠ å››ä¸ªæ³¨è§£ä¸­çš„å…¶ä¸­ä»»ä½•ä¸€ä¸ªéƒ½å¯ä»¥ï¼Œ</span></span><br><span class="line"><span class="comment">// valueå±æ€§å€¼å¯ä»¥ä¸å†™ã€‚é»˜è®¤å°±æ˜¯ç±»åç§°é¦–å­—æ¯å°å†™ã€‚</span></span><br><span class="line"><span class="meta">@Service(value = &quot;userService&quot;)</span> <span class="comment">// &lt;bean id=&quot;userService&quot; class=&quot;...&quot;/&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;servcie add....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testService</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);  <span class="comment">// å¼•å…¥é…ç½®æ–‡ä»¶ï¼Œ</span></span><br><span class="line">    <span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);  <span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">    System.out.println(userService);</span><br><span class="line">    userService.add();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å¼€å¯ç»„ä»¶æ‰«æé…ç½®ç»†èŠ‚</strong></p>
<ul>
<li><code>use-default-filters=&quot;false&quot;</code> è¡¨ç¤ºç°åœ¨ä¸ä½¿ç”¨é»˜è®¤ filterï¼Œè‡ªå·±é…ç½® filterã€‚<code>context:include-filter</code> æ ‡ç­¾è®¾ç½®æ‰«æå“ªäº›å†…å®¹</li>
<li><code>context:exclude-filter</code> æ ‡ç­¾è®¾ç½®å“ªäº›æ³¨è§£ä¸æ‰«æã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--ç¤ºä¾‹ 1</span></span><br><span class="line"><span class="comment">     use-default-filters=&quot;false&quot; è¡¨ç¤ºç°åœ¨ä¸ä½¿ç”¨é»˜è®¤ filterï¼Œè‡ªå·±é…ç½® filter</span></span><br><span class="line"><span class="comment">     context:include-filter ï¼Œè®¾ç½®æ‰«æå“ªäº›å†…å®¹</span></span><br><span class="line"><span class="comment">		type=&quot;annotation&quot; æ ¹æ®æ³¨è§£è¿›è¡Œæ‰«æ</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.atguigu&quot;</span> <span class="attr">use-defaultfilters</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">context:include-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span> <span class="comment">&lt;!--ä»£è¡¨åªæ‰«æControlleræ³¨è§£çš„ç±»--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--ç¤ºä¾‹ 2</span></span><br><span class="line"><span class="comment">     ä¸‹é¢é…ç½®æ‰«æåŒ…æ‰€æœ‰å†…å®¹</span></span><br><span class="line"><span class="comment">     context:exclude-filterï¼š è®¾ç½®å“ªäº›å†…å®¹ä¸è¿›è¡Œæ‰«æ</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.atguigu&quot;</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!--è¡¨ç¤ºControlleræ³¨è§£çš„ç±»ä¹‹å¤–ä¸€åˆ‡éƒ½è¿›è¡Œæ‰«æ--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="åŸºäºæ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥"><a class="markdownIt-Anchor" href="#åŸºäºæ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥"></a> åŸºäºæ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥</h4>
<p><strong>å¸¸ç”¨äºå±æ€§æ³¨å…¥çš„æ³¨è§£</strong></p>
<ul>
<li><code>@AutoWired</code> æ ¹æ®å±æ€§ç±»å‹è¿›å…¥è‡ªåŠ¨æ³¨å…¥</li>
<li><code>@Qualifier(value=&quot;åç§°&quot;)</code> æ ¹æ®å±æ€§åç§°è¿›è¡Œæ³¨å…¥ã€‚éœ€è¦å’Œ<code>@AutoWired</code>ä¸€èµ·ä½¿ç”¨</li>
<li><code>@Resource</code> å¯ä»¥æ ¹æ®ç±»å‹æ³¨å…¥<code>@Resource</code>ï¼Œä¹Ÿå¯ä»¥æ ¹æ®åç§°æ³¨å…¥ <code>@Resource(name=&quot;åç§°&quot;)</code>ï¼Œä¸å»ºè®®ç”¨</li>
<li><code>@Value(value = &quot;å€¼&quot;)</code> æ³¨å…¥æ™®é€šç±»å‹å±æ€§ã€‚</li>
</ul>
<p><strong>åŸºäºæ³¨è§£å±æ€§æ³¨å…¥æ­¥éª¤</strong> â­â­</p>
<ol>
<li>
<p>æŠŠ servcie å’Œ dao å¯¹è±¡åˆ›å»ºï¼Œåœ¨ service å’Œ dao ç±»æ·»åŠ åˆ›å»ºå¯¹è±¡æ³¨é‡Šã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Repository(value = &quot;userDaoImpl1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">UserDao</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;dao add......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨ service é‡Œæ³¨å…¥ dao å¯¹è±¡ï¼Œåœ¨ service ç±»æ·»åŠ  dao ç±»å‹å±æ€§ã€‚åœ¨å±æ€§ä¸Šé¢ä½¿ç”¨æ³¨è§£ã€‚ä¸éœ€è¦åŠ setæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.xzt.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * ç”¨æ³¨è§£æ–¹å¼åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// åŠ å››ä¸ªæ³¨è§£ä¸­çš„å…¶ä¸­ä»»ä½•ä¸€ä¸ªéƒ½å¯ä»¥ï¼Œ</span></span><br><span class="line"><span class="comment">// valueå±æ€§å€¼å¯ä»¥ä¸å†™ã€‚é»˜è®¤å°±æ˜¯ç±»åç§°é¦–å­—æ¯å°å†™ã€‚</span></span><br><span class="line"><span class="meta">@Service(value = &quot;userService&quot;)</span> <span class="comment">// &lt;bean id=&quot;userService&quot; class=&quot;...&quot;/&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰daoç±»å‹å±æ€§</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(value = &quot;userDaoImpl1&quot;)</span>  <span class="comment">// å’Œ@Repository(value = &quot;userDaoImpl1&quot;)è¿™é‡Œçš„å¯¹åº”</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Value(value = &quot;abc&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;servcie add....&quot;</span>);</span><br><span class="line">        userDao.add();  <span class="comment">// è°ƒç”¨daoé‡Œçš„addæ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="çº¯æ³¨è§£å¼€å‘"><a class="markdownIt-Anchor" href="#çº¯æ³¨è§£å¼€å‘"></a> çº¯æ³¨è§£å¼€å‘</h4>
<p><strong>æ­¥éª¤</strong></p>
<ol>
<li>
<p>åˆ›å»ºé…ç½®ç±»<code>SpringConfig.java</code>ï¼Œæ›¿ä»£<code>xml</code>é…ç½®æ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span> <span class="comment">// æŠŠå½“å‰ç±»ä½œä¸ºé…ç½®ç±»ï¼Œç”¨è¿™ä¸ªç±»æ›¿ä»£xmlé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.xzt&quot;&#125;)</span>  <span class="comment">// åŒ…æ‰«æ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åŠ è½½é…ç½®ç±»çš„æ–¹å¼éœ€è¦æ”¹å˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);  // æ ¹æ®xmlé…ç½®æ–‡ä»¶åŠ è½½</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);  <span class="comment">// æ ¹æ®é…ç½®ç±»åŠ è½½</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ3</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Java ä¼ä¸šå¼€å‘åŸºç¡€ Spring5-JDBCTemplate</title>
    <url>/2022/09/27/JAVA/08Spring5_JdbcTemplate/</url>
    <content><![CDATA[<h2 id="jdbctemplateæ¦‚è¿°"><a class="markdownIt-Anchor" href="#jdbctemplateæ¦‚è¿°"></a> JdbcTemplateæ¦‚è¿°</h2>
<blockquote>
<p>Spring æ¡†æ¶å¯¹ JDBC è¿›è¡Œå°è£…ï¼Œä½¿ç”¨ JdbcTemplate æ–¹ä¾¿å®ç°å¯¹æ•°æ®åº“æ“ä½œ</p>
</blockquote>
<h2 id="å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#å‡†å¤‡å·¥ä½œ"></a> å‡†å¤‡å·¥ä½œ</h2>
<ol>
<li>
<p>å¯¼å…¥jaråŒ… <code>druid-1.1.9.jar</code>ã€<code>mysql-connector-java-8.0.29.jar</code> è¿™ä¸ªéœ€è¦æ ¹æ®è‡ªå·±å®‰è£…çš„MySQLç‰ˆæœ¬é€‰æ‹©ä¸åŒç‰ˆæœ¬çš„jaråŒ…ã€<code>spring-jdbc-5.3.23.jar</code>ã€<code>spring-tx-5.3.23.jar</code>ã€<code>spring-orm-5.3.23.jar</code></p>
<p><img src="/img/Java/08Spring5_JdbcTemplate/image-20220928092901445.png" alt="image-20220928092901445" /></p>
</li>
<li>
<p>åœ¨ spring é…ç½®æ–‡ä»¶ä¸­é…ç½®è¿æ¥æ± </p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">prop.driverClass</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">prop.url</span>=<span class="string">jdbc:mysql://localhost:3306/userDb</span></span><br><span class="line"><span class="attr">prop.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">prop.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥contextåç§°ç©ºé—´ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®è¿æ¥æ± --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.driverClass&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.userName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>é…ç½® JdbcTemplateå¯¹è±¡ï¼Œæ³¨å…¥ DataSource</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åˆ›å»ºJdbcTemplateå¯¹è±¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥dataSourceæ•°æ®æºä¿¡æ¯ï¼Œä½¿ç”¨setæ–¹æ³•æ³¨å…¥ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åˆ›å»º service ç±»ï¼Œåˆ›å»º dao ç±»ï¼Œåœ¨ dao æ³¨å…¥ jdbcTemplate å¯¹è±¡</p>
<ol>
<li>
<p>å¼€å¯ç»„ä»¶æ‰«æï¼Œç›®çš„æ˜¯å¯ä»¥ä½¿ç”¨æ³¨è§£æ³¨å…¥å¯¹è±¡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼€å¯ç»„ä»¶æ‰«æï¼Œå¯ä»¥ä½¿ç”¨æ³¨è§£æ³¨å…¥å¯¹è±¡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xzt.spring5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åˆ›å»º dao æ³¨å…¥ JdbcTemplate å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ³¨å…¥jdbcTemplateå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åˆ›å»º service ç±»ï¼Œæ³¨å…¥daoå¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ³¨å…¥dao</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
<h2 id="jdbctemplateæ•°æ®åº“æ“ä½œ"><a class="markdownIt-Anchor" href="#jdbctemplateæ•°æ®åº“æ“ä½œ"></a> JdbcTemplateæ•°æ®åº“æ“ä½œ</h2>
<p><img src="/img/Java/08Spring5_JdbcTemplate/image-20220928102201600.png" alt="image-20220928102201600" /></p>
<h3 id="æ·»åŠ åŠŸèƒ½"><a class="markdownIt-Anchor" href="#æ·»åŠ åŠŸèƒ½"></a> æ·»åŠ åŠŸèƒ½</h3>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> è¡¨å(å­—æ®µ<span class="number">1</span>, å­—æ®µ<span class="number">2</span>, ...) <span class="keyword">values</span>(å€¼, å€¼, ....);</span><br></pre></td></tr></table></figure>
<p><strong>å®ç°æ­¥éª¤</strong></p>
<ol>
<li>
<p>æ·»åŠ æ•°æ®åº“è¡¨å¯¹åº”çš„å®ä½“ç±»</p>
</li>
<li>
<p>ç¼–å†™ service å’Œ daoï¼Œåœ¨daoé‡Œé¢å®ç°æ•°æ®åº“æ·»åŠ æ“ä½œã€‚è°ƒç”¨ JdbcTemplate å¯¹è±¡ä¸­çš„ <code>update</code>æ–¹æ³•å®ç°æ·»åŠ æ“ä½œã€‚</p>
<ol>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsqlè¯­å¥</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ï¼šå¯å˜å‚æ•°ï¼Œè®¾ç½®sqlè¯­å¥å€¼</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ³¨å…¥jdbcTemplateå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºsqlè¯­å¥</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into t_book values(?, ?, ?)&quot;</span>;</span><br><span class="line">        <span class="comment">// è°ƒç”¨æ–¹æ³•å®ç°ã€‚</span></span><br><span class="line">        Object[] args = &#123;book.getBookId(), book.getBookusername(), book.getBstatus()&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">update</span> <span class="operator">=</span> jdbcTemplate.update(sql, args);</span><br><span class="line">        System.out.println(update);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æµ‹è¯•ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDemo01</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºbookServiceå¯¹è±¡</span></span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line">    <span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;bookService&quot;</span>, BookService.class);</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">    bookService.addBook(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="number">1</span>, <span class="string">&quot;Spring5&quot;</span>, <span class="string">&quot;Y&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½"><a class="markdownIt-Anchor" href="#ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½"></a> ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½</h3>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> è¡¨å <span class="keyword">set</span> å­—æ®µ<span class="number">1</span> <span class="operator">=</span> å€¼, å­—æ®µ<span class="number">2</span> <span class="operator">=</span> å€¼ <span class="keyword">where</span> å­—æ®µ<span class="number">3</span> <span class="operator">=</span> å€¼;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> è¡¨å <span class="keyword">where</span> å­—æ®µ <span class="operator">=</span> å€¼;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹æ–¹æ³•</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update t_book set bookname = ?, bstatus = ? where book_id = ?&quot;</span>;</span><br><span class="line">    Object[] args = &#123;book.getBookname(), book.getBstatus(), book.getBookId()&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="variable">update</span> <span class="operator">=</span> jdbcTemplate.update(sql, args);</span><br><span class="line">    System.out.println(update);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤æ–¹æ³•</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteBook</span><span class="params">(Integer bookId)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete from t_book where book_id = ?&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">update</span> <span class="operator">=</span> jdbcTemplate.update(sql, bookId);</span><br><span class="line">    System.out.println(update);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æŸ¥è¯¢åŠŸèƒ½"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢åŠŸèƒ½"></a> æŸ¥è¯¢åŠŸèƒ½</h3>
<h4 id="æŸ¥è¯¢è¿”å›æŸä¸ªå€¼"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢è¿”å›æŸä¸ªå€¼"></a> æŸ¥è¯¢è¿”å›æŸä¸ªå€¼</h4>
<p>ä½¿ç”¨<code>queryForObject</code>å‡½æ•°ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsql è¯­å¥</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ï¼š<code>è¿”å›ç±»å‹.class</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥è¯¢è¡¨è®°å½•æ•°</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Integer <span class="title function_">getCount</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select count(*) from t_book&quot;</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">count</span> <span class="operator">=</span> jdbcTemplate.queryForObject(sql, Integer.class);</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥è¯¢è¿”å›å¯¹è±¡"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢è¿”å›å¯¹è±¡"></a> æŸ¥è¯¢è¿”å›å¯¹è±¡</h4>
<p>ä½¿ç”¨<code>queryForObject</code>æ–¹æ³•ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsql è¯­å¥</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ï¼š<code>RowMapper</code>ï¼Œæ˜¯æ¥å£ï¼Œè¿”å›ä¸åŒç±»å‹çš„æ•°æ®ï¼Œä½¿ç”¨è¿™ä¸ªæ¥å£é‡Œé¢å®ç°ç±»<code>BeanPropertyRowMapper</code>å®Œæˆæ•°æ®å°è£…ã€‚</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šè¿”å›å€¼çš„æ•°æ®ç±»å‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥è¯¢è¿”å›å¯¹è±¡</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Book <span class="title function_">getOneBook</span><span class="params">(Integer bookId)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from t_book where book_id = ?&quot;</span>;</span><br><span class="line">    Object[] args = &#123;bookId&#125;;</span><br><span class="line">    <span class="type">Book</span> <span class="variable">book</span> <span class="operator">=</span> jdbcTemplate.queryForObject(sql, <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;Book&gt;(Book.class), bookId);</span><br><span class="line">    <span class="keyword">return</span> book;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥è¯¢è¿”å›é›†åˆ"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢è¿”å›é›†åˆ"></a> æŸ¥è¯¢è¿”å›é›†åˆ</h4>
<p>ä½¿ç”¨<code>queryForList</code>æ–¹æ³•ã€‚æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsql è¯­å¥</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ï¼š<code>RowMapper</code>ï¼Œæ˜¯æ¥å£ï¼Œè¿”å›ä¸åŒç±»å‹çš„æ•°æ®ï¼Œä½¿ç”¨è¿™ä¸ªæ¥å£é‡Œé¢å®ç°ç±»<code>BeanPropertyRowMapper</code>å®Œæˆæ•°æ®å°è£…ã€‚</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šè¿”å›å€¼çš„æ•°æ®ç±»å‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥è¯¢é›†åˆåˆ—è¡¨</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getAllBook</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from t_book&quot;</span>;</span><br><span class="line">    List&lt;Book&gt; bookList = jdbcTemplate.query(sql, <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;Book&gt;(Book.class));</span><br><span class="line">    <span class="keyword">return</span> books;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ‰¹é‡æ·»åŠ ä¿®æ”¹åˆ é™¤"><a class="markdownIt-Anchor" href="#æ‰¹é‡æ·»åŠ ä¿®æ”¹åˆ é™¤"></a> æ‰¹é‡æ·»åŠ /ä¿®æ”¹/åˆ é™¤</h4>
<p>æ“ä½œè¡¨é‡Œçš„å¤šæ¡è®°å½•ã€‚ä½¿ç”¨ JdbcTemplate ä¸­çš„ <code>batchUpdate</code> æ–¹æ³•ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsqlè¯­å¥</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ï¼š<code>List&lt;Object[]&gt;</code> listé›†åˆï¼Œæ·»åŠ å¤šæ¡æ•°æ®è®°å½•ã€‚</li>
</ul>
<p><strong>åº•å±‚åŸç†</strong>ï¼šéå† list é›†åˆï¼Œå¯¹æ¯ä¸ªæ•°ç»„å€¼è¿›è¡Œ sql æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‰¹é‡æ·»åŠ </span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">batchAdd</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into t_book values(?, ?, ?)&quot;</span>;</span><br><span class="line">    <span class="type">int</span>[] ints = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">    System.out.println(Arrays.toString(ints));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¹é‡ä¿®æ”¹</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">batcUpdate</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> &#123;  <span class="comment">// éœ€è¦æ³¨æ„æ•°ç»„é‡Œé¢å‚æ•°çš„é¡ºåºã€‚</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update t_book set bookname = ?, bstatus = ? where book_id = ?&quot;</span>;</span><br><span class="line">    <span class="type">int</span>[] ints = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">    System.out.println(Arrays.toString(ints));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¹é‡åˆ é™¤</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">batcDelete</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete from t_book where book_id = ?&quot;</span>;</span><br><span class="line">    <span class="type">int</span>[] ints = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">    System.out.println(Arrays.toString(ints));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ3</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Java ä¼ä¸šå¼€å‘åŸºç¡€ Spring5-Affair</title>
    <url>/2022/09/28/JAVA/09Spring5_Affair/</url>
    <content><![CDATA[<h1 id="äº‹åŠ¡"><a class="markdownIt-Anchor" href="#äº‹åŠ¡"></a> äº‹åŠ¡</h1>
<blockquote>
<p>äº‹åŠ¡æ˜¯æ•°æ®åº“æ“ä½œæœ€åŸºæœ¬å•å…ƒï¼Œé€»è¾‘ä¸Šä¸€ç»„æ“ä½œï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¤±è´¥æ‰€æœ‰æ“ ä½œéƒ½å¤±è´¥</p>
<p>å…¸å‹åœºæ™¯ï¼šé“¶è¡Œè½¬è´¦ å¼ ä¸‰ è½¬è´¦ 100 å…ƒ ç»™ æå››ï¼› å¼ ä¸‰å°‘ 100ï¼Œæå››å¤š 100</p>
</blockquote>
<p><strong>äº‹åŠ¡å››ä¸ªç‰¹æ€§</strong>ï¼ˆACIDï¼‰<a href="http://atopos-blog.cn/2022/06/06/JAVA/04JavaMySQL/">å‚è€ƒæ–‡ç« </a></p>
<ul>
<li>åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§</li>
</ul>
<h1 id="äº‹åŠ¡æ“ä½œæ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ"><a class="markdownIt-Anchor" href="#äº‹åŠ¡æ“ä½œæ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ"></a> äº‹åŠ¡æ“ä½œï¼ˆæ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒï¼‰</h1>
<p><img src="/img/Java/09Spring5_Affair/image-20220928152656919.png" alt="image-20220928152656919" /></p>
<ol>
<li>
<p>åˆ›å»º service ï¼Œæ­å»º daoï¼Œå®Œæˆå¯¹è±¡åˆ›å»ºå’Œæ³¨å…¥å…³ç³»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountDao</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountDao accountDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨ dao åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼šå¤šé’±å’Œå°‘é’±çš„æ–¹æ³•ï¼Œ åœ¨ service åˆ›å»ºæ–¹æ³•ï¼ˆè½¬è´¦çš„æ–¹æ³•ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountDao</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤šé’±</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addMony</span><span class="params">(Integer money, String name)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update t_account set money = money + ? where username = ?&quot;</span>;</span><br><span class="line">        Object[] args = &#123;money, name&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">update</span> <span class="operator">=</span> jdbcTemplate.update(sql, args);</span><br><span class="line">        System.out.println(update);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°‘é’±</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reduceMoney</span><span class="params">(Integer money, String name)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update t_account set money = money - ? where username = ?&quot;</span>;</span><br><span class="line">        Object[] args = &#123;money, name&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">update</span> <span class="operator">=</span> jdbcTemplate.update(sql, args);</span><br><span class="line">        System.out.println(update);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountDao accountDao;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è½¬è´¦çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accountMoney</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// lucy å°‘100</span></span><br><span class="line">        accountDao.reduceMoney(<span class="number">100</span>, <span class="string">&quot;lucy&quot;</span>);</span><br><span class="line">        <span class="comment">// mary åŠ 100</span></span><br><span class="line">        accountDao.addMony(<span class="number">100</span>, <span class="string">&quot;mary&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>ä¸Šé¢çš„ä»£ç æ­£å¸¸æ‰§è¡Œæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸ï¼Œæœ‰é—®é¢˜ï¼Œå¯èƒ½ä¼šå‡ºç° lucy å°‘äº†100 ä½†æ˜¯ maryæ²¡æœ‰åŠ 100ã€‚</p>
<p>è§£å†³æ­¥éª¤ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è½¬è´¦çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accountMoney</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// 1.å¼€å¯äº‹åŠ¡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.è¿›è¡Œä¸šåŠ¡æ“ä½œ</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// lucy å°‘100</span></span><br><span class="line">        accountDao.reduceMoney(<span class="number">100</span>, <span class="string">&quot;lucy&quot;</span>);</span><br><span class="line">        <span class="comment">// mary åŠ 100</span></span><br><span class="line">        accountDao.addMony(<span class="number">100</span>, <span class="string">&quot;mary&quot;</span>);</span><br><span class="line">        <span class="comment">// 3.æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œæäº¤äº‹åŠ¡</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="comment">// 4.å‡ºç°å¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="äº‹åŠ¡æ“ä½œ"><a class="markdownIt-Anchor" href="#äº‹åŠ¡æ“ä½œ"></a> äº‹åŠ¡æ“ä½œ</h1>
<ul>
<li>äº‹åŠ¡æ·»åŠ åˆ° JavaEE ä¸‰å±‚ç»“æ„é‡Œé¢ Service å±‚ï¼ˆä¸šåŠ¡é€»è¾‘å±‚ï¼‰</li>
<li>åœ¨ Spring è¿›è¡Œäº‹åŠ¡ç®¡ç†æ“ä½œ ï¼›ä¸¤ç§æ–¹å¼ï¼š<strong>ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†</strong>ã€<strong>å£°æ˜å¼äº‹åŠ¡ç®¡ç†</strong>ï¼ˆæ¨èä½¿ç”¨ï¼‰</li>
<li>å£°æ˜å¼äº‹åŠ¡ç®¡ç†
<ul>
<li>åŸºäºæ³¨è§£æ–¹å¼ï¼ˆæ¨èä½¿ç”¨ï¼‰</li>
<li>åŸºäº xml é…ç½®æ–‡ä»¶æ–¹å¼</li>
</ul>
</li>
<li>åœ¨ Spring è¿›è¡Œå£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼Œ <strong>åº•å±‚ä½¿ç”¨ AOP åŸç†</strong></li>
<li>Spring äº‹åŠ¡ç®¡ç† API ï¼šæä¾›ä¸€ä¸ªæ¥å£ï¼Œä»£è¡¨äº‹åŠ¡ç®¡ç†å™¨ï¼Œè¿™ä¸ªæ¥å£é’ˆå¯¹ä¸åŒçš„æ¡†æ¶æä¾›ä¸åŒçš„å®ç°ç±»</li>
</ul>
<h2 id="æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a class="markdownIt-Anchor" href="#æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a> æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†â­</h2>
<ol>
<li>
<p>åœ¨springé…ç½®æ–‡ä»¶é…ç½®äº‹åŠ¡ç®¡ç†å™¨ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span> = <span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨ spring é…ç½®æ–‡ä»¶ä¸­å¼•å…¥åç§°ç©ºé—´<code>xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</code>ï¼Œå¼€å¯äº‹åŠ¡æ³¨è§£</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼€å¯äº‹åŠ¡æ³¨è§£ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tx:annotation-driven</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨ service ç±»ä¸Šï¼ˆæˆ–è€…è‰²å¦‚æ­¤viceç±»é‡Œé¢æ–¹æ³•ä¸Šï¼‰æ·»åŠ äº‹åŠ¡æ³¨è§£ã€‚</p>
<ul>
<li><code>@Transactional</code>æ·»åŠ åœ¨ç±»ä¸Šé¢ï¼Œåˆ™è¡¨ç¤ºè¿™ä¸ªç±»ä¸Šçš„æ‰€æœ‰æ–¹æ³•éƒ½æ·»åŠ äº†äº‹åŠ¡ã€‚</li>
<li><code>@Transactional</code>æ·»åŠ åœ¨ç±»é‡Œçš„æ–¹æ³•ä¸Šï¼Œåˆ™è¡¨ç¤ºä¸ºè¿™ä¸ªæ–¹æ³•æ·»åŠ äº‹åŠ¡ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Transactional</span>  <span class="comment">// äº‹åŠ¡æ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountService</span> &#123;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>ä»¥ä¸Šå°±å®Œæˆäº†åŸºäºæ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†ã€‚</p>
<h2 id="å£°æ˜å¼äº‹åŠ¡ç®¡ç†çš„å‚æ•°é…ç½®"><a class="markdownIt-Anchor" href="#å£°æ˜å¼äº‹åŠ¡ç®¡ç†çš„å‚æ•°é…ç½®"></a> å£°æ˜å¼äº‹åŠ¡ç®¡ç†çš„å‚æ•°é…ç½®</h2>
<h3 id="propagation-äº‹åŠ¡ä¼ æ’­è¡Œä¸º"><a class="markdownIt-Anchor" href="#propagation-äº‹åŠ¡ä¼ æ’­è¡Œä¸º"></a> <code>propagation</code> äº‹åŠ¡ä¼ æ’­è¡Œä¸º</h3>
<blockquote>
<p>å¤šäº‹åŠ¡æ–¹æ³•ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­äº‹åŠ¡ æ˜¯å¦‚ä½•è¿›è¡Œç®¡ç†çš„</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// äº‹åŠ¡1</span></span><br><span class="line"><span class="meta">@Transactional(propagation = Propagation.REQUIRED)</span>  <span class="comment">// è®¾ç½®ä¼ æ’­è¡Œä¸º</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨update æ–¹æ³•</span></span><br><span class="line">    update();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº‹åŠ¡2</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>springæ¡†æ¶äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæœ‰ä¸ƒç§ï¼šä¸‹é¢åªä»‹ç»å¸¸ç”¨çš„ä¸¤ç§ä¼ æ’­è¡Œä¸º</p>
<ul>
<li><code>REQUIRED</code>ï¼šå¦‚æœæœ‰äº‹åŠ¡åœ¨è¿è¡Œï¼Œå½“å‰çš„æ–¹æ³•å°±æ˜¯åœ¨è¿™ä¸ªäº‹åŠ¡å†…è¿è¡Œï¼Œå¦åˆ™å°±ä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¹¶åœ¨è‡ªå·±çš„äº‹åŠ¡å†…è¿è¡Œã€‚</li>
<li><code>REQUIRED_NEW</code>ï¼šå½“å‰çš„æ–¹æ³•å¿…é¡»å¯åŠ¨æ–°äº‹åŠ¡ï¼Œå¹¶åœ¨å®ƒè‡ªå·±çš„äº‹åŠ¡å†…è¿è¡Œï¼Œå¦‚æœæœ‰äº‹åŠ¡æ­£åœ¨è¿è¡Œï¼Œåº”è¯¥å°†ä»–æŒ‚èµ·ã€‚</li>
<li><code>SUPPORT</code>ï¼šå¦‚æœæœ‰äº‹åŠ¡åœ¨è¿è¡Œï¼Œå½“å‰çš„æ–¹æ³•å°±åœ¨è¿™ä¸ªäº‹åŠ¡å†…è¿è¡Œï¼Œå¦åˆ™å®ƒå¯ä»¥ä¸è¿è¡Œåœ¨äº‹åŠ¡ä¸­ã€‚</li>
</ul>
<h3 id="ioslation-äº‹åŠ¡éš”ç¦»çº§åˆ«"><a class="markdownIt-Anchor" href="#ioslation-äº‹åŠ¡éš”ç¦»çº§åˆ«"></a> <code>ioslation</code> äº‹åŠ¡éš”ç¦»çº§åˆ«</h3>
<blockquote>
<p>äº‹åŠ¡æœ‰ç‰¹æ€§ç§°ä¸ºéš”ç¦»æ€§ï¼Œå¤šäº‹åŠ¡æ“ä½œä¹‹é—´ä¸ä¼šäº§ç”Ÿå½±å“ã€‚ä¸è€ƒè™‘éš”ç¦»æ€§äº§ç”Ÿå¾ˆå¤šé—®é¢˜ã€‚</p>
<p>æœ‰ä¸‰ä¸ªè¯»é—®é¢˜ï¼šè„è¯»ã€ä¸å¯é‡å¤è¯»ã€è™šï¼ˆå¹»ï¼‰è¯»ã€‚ <a href="http://atopos-blog.cn/2022/06/06/JAVA/04JavaMySQL/">å‚è€ƒæ–‡ç« </a></p>
</blockquote>
<ul>
<li>è„è¯»ï¼š ä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡çš„æ•°æ®ã€‚</li>
<li>ä¸å¯é‡å¤è¯»ï¼š ä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€æäº¤äº‹åŠ¡ä¸­ä¿®æ”¹çš„æ•°æ®ã€‚</li>
<li>è™šè¯»ï¼š ä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€æäº¤äº‹åŠ¡æ·»åŠ æ•°æ®ã€‚</li>
</ul>
<p>è§£å†³ï¼šé€šè¿‡è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œè§£å†³ä¸‰ä¸ªè¯»é—®é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.REPEATABLE_READ)</span></span><br></pre></td></tr></table></figure>
<p>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼šï¼ˆå’ŒMySQLæ•°æ®åº“ä¸­çš„éš”ç¦»çº§åˆ«å®Œå…¨å¯¹åº”ï¼Œåœ¨MySQLä¸­é»˜è®¤æ˜¯<code>REPEATABLE_READ</code>ï¼‰</p>
<p><img src="/img/Java/09Spring5_Affair/image-20220928192706131.png" alt="image-20220928192706131" /></p>
<h3 id="timeoutè¶…æ—¶æ—¶é—´"><a class="markdownIt-Anchor" href="#timeoutè¶…æ—¶æ—¶é—´"></a> <code>timeOut</code>è¶…æ—¶æ—¶é—´</h3>
<ul>
<li>äº‹åŠ¡éœ€è¦åœ¨ä¸€å®šæ—¶é—´å†…è¿›è¡Œæäº¤ï¼Œå¦‚æœä¸æäº¤è¿›è¡Œå›æ»š</li>
<li>é»˜è®¤å€¼æ˜¯ -1ï¼ˆä¸è¶…æ—¶ï¼‰ï¼Œè®¾ç½®æ—¶é—´ä»¥ç§’å•ä½è¿›è¡Œè®¡ç®—ã€‚</li>
</ul>
<h3 id="readonly-æ˜¯å¦åªè¯»æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#readonly-æ˜¯å¦åªè¯»æŸ¥è¯¢"></a> <code>readOnly</code> æ˜¯å¦åªè¯»(æŸ¥è¯¢)</h3>
<ul>
<li>è¯»ï¼šæŸ¥è¯¢æ“ä½œï¼Œå†™ï¼šæ·»åŠ ä¿®æ”¹åˆ é™¤æ“ä½œ</li>
<li>readOnly é»˜è®¤å€¼ falseï¼Œè¡¨ç¤ºå¯ä»¥æŸ¥è¯¢ï¼Œå¯ä»¥æ·»åŠ ä¿®æ”¹åˆ é™¤æ“ä½œ</li>
<li>è®¾ç½® readOnly å€¼æ˜¯ trueï¼Œè®¾ç½®æˆ true ä¹‹åï¼Œåªèƒ½æŸ¥è¯¢</li>
</ul>
<h3 id="rollbackforå›æ»š"><a class="markdownIt-Anchor" href="#rollbackforå›æ»š"></a> <code>rollbackFor</code>å›æ»š</h3>
<p>è®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸è¿›è¡Œäº‹åŠ¡å›æ»š</p>
<h3 id="norollbackforä¸å›æ»š"><a class="markdownIt-Anchor" href="#norollbackforä¸å›æ»š"></a> <code>noRollbackFor</code>ä¸å›æ»š</h3>
<p>è®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸ä¸è¿›è¡Œäº‹åŠ¡å›æ»š</p>
<h2 id="xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a class="markdownIt-Anchor" href="#xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a> XMLå£°æ˜å¼äº‹åŠ¡ç®¡ç†</h2>
<ul>
<li>
<p>åœ¨ spring é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½® ï¼š</p>
<ol>
<li>
<p>ç¬¬ä¸€æ­¥ é…ç½®äº‹åŠ¡ç®¡ç†å™¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥æ•°æ®æº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span> = <span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ç¬¬äºŒæ­¥ é…ç½®é€šçŸ¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 2.é…ç½®é€šçŸ¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txadvice&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®äº‹åŠ¡å‚æ•° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šå“ªç§è§„åˆ™çš„æ–¹æ³•ä¸Šé¢æ·»åŠ äº‹åŠ¡ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;accountMoney&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">isolation</span>=<span class="string">&quot;REPEATABLE_READ&quot;</span>/&gt;</span>  <span class="comment">&lt;!-- è¡¨ç¤ºåœ¨accountMoneyæ–¹æ³•ä¸Šé¢æ·»åŠ äº‹åŠ¡ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;tx:method name=&quot;account*&quot;/&gt;--&gt;</span> <span class="comment">&lt;!-- è¿™ç§å†™æ³•ä¹Ÿå¯ä»¥ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ç¬¬ä¸‰æ­¥ é…ç½®åˆ‡å…¥ç‚¹å’Œåˆ‡é¢</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 3.é…ç½®åˆ‡å…¥ç‚¹å’Œåˆ‡é¢,éœ€è¦å¼•å…¥åç§°ç©ºé—´aop --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pt&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.xzt.springaffair.service.AccountService.*(..))&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®åˆ‡é¢ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txadvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pt&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:advisor</span>&gt;</span> <span class="comment">&lt;!-- å°†txadviceçš„äº‹åŠ¡ä½œç”¨ä¸ptæ–¹æ³•ä¸Š --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>å®Œæ•´é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥contextåç§°ç©ºé—´ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯ç»„ä»¶æ‰«æ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xzt.springaffair&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®è¿æ¥æ± --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.driverClass&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.userName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- åˆ›å»ºJdbcTemplateå¯¹è±¡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ³¨å…¥æ•°æ®æºä¿¡æ¯ï¼Œä½¿ç”¨setæ–¹æ³•æ³¨å…¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span> = <span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯äº‹åŠ¡æ³¨è§£,ä½¿ç”¨æ³¨è§£è¿›è¡Œäº‹åŠ¡ç®¡ç† --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&gt;&lt;/tx:annotation-driven&gt;  --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.é…ç½®é€šçŸ¥ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txadvice&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®äº‹åŠ¡å‚æ•° --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æŒ‡å®šå“ªç§è§„åˆ™çš„æ–¹æ³•ä¸Šé¢æ·»åŠ äº‹åŠ¡ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;accountMoney&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">isolation</span>=<span class="string">&quot;REPEATABLE_READ&quot;</span>/&gt;</span>  <span class="comment">&lt;!-- è¡¨ç¤ºåœ¨accountMoneyæ–¹æ³•ä¸Šé¢æ·»åŠ äº‹åŠ¡ --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--&lt;tx:method name=&quot;account*&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.é…ç½®åˆ‡å…¥ç‚¹å’Œåˆ‡é¢ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pt&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.xzt.springaffair.service.AccountService.*(..))&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®åˆ‡é¢ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txadvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pt&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:advisor</span>&gt;</span> <span class="comment">&lt;!-- å°†txadviceçš„äº‹åŠ¡ä½œç”¨ä¸ptæ–¹æ³•ä¸Š --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a class="markdownIt-Anchor" href="#å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a> å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†â­</h2>
<p>åˆ›å»ºé…ç½®ç±» <code>config.java</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.springaffair.config;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line">  <span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line">  <span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line">  <span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line">  <span class="keyword">import</span> org.springframework.context.annotation.EnableAspectJAutoProxy;</span><br><span class="line">  <span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line">  <span class="keyword">import</span> org.springframework.jdbc.datasource.DataSourceTransactionManager;</span><br><span class="line">  <span class="keyword">import</span> org.springframework.transaction.annotation.EnableTransactionManagement;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Configuration</span>  <span class="comment">// é…ç½®ç±»</span></span><br><span class="line">  <span class="meta">@ComponentScan(basePackages = &quot;com.xzt&quot;)</span>  <span class="comment">// å¼€å¯ç»„ä»¶æ‰«æ</span></span><br><span class="line">  <span class="meta">@EnableAspectJAutoProxy(proxyTargetClass = true)</span>  <span class="comment">// ç”ŸæˆAspectJ ä»£ç†å¯¹è±¡ AOP</span></span><br><span class="line">  <span class="meta">@EnableTransactionManagement</span> <span class="comment">// å¼€å¯äº‹åŠ¡</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Config</span> &#123;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">// åˆ›å»ºæ•°æ®åº“è¿æ¥æ± </span></span><br><span class="line">      <span class="meta">@Bean</span></span><br><span class="line">      <span class="keyword">public</span> DruidDataSource <span class="title function_">getDruidDataSource</span><span class="params">()</span> &#123;</span><br><span class="line">          <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">          dataSource.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">          dataSource.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/user_db&quot;</span>);</span><br><span class="line">          dataSource.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">          dataSource.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">          <span class="keyword">return</span> dataSource;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">// åˆ›å»ºJdbcTemplateæ¨¡æ¿å¯¹è±¡</span></span><br><span class="line">      <span class="meta">@Bean</span></span><br><span class="line">      <span class="keyword">public</span> JdbcTemplate <span class="title function_">getJdbcTemplate</span><span class="params">(DataSource dataSource)</span> &#123;</span><br><span class="line">          <span class="comment">// åˆ°IOCå®¹å™¨ä¸­ï¼Œæ ¹æ®ç±»å‹æ‰¾åˆ°dataSource</span></span><br><span class="line">          <span class="type">JdbcTemplate</span> <span class="variable">jdbcTemplate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JdbcTemplate</span>();</span><br><span class="line">  </span><br><span class="line">          <span class="comment">// æ³¨å…¥DataSource</span></span><br><span class="line">          jdbcTemplate.setDataSource(dataSource);</span><br><span class="line">          <span class="keyword">return</span> jdbcTemplate;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">// åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨å¯¹è±¡</span></span><br><span class="line">      <span class="meta">@Bean</span></span><br><span class="line">      <span class="keyword">public</span> DataSourceTransactionManager <span class="title function_">getDataSourceTransactionManager</span><span class="params">(DataSource dataSource)</span> &#123;</span><br><span class="line">          <span class="type">DataSourceTransactionManager</span> <span class="variable">transactionManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceTransactionManager</span>();</span><br><span class="line">          transactionManager.setDataSource(dataSource);</span><br><span class="line">          <span class="keyword">return</span> transactionManager;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(Config.class);</span><br><span class="line">    <span class="type">AccountService</span> <span class="variable">accountService</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;accountService&quot;</span>, AccountService.class); <span class="comment">// æ ¹æ®é…ç½®æ–‡ä»¶è·å–context</span></span><br><span class="line">    accountService.accountMoney();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ3</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Java ä¼ä¸šå¼€å‘åŸºç¡€ Spring5-æ–°åŠŸèƒ½</title>
    <url>/2022/09/29/JAVA/10Spring5_NewFunc/</url>
    <content><![CDATA[<h2 id="spring5-æ¡†æ¶æ–°åŠŸèƒ½"><a class="markdownIt-Anchor" href="#spring5-æ¡†æ¶æ–°åŠŸèƒ½"></a> Spring5 æ¡†æ¶æ–°åŠŸèƒ½</h2>
<blockquote>
<p>æ•´ä¸ª Spring5 æ¡†æ¶çš„ä»£ç åŸºäº Java8ï¼Œè¿è¡Œæ—¶å…¼å®¹ JDK9ï¼Œè®¸å¤šä¸å»ºè®®ä½¿ç”¨çš„ç±»å’Œæ–¹æ³•åœ¨ä»£ç åº“ä¸­åˆ é™¤äº†ã€‚</p>
</blockquote>
<h2 id="spring-5-æ¡†æ¶è‡ªå¸¦äº†é€šç”¨çš„æ—¥å¿—å°è£…"><a class="markdownIt-Anchor" href="#spring-5-æ¡†æ¶è‡ªå¸¦äº†é€šç”¨çš„æ—¥å¿—å°è£…"></a> Spring 5 æ¡†æ¶è‡ªå¸¦äº†é€šç”¨çš„æ—¥å¿—å°è£…</h2>
<ul>
<li>Spring5 å·²ç»ç§»é™¤ <code>Log4jConfigListener</code>ï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨ <code>Log4j2</code></li>
<li>Spring5 æ¡†æ¶æ•´åˆ <code>Log4j2</code></li>
</ul>
<p>æ•´åˆ <code>log4j2</code> æ­¥éª¤</p>
<ol>
<li>
<p>å¼•å…¥ jar åŒ… : <code>log4j-api-2.11.2.jar</code> ã€<code>log4j-core-2.11.2.jar</code> ã€<code>log4j-slf4j-impl-2.11.2.jar</code> ã€<code>slf4j-api-1.7.30.jar</code></p>
</li>
<li>
<p>åˆ›å»º <code>log4j2.xml</code> (åå­—å›ºå®šï¼Œä¸å¯å˜)é…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ—¥å¿—çº§åˆ«ä»¥åŠä¼˜å…ˆçº§æ’åº: OFF &gt; FATAL &gt; ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE &gt; ALL --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Configurationåé¢çš„statusç”¨äºè®¾ç½®log4j2è‡ªèº«å†…éƒ¨çš„ä¿¡æ¯è¾“å‡ºï¼Œå¯ä»¥ä¸è®¾ç½®ï¼Œå½“è®¾ç½®æˆtraceæ—¶ï¼Œå¯ä»¥çœ‹åˆ°log4j2å†…éƒ¨å„ç§è¯¦ç»†è¾“å‡º--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">status</span>=<span class="string">&quot;INFO&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å…ˆå®šä¹‰æ‰€æœ‰çš„appender--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appenders</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è¾“å‡ºæ—¥å¿—ä¿¡æ¯åˆ°æ§åˆ¶å°--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">console</span> <span class="attr">name</span>=<span class="string">&quot;Console&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--æ§åˆ¶æ—¥å¿—è¾“å‡ºçš„æ ¼å¼--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">console</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appenders</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç„¶åå®šä¹‰loggerï¼Œåªæœ‰å®šä¹‰äº†loggerå¹¶å¼•å…¥çš„appenderï¼Œappenderæ‰ä¼šç”Ÿæ•ˆ--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--rootï¼šç”¨äºæŒ‡å®šé¡¹ç›®çš„æ ¹æ—¥å¿—ï¼Œå¦‚æœæ²¡æœ‰å•ç‹¬æŒ‡å®šLoggerï¼Œåˆ™ä¼šä½¿ç”¨rootä½œä¸ºé»˜è®¤çš„æ—¥å¿—è¾“å‡º--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>è¿è¡Œæ—¶ä¼šè¾“å‡ºå¯¹åº”çš„æ—¥å¿—ä¿¡æ¯</p>
<p><img src="10Spring5_NewFunc/image-20220928203316265.png" alt="image-20220928203316265" /></p>
<p>ç¤ºä¾‹ä»£ç ï¼šæ‰‹åŠ¨è¾“å‡ºæ—¥å¿—ä¿¡æ¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserLog</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(UserLog.class);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;hello log4j2&quot;</span>);</span><br><span class="line">        log.warn(<span class="string">&quot;hello log4j2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœ</p>
<p><img src="10Spring5_NewFunc/image-20220928203743366.png" alt="image-20220928203743366" /></p>
<h2 id="spring5-æ¡†æ¶æ ¸å¿ƒå®¹å™¨æ”¯æŒnullable-æ³¨è§£"><a class="markdownIt-Anchor" href="#spring5-æ¡†æ¶æ ¸å¿ƒå®¹å™¨æ”¯æŒnullable-æ³¨è§£"></a> Spring5 æ¡†æ¶æ ¸å¿ƒå®¹å™¨æ”¯æŒ@Nullable æ³¨è§£</h2>
<p><code>@Nullable</code> æ³¨è§£å¯ä»¥ä½¿ç”¨åœ¨æ–¹æ³•ã€å±æ€§ã€å‚æ•°ä¸Šé¢ï¼Œè¡¨ç¤ºæ–¹æ³•è¿”å›å¯ä»¥ä¸ºç©ºï¼Œå±æ€§å€¼å¯ä»¥ä¸ºç©ºï¼Œå‚æ•°å€¼å¯ä»¥ä¸ºç©º</p>
<h2 id="spring5-æ ¸å¿ƒå®¹å™¨æ”¯æŒå‡½æ•°å¼é£æ ¼"><a class="markdownIt-Anchor" href="#spring5-æ ¸å¿ƒå®¹å™¨æ”¯æŒå‡½æ•°å¼é£æ ¼"></a> Spring5 æ ¸å¿ƒå®¹å™¨æ”¯æŒå‡½æ•°å¼é£æ ¼</h2>
<p><code>GenericApplicationContext</code> æ”¯æŒ lambda è¡¨è¾¾å¼ç›¸å…³æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å¼é£æ ¼åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGenericApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.åˆ›å»º GenericApplicationContext å¯¹è±¡</span></span><br><span class="line">    <span class="type">GenericApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericGroovyApplicationContext</span>();</span><br><span class="line">    <span class="comment">// 2.è°ƒç”¨contextçš„æ–¹æ³•è¿›è¡Œå¯¹è±¡æ³¨å†Œ</span></span><br><span class="line">    context.refresh();</span><br><span class="line">    context.registerBean(<span class="string">&quot;account&quot;</span>, Account.class, () -&gt; <span class="keyword">new</span> <span class="title class_">Account</span>()); <span class="comment">// &quot;account&quot;å¯¹è±¡åå¯ä»¥çœç•¥ï¼Œ</span></span><br><span class="line">    <span class="comment">// 3.è·å– spring æ³¨å†Œçš„å¯¹è±¡</span></span><br><span class="line">    <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> (Account) context.getBean(<span class="string">&quot;account&quot;</span>);</span><br><span class="line">    <span class="comment">//        Account account = (Account) context.getBean(&quot;com.xzt.springaffair.entity.Account&quot;); // å¦‚æœä¸Šé¢æ²¡æœ‰æŒ‡å®šå¯¹è±¡åï¼Œéœ€è¦è¿™æ ·åˆ›å»º</span></span><br><span class="line">    System.out.println(account);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="spring5-æ”¯æŒæ•´åˆ-junit5"><a class="markdownIt-Anchor" href="#spring5-æ”¯æŒæ•´åˆ-junit5"></a> Spring5 æ”¯æŒæ•´åˆ JUnit5</h2>
<h3 id="æ•´åˆ-junit4"><a class="markdownIt-Anchor" href="#æ•´åˆ-junit4"></a> æ•´åˆ JUnit4</h3>
<p><img src="10Spring5_NewFunc/image-20220928213934627.png" alt="image-20220928213934627" /></p>
<ol>
<li>å¼•å…¥ spring ç›¸å…³æµ‹è¯•çš„ä¾èµ– <code>spring-test-5.3.23.jar</code></li>
<li>åˆ›å»ºæµ‹è¯•ç±»ï¼Œå¼•ç”¨æ³¨è§£æ–¹æ³•æ–¹å¼å®Œæˆ</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span>  <span class="comment">// å•å…ƒæµ‹è¯•æ¡†æ¶</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;classpath:bean1.xml&quot;)</span> <span class="comment">// åŠ è½½é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JTest4</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountService accountService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">        accountService.accountMoney();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ•´åˆ-junit5"><a class="markdownIt-Anchor" href="#æ•´åˆ-junit5"></a> æ•´åˆ JUnit5</h3>
<ol>
<li>
<p>éœ€è¦å¼•å…¥ JUnit5 jaråŒ…</p>
<p><img src="10Spring5_NewFunc/image-20220928214113055.png" alt="image-20220928214113055" /></p>
</li>
<li>
<p>åˆ›å»ºæµ‹è¯•ç±»ï¼Œä½¿ç”¨æ³¨è§£å®ç°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// å†™æ³•1</span><br><span class="line">//@ExtendWith(SpringExtension.class)</span><br><span class="line">//@ContextConfiguration(&quot;classpath:bean1.xml&quot;)</span><br><span class="line"></span><br><span class="line">// å†™æ³•2 ç¬¦åˆæ³¨è§£</span><br><span class="line">@SpringJUnitConfig(locations = &quot;classpath:bean1.xml&quot;)</span><br><span class="line">public class JTest5 &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    private AccountService accountService;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void test1() &#123;</span><br><span class="line">        accountService.accountMoney();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="spring5-æ¡†æ¶æ–°åŠŸèƒ½-springwebflux"><a class="markdownIt-Anchor" href="#spring5-æ¡†æ¶æ–°åŠŸèƒ½-springwebflux"></a> Spring5 æ¡†æ¶æ–°åŠŸèƒ½ - SpringWebflux</h2>
<blockquote>
<p>Webfluxæ˜¯ Spring5 æ·»åŠ æ–°çš„æ¨¡å—ï¼Œç”¨äº web å¼€å‘çš„ï¼ŒåŠŸèƒ½å’Œ SpringMVC ç±»ä¼¼çš„ï¼ŒWebflux ä½¿ç”¨ å½“å‰ä¸€ç§æ¯”è¾ƒæµè¡Œçš„å“åº”å¼ç¼–ç¨‹å‡ºç°çš„æ¡†æ¶ã€‚</p>
<p>ä½¿ç”¨ä¼ ç»Ÿ web æ¡†æ¶ï¼Œæ¯”å¦‚ SpringMVCï¼Œè¿™äº›åŸºäº Servlet å®¹å™¨ï¼ŒWebflux æ˜¯ä¸€ç§å¼‚æ­¥éé˜»å¡çš„æ¡†æ¶ï¼Œå¼‚æ­¥éé˜»å¡çš„æ¡†æ¶åœ¨ Servlet3.1 ä»¥åæ‰æ”¯æŒï¼Œ<strong>æ ¸å¿ƒæ˜¯åŸºäº Reactor</strong> çš„ç›¸å…³ API å®ç°çš„ã€‚</p>
</blockquote>
<p>è§£é‡Šä»€ä¹ˆæ˜¯å¼‚æ­¥éé˜»å¡ ï¼šâ­</p>
<p>ï¼ˆ1ï¼‰å¼‚æ­¥å’ŒåŒæ­¥ ï¼ˆé’ˆå¯¹è°ƒç”¨è€…ï¼‰</p>
<ul>
<li>åŒæ­¥ï¼š è°ƒç”¨è€…å‘é€è¯·æ±‚ï¼Œå¦‚æœç­‰ç€å¯¹æ–¹å›åº”ä¹‹åæ‰å»åšå…¶ä»–äº‹æƒ…å°±æ˜¯åŒæ­¥</li>
<li>å¼‚æ­¥ï¼š è°ƒç”¨è€…å‘é€è¯·æ±‚ï¼Œå¦‚æœå‘é€è¯·æ±‚ä¹‹åä¸ç­‰ç€å¯¹æ–¹å›åº”å°±å»åšå…¶ä»–äº‹æƒ…å°±æ˜¯å¼‚æ­¥ âˆš</li>
</ul>
<p>ï¼ˆ2ï¼‰éé˜»å¡å’Œé˜»å¡ ï¼ˆé’ˆå¯¹è¢«è°ƒç”¨è€…ï¼‰</p>
<ul>
<li>é˜»å¡ï¼š è¢«è°ƒç”¨è€…å—åˆ°è¯·æ±‚ä¹‹åï¼Œåšå®Œè¯·æ±‚ä»»åŠ¡ä¹‹åæ‰ç»™å‡ºåé¦ˆå°±æ˜¯é˜»å¡</li>
<li>éé˜»å¡ï¼š è¢«è°ƒç”¨è€…å—åˆ°è¯·æ±‚ä¹‹åï¼Œå—åˆ°è¯·æ±‚ä¹‹åé©¬ä¸Šç»™å‡ºåé¦ˆç„¶åå†å»åšäº‹æƒ…å°±æ˜¯éé˜»å¡ âˆš</li>
</ul>
<p><strong>Webflux ç‰¹ç‚¹</strong></p>
<ul>
<li><strong>éé˜»å¡å¼</strong>ï¼šåœ¨æœ‰é™èµ„æºä¸‹ï¼Œæé«˜ç³»ç»Ÿååé‡å’Œä¼¸ç¼©æ€§ï¼Œä»¥ Reactor ä¸ºåŸºç¡€å®ç°å“åº”å¼ç¼–ç¨‹ã€‚</li>
<li><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ï¼šSpring5 æ¡†æ¶åŸºäº java8ï¼ŒWebflux ä½¿ç”¨ Java8 å‡½æ•°å¼ç¼–ç¨‹æ–¹å¼å®ç°è·¯ç”±è¯·æ±‚ã€‚</li>
</ul>
<p><strong>SpringMVC å’Œ Webfluxä¹‹é—´åŒºåˆ«</strong></p>
<ul>
<li>ç›¸åŒï¼šä¸¤ä¸ªæ¡†æ¶éƒ½å¯ä»¥ä½¿ç”¨æ³¨è§£æ–¹å¼ï¼Œéƒ½è¿è¡Œåœ¨ Tomcat ç­‰å®¹å™¨ä¸­ã€‚</li>
<li>ä¸åŒï¼šSpringMVC é‡‡ç”¨å‘½ä»¤å¼ç¼–ç¨‹ï¼ŒWebflux é‡‡ç”¨å¼‚æ­¥å“åº”å¼ç¼–ç¨‹ã€‚</li>
</ul>
<h3 id="å“åº”å¼ç¼–ç¨‹-javaå®ç°"><a class="markdownIt-Anchor" href="#å“åº”å¼ç¼–ç¨‹-javaå®ç°"></a> å“åº”å¼ç¼–ç¨‹ - Javaå®ç°</h3>
<blockquote>
<p>æ¦‚å¿µï¼šä»€ä¹ˆæ˜¯å“åº”å¼ç¼–ç¨‹ å“åº”å¼ç¼–ç¨‹æ˜¯ä¸€ç§é¢å‘ æ•°æ®æµ å’Œ <strong>å˜åŒ–ä¼ æ’­</strong> çš„ç¼–ç¨‹èŒƒå¼ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ç¼–ç¨‹è¯­è¨€ä¸­å¾ˆæ–¹ä¾¿åœ°è¡¨è¾¾é™æ€æˆ–åŠ¨æ€çš„æ•°æ®æµï¼Œè€Œç›¸å…³çš„è®¡ç®—æ¨¡å‹ä¼šè‡ªåŠ¨å°†å˜åŒ–çš„å€¼é€šè¿‡æ•°æ®æµè¿›è¡Œä¼ æ’­ã€‚</p>
<p>ä¾‹å­ï¼šç”µå­è¡¨æ ¼ç¨‹åºå°±æ˜¯å“åº”å¼ç¼–ç¨‹çš„ä¸€ä¸ªä¾‹å­ã€‚å•å…ƒæ ¼å¯ä»¥åŒ…å«å­—é¢å€¼æˆ–ç±»ä¼¼&quot;=B1+C1&quot;çš„å…¬ å¼ï¼Œè€ŒåŒ…å«å…¬å¼çš„å•å…ƒæ ¼çš„å€¼ä¼šä¾æ®å…¶ä»–å•å…ƒæ ¼çš„å€¼çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p>
</blockquote>
<p>Java8 åŠå…¶ä¹‹å‰ç‰ˆæœ¬æ˜¯æä¾›çš„è§‚å¯Ÿè€…æ¨¡å¼ä¸¤ä¸ªç±» <code>Observer</code> å’Œ <code>Observable</code>å®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObserverDemo</span> <span class="keyword">extends</span> <span class="title class_">Observable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ObserverDemo</span> <span class="variable">observer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObserverDemo</span>();</span><br><span class="line">        <span class="comment">//æ·»åŠ è§‚å¯Ÿè€…</span></span><br><span class="line">        observer.addObserver((o,arg)-&gt;&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‘ç”Ÿå˜åŒ–&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">        observer.addObserver((o,arg)-&gt;&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ”¶åˆ°è¢«è§‚å¯Ÿè€…é€šçŸ¥ï¼Œå‡†å¤‡æ”¹å˜&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//è¿™é‡Œå¿…é¡»è¿›è¡Œä¸¤ä¸ªæ–¹æ³•è°ƒç”¨æ‰å¯ä»¥å“åº”ï¼ï¼</span></span><br><span class="line">        observer.setChanged(); <span class="comment">//ç›‘æ§åˆ°æ•°æ®å˜åŒ–</span></span><br><span class="line">        observer.notifyObservers(); <span class="comment">//è¿›è¡Œé€šçŸ¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://www.bilibili.com/video/BV1Vf4y127N5?p=54&amp;vd_source=2afbe26bdac7c6480d8e9221e5be8b05">ç»§ç»­çœ‹è§†é¢‘ï¼Œä¸ç†è§£çš„åœ°æ–¹</a></p>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ3</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Java ä¼ä¸šå¼€å‘åŸºç¡€ SpringMVC</title>
    <url>/2022/10/01/JAVA/11SpringMVC/</url>
    <content><![CDATA[<p><img src="11SpringMVC/image-20220929101351636.png" alt="image-20220929101351636" /></p>
<h1 id="springmvcç®€ä»‹"><a class="markdownIt-Anchor" href="#springmvcç®€ä»‹"></a> SpringMVCç®€ä»‹</h1>
<h2 id="ä»€ä¹ˆæ˜¯mvc"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯mvc"></a> ä»€ä¹ˆæ˜¯MVC</h2>
<p>MVCæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„çš„æ€æƒ³ï¼Œå°†è½¯ä»¶æŒ‰ç…§æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨æ¥åˆ’åˆ†</p>
<p>Mï¼šModelï¼Œæ¨¡å‹å±‚ï¼ŒæŒ‡å·¥ç¨‹ä¸­çš„ JavaBeanï¼Œä½œç”¨æ˜¯å¤„ç†æ•°æ®</p>
<p>JavaBeanåˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li>ä¸€ç±»ç§°ä¸ºå®ä½“ç±»Beanï¼šä¸“é—¨å­˜å‚¨ä¸šåŠ¡æ•°æ®çš„ï¼Œå¦‚ Studentã€User ç­‰</li>
<li>ä¸€ç±»ç§°ä¸ºä¸šåŠ¡å¤„ç† Beanï¼šæŒ‡ Service æˆ– Dao å¯¹è±¡ï¼Œä¸“é—¨ç”¨äºå¤„ç†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®ã€‚</li>
</ul>
<p>Vï¼šViewï¼Œè§†å›¾å±‚ï¼ŒæŒ‡å·¥ç¨‹ä¸­çš„ html æˆ– jsp ç­‰é¡µé¢ï¼Œä½œç”¨æ˜¯ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œå±•ç¤ºæ•°æ®</p>
<p>Cï¼šControllerï¼Œæ§åˆ¶å±‚ï¼ŒæŒ‡å·¥ç¨‹ä¸­çš„ servletï¼Œä½œç”¨æ˜¯æ¥æ”¶è¯·æ±‚å’Œå“åº”æµè§ˆå™¨</p>
<p>MVCçš„å·¥ä½œæµç¨‹ï¼š<br />
ç”¨æˆ·é€šè¿‡è§†å›¾å±‚ View å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨ä¸­è¯·æ±‚è¢«Controlleræ¥æ”¶ï¼ŒControllerè°ƒç”¨ç›¸åº”çš„Modelå±‚å¤„ç†è¯·æ±‚ï¼Œå¤„ç†å®Œæ¯•å°†ç»“æœè¿”å›åˆ°Controllerï¼ŒControllerå†æ ¹æ®è¯·æ±‚å¤„ç†çš„ç»“æœæ‰¾åˆ°ç›¸åº”çš„Viewè§†å›¾ï¼Œæ¸²æŸ“æ•°æ®åæœ€ç»ˆå“åº”ç»™æµè§ˆå™¨</p>
<h2 id="ä»€ä¹ˆæ˜¯-springmvc"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-springmvc"></a> ä»€ä¹ˆæ˜¯ SpringMVC</h2>
<p>SpringMVCæ˜¯Springçš„ä¸€ä¸ªåç»­äº§å“ï¼Œæ˜¯Springçš„ä¸€ä¸ªå­é¡¹ç›®</p>
<p>SpringMVC æ˜¯ Spring ä¸ºè¡¨è¿°å±‚å¼€å‘æä¾›çš„ä¸€æ•´å¥—å®Œå¤‡çš„è§£å†³æ–¹æ¡ˆã€‚åœ¨è¡¨è¿°å±‚æ¡†æ¶å†ç» Strustã€WebWorkã€Strust2 ç­‰è¯¸å¤šäº§å“çš„å†ä»£æ›´è¿­ä¹‹åï¼Œç›®å‰ä¸šç•Œæ™®éé€‰æ‹©äº† SpringMVC ä½œä¸º Java EE é¡¹ç›®è¡¨è¿°å±‚å¼€å‘çš„ <strong>é¦–é€‰æ–¹æ¡ˆ</strong>ã€‚</p>
<blockquote>
<p>æ³¨ï¼šä¸‰å±‚æ¶æ„åˆ†ä¸ºè¡¨è¿°å±‚ï¼ˆæˆ–è¡¨ç¤ºå±‚ï¼‰ã€ä¸šåŠ¡é€»è¾‘å±‚ã€æ•°æ®è®¿é—®å±‚ï¼Œè¡¨è¿°å±‚è¡¨ç¤ºå‰å°é¡µé¢å’Œåå°servlet</p>
</blockquote>
<h2 id="springmvc-çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#springmvc-çš„ç‰¹ç‚¹"></a> SpringMVC çš„ç‰¹ç‚¹</h2>
<ul>
<li><strong>Spring å®¶æ—åŸç”Ÿäº§å“</strong>ï¼Œä¸ IOC å®¹å™¨ç­‰åŸºç¡€è®¾æ–½æ— ç¼å¯¹æ¥</li>
<li><strong>åŸºäºåŸç”Ÿçš„Servlet</strong>ï¼Œé€šè¿‡äº†åŠŸèƒ½å¼ºå¤§çš„<strong>å‰ç«¯æ§åˆ¶å™¨DispatcherServlet</strong>ï¼Œå¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œç»Ÿä¸€å¤„ç†</li>
<li>è¡¨è¿°å±‚å„ç»†åˆ†é¢†åŸŸéœ€è¦è§£å†³çš„é—®é¢˜<strong>å…¨æ–¹ä½è¦†ç›–</strong>ï¼Œæä¾›<strong>å…¨é¢è§£å†³æ–¹æ¡ˆ</strong></li>
<li><strong>ä»£ç æ¸…æ–°ç®€æ´</strong>ï¼Œå¤§å¹…åº¦æå‡å¼€å‘æ•ˆç‡</li>
<li>å†…éƒ¨ç»„ä»¶åŒ–ç¨‹åº¦é«˜ï¼Œå¯æ’æ‹”å¼ç»„ä»¶<strong>å³æ’å³ç”¨</strong>ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½é…ç½®ç›¸åº”ç»„ä»¶å³å¯</li>
<li><strong>æ€§èƒ½å“è‘—</strong>ï¼Œå°¤å…¶é€‚åˆç°ä»£å¤§å‹ã€è¶…å¤§å‹äº’è”ç½‘é¡¹ç›®è¦æ±‚</li>
</ul>
<h1 id="helloworld"><a class="markdownIt-Anchor" href="#helloworld"></a> HelloWorld</h1>
<h2 id="å¼€å‘ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#å¼€å‘ç¯å¢ƒ"></a> å¼€å‘ç¯å¢ƒ</h2>
<ul>
<li>IDEï¼šidea 2022.2</li>
<li>æ„å»ºå·¥å…·ï¼šmaven 3.8.6 <a href="https://blog.csdn.net/weixin_62661659/article/details/124241041">ä¸‹è½½é…ç½®å‚è€ƒæ–‡ç« </a></li>
<li>æœåŠ¡å™¨ï¼štomcat9.0 <a href="https://myhub.blog.csdn.net/article/details/83582484">ä¸‹è½½é…ç½®å‚è€ƒæ–‡ç« </a></li>
<li>Springç‰ˆæœ¬ï¼š5.3.23</li>
</ul>
<h2 id="åˆ›å»º-maven-å·¥ç¨‹"><a class="markdownIt-Anchor" href="#åˆ›å»º-maven-å·¥ç¨‹"></a> åˆ›å»º maven å·¥ç¨‹</h2>
<h3 id="æ·»åŠ webæ¨¡å—"><a class="markdownIt-Anchor" href="#æ·»åŠ webæ¨¡å—"></a> æ·»åŠ webæ¨¡å—</h3>
<h3 id="è®¾ç½®æ‰“åŒ…æ–¹å¼"><a class="markdownIt-Anchor" href="#è®¾ç½®æ‰“åŒ…æ–¹å¼"></a> è®¾ç½®æ‰“åŒ…æ–¹å¼</h3>
<p>è®¾ç½®ä¸ºwar <code>&lt;packaging&gt;war&lt;/packaging&gt;</code></p>
<h3 id="å¼•å…¥ä¾èµ–"><a class="markdownIt-Anchor" href="#å¼•å…¥ä¾èµ–"></a> å¼•å…¥ä¾èµ–</h3>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- SpringMVC --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ—¥å¿— --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ServletAPI --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Spring5å’ŒThymeleafæ•´åˆåŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.thymeleaf<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thymeleaf-spring5<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼šç”±äº Maven çš„ä¼ é€’æ€§ï¼Œæˆ‘ä»¬ä¸å¿…å°†æ‰€æœ‰éœ€è¦çš„åŒ…å…¨éƒ¨é…ç½®ä¾èµ–ï¼Œè€Œæ˜¯é…ç½®æœ€é¡¶ç«¯çš„ä¾èµ–ï¼Œå…¶ä»–é ä¼ é€’æ€§å¯¼å…¥ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/836b26dcd15140e486cb3a566abcc2b0.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1MTQzNA==,size_16,color_FFFFFF,t_70" alt="ä¾èµ–åŒ…" /></p>
<h2 id="é…ç½®webxml"><a class="markdownIt-Anchor" href="#é…ç½®webxml"></a> é…ç½®web.xml</h2>
<p>æ³¨å†Œ SpringMVC çš„å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet</p>
<h3 id="é»˜è®¤é…ç½®æ–¹å¼"><a class="markdownIt-Anchor" href="#é»˜è®¤é…ç½®æ–¹å¼"></a> é»˜è®¤é…ç½®æ–¹å¼</h3>
<p>æ­¤é…ç½®ä½œç”¨ä¸‹ï¼ŒSpringMVCçš„é…ç½®æ–‡ä»¶é»˜è®¤ä½äºWEB-INFä¸‹ï¼Œé»˜è®¤åç§°ä¸º<code>&lt;servlet-name&gt;-servlet.xml</code>ï¼Œä¾‹å¦‚ï¼Œä»¥ä¸‹é…ç½®æ‰€å¯¹åº”SpringMVCçš„é…ç½®æ–‡ä»¶ä½äºWEB-INFä¸‹ï¼Œæ–‡ä»¶åä¸ºspringMVC-servlet.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®springMVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚è¿›è¡Œç»Ÿä¸€å¤„ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    	è®¾ç½®springMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨æ‰€èƒ½å¤„ç†çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">        /æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/loginæˆ–.htmlæˆ–.jsæˆ–.cssæ–¹å¼çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">    	ä½†æ˜¯/ä¸èƒ½åŒ¹é….jspè¯·æ±‚è·¯å¾„çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ‰©å±•é…ç½®æ–¹å¼"><a class="markdownIt-Anchor" href="#æ‰©å±•é…ç½®æ–¹å¼"></a> æ‰©å±•é…ç½®æ–¹å¼ğŸ˜Š</h3>
<p>å¯é€šè¿‡init-paramæ ‡ç­¾è®¾ç½®SpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§°ï¼Œé€šè¿‡load-on-startupæ ‡ç­¾è®¾ç½®SpringMVCå‰ç«¯æ§åˆ¶å™¨DispatcherServletçš„åˆå§‹åŒ–æ—¶é—´</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®springMVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚è¿›è¡Œç»Ÿä¸€å¤„ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®springMVCé…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- contextConfigLocationä¸ºå›ºå®šå€¼ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä½¿ç”¨classpath:è¡¨ç¤ºä»ç±»è·¯å¾„æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚mavenå·¥ç¨‹ä¸­çš„src/main/resources --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springMVC.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    	ä½œä¸ºæ¡†æ¶çš„æ ¸å¿ƒç»„ä»¶ï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­æœ‰å¤§é‡çš„åˆå§‹åŒ–æ“ä½œè¦åš</span></span><br><span class="line"><span class="comment">        è€Œè¿™äº›æ“ä½œæ”¾åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶æ‰æ‰§è¡Œä¼šä¸¥é‡å½±å“è®¿é—®é€Ÿåº¦</span></span><br><span class="line"><span class="comment">        å› æ­¤éœ€è¦é€šè¿‡æ­¤æ ‡ç­¾å°†å¯åŠ¨æ§åˆ¶DispatcherServletçš„åˆå§‹åŒ–æ—¶é—´æå‰åˆ°æœåŠ¡å™¨å¯åŠ¨æ—¶</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    	è®¾ç½®springMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨æ‰€èƒ½å¤„ç†çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">        /æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/loginæˆ–.htmlæˆ–.jsæˆ–.cssæ–¹å¼çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">    	ä½†æ˜¯/ä¸èƒ½åŒ¹é….jspè¯·æ±‚è·¯å¾„çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨ï¼š</p>
<p><url-pattern>æ ‡ç­¾ä¸­ä½¿ç”¨ / å’Œ /* çš„åŒºåˆ«ï¼š</p>
<p>/æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/loginæˆ–.htmlæˆ–.jsæˆ–.cssæ–¹å¼çš„è¯·æ±‚è·¯å¾„ï¼Œä½†æ˜¯/ä¸èƒ½åŒ¹é….jspè¯·æ±‚è·¯å¾„çš„è¯·æ±‚ã€‚å› æ­¤å°±å¯ä»¥é¿å…åœ¨è®¿é—®jspé¡µé¢æ—¶ï¼Œè¯¥è¯·æ±‚è¢«DispatcherServletå¤„ç†ï¼Œä»è€Œæ‰¾ä¸åˆ°ç›¸åº”çš„é¡µé¢</p>
<p>/*åˆ™èƒ½å¤ŸåŒ¹é…æ‰€æœ‰è¯·æ±‚ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨è¿‡æ»¤å™¨æ—¶ï¼Œè‹¥éœ€è¦å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè¿‡æ»¤ï¼Œå°±éœ€è¦ä½¿ç”¨ /*çš„å†™æ³•</p>
</blockquote>
<h2 id="åˆ›å»ºè¯·æ±‚æ§åˆ¶å™¨"><a class="markdownIt-Anchor" href="#åˆ›å»ºè¯·æ±‚æ§åˆ¶å™¨"></a> åˆ›å»ºè¯·æ±‚æ§åˆ¶å™¨</h2>
<p>ç”±äºå‰ç«¯æ§åˆ¶å™¨å¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚è¿›è¡Œäº†ç»Ÿä¸€çš„å¤„ç†ï¼Œä½†æ˜¯å…·ä½“çš„è¯·æ±‚æœ‰ä¸åŒçš„å¤„ç†è¿‡ç¨‹ï¼Œå› æ­¤éœ€è¦åˆ›å»ºå¤„ç†å…·ä½“è¯·æ±‚çš„ç±»ï¼Œå³è¯·æ±‚æ§åˆ¶å™¨ã€‚</p>
<p>è¯·æ±‚æ§åˆ¶å™¨ä¸­æ¯ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ–¹æ³•æˆä¸ºæ§åˆ¶å™¨æ–¹æ³•</p>
<p>å› ä¸ºSpringMVCçš„æ§åˆ¶å™¨ç”±ä¸€ä¸ªPOJOï¼ˆæ™®é€šçš„Javaç±»ï¼‰æ‹…ä»»ï¼Œå› æ­¤éœ€è¦é€šè¿‡ <code>@Controller</code> æ³¨è§£å°†å…¶æ ‡è¯†ä¸ºä¸€ä¸ªæ§åˆ¶å±‚ç»„ä»¶ï¼Œäº¤ç»™Springçš„IoCå®¹å™¨ç®¡ç†ï¼Œæ­¤æ—¶SpringMVCæ‰èƒ½å¤Ÿè¯†åˆ«æ§åˆ¶å™¨çš„å­˜åœ¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»º-springmvcçš„é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#åˆ›å»º-springmvcçš„é…ç½®æ–‡ä»¶"></a> åˆ›å»º springMVCçš„é…ç½®æ–‡ä»¶</h2>
<p>é…ç½®<code>springMVC.xml</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                        http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                        http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ‰«æç»„ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xzt.mvc.controller&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®Thymeleafè§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;viewResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;order&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateEngine&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateResolver&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- è§†å›¾å‰ç¼€ --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/templates/&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- è§†å›¾åç¼€ --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.html&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateMode&quot;</span> <span class="attr">value</span>=<span class="string">&quot;HTML5&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        å¤„ç†é™æ€èµ„æºï¼Œä¾‹å¦‚htmlã€jsã€cssã€jpg</span></span><br><span class="line"><span class="comment">        è‹¥åªè®¾ç½®è¯¥æ ‡ç­¾ï¼Œåˆ™åªèƒ½è®¿é—®é™æ€èµ„æºï¼Œå…¶ä»–è¯·æ±‚åˆ™æ— æ³•è®¿é—®</span></span><br><span class="line"><span class="comment">        æ­¤æ—¶å¿…é¡»è®¾ç½®&lt;mvc:annotation-driven/&gt;è§£å†³é—®é¢˜</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯mvcæ³¨è§£é©±åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- å¤„ç†å“åº”ä¸­æ–‡å†…å®¹ä¹±ç  --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultCharset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;supportedMediaTypes&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">value</span>&gt;</span>text/html<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">value</span>&gt;</span>application/json<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="æµ‹è¯•-helloworld"><a class="markdownIt-Anchor" href="#æµ‹è¯•-helloworld"></a> æµ‹è¯• HelloWorld</h2>
<h3 id="å®ç°å¯¹é¦–é¡µçš„è®¿é—®"><a class="markdownIt-Anchor" href="#å®ç°å¯¹é¦–é¡µçš„è®¿é—®"></a> å®ç°å¯¹é¦–é¡µçš„è®¿é—®</h3>
<p>åœ¨è¯·æ±‚æ§åˆ¶å™¨ä¸­åˆ›å»ºå¤„ç†è¯·æ±‚çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// @RequestMappingæ³¨è§£ï¼šå¤„ç†è¯·æ±‚å’Œæ§åˆ¶å™¨æ–¹æ³•ä¹‹é—´çš„æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment">// @RequestMappingæ³¨è§£çš„valueå±æ€§å¯ä»¥é€šè¿‡è¯·æ±‚åœ°å€åŒ¹é…è¯·æ±‚ï¼Œ/è¡¨ç¤ºçš„å½“å‰å·¥ç¨‹çš„ä¸Šä¸‹æ–‡è·¯å¾„</span></span><br><span class="line"><span class="comment">// localhost:8080/springMVC/</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// è¿”å›è§†å›¾åç§°,å³éœ€è¦è·³è½¬çš„é¡µé¢å»æ‰å‰ç¼€å’Œåç¼€ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é…ç½®tomcat</p>
<p><img src="11SpringMVC/image-20220929143932525.png" alt="image-20220929143932525" /></p>
<p><img src="11SpringMVC/image-20220929143954394.png" alt="image-20220929143954394" /></p>
<h3 id="é€šè¿‡è¶…é“¾æ¥è·³è½¬åˆ°æŒ‡å®šé¡µé¢"><a class="markdownIt-Anchor" href="#é€šè¿‡è¶…é“¾æ¥è·³è½¬åˆ°æŒ‡å®šé¡µé¢"></a> é€šè¿‡è¶…é“¾æ¥è·³è½¬åˆ°æŒ‡å®šé¡µé¢</h3>
<p>åœ¨ä¸»é¡µ index.html ä¸­è®¾ç½®è¶…é“¾æ¥</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span>  <span class="comment">&lt;!-- æ·»åŠ thymeleafçš„å‘½åç©ºé—´ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span>  <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/target&#125;&quot;</span>&gt;</span>è®¿é—®ç›®æ ‡é¡µé¢target.html<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="comment">&lt;!-- thymeleafè¯­æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºtarget.htmlé¡µé¢</p>
<p>åœ¨è¯·æ±‚æ§åˆ¶å™¨ä¸­åˆ›å»ºå¤„ç†è¯·æ±‚çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/target&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toTarget</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;target&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2>
<p>æµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œè‹¥è¯·æ±‚åœ°å€ç¬¦åˆå‰ç«¯æ§åˆ¶å™¨çš„url-patternï¼Œè¯¥è¯·æ±‚å°±ä¼šè¢«å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet å¤„ç†ã€‚å‰ç«¯æ§åˆ¶å™¨ä¼šè¯»å–SpringMVCçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œé€šè¿‡æ‰«æç»„ä»¶æ‰¾åˆ°æ§åˆ¶å™¨ï¼Œå°†è¯·æ±‚åœ°å€å’Œæ§åˆ¶å™¨ä¸­ <code>@RequestMapping</code> æ³¨è§£çš„ value å±æ€§å€¼è¿›è¡ŒåŒ¹é…ï¼Œè‹¥åŒ¹é…æˆåŠŸï¼Œè¯¥æ³¨è§£æ‰€æ ‡è¯†çš„æ§åˆ¶å™¨æ–¹æ³•å°±æ˜¯å¤„ç†è¯·æ±‚çš„æ–¹æ³•ã€‚å¤„ç†è¯·æ±‚çš„æ–¹æ³•éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„è§†å›¾åç§°ï¼Œè¯¥è§†å›¾åç§°ä¼šè¢«è§†å›¾è§£æå™¨è§£æï¼ŒåŠ ä¸Šå‰ç¼€å’Œåç¼€ç»„æˆè§†å›¾çš„è·¯å¾„ï¼Œé€šè¿‡Thymeleafå¯¹è§†å›¾è¿›è¡Œæ¸²æŸ“ï¼Œæœ€ç»ˆ<strong>è½¬å‘</strong>åˆ°è§†å›¾æ‰€å¯¹åº”é¡µé¢</p>
<h1 id="requestmapping-æ³¨è§£"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£"></a> @RequestMapping æ³¨è§£</h1>
<h2 id="requestmapping-æ³¨è§£çš„åŠŸèƒ½"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£çš„åŠŸèƒ½"></a> @RequestMapping æ³¨è§£çš„åŠŸèƒ½</h2>
<p>ä»æ³¨è§£åç§°ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>@RequestMapping</code> æ³¨è§£çš„ä½œç”¨å°±æ˜¯å°†è¯·æ±‚å’Œå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨æ–¹æ³•å…³è”èµ·æ¥ï¼Œå»ºç«‹æ˜ å°„å…³ç³»ã€‚</p>
<p>SpringMVC æ¥æ”¶åˆ°æŒ‡å®šçš„è¯·æ±‚ï¼Œå°±ä¼šæ¥æ‰¾åˆ°åœ¨æ˜ å°„å…³ç³»ä¸­å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚</p>
<h2 id="requestmapping-æ³¨è§£çš„ä½ç½®"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£çš„ä½ç½®"></a> @RequestMapping æ³¨è§£çš„ä½ç½®</h2>
<ul>
<li><code>@RequestMapping</code> æ ‡è¯†ä¸€ä¸ªç±»ï¼šè®¾ç½®æ˜ å°„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„çš„ <strong>åˆå§‹ä¿¡æ¯</strong></li>
<li><code>@RequestMapping</code> æ ‡è¯†ä¸€ä¸ªæ–¹æ³•ï¼šè®¾ç½®æ˜ å°„è¯·æ±‚è¯·æ±‚è·¯å¾„çš„ <strong>å…·ä½“ä¿¡æ¯</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestMappingController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ­¤æ—¶è¯·æ±‚æ˜ å°„æ‰€æ˜ å°„çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„ä¸ºï¼š/test/testRequestMapping</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/testRequestMapping&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="requestmappingæ³¨è§£çš„valueå±æ€§"><a class="markdownIt-Anchor" href="#requestmappingæ³¨è§£çš„valueå±æ€§"></a> @RequestMappingæ³¨è§£çš„valueå±æ€§</h2>
<ul>
<li>@RequestMappingæ³¨è§£çš„valueå±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚åœ°å€åŒ¹é…è¯·æ±‚æ˜ å°„</li>
<li>@RequestMappingæ³¨è§£çš„valueå±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚æ˜ å°„èƒ½å¤ŸåŒ¹é…å¤šä¸ªè¯·æ±‚åœ°å€æ‰€å¯¹åº”çš„è¯·æ±‚</li>
<li>@RequestMappingæ³¨è§£çš„ <strong>valueå±æ€§å¿…é¡»è®¾ç½®</strong>ï¼Œè‡³å°‘é€šè¿‡è¯·æ±‚åœ°å€åŒ¹é…è¯·æ±‚æ˜ å°„</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testRequestMapping&#125;&quot;</span>&gt;</span>æµ‹è¯•RequestMappingæ³¨è§£çš„valueå±æ€§---&gt;/testRequestMapping<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/test&#125;&quot;</span>&gt;</span>æµ‹è¯•RequestMappingæ³¨è§£çš„valueå±æ€§---&gt;/test<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(</span></span><br><span class="line"><span class="meta">    value = &#123;&quot;/testRequestMapping&quot;, &quot;/test&quot;&#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="requestmappingæ³¨è§£çš„methodå±æ€§"><a class="markdownIt-Anchor" href="#requestmappingæ³¨è§£çš„methodå±æ€§"></a> @RequestMappingæ³¨è§£çš„methodå±æ€§</h2>
<ul>
<li><code>@RequestMapping</code> æ³¨è§£çš„methodå±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚æ–¹å¼ï¼ˆgetæˆ–postï¼‰åŒ¹é…è¯·æ±‚æ˜ å°„ã€‚</li>
<li><code>@RequestMapping</code> æ³¨è§£çš„methodå±æ€§æ˜¯ä¸€ä¸ªRequestMethodç±»å‹çš„æ•°ç»„ï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚æ˜ å°„èƒ½å¤ŸåŒ¹é…å¤šç§è¯·æ±‚æ–¹å¼çš„è¯·æ±‚</li>
</ul>
<p>è‹¥å½“å‰è¯·æ±‚çš„è¯·æ±‚åœ°å€æ»¡è¶³è¯·æ±‚æ˜ å°„çš„valueå±æ€§ï¼Œä½†æ˜¯è¯·æ±‚æ–¹å¼ä¸æ»¡è¶³methodå±æ€§ï¼Œåˆ™æµè§ˆå™¨æŠ¥é”™ <em>405ï¼šRequest method â€˜POSTâ€™ not supported</em></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/test&#125;&quot;</span>&gt;</span>æµ‹è¯•RequestMappingæ³¨è§£çš„valueå±æ€§---&gt;/test<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/test&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(</span></span><br><span class="line"><span class="meta">    value = &#123;&quot;/testRequestMapping&quot;, &quot;/test&quot;&#125;,</span></span><br><span class="line"><span class="meta">    method = &#123;RequestMethod.GET, RequestMethod.POST&#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨ï¼š</p>
<p>1ã€å¯¹äºå¤„ç†æŒ‡å®šè¯·æ±‚æ–¹å¼çš„æ§åˆ¶å™¨æ–¹æ³•ï¼ŒSpringMVCä¸­æä¾›äº†@RequestMappingçš„æ´¾ç”Ÿæ³¨è§£</p>
<ul>
<li>å¤„ç†getè¯·æ±‚çš„æ˜ å°„â€“&gt;@GetMapping</li>
<li>å¤„ç†postè¯·æ±‚çš„æ˜ å°„â€“&gt;@PostMapping</li>
<li>å¤„ç†putè¯·æ±‚çš„æ˜ å°„â€“&gt;@PutMapping</li>
<li>å¤„ç†deleteè¯·æ±‚çš„æ˜ å°„â€“&gt;@DeleteMapping</li>
</ul>
<p>2ã€å¸¸ç”¨çš„è¯·æ±‚æ–¹å¼æœ‰getï¼Œpostï¼Œputï¼Œdelete</p>
<p>ä½†æ˜¯ç›®å‰æµè§ˆå™¨åªæ”¯æŒgetå’Œpostï¼Œè‹¥åœ¨formè¡¨å•æäº¤æ—¶ï¼Œä¸ºmethodè®¾ç½®äº†å…¶ä»–è¯·æ±‚æ–¹å¼çš„å­—ç¬¦ä¸²ï¼ˆputæˆ–deleteï¼‰ï¼Œåˆ™æŒ‰ç…§é»˜è®¤çš„è¯·æ±‚æ–¹å¼getå¤„ç†</p>
<p>è‹¥è¦å‘é€putå’Œdeleteè¯·æ±‚ï¼Œåˆ™éœ€è¦é€šè¿‡springæä¾›çš„è¿‡æ»¤å™¨HiddenHttpMethodFilterï¼Œåœ¨RESTfuléƒ¨åˆ†ä¼šè®²åˆ°</p>
</blockquote>
<h2 id="requestmappingæ³¨è§£çš„paramså±æ€§"><a class="markdownIt-Anchor" href="#requestmappingæ³¨è§£çš„paramså±æ€§"></a> @RequestMappingæ³¨è§£çš„paramså±æ€§ğŸ’¤</h2>
<ul>
<li>
<p>@RequestMapping æ³¨è§£çš„ params å±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚å‚æ•°åŒ¹é…è¯·æ±‚æ˜ å°„</p>
</li>
<li>
<p>@RequestMapping æ³¨è§£çš„ params å±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡å››ç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±‚å‚æ•°å’Œè¯·æ±‚æ˜ å°„çš„åŒ¹é…å…³ç³»</p>
<ul>
<li>
<p>â€œparamâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°</p>
</li>
<li>
<p>â€œ!paramâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦paramè¯·æ±‚å‚æ•°</p>
</li>
<li>
<p>â€œparam=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°ä¸”param=value</p>
</li>
<li>
<p>â€œparam!=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°ä½†æ˜¯param!=value</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/test(username=&#x27;admin&#x27;, password=123456)&#125;&quot;</span>&gt;</span>æµ‹è¯•RequestMappingæ³¨è§£çš„paramå±æ€§---&gt;/test<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(</span></span><br><span class="line"><span class="meta">    value = &#123;&quot;/testRequestMapping&quot;, &quot;/test&quot;&#125;,</span></span><br><span class="line"><span class="meta">    method = &#123;RequestMethod.GET, RequestMethod.POST&#125;,</span></span><br><span class="line"><span class="meta">    params = &#123;&quot;username&quot;, &quot;password!=123456&quot;&#125;  // å¿…é¡»æœ‰usernameï¼Œå¹¶ä¸”passwordä¸èƒ½æ˜¯123456</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨ï¼š</p>
<p>è‹¥å½“å‰è¯·æ±‚æ»¡è¶³@RequestMappingæ³¨è§£çš„valueå’Œmethodå±æ€§ï¼Œä½†æ˜¯ä¸æ»¡è¶³paramså±æ€§ï¼Œæ­¤æ—¶é¡µé¢å›æŠ¥é”™400ï¼šParameter conditions â€œusername, password!=123456â€ not met for actual request parameters: username={admin}, password={123456}</p>
</blockquote>
<h2 id="requestmappingæ³¨è§£çš„headerså±æ€§"><a class="markdownIt-Anchor" href="#requestmappingæ³¨è§£çš„headerså±æ€§"></a> @RequestMappingæ³¨è§£çš„headerså±æ€§ğŸ’¤</h2>
<ul>
<li>@RequestMappingæ³¨è§£çš„headerså±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚å¤´ä¿¡æ¯åŒ¹é…è¯·æ±‚æ˜ å°„</li>
<li>@RequestMappingæ³¨è§£çš„headerså±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡å››ç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯å’Œè¯·æ±‚æ˜ å°„çš„åŒ¹é…å…³ç³»
<ul>
<li>â€œheaderâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯</li>
<li>â€œ!headerâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯</li>
<li>â€œheader=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ä¸”header=value</li>
<li>â€œheader!=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ä¸”header!=value</li>
</ul>
</li>
</ul>
<p>è‹¥å½“å‰è¯·æ±‚æ»¡è¶³@RequestMappingæ³¨è§£çš„valueå’Œmethodå±æ€§ï¼Œä½†æ˜¯ä¸æ»¡è¶³headerså±æ€§ï¼Œæ­¤æ—¶é¡µé¢æ˜¾ç¤º404é”™è¯¯SpringMVCæ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦ï¼ˆé‡ç‚¹ï¼‰ï¼Œå³èµ„æºæœªæ‰¾åˆ°</p>
<h2 id="springmvcæ”¯æŒanté£æ ¼çš„è·¯å¾„"><a class="markdownIt-Anchor" href="#springmvcæ”¯æŒanté£æ ¼çš„è·¯å¾„"></a> SpringMVCæ”¯æŒanté£æ ¼çš„è·¯å¾„</h2>
<p>å³æ¨¡ç³ŠåŒ¹é….</p>
<ul>
<li>ï¼Ÿï¼šè¡¨ç¤ºä»»æ„çš„å•ä¸ªå­—ç¬¦.(ä¸èƒ½åŒ¹é…<code>\</code>æˆ–è€…<code>?</code>è¿™ç§ç‰¹æ®Šå­—ç¬¦,åŒæ ·é€‚ç”¨äº*åŒ¹é…ç¬¦)</li>
<li>*ï¼šè¡¨ç¤ºä»»æ„çš„0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</li>
<li>**ï¼šè¡¨ç¤ºä»»æ„çš„ä¸€å±‚æˆ–å¤šå±‚ç›®å½•</li>
</ul>
<p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨**æ—¶ï¼Œåªèƒ½ä½¿ç”¨/**/xxxçš„æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/a?a/testAnt&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testAnt</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="springmvcæ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦"><a class="markdownIt-Anchor" href="#springmvcæ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦"></a> SpringMVCæ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦â­â­</h2>
<ul>
<li>åŸå§‹æ–¹å¼ï¼š/deleteUser?id=1</li>
<li><strong>restæ–¹å¼</strong> ï¼š/deleteUser/1</li>
</ul>
<p>SpringMVCè·¯å¾„ä¸­çš„å ä½ç¬¦å¸¸ç”¨äºRESTfulé£æ ¼ä¸­ï¼Œå½“è¯·æ±‚è·¯å¾„ä¸­å°†æŸäº›æ•°æ®é€šè¿‡è·¯å¾„çš„æ–¹å¼ä¼ è¾“åˆ°æœåŠ¡å™¨ä¸­ï¼Œå°±å¯ä»¥åœ¨ç›¸åº”çš„<code>@RequestMapping</code>æ³¨è§£çš„valueå±æ€§ä¸­é€šè¿‡å ä½ç¬¦{xxx}è¡¨ç¤ºä¼ è¾“çš„æ•°æ®ï¼Œåœ¨é€šè¿‡<code>@PathVariable</code>æ³¨è§£ï¼Œå°†å ä½ç¬¦æ‰€è¡¨ç¤ºçš„æ•°æ®èµ‹å€¼ç»™æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testPath/1/admin&#125;&quot;</span>&gt;</span>æµ‹è¯•è·¯å¾„ä¸­çš„å ä½ç¬¦----&gt;/testRest<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testPath/&#123;id&#125;/&#123;name&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testPath</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id, <span class="meta">@PathVariable</span> (<span class="string">&quot;name&quot;</span>)</span>String name) &#123;</span><br><span class="line">    System.out.println(id + <span class="string">&quot;:&quot;</span> + name);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="springmvcè·å–è¯·æ±‚å‚æ•°"><a class="markdownIt-Anchor" href="#springmvcè·å–è¯·æ±‚å‚æ•°"></a> SpringMVCè·å–è¯·æ±‚å‚æ•°</h1>
<h2 id="é€šè¿‡servletapiè·å–"><a class="markdownIt-Anchor" href="#é€šè¿‡servletapiè·å–"></a> é€šè¿‡ServletAPIè·å–</h2>
<p>å°†HttpServletRequestä½œä¸ºæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ï¼Œæ­¤æ—¶HttpServletRequestç±»å‹çš„å‚æ•°è¡¨ç¤ºå°è£…äº†å½“å‰è¯·æ±‚çš„è¯·æ±‚æŠ¥æ–‡çš„å¯¹è±¡</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testServletAPI(username=&#x27;admin&#x27;, password=&#x27;123456&#x27;)&#125;&quot;</span>&gt;</span>æµ‹è¯•ä½¿ç”¨ServletAPIè¯·æ±‚å‚æ•°<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;testServletAPI&quot;)</span></span><br><span class="line"><span class="comment">// å½¢å‚ä½ç½®çš„requestè¡¨ç¤ºå½“å‰è¯·æ±‚</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testServletAPI</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">    System.out.println(username + <span class="string">&quot;:&quot;</span> + password);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°"><a class="markdownIt-Anchor" href="#é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°"></a> é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°</h2>
<p>åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä½ç½®ï¼Œè®¾ç½®å’Œè¯·æ±‚å‚æ•°åŒåçš„å½¢å‚ï¼Œå½“æµè§ˆå™¨å‘é€è¯·æ±‚ï¼ŒåŒ¹é…åˆ°è¯·æ±‚æ˜ å°„æ—¶ï¼Œåœ¨DispatcherServletä¸­å°±ä¼šå°†è¯·æ±‚å‚æ•°èµ‹å€¼ç»™ç›¸åº”çš„å½¢å‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testParams(username=&#x27;admin&#x27;, password=&#x27;123456&#x27;)&#125;&quot;</span>&gt;</span>æµ‹è¯•ä½¿ç”¨æ§åˆ¶å™¨çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testParams&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testParams</span><span class="params">(String username, String password)</span> &#123;</span><br><span class="line">    System.out.println(username + <span class="string">&quot; : &quot;</span> + password);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨ï¼š</p>
<p>è‹¥è¯·æ±‚æ‰€ä¼ è¾“çš„è¯·æ±‚å‚æ•°ä¸­æœ‰å¤šä¸ªåŒåçš„è¯·æ±‚å‚æ•°ï¼Œæ­¤æ—¶å¯ä»¥åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä¸­è®¾ç½® å­—ç¬¦ä¸²æ•°ç»„ æˆ–è€… å­—ç¬¦ä¸²ç±»å‹çš„å½¢å‚ æ¥æ”¶æ­¤è¯·æ±‚å‚æ•°</p>
<p>è‹¥ä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„ç±»å‹çš„å½¢å‚ï¼Œæ­¤å‚æ•°çš„æ•°ç»„ä¸­åŒ…å«äº†æ¯ä¸€ä¸ªæ•°æ®</p>
<p>è‹¥ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹çš„å½¢å‚ï¼Œæ­¤å‚æ•°çš„å€¼ä¸ºæ¯ä¸ªæ•°æ®ä¸­é—´ ä½¿ç”¨é€—å·æ‹¼æ¥ çš„ç»“æœ</p>
</blockquote>
<h2 id="requestparam"><a class="markdownIt-Anchor" href="#requestparam"></a> @RequestParam</h2>
<p>@RequestParamæ˜¯å°† <em>è¯·æ±‚å‚æ•°</em> å’Œæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚åˆ›å»ºæ˜ å°„å…³ç³»</p>
<p>@RequestParamæ³¨è§£ä¸€å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼š</p>
<ul>
<li>
<p><code>value</code>ï¼šæŒ‡å®šä¸ºå½¢å‚èµ‹å€¼çš„è¯·æ±‚å‚æ•°çš„å‚æ•°å</p>
</li>
<li>
<p><code>required</code>ï¼šè®¾ç½®æ˜¯å¦å¿…é¡»ä¼ è¾“æ­¤è¯·æ±‚å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºtrueã€‚</p>
<p>è‹¥è®¾ç½®ä¸ºtrueæ—¶ï¼Œåˆ™å½“å‰è¯·æ±‚å¿…é¡»ä¼ è¾“valueæ‰€æŒ‡å®šçš„è¯·æ±‚å‚æ•°ï¼Œè‹¥æ²¡æœ‰ä¼ è¾“è¯¥è¯·æ±‚å‚æ•°ï¼Œä¸”æ²¡æœ‰è®¾ç½®defaultValueå±æ€§ï¼Œåˆ™é¡µé¢æŠ¥é”™400ï¼šRequired String parameter â€˜xxxâ€™ is not presentï¼›è‹¥è®¾ç½®ä¸ºfalseï¼Œåˆ™å½“å‰è¯·æ±‚ä¸æ˜¯å¿…é¡»ä¼ è¾“valueæ‰€æŒ‡å®šçš„è¯·æ±‚å‚æ•°ï¼Œè‹¥æ²¡æœ‰ä¼ è¾“ï¼Œåˆ™æ³¨è§£æ‰€æ ‡è¯†çš„å½¢å‚çš„å€¼ä¸ºnull</p>
</li>
<li>
<p><code>defaultValue</code>ï¼šä¸ç®¡requiredå±æ€§å€¼ä¸ºtrueæˆ–falseï¼Œå½“valueæ‰€æŒ‡å®šçš„è¯·æ±‚å‚æ•°æ²¡æœ‰ä¼ è¾“æˆ–ä¼ è¾“çš„å€¼ä¸º&quot;&quot;æ—¶ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ä¸ºå½¢å‚èµ‹å€¼</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testParams(user_name=&#x27;admin&#x27;, password=&#x27;123456&#x27;)&#125;&quot;</span>&gt;</span>æµ‹è¯•ä½¿ç”¨@RewuestParamè·å–è¯·æ±‚å‚æ•°<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testParams&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testParams</span><span class="params">(</span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam(&quot;user_name&quot;)</span> String username, // user_name å’Œ usernameç›¸å¯¹åº”</span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam(&quot;password&quot;)</span> String password)</span> &#123;</span><br><span class="line">    System.out.println(username + <span class="string">&quot; : &quot;</span> + password);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="requestheader"><a class="markdownIt-Anchor" href="#requestheader"></a> @RequestHeader</h2>
<p>@RequestHeaderæ˜¯å°† <em>è¯·æ±‚å¤´ä¿¡æ¯</em> å’Œæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚åˆ›å»ºæ˜ å°„å…³ç³»</p>
<p>@RequestHeaderæ³¨è§£ä¸€å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼švalueã€requiredã€defaultValueï¼Œç”¨æ³•åŒ@RequestParam</p>
<h2 id="cookievalue"><a class="markdownIt-Anchor" href="#cookievalue"></a> @CookieValue</h2>
<p>@CookieValueæ˜¯å°† <em>cookieæ•°æ®</em> å’Œæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚åˆ›å»ºæ˜ å°„å…³ç³»</p>
<p>@CookieValueæ³¨è§£ä¸€å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼švalueã€requiredã€defaultValueï¼Œç”¨æ³•åŒ@RequestParam</p>
<h2 id="é€šè¿‡pojoè·å–è¯·æ±‚å‚æ•°"><a class="markdownIt-Anchor" href="#é€šè¿‡pojoè·å–è¯·æ±‚å‚æ•°"></a> é€šè¿‡POJOè·å–è¯·æ±‚å‚æ•°</h2>
<p>å¯ä»¥åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä½ç½®è®¾ç½®ä¸€ä¸ªå®ä½“ç±»ç±»å‹çš„å½¢å‚ï¼Œæ­¤æ—¶è‹¥æµè§ˆå™¨ä¼ è¾“çš„è¯·æ±‚å‚æ•°çš„å‚æ•°åå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸€è‡´ï¼Œé‚£ä¹ˆè¯·æ±‚å‚æ•°å°±ä¼šä¸ºæ­¤å±æ€§èµ‹å€¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/testpojo&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    æ€§åˆ«ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç”·&quot;</span>&gt;</span>ç”·<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>&gt;</span>å¥³<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    å¹´é¾„ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    é‚®ç®±ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä½¿ç”¨å®ä½“ç±»æ¥æ”¶è¯·æ±‚å‚æ•°&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testpojo&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testPojo</span><span class="params">(User user)</span> &#123;</span><br><span class="line">    System.out.println(user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜"><a class="markdownIt-Anchor" href="#è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜"></a> è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜â­</h2>
<p>è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨SpringMVCæä¾›çš„ç¼–ç è¿‡æ»¤å™¨CharacterEncodingFilterï¼Œä½†æ˜¯å¿…é¡»åœ¨web.xmlä¸­è¿›è¡Œæ³¨å†Œ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®springMVCçš„ç¼–ç è¿‡æ»¤å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceResponseEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨ï¼š</p>
<p>SpringMVCä¸­å¤„ç†ç¼–ç çš„è¿‡æ»¤å™¨ä¸€å®šè¦é…ç½®åˆ°å…¶ä»–è¿‡æ»¤å™¨ä¹‹å‰ï¼Œå¦åˆ™æ— æ•ˆ</p>
</blockquote>
<h1 id="åŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#åŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> åŸŸå¯¹è±¡å…±äº«æ•°æ®</h1>
<h2 id="ä½¿ç”¨servletapiå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨servletapiå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨ServletAPIå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testServletAPI&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testServletAPI</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">    request.setAttribute(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,servletAPI&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;testScope&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!-- success.html è·å–å…±äº«æ•°æ® --&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨modelandviewå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨modelandviewå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨ModelAndViewå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testModelAndView&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ModelAndView <span class="title function_">testModelAndView</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ModelAndViewæœ‰Modelå’ŒViewçš„åŠŸèƒ½</span></span><br><span class="line"><span class="comment">     * Modelä¸»è¦ç”¨äºå‘è¯·æ±‚åŸŸå…±äº«æ•°æ®</span></span><br><span class="line"><span class="comment">     * Viewä¸»è¦ç”¨äºè®¾ç½®è§†å›¾ï¼Œå®ç°é¡µé¢è·³è½¬</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">ModelAndView</span> <span class="variable">mav</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">    <span class="comment">//å‘è¯·æ±‚åŸŸå…±äº«æ•°æ®</span></span><br><span class="line">    mav.addObject(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,ModelAndView&quot;</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®è§†å›¾ï¼Œå®ç°é¡µé¢è·³è½¬</span></span><br><span class="line">    mav.setViewName(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> mav;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨modelå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨modelå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨Modelå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testModel&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testModel</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,Model&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨mapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨mapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨mapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testMap&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testMap</span><span class="params">(Map&lt;String, Object&gt; map)</span>&#123;</span><br><span class="line">    map.put(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,Map&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨modelmapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨modelmapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨ModelMapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testModelMap&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testModelMap</span><span class="params">(ModelMap modelMap)</span>&#123;</span><br><span class="line">    modelMap.addAttribute(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,ModelMap&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="model-modelmap-mapçš„å…³ç³»"><a class="markdownIt-Anchor" href="#model-modelmap-mapçš„å…³ç³»"></a> Modelã€ModelMapã€Mapçš„å…³ç³»</h2>
<p>Modelã€ModelMapã€Mapç±»å‹çš„å‚æ•°å…¶å®æœ¬è´¨ä¸Šéƒ½æ˜¯ <code>BindingAwareModelMap</code> ç±»å‹çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Model</span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModelMap</span> <span class="keyword">extends</span> <span class="title class_">LinkedHashMap</span>&lt;String, Object&gt; &#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExtendedModelMap</span> <span class="keyword">extends</span> <span class="title class_">ModelMap</span> <span class="keyword">implements</span> <span class="title class_">Model</span> &#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BindingAwareModelMap</span> <span class="keyword">extends</span> <span class="title class_">ExtendedModelMap</span> &#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‘sessionåŸŸå…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#å‘sessionåŸŸå…±äº«æ•°æ®"></a> å‘sessionåŸŸå…±äº«æ•°æ®</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testSession&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testSession</span><span class="params">(HttpSession session)</span>&#123;</span><br><span class="line">    session.setAttribute(<span class="string">&quot;testSessionScope&quot;</span>, <span class="string">&quot;hello,session&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;session.testSessionScope&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="å‘applicationåŸŸå…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#å‘applicationåŸŸå…±äº«æ•°æ®"></a> å‘applicationåŸŸå…±äº«æ•°æ®</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testApplication&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testApplication</span><span class="params">(HttpSession session)</span>&#123;</span><br><span class="line">	<span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> session.getServletContext();</span><br><span class="line">    application.setAttribute(<span class="string">&quot;testApplicationScope&quot;</span>, <span class="string">&quot;hello,application&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;application.testSessionScope&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="springmvcçš„è§†å›¾"><a class="markdownIt-Anchor" href="#springmvcçš„è§†å›¾"></a> SpringMVCçš„è§†å›¾</h1>
<p>SpringMVCä¸­çš„è§†å›¾æ˜¯Viewæ¥å£ï¼Œè§†å›¾çš„ä½œç”¨æ¸²æŸ“æ•°æ®ï¼Œå°†æ¨¡å‹Modelä¸­çš„æ•°æ®å±•ç¤ºç»™ç”¨æˆ·</p>
<p>SpringMVCè§†å›¾çš„ç§ç±»å¾ˆå¤šï¼Œé»˜è®¤æœ‰ <strong>è½¬å‘è§†å›¾</strong> å’Œ <strong>é‡å®šå‘è§†å›¾</strong></p>
<p>å½“å·¥ç¨‹å¼•å…¥jstlçš„ä¾èµ–ï¼Œè½¬å‘è§†å›¾ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºJstlView</p>
<p>è‹¥ä½¿ç”¨çš„è§†å›¾æŠ€æœ¯ä¸ºThymeleafï¼Œåœ¨SpringMVCçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®äº†Thymeleafçš„è§†å›¾è§£æå™¨ï¼Œç”±æ­¤è§†å›¾è§£æå™¨è§£æä¹‹åæ‰€å¾—åˆ°çš„æ˜¯ThymeleafView</p>
<h2 id="thymeleafview"><a class="markdownIt-Anchor" href="#thymeleafview"></a> ThymeleafView</h2>
<p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„<strong>è§†å›¾åç§°æ²¡æœ‰ä»»ä½•å‰ç¼€æ—¶</strong>ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¼šè¢«SpringMVCé…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè§†å›¾åç§°æ‹¼æ¥è§†å›¾å‰ç¼€å’Œè§†å›¾åç¼€æ‰€å¾—åˆ°çš„æœ€ç»ˆè·¯å¾„ï¼Œä¼šé€šè¿‡ <strong>è½¬å‘</strong> çš„æ–¹å¼å®ç°è·³è½¬</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testThymeleafView&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="11SpringMVC/image-20221010152352997.png" alt="image-20221010152352997" /></p>
<h2 id="è½¬å‘è§†å›¾"><a class="markdownIt-Anchor" href="#è½¬å‘è§†å›¾"></a> è½¬å‘è§†å›¾</h2>
<p>SpringMVCä¸­ <strong>é»˜è®¤çš„è½¬å‘è§†å›¾</strong> æ˜¯InternalResourceView</p>
<p>SpringMVCä¸­åˆ›å»ºè½¬å‘è§†å›¾çš„æƒ…å†µï¼š</p>
<p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°ä»¥&quot;forward:&quot;ä¸ºå‰ç¼€æ—¶ï¼Œåˆ›å»ºInternalResourceViewè§†å›¾ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¸ä¼šè¢«SpringMVCé…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè€Œæ˜¯ä¼šå°†å‰ç¼€&quot;forward:&quot;å»æ‰ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€ç»ˆè·¯å¾„é€šè¿‡è½¬å‘çš„æ–¹å¼å®ç°è·³è½¬</p>
<p>ä¾‹å¦‚ <code>forward:/</code>ï¼Œ<code>forward:/employee</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ°å€æ æ˜¾ç¤ºçš„æ˜¯/testForward,é¡µé¢æ˜¾ç¤ºçš„æ˜¯/testThymeleafView</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/testForward&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testForward</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;forward:/testThymeleafView&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="11SpringMVC/image-20221010152612066.png" alt="image-20221010152612066" /></p>
<h2 id="é‡å®šå‘è§†å›¾"><a class="markdownIt-Anchor" href="#é‡å®šå‘è§†å›¾"></a> é‡å®šå‘è§†å›¾</h2>
<p>SpringMVCä¸­é»˜è®¤çš„é‡å®šå‘è§†å›¾æ˜¯RedirectView</p>
<p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°ä»¥&quot;redirect:&quot;ä¸ºå‰ç¼€æ—¶ï¼Œåˆ›å»ºRedirectViewè§†å›¾ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¸ä¼šè¢«SpringMVCé…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè€Œæ˜¯ä¼šå°†å‰ç¼€&quot;redirect:&quot;å»æ‰ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€ç»ˆè·¯å¾„é€šè¿‡é‡å®šå‘çš„æ–¹å¼å®ç°è·³è½¬</p>
<p>ä¾‹å¦‚ <code>redirect:/</code>ï¼Œ<code>redirect:/employee</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ°å€æ æ˜¾ç¤ºçš„æ˜¯/testThymeleafView,é¡µé¢æ˜¾ç¤ºçš„æ˜¯/testThymeleafView</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/testRedirect&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRedirect</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/testThymeleafView&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="11SpringMVC/image-20221010153908769.png" alt="image-20221010153908769" /></p>
<blockquote>
<p>æ³¨ï¼š</p>
<p>é‡å®šå‘è§†å›¾åœ¨è§£ææ—¶ï¼Œä¼šå…ˆå°†redirect:å‰ç¼€å»æ‰ï¼Œç„¶åä¼šåˆ¤æ–­å‰©ä½™éƒ¨åˆ†æ˜¯å¦ä»¥/å¼€å¤´ï¼Œè‹¥æ˜¯åˆ™ä¼šè‡ªåŠ¨æ‹¼æ¥ä¸Šä¸‹æ–‡è·¯å¾„</p>
</blockquote>
<h2 id="è§†å›¾æ§åˆ¶å™¨view-controller"><a class="markdownIt-Anchor" href="#è§†å›¾æ§åˆ¶å™¨view-controller"></a> è§†å›¾æ§åˆ¶å™¨view-controller</h2>
<p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­ï¼Œä»…ä»…ç”¨æ¥å®ç°é¡µé¢è·³è½¬ï¼Œå³åªéœ€è¦è®¾ç½®è§†å›¾åç§°æ—¶ï¼Œå¯ä»¥å°†å¤„ç†å™¨æ–¹æ³•ä½¿ç”¨view-controlleræ ‡ç­¾è¿›è¡Œè¡¨ç¤º</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- http://localhost:8080/springMVC/ ä¼šè·³è½¬åˆ°index.html --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">	pathï¼šè®¾ç½®å¤„ç†çš„è¯·æ±‚åœ°å€</span></span><br><span class="line"><span class="comment">	view-nameï¼šè®¾ç½®è¯·æ±‚åœ°å€æ‰€å¯¹åº”çš„è§†å›¾åç§°</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:view-controller</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">view-name</span>=<span class="string">&quot;index&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:view-controller</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯mvcæ³¨è§£é©±åŠ¨,å¯ä»¥è®©æ‰€æœ‰çš„è¯·æ±‚æœ‰æ•ˆ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨ï¼š</p>
<p>å½“SpringMVCä¸­è®¾ç½®ä»»ä½•ä¸€ä¸ªview-controlleræ—¶ï¼Œå…¶ä»–æ§åˆ¶å™¨ä¸­çš„è¯·æ±‚æ˜ å°„å°†å…¨éƒ¨å¤±æ•ˆï¼Œæ­¤æ—¶éœ€è¦åœ¨SpringMVCçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¼€å¯mvcæ³¨è§£é©±åŠ¨çš„æ ‡ç­¾ï¼š</p>
<p>&lt;mvc:annotation-driven /&gt;</p>
</blockquote>
<h1 id="restful"><a class="markdownIt-Anchor" href="#restful"></a> RESTful</h1>
<h2 id="restfulç®€ä»‹"><a class="markdownIt-Anchor" href="#restfulç®€ä»‹"></a> RESTfulç®€ä»‹</h2>
<p>RESTï¼šRepresentational State Transferï¼Œè¡¨ç°å±‚èµ„æºçŠ¶æ€è½¬ç§»ã€‚</p>
<ul>
<li>èµ„æº</li>
</ul>
<p>èµ„æºæ˜¯ä¸€ç§çœ‹å¾…æœåŠ¡å™¨çš„æ–¹å¼ï¼Œå³ï¼Œå°†æœåŠ¡å™¨çœ‹ä½œæ˜¯ç”±å¾ˆå¤šç¦»æ•£çš„èµ„æºç»„æˆã€‚æ¯ä¸ªèµ„æºæ˜¯æœåŠ¡å™¨ä¸Šä¸€ä¸ªå¯å‘½åçš„æŠ½è±¡æ¦‚å¿µã€‚å› ä¸ºèµ„æºæ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæ‰€ä»¥å®ƒä¸ä»…ä»…èƒ½ä»£è¡¨æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–‡ä»¶ã€æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ç­‰ç­‰å…·ä½“çš„ä¸œè¥¿ï¼Œå¯ä»¥å°†èµ„æºè®¾è®¡çš„è¦å¤šæŠ½è±¡æœ‰å¤šæŠ½è±¡ï¼Œåªè¦æƒ³è±¡åŠ›å…è®¸è€Œä¸”å®¢æˆ·ç«¯åº”ç”¨å¼€å‘è€…èƒ½å¤Ÿç†è§£ã€‚ä¸é¢å‘å¯¹è±¡è®¾è®¡ç±»ä¼¼ï¼Œèµ„æºæ˜¯ä»¥åè¯ä¸ºæ ¸å¿ƒæ¥ç»„ç»‡çš„ï¼Œé¦–å…ˆå…³æ³¨çš„æ˜¯åè¯ã€‚ä¸€ä¸ªèµ„æºå¯ä»¥ç”±ä¸€ä¸ªæˆ–å¤šä¸ªURIæ¥æ ‡è¯†ã€‚URIæ—¢æ˜¯èµ„æºçš„åç§°ï¼Œä¹Ÿæ˜¯èµ„æºåœ¨Webä¸Šçš„åœ°å€ã€‚å¯¹æŸä¸ªèµ„æºæ„Ÿå…´è¶£çš„å®¢æˆ·ç«¯åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡èµ„æºçš„URIä¸å…¶è¿›è¡Œäº¤äº’ã€‚</p>
<ul>
<li>èµ„æºçš„è¡¨è¿°</li>
</ul>
<p>èµ„æºçš„è¡¨è¿°æ˜¯ä¸€æ®µå¯¹äºèµ„æºåœ¨æŸä¸ªç‰¹å®šæ—¶åˆ»çš„çŠ¶æ€çš„æè¿°ã€‚å¯ä»¥åœ¨å®¢æˆ·ç«¯-æœåŠ¡å™¨ç«¯ä¹‹é—´è½¬ç§»ï¼ˆäº¤æ¢ï¼‰ã€‚èµ„æºçš„è¡¨è¿°å¯ä»¥æœ‰å¤šç§æ ¼å¼ï¼Œä¾‹å¦‚HTML/XML/JSON/çº¯æ–‡æœ¬/å›¾ç‰‡/è§†é¢‘/éŸ³é¢‘ç­‰ç­‰ã€‚èµ„æºçš„è¡¨è¿°æ ¼å¼å¯ä»¥é€šè¿‡åå•†æœºåˆ¶æ¥ç¡®å®šã€‚è¯·æ±‚-å“åº”æ–¹å‘çš„è¡¨è¿°é€šå¸¸ä½¿ç”¨ä¸åŒçš„æ ¼å¼ã€‚</p>
<ul>
<li>çŠ¶æ€è½¬ç§»</li>
</ul>
<p>çŠ¶æ€è½¬ç§»è¯´çš„æ˜¯ï¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´è½¬ç§»ï¼ˆtransferï¼‰ä»£è¡¨èµ„æºçŠ¶æ€çš„è¡¨è¿°ã€‚é€šè¿‡è½¬ç§»å’Œæ“ä½œèµ„æºçš„è¡¨è¿°ï¼Œæ¥é—´æ¥å®ç°æ“ä½œèµ„æºçš„ç›®çš„ã€‚</p>
<h2 id="restfulçš„å®ç°"><a class="markdownIt-Anchor" href="#restfulçš„å®ç°"></a> RESTfulçš„å®ç°</h2>
<p>å…·ä½“è¯´ï¼Œå°±æ˜¯ HTTP åè®®é‡Œé¢ï¼Œå››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯ï¼šGETã€POSTã€PUTã€DELETEã€‚</p>
<p>å®ƒä»¬åˆ†åˆ«å¯¹åº”å››ç§åŸºæœ¬æ“ä½œï¼šGET ç”¨æ¥è·å–èµ„æºï¼ŒPOST ç”¨æ¥æ–°å»ºèµ„æºï¼ŒPUT ç”¨æ¥æ›´æ–°èµ„æºï¼ŒDELETE ç”¨æ¥åˆ é™¤èµ„æºã€‚</p>
<p>REST é£æ ¼æå€¡ URL åœ°å€ä½¿ç”¨ç»Ÿä¸€çš„é£æ ¼è®¾è®¡ï¼Œä»å‰åˆ°åå„ä¸ªå•è¯ä½¿ç”¨æ–œæ åˆ†å¼€ï¼Œä¸ä½¿ç”¨é—®å·é”®å€¼å¯¹æ–¹å¼æºå¸¦è¯·æ±‚å‚æ•°ï¼Œè€Œæ˜¯å°†è¦å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ä½œä¸º URL åœ°å€çš„ä¸€éƒ¨åˆ†ï¼Œä»¥ä¿è¯æ•´ä½“é£æ ¼çš„ä¸€è‡´æ€§ã€‚</p>
<table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>ä¼ ç»Ÿæ–¹å¼</th>
<th>RESTé£æ ¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>æŸ¥è¯¢æ“ä½œ</td>
<td>getUserById?id=1</td>
<td>user/1â€“&gt;getè¯·æ±‚æ–¹å¼</td>
</tr>
<tr>
<td>ä¿å­˜æ“ä½œ</td>
<td>saveUser</td>
<td>userâ€“&gt;postè¯·æ±‚æ–¹å¼</td>
</tr>
<tr>
<td>åˆ é™¤æ“ä½œ</td>
<td>deleteUser?id=1</td>
<td>user/1â€“&gt;deleteè¯·æ±‚æ–¹å¼</td>
</tr>
<tr>
<td>æ›´æ–°æ“ä½œ</td>
<td>updateUser</td>
<td>userâ€“&gt;putè¯·æ±‚æ–¹å¼</td>
</tr>
</tbody>
</table>
<h2 id="hiddenhttpmethodfilter"><a class="markdownIt-Anchor" href="#hiddenhttpmethodfilter"></a> HiddenHttpMethodFilter</h2>
<p>ç”±äºæµè§ˆå™¨åªæ”¯æŒå‘é€getå’Œpostæ–¹å¼çš„è¯·æ±‚ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å‘é€putå’Œdeleteè¯·æ±‚å‘¢ï¼Ÿ</p>
<p>SpringMVC æä¾›äº† <strong>HiddenHttpMethodFilter</strong> å¸®åŠ©æˆ‘ä»¬<strong>å°† POST è¯·æ±‚è½¬æ¢ä¸º DELETE æˆ– PUT è¯·æ±‚</strong></p>
<p><strong>HiddenHttpMethodFilter</strong> å¤„ç†putå’Œdeleteè¯·æ±‚çš„æ¡ä»¶ï¼š</p>
<ul>
<li>å½“å‰è¯·æ±‚çš„è¯·æ±‚æ–¹å¼å¿…é¡»ä¸º <code>post</code></li>
<li>å½“å‰è¯·æ±‚å¿…é¡»ä¼ è¾“è¯·æ±‚å‚æ•° <code>_method</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/user&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;_method&quot;</span> <span class="attr">value</span>=<span class="string">&quot;PUT&quot;</span>&gt;</span>  <span class="comment">&lt;!-- æ¨¡æ‹Ÿputè¯·æ±‚ --&gt;</span></span><br><span class="line">    ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¿®æ”¹&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œ<strong>HiddenHttpMethodFilter</strong> è¿‡æ»¤å™¨å°±ä¼šå°†å½“å‰è¯·æ±‚çš„è¯·æ±‚æ–¹å¼è½¬æ¢ä¸ºè¯·æ±‚å‚æ•°_methodçš„å€¼ï¼Œå› æ­¤è¯·æ±‚å‚æ•°_methodçš„å€¼æ‰æ˜¯æœ€ç»ˆçš„è¯·æ±‚æ–¹å¼</p>
<p>åœ¨ web.xml ä¸­æ³¨å†Œ<strong>HiddenHttpMethodFilter</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--1.é…ç½®ç¼–ç è¿‡æ»¤å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceResponseEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 2.é…ç½®å¤„ç†è¯·æ±‚æ–¹å¼putå’Œdeleteçš„HiddenHttpMethodFilter --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨ï¼š</p>
<p>ç›®å‰ä¸ºæ­¢ï¼ŒSpringMVCä¸­æä¾›äº†ä¸¤ä¸ªè¿‡æ»¤å™¨ï¼šCharacterEncodingFilterå’ŒHiddenHttpMethodFilter</p>
<p>åœ¨web.xmlä¸­æ³¨å†Œæ—¶ï¼Œå¿…é¡»å…ˆæ³¨å†ŒCharacterEncodingFilterï¼Œå†æ³¨å†ŒHiddenHttpMethodFilter</p>
<p>åŸå› ï¼š</p>
<ul>
<li>
<p>åœ¨ CharacterEncodingFilter ä¸­é€šè¿‡ request.setCharacterEncoding(encoding) æ–¹æ³•è®¾ç½®å­—ç¬¦é›†çš„</p>
</li>
<li>
<p>request.setCharacterEncoding(encoding) æ–¹æ³•è¦æ±‚å‰é¢ä¸èƒ½æœ‰ä»»ä½•è·å–è¯·æ±‚å‚æ•°çš„æ“ä½œ</p>
</li>
<li>
<p>è€Œ HiddenHttpMethodFilter æ°æ°æœ‰ä¸€ä¸ªè·å–è¯·æ±‚æ–¹å¼çš„æ“ä½œï¼š</p>
</li>
<li>
<pre class="highlight"><code class="">String paramValue = request.getParameter(this.methodParam);
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># RESTfulæ¡ˆä¾‹</span><br><span class="line"></span><br><span class="line">## å‡†å¤‡å·¥ä½œ</span><br><span class="line"></span><br><span class="line">å’Œä¼ ç»Ÿ CRUD ä¸€æ ·ï¼Œå®ç°å¯¹å‘˜å·¥ä¿¡æ¯çš„å¢åˆ æ”¹æŸ¥ã€‚</span><br><span class="line"></span><br><span class="line">- æ­å»ºç¯å¢ƒ</span><br><span class="line"></span><br><span class="line">- å‡†å¤‡å®ä½“ç±»</span><br><span class="line"></span><br><span class="line"> ```java</span><br><span class="line"> package com.xzt.mvc.bean;</span><br><span class="line"> </span><br><span class="line"> /**</span><br><span class="line">  * @author xzt</span><br><span class="line">  * @version 1.0</span><br><span class="line">  */</span><br><span class="line"> public class Employee &#123;</span><br><span class="line">     private Integer id;</span><br><span class="line">     private String lastName;</span><br><span class="line"> </span><br><span class="line">     private String email;</span><br><span class="line">     //1 male, 0 female</span><br><span class="line">     private Integer gender;</span><br><span class="line"> </span><br><span class="line">     public Integer getId() &#123;</span><br><span class="line">         return id;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     public void setId(Integer id) &#123;</span><br><span class="line">         this.id = id;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     public String getLastName() &#123;</span><br><span class="line">         return lastName;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     public void setLastName(String lastName) &#123;</span><br><span class="line">         this.lastName = lastName;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     public String getEmail() &#123;</span><br><span class="line">         return email;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     public void setEmail(String email) &#123;</span><br><span class="line">         this.email = email;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     public Integer getGender() &#123;</span><br><span class="line">         return gender;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     public void setGender(Integer gender) &#123;</span><br><span class="line">         this.gender = gender;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     public Employee(Integer id, String lastName, String email, Integer gender) &#123;</span><br><span class="line">         super();</span><br><span class="line">         this.id = id;</span><br><span class="line">         this.lastName = lastName;</span><br><span class="line">         this.email = email;</span><br><span class="line">         this.gender = gender;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     public Employee() &#123;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</blockquote>
<ul>
<li>
<p>å‡†å¤‡daoæ¨¡æ‹Ÿæ•°æ®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.mvc.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.xzt.mvc.bean.Employee;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeDao</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Integer, Employee&gt; employees = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        employees = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Employee&gt;();</span><br><span class="line"></span><br><span class="line">        employees.put(<span class="number">1001</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1001</span>, <span class="string">&quot;E-AA&quot;</span>, <span class="string">&quot;aa@163.com&quot;</span>, <span class="number">1</span>));</span><br><span class="line">        employees.put(<span class="number">1002</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1002</span>, <span class="string">&quot;E-BB&quot;</span>, <span class="string">&quot;bb@163.com&quot;</span>, <span class="number">1</span>));</span><br><span class="line">        employees.put(<span class="number">1003</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1003</span>, <span class="string">&quot;E-CC&quot;</span>, <span class="string">&quot;cc@163.com&quot;</span>, <span class="number">0</span>));</span><br><span class="line">        employees.put(<span class="number">1004</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1004</span>, <span class="string">&quot;E-DD&quot;</span>, <span class="string">&quot;dd@163.com&quot;</span>, <span class="number">0</span>));</span><br><span class="line">        employees.put(<span class="number">1005</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1005</span>, <span class="string">&quot;E-EE&quot;</span>, <span class="string">&quot;ee@163.com&quot;</span>, <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Integer</span> <span class="variable">initId</span> <span class="operator">=</span> <span class="number">1006</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Employee employee)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(employee.getId() == <span class="literal">null</span>)&#123;</span><br><span class="line">            employee.setId(initId++);</span><br><span class="line">        &#125;</span><br><span class="line">        employees.put(employee.getId(), employee);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Collection&lt;Employee&gt; <span class="title function_">getAll</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> employees.values();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Employee <span class="title function_">get</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> employees.get(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">        employees.remove(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="åŠŸèƒ½æ¸…å•"><a class="markdownIt-Anchor" href="#åŠŸèƒ½æ¸…å•"></a> åŠŸèƒ½æ¸…å•</h2>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>URL åœ°å€</th>
<th>è¯·æ±‚æ–¹å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>è®¿é—®é¦–é¡µâˆš</td>
<td>/</td>
<td>GET</td>
</tr>
<tr>
<td>æŸ¥è¯¢å…¨éƒ¨æ•°æ®âˆš</td>
<td>/employee</td>
<td>GET</td>
</tr>
<tr>
<td>åˆ é™¤âˆš</td>
<td>/employee/2</td>
<td>DELETE</td>
</tr>
<tr>
<td>è·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢âˆš</td>
<td>/toAdd</td>
<td>GET</td>
</tr>
<tr>
<td>æ‰§è¡Œä¿å­˜âˆš</td>
<td>/employee</td>
<td>POST</td>
</tr>
<tr>
<td>è·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢âˆš</td>
<td>/employee/2</td>
<td>GET</td>
</tr>
<tr>
<td>æ‰§è¡Œæ›´æ–°âˆš</td>
<td>/employee</td>
<td>PUT</td>
</tr>
</tbody>
</table>
<h2 id="å…·ä½“åŠŸèƒ½è®¿é—®é¦–é¡µ"><a class="markdownIt-Anchor" href="#å…·ä½“åŠŸèƒ½è®¿é—®é¦–é¡µ"></a> å…·ä½“åŠŸèƒ½ï¼šè®¿é—®é¦–é¡µ</h2>
<h3 id="é…ç½®view-controller"><a class="markdownIt-Anchor" href="#é…ç½®view-controller"></a> é…ç½®view-controller</h3>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ3</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Java åˆ·é¢˜å¸¸ç”¨çŸ¥è¯†</title>
    <url>/2022/10/19/JAVA/13JavaComKnow/</url>
    <content><![CDATA[<h1 id="å¸¸ç”¨å®¹å™¨"><a class="markdownIt-Anchor" href="#å¸¸ç”¨å®¹å™¨"></a> å¸¸ç”¨å®¹å™¨</h1>
<h2 id="list"><a class="markdownIt-Anchor" href="#list"></a> List</h2>
<p>æ¥å£ï¼š<code>java.util.List&lt;&gt;</code></p>
<p>å®ç°ï¼š</p>
<ul>
<li><code>java.util.ArrayList&lt;&gt;</code> ï¼šå˜é•¿æ•°ç»„</li>
<li><code>java.util.LinkedList&lt;&gt;</code> ï¼šåŒé“¾è¡¨</li>
</ul>
<p>å‡½æ•°ï¼š</p>
<ul>
<li><code>add()</code>ï¼šåœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ </li>
<li><code>clear()</code>ï¼šæ¸…ç©º</li>
<li><code>size()</code>ï¼šè¿”å›é•¿åº¦</li>
<li><code>isEmpty()</code>ï¼šæ˜¯å¦ä¸ºç©º</li>
<li><code>get(i)</code>ï¼šè·å–ç¬¬iä¸ªå…ƒç´ </li>
<li><code>set(i, val)</code>ï¼šå°†ç¬¬iä¸ªå…ƒç´ è®¾ç½®ä¸ºval</li>
</ul>
<h2 id="æ ˆ"><a class="markdownIt-Anchor" href="#æ ˆ"></a> æ ˆ</h2>
<p>ç±»ï¼š<code>java.util.Stack&lt;&gt;</code></p>
<p>å‡½æ•°ï¼š</p>
<ul>
<li><code>push()</code>ï¼šå‹å…¥å…ƒç´ </li>
<li><code>pop()</code>ï¼šå¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå¹¶è¿”å›æ ˆé¡¶å…ƒç´ </li>
<li><code>peek()</code>ï¼šè¿”å›æ ˆé¡¶å…ƒç´ </li>
<li><code>size()</code>ï¼šè¿”å›é•¿åº¦</li>
<li><code>empty()</code>ï¼šæ ˆæ˜¯å¦ä¸ºç©º</li>
<li><code>clear()</code>ï¼šæ¸…ç©º</li>
</ul>
<h2 id="é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#é˜Ÿåˆ—"></a> é˜Ÿåˆ—</h2>
<p>æ¥å£ï¼š<code>java.util.Queue&lt;&gt;</code></p>
<p>å®ç°ï¼š</p>
<ul>
<li><code>java.util.LinkedList&lt;&gt;</code>ï¼šåŒé“¾è¡¨</li>
<li><code>java.util.PriorityQueue&lt;&gt;</code>ï¼šä¼˜å…ˆé˜Ÿåˆ—
<ul>
<li>é»˜è®¤æ˜¯å°æ ¹å †ï¼Œå¤§æ ¹å †å†™æ³•ï¼š<code>new PriorityQueue&lt;&gt;(Collections.reverseOrder())</code></li>
</ul>
</li>
</ul>
<p>å‡½æ•°ï¼š</p>
<ul>
<li><code>add()</code>ï¼šåœ¨é˜Ÿå°¾æ·»åŠ å…ƒç´ </li>
<li><code>remove()</code>ï¼šåˆ é™¤å¹¶è¿”å›é˜Ÿå¤´</li>
<li><code>isEmpty()</code>ï¼šæ˜¯å¦ä¸ºç©º</li>
<li><code>size()</code>ï¼šè¿”å›é•¿åº¦</li>
<li><code>peek()</code>ï¼šè¿”å›é˜Ÿå¤´</li>
<li><code>clear()</code>ï¼šæ¸…ç©º</li>
</ul>
<h2 id="set"><a class="markdownIt-Anchor" href="#set"></a> Set</h2>
<p>æ¥å£ï¼š<code>java.util.Set&lt;K&gt;</code></p>
<p>å®ç°ï¼š</p>
<ul>
<li><code>java.util.HashSet&lt;K&gt;</code>ï¼šå“ˆå¸Œè¡¨</li>
<li><code>java.util.TreeSet&lt;K&gt;</code>ï¼šå¹³è¡¡æ ‘</li>
</ul>
<p>å‡½æ•°ï¼š</p>
<ul>
<li><code>add()</code>ï¼šæ·»åŠ å…ƒç´ </li>
<li><code>contains()</code>ï¼šæ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </li>
<li><code>remove()</code>ï¼šåˆ é™¤å…ƒç´ </li>
<li><code>size()</code>ï¼šè¿”å›å…ƒç´ æ•°</li>
<li><code>isEmpty()</code>ï¼šæ˜¯å¦ä¸ºç©º</li>
<li><code>clear()</code>ï¼šæ¸…ç©º</li>
</ul>
<p><code>java.util.TreeSet</code>å¤šçš„å‡½æ•°ï¼š</p>
<ul>
<li><code>ceiling(key)</code>ï¼šè¿”å›å¤§äºç­‰äº<code>key</code>çš„æœ€å°å…ƒç´ ï¼Œä¸å­˜åœ¨åˆ™è¿”å›<code>null</code></li>
<li><code>floor(key)</code>ï¼šè¿”å›å°äºç­‰äº<code>key</code>çš„æœ€å¤§å…ƒç´ ï¼Œä¸å­˜åœ¨åˆ™è¿”å›<code>null</code></li>
</ul>
<h2 id="map"><a class="markdownIt-Anchor" href="#map"></a> Map</h2>
<p>æ¥å£ï¼š<code>java.util.Map&lt;K, V&gt;</code></p>
<p>å®ç°ï¼š</p>
<ul>
<li><code>java.util.HashMap&lt;K, V&gt;</code>ï¼šå“ˆå¸Œè¡¨</li>
<li><code>java.util.TreeMap&lt;K, V&gt;</code>ï¼šå¹³è¡¡æ ‘</li>
</ul>
<p>å‡½æ•°ï¼š</p>
<ul>
<li><code>put(key, value)</code>ï¼šæ·»åŠ å…³é”®å­—å’Œå…¶å¯¹åº”çš„å€¼</li>
<li><code>get(key)</code>ï¼šè¿”å›å…³é”®å­—å¯¹åº”çš„å€¼</li>
<li><code>containsKey(key)</code>ï¼šæ˜¯å¦åŒ…å«å…³é”®å­—</li>
<li><code>remove(key)</code>ï¼šåˆ é™¤å…³é”®å­—</li>
<li><code>size()</code>ï¼šè¿”å›å…ƒç´ æ•°</li>
<li><code>isEmpty()</code>ï¼šæ˜¯å¦ä¸ºç©º</li>
<li><code>clear()</code>ï¼šæ¸…ç©º</li>
<li><code>entrySet()</code>ï¼šè·å–Mapä¸­çš„æ‰€æœ‰å¯¹è±¡çš„é›†åˆ</li>
<li><code>Map.Entry&lt;K, V&gt;</code>ï¼šMapä¸­çš„å¯¹è±¡ç±»å‹</li>
<li><code>getKey()</code>ï¼šè·å–å…³é”®å­—</li>
<li><code>getValue()</code>ï¼šè·å–å€¼</li>
</ul>
<p><code>java.util.TreeMap&lt;K, V&gt;</code>å¤šçš„å‡½æ•°ï¼š</p>
<ul>
<li><code>ceilingEntry(key)</code>ï¼šè¿”å›å¤§äºç­‰äº<code>key</code>çš„æœ€å°å…ƒç´ ï¼Œä¸å­˜åœ¨åˆ™è¿”å›<code>null</code></li>
<li><code>floorEntry(key)</code>ï¼šè¿”å›å°äºç­‰äº<code>key</code>çš„æœ€å¤§å…ƒç´ ï¼Œä¸å­˜åœ¨åˆ™è¿”å›<code>null</code></li>
</ul>
<h2 id="pair"><a class="markdownIt-Anchor" href="#pair"></a> Pair</h2>
<p>ç±»ï¼š<code>javafx.util.Pair&lt;K, V&gt;</code></p>
<p>ä¾‹å¦‚ï¼š<code>Pair&lt;String, Integer&gt; p = new Pair&lt;&gt;(&quot;a&quot;, 1)</code></p>
<p>å‡½æ•°ï¼š</p>
<ul>
<li><code>getKey()</code>ï¼šè·å–å…³é”®å­—</li>
<li><code>getValue()</code> ï¼šè·å–å€¼</li>
</ul>
<h2 id="ä¼˜å…ˆé˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#ä¼˜å…ˆé˜Ÿåˆ—"></a> ä¼˜å…ˆé˜Ÿåˆ—</h2>
<p>æ¥å£ï¼š<code>java.util.Queue&lt;&gt;</code></p>
<p>å®ç°ï¼š<code>java.util.PriorityQueue&lt;&gt;</code>ï¼šä¼˜å…ˆé˜Ÿåˆ—</p>
<ul>
<li>
<p>é»˜è®¤æ˜¯å°æ ¹å †ï¼Œå¤§æ ¹å †å†™æ³•ï¼š<code>new PriorityQueue&lt;&gt;(Collections.reverseOrder())</code></p>
</li>
<li>
<p>ç¬¬äºŒç§å®šä¹‰æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å¤§æ ¹å †</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; queMin = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;Integer&gt;((a, b) -&gt; (b - a));</span><br><span class="line"><span class="comment">// å®šä¹‰å°æ ¹å †</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; queMax = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;Integer&gt;((a, b) -&gt; (a - b));</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><code>add(e)</code>ï¼šåœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ ï¼Œå¹¶è°ƒæ•´å †ç»“æ„ã€‚</li>
<li><code>offer(e)</code>ï¼šåœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ ï¼Œå¹¶è°ƒæ•´å †ç»“æ„ã€‚</li>
<li><code>remove(e)</code>ï¼šè·å–é˜Ÿå¤´å…ƒç´ å¹¶åˆ é™¤ï¼Œå¹¶è°ƒæ•´å †ç»“æ„ã€‚</li>
<li><code>poll(e)</code>ï¼šè·å–é˜Ÿå¤´å…ƒç´ å¹¶åˆ é™¤ï¼Œå¹¶è°ƒæ•´å †ç»“æ„ã€‚</li>
<li><code>element()</code>ï¼šè¿”å›é˜Ÿå¤´å…ƒç´ ï¼Œä¸åˆ é™¤</li>
<li><code>peek()</code>ï¼šè¿”å›é˜Ÿå¤´å…ƒç´ ï¼Œä¸åˆ é™¤</li>
<li><code>isEmpty()</code>ï¼šåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</li>
<li><code>size()</code>ï¼šè·å–é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•°</li>
<li><code>clear()</code>ï¼šæ¸…ç©ºé˜Ÿåˆ—</li>
<li><code>contains(o)</code>ï¼šåˆ¤æ–­é˜Ÿåˆ—ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ </li>
<li><code>iterator()</code>ï¼šè¿­ä»£å™¨</li>
</ul>
<h1 id="å…¶ä»–"><a class="markdownIt-Anchor" href="#å…¶ä»–"></a> å…¶ä»–</h1>
<h2 id="ç»™äºŒç»´æ•°ç»„èµ‹åˆå€¼"><a class="markdownIt-Anchor" href="#ç»™äºŒç»´æ•°ç»„èµ‹åˆå€¼"></a> ç»™äºŒç»´æ•°ç»„èµ‹åˆå€¼</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">100</span>][<span class="number">100</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span>[] a: arr) </span><br><span class="line">    Arrays.fill(a, Integer.MAX_VALUE);</span><br></pre></td></tr></table></figure>
<h2 id="å¯¹æ•°ç»„æŒ‡å®šèŒƒå›´çš„å…ƒç´ è¿›è¡Œæ’åº"><a class="markdownIt-Anchor" href="#å¯¹æ•°ç»„æŒ‡å®šèŒƒå›´çš„å…ƒç´ è¿›è¡Œæ’åº"></a> å¯¹æ•°ç»„æŒ‡å®šèŒƒå›´çš„å…ƒç´ è¿›è¡Œæ’åº</h2>
<p><code>Arrays.sort(arr, start, end)</code>ï¼šå¯¹æ•°ç»„ä¸­<code>[start, end)</code>å…ƒç´ è¿›è¡Œæ’åº</p>
<h2 id="æ•°ç»„è‡ªå®šä¹‰æ’åº"><a class="markdownIt-Anchor" href="#æ•°ç»„è‡ªå®šä¹‰æ’åº"></a> æ•°ç»„è‡ªå®šä¹‰æ’åº</h2>
<p>ç»ƒä¹ é¢˜ç›®ï¼š<a href="https://leetcode.cn/problems/ba-shu-zu-pai-cheng-zui-xiao-de-shu-lcof/">æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°</a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>][<span class="number">2</span>];</span><br><span class="line">Arrays.sort(arr, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;<span class="type">int</span>[]&gt; &#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">    publice <span class="type">int</span> <span class="title function_">compare</span><span class="params">(<span class="type">int</span>[] o1, <span class="type">int</span>[] o2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (o1[<span class="number">0</span>] + o2[<span class="number">1</span>]) - (o2[<span class="number">0</span>] + o2[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨lambdaè¡¨è¾¾å¼è‡ªå®šä¹‰æ’åºè§„åˆ™"><a class="markdownIt-Anchor" href="#ä½¿ç”¨lambdaè¡¨è¾¾å¼è‡ªå®šä¹‰æ’åºè§„åˆ™"></a> ä½¿ç”¨lambdaè¡¨è¾¾å¼è‡ªå®šä¹‰æ’åºè§„åˆ™</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>][<span class="number">2</span>];</span><br><span class="line">Arrays.sort(arr, (o1, o2) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> (o1[<span class="number">0</span>] + o1[<span class="number">1</span>]) - (o2[<span class="number">0</span>] + o2[<span class="number">1</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>Java ä¼ä¸šå¼€å‘åŸºç¡€ MyBatis</title>
    <url>/2022/10/11/JAVA/12MyBatis/</url>
    <content><![CDATA[<h1 id="mybatisç®€ä»‹"><a class="markdownIt-Anchor" href="#mybatisç®€ä»‹"></a> Mybatisç®€ä»‹</h1>
<h2 id="mybatiså†å²"><a class="markdownIt-Anchor" href="#mybatiså†å²"></a> MyBatiså†å²</h2>
<ul>
<li>MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼ŒiBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Github</li>
<li>iBatisä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚iBatisæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOï¼‰</li>
</ul>
<h2 id="mybatisç‰¹æ€§"><a class="markdownIt-Anchor" href="#mybatisç‰¹æ€§"></a> MyBatisç‰¹æ€§</h2>
<ol>
<li>MyBatis æ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶</li>
<li>MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†</li>
<li>MyBatiså¯ä»¥ä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•</li>
<li>MyBatis æ˜¯ä¸€ä¸ª åŠè‡ªåŠ¨çš„ORMï¼ˆObject Relation Mappingï¼‰æ¡†æ¶</li>
</ol>
<h2 id="mybatisä¸‹è½½"><a class="markdownIt-Anchor" href="#mybatisä¸‹è½½"></a> MyBatisä¸‹è½½</h2>
<ul>
<li><a href="https://github.com/mybatis/mybatis-3">MyBatisä¸‹è½½åœ°å€</a></li>
<li><img src="/img/Java/12MyBatis/MyBatis%E4%B8%8B%E8%BD%BD.png" alt="" /></li>
</ul>
<h2 id="å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”"><a class="markdownIt-Anchor" href="#å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”"></a> å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”</h2>
<ul>
<li>JDBC
<ul>
<li>SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤</li>
<li>ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§</li>
<li>ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½</li>
</ul>
</li>
<li>Hibernate å’Œ JPA
<ul>
<li>æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜</li>
<li>ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶</li>
<li>å†…éƒ¨è‡ªåŠ¨ç”Ÿäº§çš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ–</li>
<li>åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚</li>
<li>åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™</li>
</ul>
</li>
<li>MyBatis
<ul>
<li>è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²</li>
<li>SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ®</li>
<li>å¼€å‘æ•ˆç‡ç¨é€ŠäºHIbernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥å—</li>
</ul>
</li>
</ul>
<h1 id="æ­å»ºmybatis"><a class="markdownIt-Anchor" href="#æ­å»ºmybatis"></a> æ­å»ºMyBatis</h1>
<h2 id="å¼€å‘ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#å¼€å‘ç¯å¢ƒ"></a> å¼€å‘ç¯å¢ƒ</h2>
<ul>
<li>IDEï¼šidea 2022.2</li>
<li>æ„å»ºå·¥å…·ï¼šmaven 3.8.6</li>
<li>MySQLç‰ˆæœ¬ï¼šMySQL 8.0.29</li>
<li>MyBatisç‰ˆæœ¬ï¼šMyBatis 3.5.7</li>
</ul>
<h2 id="åˆ›å»ºmavenå·¥ç¨‹"><a class="markdownIt-Anchor" href="#åˆ›å»ºmavenå·¥ç¨‹"></a> åˆ›å»ºmavenå·¥ç¨‹</h2>
<ul>
<li>æ‰“åŒ…æ–¹å¼ï¼šjar</li>
<li>å¼•å…¥ä¾èµ–</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Mybatisæ ¸å¿ƒ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- junitæµ‹è¯• --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- MySQLé©±åŠ¨ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»ºmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#åˆ›å»ºmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a> åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h2>
<blockquote>
<p>ä¹ æƒ¯ä¸Šå‘½åä¸º <code>mybatis-config.xml</code> ï¼Œè¿™ä¸ªæ–‡ä»¶åä»…ä»…åªæ˜¯å»ºè®®ï¼Œå¹¶éå¼ºåˆ¶è¦æ±‚ã€‚å°†æ¥æ•´åˆSpringä¹‹åï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥çœç•¥ï¼Œæ‰€ä»¥å¤§å®¶æ“ä½œæ—¶å¯ä»¥ç›´æ¥å¤åˆ¶ã€ç²˜è´´ã€‚<br />
æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸»è¦ç”¨äºé…ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä»¥åŠMyBatisçš„å…¨å±€é…ç½®ä¿¡æ¯<br />
æ ¸å¿ƒé…ç½®æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯src/main/resourcesç›®å½•ä¸‹</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span>  </span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span>  </span></span><br><span class="line"><span class="meta"><span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>  </span></span><br><span class="line"><span class="meta"><span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span>  </span><br><span class="line">	<span class="comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ--&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span>  </span><br><span class="line">			<span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span>  </span><br><span class="line">			<span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span>  </span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span>  </span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/MyBatis&quot;</span>/&gt;</span>  </span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span>  </span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span>  </span><br><span class="line">			<span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;/<span class="name">environment</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;/<span class="name">environments</span>&gt;</span>  </span><br><span class="line">	<span class="comment">&lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">mappers</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/UserMapper.xml&quot;</span>/&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;/<span class="name">mappers</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»ºmapperæ¥å£"><a class="markdownIt-Anchor" href="#åˆ›å»ºmapperæ¥å£"></a> åˆ›å»ºmapperæ¥å£</h2>
<blockquote>
<p>MyBatisä¸­çš„mapperæ¥å£ç›¸å½“äºä»¥å‰çš„daoã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºï¼Œmapperä»…ä»…æ˜¯æ¥å£ï¼Œæˆ‘ä»¬ä¸éœ€è¦æä¾›å®ç°ç±»</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xzt.mybatis.mapper;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;  </span><br><span class="line">	<span class="comment">/**  </span></span><br><span class="line"><span class="comment">	* æ·»åŠ ç”¨æˆ·ä¿¡æ¯  </span></span><br><span class="line"><span class="comment">	*/</span>  </span><br><span class="line">	<span class="type">int</span> <span class="title function_">insertUser</span><span class="params">()</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»ºmybatisçš„æ˜ å°„æ–‡ä»¶"><a class="markdownIt-Anchor" href="#åˆ›å»ºmybatisçš„æ˜ å°„æ–‡ä»¶"></a> åˆ›å»ºMyBatisçš„æ˜ å°„æ–‡ä»¶</h2>
<ul>
<li>ç›¸å…³æ¦‚å¿µï¼šORMï¼ˆObject Relationship Mappingï¼‰å¯¹è±¡å…³ç³»æ˜ å°„ã€‚</li>
<li>å¯¹è±¡ï¼šJavaçš„å®ä½“ç±»å¯¹è±¡
<ul>
<li>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“</li>
<li>æ˜ å°„ï¼šäºŒè€…ä¹‹é—´çš„å¯¹åº”å…³ç³»</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>Javaæ¦‚å¿µ</th>
<th>æ•°æ®åº“æ¦‚å¿µ</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç±»</td>
<td>è¡¨</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>å­—æ®µ/åˆ—</td>
</tr>
<tr>
<td>å¯¹è±¡</td>
<td>è®°å½•/è¡Œ</td>
</tr>
</tbody>
</table>
<ul>
<li>æ˜ å°„æ–‡ä»¶çš„å‘½åè§„åˆ™ï¼šè¡¨æ‰€å¯¹åº”çš„å®ä½“ç±»çš„ç±»å+Mapper.xml
<ul>
<li>ä¾‹å¦‚ï¼šè¡¨t_userï¼Œæ˜ å°„çš„å®ä½“ç±»ä¸ºUserï¼Œæ‰€å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ä¸ºUserMapper.xml</li>
<li>å› æ­¤ä¸€ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå®ä½“ç±»ï¼Œå¯¹åº”ä¸€å¼ è¡¨çš„æ“ä½œ</li>
<li>MyBatisæ˜ å°„æ–‡ä»¶ç”¨äºç¼–å†™SQLï¼Œè®¿é—®ä»¥åŠæ“ä½œè¡¨ä¸­çš„æ•°æ®</li>
<li>MyBatisæ˜ å°„æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯src/main/resources/mappersç›®å½•ä¸‹</li>
</ul>
</li>
<li>MyBatisä¸­å¯ä»¥é¢å‘æ¥å£æ“ä½œæ•°æ®ï¼Œè¦ä¿è¯ä¸¤ä¸ªä¸€è‡´
<ul>
<li>mapperæ¥å£çš„å…¨ç±»åå’Œæ˜ å°„æ–‡ä»¶çš„å‘½åç©ºé—´ï¼ˆnamespaceï¼‰ä¿æŒä¸€è‡´</li>
<li>mapperæ¥å£ä¸­æ–¹æ³•çš„æ–¹æ³•åå’Œæ˜ å°„æ–‡ä»¶ä¸­ç¼–å†™SQLçš„æ ‡ç­¾çš„idå±æ€§ä¿æŒä¸€è‡´</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.xzt.mybatis.mapper.UserMapper&quot;</span>&gt;</span>  <span class="comment">&lt;!-- å…¨ç±»å --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--int insertUser();--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertUser&quot;</span>&gt;</span>  <span class="comment">&lt;!-- æ–¹æ³•å --&gt;</span></span><br><span class="line">        insert into t_user values(null,&#x27;å¼ ä¸‰&#x27;,&#x27;123&#x27;,23,&#x27;å¥³&#x27;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="é€šè¿‡junitæµ‹è¯•åŠŸèƒ½"><a class="markdownIt-Anchor" href="#é€šè¿‡junitæµ‹è¯•åŠŸèƒ½"></a> é€šè¿‡junitæµ‹è¯•åŠŸèƒ½</h2>
<ul>
<li>SqlSessionï¼šä»£è¡¨Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯ã€‚ï¼ˆHttpSessionæ˜¯Javaç¨‹åºå’Œæµè§ˆå™¨ä¹‹é—´çš„ä¼šè¯ï¼‰</li>
<li>SqlSessionFactoryï¼šæ˜¯â€œç”Ÿäº§â€SqlSessionçš„â€œå·¥å‚â€</li>
<li>å·¥å‚æ¨¡å¼ï¼šå¦‚æœåˆ›å»ºæŸä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„è¿‡ç¨‹åŸºæœ¬å›ºå®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„ç›¸å…³ä»£ç å°è£…åˆ°ä¸€ä¸ªâ€œå·¥å‚ç±»â€ä¸­ï¼Œä»¥åéƒ½ä½¿ç”¨è¿™ä¸ªå·¥å‚ç±»æ¥â€œç”Ÿäº§â€æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserMapperTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testInsertUser</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//è¯»å–MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//è·å–SqlSessionFactoryBuilderå¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="comment">//é€šè¿‡æ ¸å¿ƒé…ç½®æ–‡ä»¶æ‰€å¯¹åº”çš„å­—èŠ‚è¾“å…¥æµåˆ›å»ºå·¥å‚ç±»SqlSessionFactoryï¼Œç”Ÿäº§SqlSessionå¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(is);</span><br><span class="line">        <span class="comment">//è·å–sqlSessionï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½å¿…é¡»æ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡</span></span><br><span class="line">        <span class="comment">//SqlSession sqlSession = sqlSessionFactory.openSession();</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½ä¼šè‡ªåŠ¨æäº¤  </span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//é€šè¿‡ä»£ç†æ¨¡å¼åˆ›å»ºUserMapperæ¥å£çš„ä»£ç†å®ç°ç±»å¯¹è±¡</span></span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">userMapper</span> <span class="operator">=</span> sqlSession.getMapper(UserMapper.class);</span><br><span class="line">        <span class="comment">//è°ƒç”¨UserMapperæ¥å£ä¸­çš„æ–¹æ³•ï¼Œå°±å¯ä»¥æ ¹æ®UserMapperçš„å…¨ç±»ååŒ¹é…å…ƒç´ æ–‡ä»¶ï¼Œé€šè¿‡è°ƒç”¨çš„æ–¹æ³•ååŒ¹é…æ˜ å°„æ–‡ä»¶ä¸­çš„SQLæ ‡ç­¾ï¼Œå¹¶æ‰§è¡Œæ ‡ç­¾ä¸­çš„SQLè¯­å¥</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.insertUser();</span><br><span class="line">        <span class="comment">//æäº¤äº‹åŠ¡</span></span><br><span class="line">        <span class="comment">//sqlSession.commit();</span></span><br><span class="line">        System.out.println(<span class="string">&quot;result:&quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ­¤æ—¶éœ€è¦æ‰‹åŠ¨æäº¤äº‹åŠ¡ï¼Œå¦‚æœè¦è‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œåˆ™åœ¨è·å–sqlSessionå¯¹è±¡æ—¶ï¼Œä½¿ç”¨<code>SqlSession sqlSession = sqlSessionFactory.openSession(true);</code>ï¼Œä¼ å…¥ä¸€ä¸ªBooleanç±»å‹çš„å‚æ•°ï¼Œå€¼ä¸ºtrueï¼Œè¿™æ ·å°±å¯ä»¥è‡ªåŠ¨æäº¤</li>
</ul>
<h2 id="åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½"><a class="markdownIt-Anchor" href="#åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½"></a> åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½</h2>
<ol>
<li>
<p>åŠ å…¥ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- log4jæ—¥å¿— --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åŠ å…¥log4jçš„é…ç½®æ–‡ä»¶</p>
<ul>
<li>log4jçš„é…ç½®æ–‡ä»¶åä¸ºlog4j.xmlï¼Œå­˜æ”¾çš„ä½ç½®æ˜¯src/main/resourcesç›®å½•ä¸‹</li>
<li>æ—¥å¿—çš„çº§åˆ«ï¼šFATAL(è‡´å‘½)&gt;ERROR(é”™è¯¯)&gt;WARN(è­¦å‘Š)&gt;INFO(ä¿¡æ¯)&gt;DEBUG(è°ƒè¯•) ä»å·¦åˆ°å³æ‰“å°çš„å†…å®¹è¶Šæ¥è¶Šè¯¦ç»†</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">log4j</span>:configuration <span class="keyword">SYSTEM</span> <span class="string">&quot;log4j.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">log4j:configuration</span> <span class="attr">xmlns:log4j</span>=<span class="string">&quot;http://jakarta.apache.org/log4j/&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.apache.log4j.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;Encoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;org.apache.log4j.PatternLayout&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;ConversionPattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;%-5p %d&#123;MM-dd HH:mm:ss,SSS&#125; %m (%F:%L) \n&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;java.sql&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">level</span> <span class="attr">value</span>=<span class="string">&quot;debug&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;org.apache.ibatis&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">level</span> <span class="attr">value</span>=<span class="string">&quot;info&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">level</span> <span class="attr">value</span>=<span class="string">&quot;debug&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;STDOUT&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">log4j:configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£"></a> æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</h1>
<blockquote>
<p>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­çš„æ ‡ç­¾å¿…é¡»æŒ‰ç…§å›ºå®šçš„é¡ºåº(æœ‰çš„æ ‡ç­¾å¯ä»¥ä¸å†™ï¼Œä½†é¡ºåºä¸€å®šä¸èƒ½ä¹±)ï¼š<br />
propertiesã€settingsã€typeAliasesã€typeHandlersã€objectFactoryã€objectWrapperFactoryã€reflectorFactoryã€pluginsã€environmentsã€databaseIdProviderã€mappers</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//MyBatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://MyBatis.org/dtd/MyBatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼•å…¥propertiesæ–‡ä»¶ï¼Œæ­¤æ—¶å°±å¯ä»¥$&#123;å±æ€§å&#125;çš„æ–¹å¼è®¿é—®å±æ€§å€¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å°†è¡¨ä¸­å­—æ®µçš„ä¸‹åˆ’çº¿è‡ªåŠ¨è½¬æ¢ä¸ºé©¼å³°--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        typeAliasï¼šè®¾ç½®æŸä¸ªå…·ä½“çš„ç±»å‹çš„åˆ«å</span></span><br><span class="line"><span class="comment">        å±æ€§ï¼š</span></span><br><span class="line"><span class="comment">        typeï¼šéœ€è¦è®¾ç½®åˆ«åçš„ç±»å‹çš„å…¨ç±»å</span></span><br><span class="line"><span class="comment">        aliasï¼šè®¾ç½®æ­¤ç±»å‹çš„åˆ«åï¼Œä¸”åˆ«åä¸åŒºåˆ†å¤§å°å†™ã€‚è‹¥ä¸è®¾ç½®æ­¤å±æ€§ï¼Œè¯¥ç±»å‹æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»å</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;typeAlias type=&quot;com.atguigu.mybatis.bean.User&quot;&gt;&lt;/typeAlias&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;typeAlias type=&quot;com.atguigu.mybatis.bean.User&quot; alias=&quot;user&quot;&gt;</span></span><br><span class="line"><span class="comment">        &lt;/typeAlias&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ä»¥åŒ…ä¸ºå•ä½ï¼Œè®¾ç½®æ”¹åŒ…ä¸‹æ‰€æœ‰çš„ç±»å‹éƒ½æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.atguigu.mybatis.bean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    environmentsï¼šè®¾ç½®å¤šä¸ªè¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ</span></span><br><span class="line"><span class="comment">    å±æ€§ï¼š</span></span><br><span class="line"><span class="comment">	    defaultï¼šè®¾ç½®é»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒçš„id</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;mysql_test&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        environmentï¼šè®¾ç½®å…·ä½“çš„è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä¿¡æ¯</span></span><br><span class="line"><span class="comment">        å±æ€§ï¼š</span></span><br><span class="line"><span class="comment">	        idï¼šè®¾ç½®ç¯å¢ƒçš„å”¯ä¸€æ ‡è¯†ï¼Œå¯é€šè¿‡environmentsæ ‡ç­¾ä¸­çš„defaultè®¾ç½®æŸä¸€ä¸ªç¯å¢ƒçš„idï¼Œè¡¨ç¤ºé»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒ</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;mysql_test&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            transactionManagerï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼</span></span><br><span class="line"><span class="comment">            å±æ€§ï¼š</span></span><br><span class="line"><span class="comment">	            typeï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼ï¼Œtype=&quot;JDBC|MANAGED&quot;</span></span><br><span class="line"><span class="comment">	            type=&quot;JDBC&quot;ï¼šè®¾ç½®å½“å‰ç¯å¢ƒçš„äº‹åŠ¡ç®¡ç†éƒ½å¿…é¡»æ‰‹åŠ¨å¤„ç†</span></span><br><span class="line"><span class="comment">	            type=&quot;MANAGED&quot;ï¼šè®¾ç½®äº‹åŠ¡è¢«ç®¡ç†ï¼Œä¾‹å¦‚springä¸­çš„AOP</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            dataSourceï¼šè®¾ç½®æ•°æ®æº</span></span><br><span class="line"><span class="comment">            å±æ€§ï¼š</span></span><br><span class="line"><span class="comment">	            typeï¼šè®¾ç½®æ•°æ®æºçš„ç±»å‹ï¼Œtype=&quot;POOLED|UNPOOLED|JNDI&quot;</span></span><br><span class="line"><span class="comment">	            type=&quot;POOLED&quot;ï¼šä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³ä¼šå°†åˆ›å»ºçš„è¿æ¥è¿›è¡Œç¼“å­˜ï¼Œä¸‹æ¬¡ä½¿ç”¨å¯ä»¥ä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸éœ€è¦é‡æ–°åˆ›å»º</span></span><br><span class="line"><span class="comment">	            type=&quot;UNPOOLED&quot;ï¼šä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³æ¯æ¬¡ä½¿ç”¨è¿æ¥éƒ½éœ€è¦é‡æ–°åˆ›å»º</span></span><br><span class="line"><span class="comment">	            type=&quot;JNDI&quot;ï¼šè°ƒç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®æº</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--è®¾ç½®é©±åŠ¨ç±»çš„å…¨ç±»å--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„è¿æ¥åœ°å€--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„å¯†ç --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;mapper resource=&quot;UserMapper.xml&quot;/&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        ä»¥åŒ…ä¸ºå•ä½ï¼Œå°†åŒ…ä¸‹æ‰€æœ‰çš„æ˜ å°„æ–‡ä»¶å¼•å…¥æ ¸å¿ƒé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment">        æ³¨æ„ï¼š</span></span><br><span class="line"><span class="comment">			1. æ­¤æ–¹å¼å¿…é¡»ä¿è¯mapperæ¥å£å’Œmapperæ˜ å°„æ–‡ä»¶å¿…é¡»åœ¨ç›¸åŒçš„åŒ…ä¸‹</span></span><br><span class="line"><span class="comment">			2. mapperæ¥å£è¦å’Œmapperæ˜ å°„æ–‡ä»¶çš„åå­—ä¸€è‡´</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.atguigu.mybatis.mapper&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><img src="/img/Java/12MyBatis/mapper%E6%8E%A5%E5%8F%A3%E5%92%8Cmapper%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E5%9C%A8%E5%90%8C%E4%B8%80%E5%8C%85%E4%B8%8B.png" alt="" /></li>
</ul>
<h1 id="é»˜è®¤çš„ç±»å‹åˆ«å"><a class="markdownIt-Anchor" href="#é»˜è®¤çš„ç±»å‹åˆ«å"></a> é»˜è®¤çš„ç±»å‹åˆ«å</h1>
<p><img src="/img/Java/12MyBatis/%E9%BB%98%E8%AE%A4%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D1.png" alt="" /><br />
<img src="/img/Java/12MyBatis/%E9%BB%98%E8%AE%A4%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D2.png" alt="" /></p>
<h1 id="mybatisçš„å¢åˆ æ”¹æŸ¥"><a class="markdownIt-Anchor" href="#mybatisçš„å¢åˆ æ”¹æŸ¥"></a> MyBatisçš„å¢åˆ æ”¹æŸ¥</h1>
<ol>
<li>
<p>æ·»åŠ </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--int insertUser();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertUser&quot;</span>&gt;</span></span><br><span class="line">	insert into t_user values(null,&#x27;admin&#x27;,&#x27;123456&#x27;,23,&#x27;ç”·&#x27;,&#x27;12345@qq.com&#x27;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åˆ é™¤</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--int deleteUser();--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteUser&quot;</span>&gt;</span></span><br><span class="line">     delete from t_user where id = 6</span><br><span class="line"> <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä¿®æ”¹</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--int updateUser();--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUser&quot;</span>&gt;</span></span><br><span class="line">     update t_user set username = &#x27;å¼ ä¸‰&#x27; where id = 5</span><br><span class="line"> <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--User getUserById();--&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.bean.User&quot;</span>&gt;</span>  </span><br><span class="line">	select * from t_user where id = 2  </span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æŸ¥è¯¢é›†åˆ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;User&gt; getUserList();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.bean.User&quot;</span>&gt;</span></span><br><span class="line">	select * from t_user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>æŸ¥è¯¢çš„æ ‡ç­¾selectå¿…é¡»è®¾ç½®å±æ€§resultTypeæˆ–resultMapï¼Œç”¨äºè®¾ç½®å®ä½“ç±»å’Œæ•°æ®åº“è¡¨çš„æ˜ å°„å…³ç³»
<ul>
<li>resultTypeï¼šè‡ªåŠ¨æ˜ å°„ï¼Œç”¨äºå±æ€§åå’Œè¡¨ä¸­å­—æ®µåä¸€è‡´çš„æƒ…å†µ</li>
<li>resultMapï¼šè‡ªå®šä¹‰æ˜ å°„ï¼Œç”¨äºä¸€å¯¹å¤šæˆ–å¤šå¯¹ä¸€æˆ–å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´çš„æƒ…å†µ</li>
</ul>
</li>
<li>å½“æŸ¥è¯¢çš„æ•°æ®ä¸ºå¤šæ¡æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å®ä½“ç±»ä½œä¸ºè¿”å›å€¼ï¼Œåªèƒ½ä½¿ç”¨é›†åˆï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸TooManyResultsExceptionï¼›ä½†æ˜¯è‹¥æŸ¥è¯¢çš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥ä½¿ç”¨å®ä½“ç±»æˆ–é›†åˆä½œä¸ºè¿”å›å€¼</li>
</ol>
</li>
</ul>
<h1 id="mybatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼é‡ç‚¹"><a class="markdownIt-Anchor" href="#mybatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼é‡ç‚¹"></a> MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰</h1>
<ul>
<li>MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼š${}å’Œ#{}</li>
<li>${}çš„æœ¬è´¨å°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ#{}çš„æœ¬è´¨å°±æ˜¯å ä½ç¬¦èµ‹å€¼</li>
<li>${}ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼æ‹¼æ¥sqlï¼Œè‹¥ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ï¼›ä½†æ˜¯#{}ä½¿ç”¨å ä½ç¬¦èµ‹å€¼çš„æ–¹å¼æ‹¼æ¥sqlï¼Œæ­¤æ—¶ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨æ·»åŠ å•å¼•å·</li>
</ul>
<h2 id="å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"><a class="markdownIt-Anchor" href="#å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"></a> å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h2>
<ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå•ä¸ªçš„å­—é¢é‡ç±»å‹ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨${}å’Œ#{}ä»¥ä»»æ„çš„åç§°ï¼ˆæœ€å¥½è§åè¯†æ„ï¼‰è·å–å‚æ•°çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--User getUserByUsername(String username);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserByUsername&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">	select * from t_user where username = #&#123;username&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--User getUserByUsername(String username);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserByUsername&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span>  </span><br><span class="line">	select * from t_user where username = &#x27;$&#123;username&#125;&#x27;  </span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"><a class="markdownIt-Anchor" href="#å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"></a> å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h2>
<ul>
<li>
<p>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶MyBatisä¼šè‡ªåŠ¨å°†è¿™äº›å‚æ•°æ”¾åœ¨ä¸€ä¸ªmapé›†åˆä¸­</p>
<ol>
<li>ä»¥arg0,arg1â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
<li>ä»¥param1,param2â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
</ol>
</li>
<li>
<p>å› æ­¤åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨argæˆ–è€…paraméƒ½è¡Œï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œargæ˜¯ä»arg0å¼€å§‹çš„ï¼Œparamæ˜¯ä»param1å¼€å§‹çš„</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--User checkLogin(String username,String password);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;checkLogin&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span>  </span><br><span class="line">	select * from t_user where username = #&#123;arg0&#125; and password = #&#123;arg1&#125;  </span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--User checkLogin(String username,String password);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;checkLogin&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">	select * from t_user where username = &#x27;$&#123;param1&#125;&#x27; and password = &#x27;$&#123;param2&#125;&#x27;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="mapé›†åˆç±»å‹çš„å‚æ•°"><a class="markdownIt-Anchor" href="#mapé›†åˆç±»å‹çš„å‚æ•°"></a> mapé›†åˆç±»å‹çš„å‚æ•°</h2>
<ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•éœ€è¦çš„å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨åˆ›å»ºmapé›†åˆï¼Œå°†è¿™äº›æ•°æ®æ”¾åœ¨mapä¸­åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--User checkLoginByMap(Map&lt;String,Object&gt; map);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;checkLoginByMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">	select * from t_user where username = #&#123;username&#125; and password = #&#123;password&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkLoginByMap</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">ParameterMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(ParameterMapper.class);</span><br><span class="line">	Map&lt;String,Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">	map.put(<span class="string">&quot;usermane&quot;</span>,<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">	map.put(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">	<span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> mapper.checkLoginByMap(map);</span><br><span class="line">	System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å®ä½“ç±»ç±»å‹çš„å‚æ•°"><a class="markdownIt-Anchor" href="#å®ä½“ç±»ç±»å‹çš„å‚æ•°"></a> å®ä½“ç±»ç±»å‹çš„å‚æ•°</h2>
<ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå®ä½“ç±»å¯¹è±¡æ—¶æ­¤æ—¶å¯ä»¥ä½¿ç”¨${}å’Œ#{}ï¼Œé€šè¿‡è®¿é—®å®ä½“ç±»å¯¹è±¡ä¸­çš„å±æ€§åè·å–å±æ€§å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--int insertUser(User user);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertUser&quot;</span>&gt;</span></span><br><span class="line">	insert into t_user values(null,#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;,#&#123;sex&#125;,#&#123;email&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertUser</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">ParameterMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(ParameterMapper.class);</span><br><span class="line">	<span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="literal">null</span>,<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="number">12</span>,<span class="string">&quot;ç”·&quot;</span>,<span class="string">&quot;123@321.com&quot;</span>);</span><br><span class="line">	mapper.insertUser(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨paramæ ‡è¯†å‚æ•°"><a class="markdownIt-Anchor" href="#ä½¿ç”¨paramæ ‡è¯†å‚æ•°"></a> ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°</h2>
<ul>
<li>
<p>å¯ä»¥é€šè¿‡@Paramæ³¨è§£æ ‡è¯†mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ï¼Œæ­¤æ—¶ï¼Œä¼šå°†è¿™äº›å‚æ•°æ”¾åœ¨mapé›†åˆä¸­</p>
<ol>
<li>ä»¥@Paramæ³¨è§£çš„valueå±æ€§å€¼ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
<li>ä»¥param1,param2â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
</ol>
</li>
<li>
<p>åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--User CheckLoginByParam(@Param(&quot;username&quot;) String username, @Param(&quot;password&quot;) String password);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;CheckLoginByParam&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        select * from t_user where username = #&#123;username&#125; and password = #&#123;password&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkLoginByParam</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">ParameterMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(ParameterMapper.class);</span><br><span class="line">	mapper.CheckLoginByParam(<span class="string">&quot;admin&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2>
<ul>
<li>
<p>å»ºè®®åˆ†æˆä¸¤ç§æƒ…å†µè¿›è¡Œå¤„ç†</p>
<ol>
<li>å®ä½“ç±»ç±»å‹çš„å‚æ•°</li>
<li>ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°</li>
</ol>
</li>
</ul>
<h1 id="mybatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½"><a class="markdownIt-Anchor" href="#mybatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½"></a> MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½</h1>
<ol>
<li>å¦‚æœæŸ¥è¯¢å‡ºçš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥é€šè¿‡
<ol>
<li>å®ä½“ç±»å¯¹è±¡æ¥æ”¶</li>
<li>Listé›†åˆæ¥æ”¶</li>
<li>Mapé›†åˆæ¥æ”¶ï¼Œç»“æœ<code>&#123;password=123456, sex=ç”·, id=1, age=23, username=admin&#125;</code></li>
</ol>
</li>
<li>å¦‚æœæŸ¥è¯¢å‡ºçš„æ•°æ®æœ‰å¤šæ¡ï¼Œä¸€å®šä¸èƒ½ç”¨å®ä½“ç±»å¯¹è±¡æ¥æ”¶ï¼Œä¼šæŠ›å¼‚å¸¸TooManyResultsExceptionï¼Œå¯ä»¥é€šè¿‡
<ol>
<li>å®ä½“ç±»ç±»å‹çš„LIsté›†åˆæ¥æ”¶</li>
<li>Mapç±»å‹çš„LIsté›†åˆæ¥æ”¶</li>
<li>åœ¨mapperæ¥å£çš„æ–¹æ³•ä¸Šæ·»åŠ @MapKeyæ³¨è§£</li>
</ol>
</li>
</ol>
<h2 id="æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡"></a> æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">User <span class="title function_">getUserById</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--User getUserById(@Param(&quot;id&quot;) int id);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">	select * from t_user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ"></a> æŸ¥è¯¢ä¸€ä¸ªListé›†åˆ</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getUserList</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;User&gt; getUserList();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">	select * from t_user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥è¯¢å•ä¸ªæ•°æ®"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢å•ä¸ªæ•°æ®"></a> æŸ¥è¯¢å•ä¸ªæ•°æ®</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢ç”¨æˆ·çš„æ€»è®°å½•æ•°  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  </span></span><br><span class="line"><span class="comment"> * åœ¨MyBatisä¸­ï¼Œå¯¹äºJavaä¸­å¸¸ç”¨çš„ç±»å‹éƒ½è®¾ç½®äº†ç±»å‹åˆ«å  </span></span><br><span class="line"><span class="comment"> * ä¾‹å¦‚ï¼šjava.lang.Integer--&gt;int|integer  </span></span><br><span class="line"><span class="comment"> * ä¾‹å¦‚ï¼šint--&gt;_int|_integer  </span></span><br><span class="line"><span class="comment"> * ä¾‹å¦‚ï¼šMap--&gt;map,List--&gt;list  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="type">int</span> <span class="title function_">getCount</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--int getCount();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getCount&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;_integer&quot;</span>&gt;</span></span><br><span class="line">	select count(id) from t_user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ"></a> æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> id  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line">Map&lt;String, Object&gt; <span class="title function_">getUserToMap</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Map&lt;String, Object&gt; getUserToMap(@Param(&quot;id&quot;) int id);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserToMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">	select * from t_user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç»“æœï¼š&#123;password=123456, sex=ç”·, id=1, age=23, username=admin&#125;--&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ"></a> æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ</h2>
<h3 id="æ–¹æ³•ä¸€"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€"></a> æ–¹æ³•ä¸€</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  </span></span><br><span class="line"><span class="comment"> * å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œæ­¤æ—¶å¯ä»¥å°†è¿™äº›mapæ”¾åœ¨ä¸€ä¸ªlisté›†åˆä¸­è·å–  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line">List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">getAllUserToMap</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUserToMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span>  </span><br><span class="line">	select * from t_user  </span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">	ç»“æœï¼š</span></span><br><span class="line"><span class="comment">	[&#123;password=123456, sex=ç”·, id=1, age=23, username=admin&#125;,</span></span><br><span class="line"><span class="comment">	&#123;password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰&#125;,</span></span><br><span class="line"><span class="comment">	&#123;password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰&#125;]</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•äºŒ"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒ"></a> æ–¹æ³•äºŒ</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> * å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œå¹¶ä¸”æœ€ç»ˆè¦ä»¥ä¸€ä¸ªmapçš„æ–¹å¼è¿”å›æ•°æ®ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡<span class="doctag">@MapKey</span>æ³¨è§£è®¾ç½®mapé›†åˆçš„é”®ï¼Œå€¼æ˜¯æ¯æ¡æ•°æ®æ‰€å¯¹åº”çš„mapé›†åˆ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@MapKey(&quot;id&quot;)</span></span><br><span class="line">Map&lt;String, Object&gt; <span class="title function_">getAllUserToMap</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUserToMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">	select * from t_user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">	ç»“æœï¼š</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">	1=&#123;password=123456, sex=ç”·, id=1, age=23, username=admin&#125;,</span></span><br><span class="line"><span class="comment">	2=&#123;password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰&#125;,</span></span><br><span class="line"><span class="comment">	3=&#123;password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰&#125;</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="ç‰¹æ®Šsqlçš„æ‰§è¡Œ"><a class="markdownIt-Anchor" href="#ç‰¹æ®Šsqlçš„æ‰§è¡Œ"></a> ç‰¹æ®ŠSQLçš„æ‰§è¡Œ</h1>
<h2 id="æ¨¡ç³ŠæŸ¥è¯¢"><a class="markdownIt-Anchor" href="#æ¨¡ç³ŠæŸ¥è¯¢"></a> æ¨¡ç³ŠæŸ¥è¯¢</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®ç”¨æˆ·åè¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> username </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> java.util.List&lt;com.atguigu.mybatis.pojo.User&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/2/26 21:56</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getUserByLike</span><span class="params">(<span class="meta">@Param(&quot;username&quot;)</span> String username)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;User&gt; getUserByLike(@Param(&quot;username&quot;) String username);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserByLike&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--select * from t_user where username like &#x27;%$&#123;mohu&#125;%&#x27;--&gt;</span>  </span><br><span class="line">	<span class="comment">&lt;!--select * from t_user where username like concat(&#x27;%&#x27;,#&#123;mohu&#125;,&#x27;%&#x27;)--&gt;</span>  </span><br><span class="line">	select * from t_user where username like &quot;%&quot;#&#123;mohu&#125;&quot;%&quot;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å…¶ä¸­<code>select * from t_user where username like &quot;%&quot;#&#123;mohu&#125;&quot;%&quot;</code>æ˜¯æœ€å¸¸ç”¨çš„</li>
</ul>
<h2 id="æ‰¹é‡åˆ é™¤"><a class="markdownIt-Anchor" href="#æ‰¹é‡åˆ é™¤"></a> æ‰¹é‡åˆ é™¤</h2>
<ul>
<li>åªèƒ½ä½¿ç”¨${}ï¼Œå¦‚æœä½¿ç”¨#{}ï¼Œåˆ™è§£æåçš„sqlè¯­å¥ä¸º<code>delete from t_user where id in ('1,2,3')</code>ï¼Œè¿™æ ·æ˜¯å°†<code>1,2,3</code>çœ‹åšæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œåªæœ‰idä¸º<code>1,2,3</code>çš„æ•°æ®ä¼šè¢«åˆ é™¤ã€‚æ­£ç¡®çš„è¯­å¥åº”è¯¥æ˜¯<code>delete from t_user where id in (1,2,3)</code>ï¼Œæˆ–è€…<code>delete from t_user where id in ('1','2','3')</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®idæ‰¹é‡åˆ é™¤</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> ids </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> int</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/2/26 22:06</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">deleteMore</span><span class="params">(<span class="meta">@Param(&quot;ids&quot;)</span> String ids)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteMore&quot;</span>&gt;</span></span><br><span class="line">	delete from t_user where id in ($&#123;ids&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•ç±»</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteMore</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">SQLMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(SQLMapper.class);</span><br><span class="line">	<span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> mapper.deleteMore(<span class="string">&quot;1,2,3,8&quot;</span>);</span><br><span class="line">	System.out.println(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŠ¨æ€è®¾ç½®è¡¨å"><a class="markdownIt-Anchor" href="#åŠ¨æ€è®¾ç½®è¡¨å"></a> åŠ¨æ€è®¾ç½®è¡¨å</h2>
<ul>
<li>åªèƒ½ä½¿ç”¨${}ï¼Œå› ä¸ºè¡¨åä¸èƒ½åŠ å•å¼•å·</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æŒ‡å®šè¡¨ä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> tableName </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> java.util.List&lt;com.atguigu.mybatis.pojo.User&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/2/27 14:41</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getUserByTable</span><span class="params">(<span class="meta">@Param(&quot;tableName&quot;)</span> String tableName)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;User&gt; getUserByTable(@Param(&quot;tableName&quot;) String tableName);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserByTable&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">	select * from $&#123;tableName&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®"><a class="markdownIt-Anchor" href="#æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®"></a> æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®</h2>
<ul>
<li>
<p>ä½¿ç”¨åœºæ™¯</p>
</li>
<li>
<p>t_clazz(clazz_id,clazz_name)</p>
<ul>
<li>t_student(student_id,student_name,clazz_id)</li>
</ul>
<ol>
<li>æ·»åŠ ç­çº§ä¿¡æ¯</li>
<li>è·å–æ–°æ·»åŠ çš„ç­çº§çš„id</li>
<li>ä¸ºç­çº§åˆ†é…å­¦ç”Ÿï¼Œå³å°†æŸå­¦çš„ç­çº§idä¿®æ”¹ä¸ºæ–°æ·»åŠ çš„ç­çº§çš„id</li>
</ol>
</li>
<li>
<p>åœ¨mapper.xmlä¸­è®¾ç½®ä¸¤ä¸ªå±æ€§</p>
</li>
<li>
<p>useGeneratedKeysï¼šè®¾ç½®ä½¿ç”¨è‡ªå¢çš„ä¸»é”®</p>
<ul>
<li>keyPropertyï¼šå› ä¸ºå¢åˆ æ”¹æœ‰ç»Ÿä¸€çš„è¿”å›å€¼æ˜¯å—å½±å“çš„è¡Œæ•°ï¼Œå› æ­¤åªèƒ½å°†è·å–çš„è‡ªå¢çš„ä¸»é”®æ”¾åœ¨ä¼ è¾“çš„å‚æ•°userå¯¹è±¡çš„æŸä¸ªå±æ€§ä¸­</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ·»åŠ ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> user </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/2/27 15:04</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">insertUser</span><span class="params">(User user)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--void insertUser(User user);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertUser&quot;</span> <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;true&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">	insert into t_user values (null,#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;,#&#123;sex&#125;,#&#123;email&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•ç±»</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertUser</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">SQLMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(SQLMapper.class);</span><br><span class="line">	<span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="literal">null</span>, <span class="string">&quot;ton&quot;</span>, <span class="string">&quot;123&quot;</span>, <span class="number">23</span>, <span class="string">&quot;ç”·&quot;</span>, <span class="string">&quot;123@321.com&quot;</span>);</span><br><span class="line">	mapper.insertUser(user);</span><br><span class="line">	System.out.println(user);</span><br><span class="line">	<span class="comment">//è¾“å‡ºï¼šuser&#123;id=10, username=&#x27;ton&#x27;, password=&#x27;123&#x27;, age=23, sex=&#x27;ç”·&#x27;, email=&#x27;123@321.com&#x27;&#125;ï¼Œè‡ªå¢ä¸»é”®å­˜æ”¾åˆ°äº†userçš„idå±æ€§ä¸­</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="è‡ªå®šä¹‰æ˜ å°„resultmap"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰æ˜ å°„resultmap"></a> è‡ªå®šä¹‰æ˜ å°„resultMap</h1>
<h2 id="resultmapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»"><a class="markdownIt-Anchor" href="#resultmapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»"></a> resultMapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»</h2>
<ul>
<li>resultMapï¼šè®¾ç½®è‡ªå®šä¹‰æ˜ å°„</li>
<li>å±æ€§ï¼š
<ul>
<li>idï¼šè¡¨ç¤ºè‡ªå®šä¹‰æ˜ å°„çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸èƒ½é‡å¤</li>
<li>typeï¼šæŸ¥è¯¢çš„æ•°æ®è¦æ˜ å°„çš„å®ä½“ç±»çš„ç±»å‹</li>
<li>å­æ ‡ç­¾ï¼š</li>
<li>idï¼šè®¾ç½®ä¸»é”®çš„æ˜ å°„å…³ç³»
<ul>
<li>resultï¼šè®¾ç½®æ™®é€šå­—æ®µçš„æ˜ å°„å…³ç³»</li>
<li>å­æ ‡ç­¾å±æ€§ï¼š</li>
<li>propertyï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­å®ä½“ç±»ä¸­çš„å±æ€§å
<ul>
<li>columnï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­è¡¨ä¸­çš„å­—æ®µå</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>è‹¥å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸ä¸€è‡´ï¼Œåˆ™å¯ä»¥é€šè¿‡resultMapè®¾ç½®è‡ªå®šä¹‰æ˜ å°„ï¼Œå³ä½¿å­—æ®µåå’Œå±æ€§åä¸€è‡´çš„å±æ€§ä¹Ÿè¦æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯å…¨éƒ¨å±æ€§éƒ½è¦åˆ—å‡ºæ¥</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;empResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;eid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;eid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sex&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllEmp&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;empResultMap&quot;</span>&gt;</span></span><br><span class="line">	select * from t_emp</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>è‹¥å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸ä¸€è‡´ï¼Œä½†æ˜¯å­—æ®µåç¬¦åˆæ•°æ®åº“çš„è§„åˆ™ï¼ˆä½¿ç”¨_ï¼‰ï¼Œå®ä½“ç±»ä¸­çš„å±æ€§åç¬¦åˆJavaçš„è§„åˆ™ï¼ˆä½¿ç”¨é©¼å³°ï¼‰ã€‚æ­¤æ—¶ä¹Ÿå¯é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¤„ç†å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§çš„æ˜ å°„å…³ç³»</p>
<ol>
<li>å¯ä»¥é€šè¿‡ä¸ºå­—æ®µèµ·åˆ«åçš„æ–¹å¼ï¼Œä¿è¯å’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¿æŒä¸€è‡´ <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllEmp&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	select eid,emp_name empName,age,sex,email from t_emp</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>å¯ä»¥åœ¨MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­çš„<code>setting</code>æ ‡ç­¾ä¸­ï¼Œè®¾ç½®ä¸€ä¸ªå…¨å±€é…ç½®ä¿¡æ¯mapUnderscoreToCamelCaseï¼Œå¯ä»¥åœ¨æŸ¥è¯¢è¡¨ä¸­æ•°æ®æ—¶ï¼Œè‡ªåŠ¨å°†_ç±»å‹çš„å­—æ®µåè½¬æ¢ä¸ºé©¼å³°ï¼Œä¾‹å¦‚ï¼šå­—æ®µåuser_nameï¼Œè®¾ç½®äº†mapUnderscoreToCamelCaseï¼Œæ­¤æ—¶å­—æ®µåå°±ä¼šè½¬æ¢ä¸ºuserNameã€‚<a href="#%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3">æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</a> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h2 id="å¤šå¯¹ä¸€æ˜ å°„å¤„ç†"><a class="markdownIt-Anchor" href="#å¤šå¯¹ä¸€æ˜ å°„å¤„ç†"></a> å¤šå¯¹ä¸€æ˜ å°„å¤„ç†</h2>
<blockquote>
<p>æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ä»¥åŠå‘˜å·¥æ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Emp</span> &#123;  </span><br><span class="line">	<span class="keyword">private</span> Integer eid;  </span><br><span class="line">	<span class="keyword">private</span> String empName;  </span><br><span class="line">	<span class="keyword">private</span> Integer age;  </span><br><span class="line">	<span class="keyword">private</span> String sex;  </span><br><span class="line">	<span class="keyword">private</span> String email;  </span><br><span class="line">	<span class="keyword">private</span> Dept dept;</span><br><span class="line">	<span class="comment">//...æ„é€ å™¨ã€getã€setæ–¹æ³•ç­‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»"><a class="markdownIt-Anchor" href="#çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»"></a> çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»</h3>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;empAndDeptResultMapOne&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;eid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;eid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sex&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;dept.did&quot;</span> <span class="attr">column</span>=<span class="string">&quot;did&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;dept.deptName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dept_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Emp getEmpAndDept(@Param(&quot;eid&quot;)Integer eid);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpAndDept&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;empAndDeptResultMapOne&quot;</span>&gt;</span></span><br><span class="line">	select * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #&#123;eid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»"><a class="markdownIt-Anchor" href="#ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»"></a> ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»</h3>
<ul>
<li>associationï¼šå¤„ç†å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»</li>
<li>propertyï¼šéœ€è¦å¤„ç†å¤šå¯¹çš„æ˜ å°„å…³ç³»çš„å±æ€§å</li>
<li>javaTypeï¼šè¯¥å±æ€§çš„ç±»å‹</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;empAndDeptResultMapTwo&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;eid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;eid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sex&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;Dept&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;did&quot;</span> <span class="attr">column</span>=<span class="string">&quot;did&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;deptName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dept_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Emp getEmpAndDept(@Param(&quot;eid&quot;)Integer eid);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpAndDept&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;empAndDeptResultMapTwo&quot;</span>&gt;</span></span><br><span class="line">	select * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #&#123;eid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="åˆ†æ­¥æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#åˆ†æ­¥æŸ¥è¯¢"></a> åˆ†æ­¥æŸ¥è¯¢</h3>
<h4 id="1-æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯"><a class="markdownIt-Anchor" href="#1-æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯"></a> 1. æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</h4>
<ul>
<li>selectï¼šè®¾ç½®åˆ†å¸ƒæŸ¥è¯¢çš„sqlçš„å”¯ä¸€æ ‡è¯†ï¼ˆnamespace.SQLIdæˆ–mapperæ¥å£çš„å…¨ç±»å.æ–¹æ³•åï¼‰</li>
<li>columnï¼šè®¾ç½®åˆ†æ­¥æŸ¥è¯¢çš„æ¡ä»¶</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//EmpMapperé‡Œçš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼Œå‘˜å·¥åŠæ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> com.atguigu.mybatis.pojo.Emp</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/2/27 20:17</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Emp <span class="title function_">getEmpAndDeptByStepOne</span><span class="params">(<span class="meta">@Param(&quot;eid&quot;)</span> Integer eid)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;empAndDeptByStepResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;eid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;eid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sex&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span></span></span><br><span class="line"><span class="tag">				 <span class="attr">select</span>=<span class="string">&quot;com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo&quot;</span></span></span><br><span class="line"><span class="tag">				 <span class="attr">column</span>=<span class="string">&quot;did&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Emp getEmpAndDeptByStepOne(@Param(&quot;eid&quot;) Integer eid);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpAndDeptByStepOne&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;empAndDeptByStepResultMap&quot;</span>&gt;</span></span><br><span class="line">	select * from t_emp where eid = #&#123;eid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯"><a class="markdownIt-Anchor" href="#2-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯"></a> 2. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//DeptMapperé‡Œçš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼Œå‘˜å·¥åŠæ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬äºŒæ­¥ï¼šé€šè¿‡didæŸ¥è¯¢å‘˜å·¥å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> com.atguigu.mybatis.pojo.Emp</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/2/27 20:23</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Dept <span class="title function_">getEmpAndDeptByStepTwo</span><span class="params">(<span class="meta">@Param(&quot;did&quot;)</span> Integer did)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ­¤å¤„çš„resultMapä»…æ˜¯å¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;EmpAndDeptByStepTwoResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Dept&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;did&quot;</span> <span class="attr">column</span>=<span class="string">&quot;did&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;deptName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dept_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Dept getEmpAndDeptByStepTwo(@Param(&quot;did&quot;) Integer did);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpAndDeptByStepTwo&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;EmpAndDeptByStepTwoResultMap&quot;</span>&gt;</span></span><br><span class="line">	select * from t_dept where did = #&#123;did&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="ä¸€å¯¹å¤šæ˜ å°„å¤„ç†"><a class="markdownIt-Anchor" href="#ä¸€å¯¹å¤šæ˜ å°„å¤„ç†"></a> ä¸€å¯¹å¤šæ˜ å°„å¤„ç†</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dept</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer did;</span><br><span class="line">    <span class="keyword">private</span> String deptName;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Emp&gt; emps;</span><br><span class="line">	<span class="comment">//...æ„é€ å™¨ã€getã€setæ–¹æ³•ç­‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="collection"><a class="markdownIt-Anchor" href="#collection"></a> collection</h3>
<ul>
<li>collectionï¼šç”¨æ¥å¤„ç†ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»</li>
<li>ofTypeï¼šè¡¨ç¤ºè¯¥å±æ€§å¯¹é¥®çš„é›†åˆä¸­å­˜å‚¨çš„æ•°æ®çš„ç±»å‹</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;DeptAndEmpResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Dept&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;did&quot;</span> <span class="attr">column</span>=<span class="string">&quot;did&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;deptName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dept_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;emps&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;eid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;eid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sex&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Dept getDeptAndEmp(@Param(&quot;did&quot;) Integer did);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getDeptAndEmp&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;DeptAndEmpResultMap&quot;</span>&gt;</span></span><br><span class="line">	select * from t_dept left join t_emp on t_dept.did = t_emp.did where t_dept.did = #&#123;did&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="åˆ†æ­¥æŸ¥è¯¢-2"><a class="markdownIt-Anchor" href="#åˆ†æ­¥æŸ¥è¯¢-2"></a> åˆ†æ­¥æŸ¥è¯¢</h3>
<h4 id="1-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯"><a class="markdownIt-Anchor" href="#1-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯"></a> 1. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢éƒ¨é—¨åŠå¯¹åº”çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> did </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> com.atguigu.mybatis.pojo.Dept</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/2/27 22:04</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Dept <span class="title function_">getDeptAndEmpByStepOne</span><span class="params">(<span class="meta">@Param(&quot;did&quot;)</span> Integer did)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;DeptAndEmpByStepOneResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Dept&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;did&quot;</span> <span class="attr">column</span>=<span class="string">&quot;did&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;deptName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dept_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;emps&quot;</span></span></span><br><span class="line"><span class="tag">				<span class="attr">select</span>=<span class="string">&quot;com.atguigu.mybatis.mapper.EmpMapper.getDeptAndEmpByStepTwo&quot;</span></span></span><br><span class="line"><span class="tag">				<span class="attr">column</span>=<span class="string">&quot;did&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Dept getDeptAndEmpByStepOne(@Param(&quot;did&quot;) Integer did);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getDeptAndEmpByStepOne&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;DeptAndEmpByStepOneResultMap&quot;</span>&gt;</span></span><br><span class="line">	select * from t_dept where did = #&#123;did&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥"><a class="markdownIt-Anchor" href="#2-æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥"></a> 2. æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢éƒ¨é—¨åŠå¯¹åº”çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬äºŒæ­¥ï¼šæ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> did</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> java.util.List&lt;com.atguigu.mybatis.pojo.Emp&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/2/27 22:10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">List&lt;Emp&gt; <span class="title function_">getDeptAndEmpByStepTwo</span><span class="params">(<span class="meta">@Param(&quot;did&quot;)</span> Integer did)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; getDeptAndEmpByStepTwo(@Param(&quot;did&quot;) Integer did);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getDeptAndEmpByStepTwo&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	select * from t_emp where did = #&#123;did&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="å»¶è¿ŸåŠ è½½"><a class="markdownIt-Anchor" href="#å»¶è¿ŸåŠ è½½"></a> å»¶è¿ŸåŠ è½½</h2>
<ul>
<li>åˆ†æ­¥æŸ¥è¯¢çš„ä¼˜ç‚¹ï¼šå¯ä»¥å®ç°å»¶è¿ŸåŠ è½½ï¼Œä½†æ˜¯å¿…é¡»åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­è®¾ç½®å…¨å±€é…ç½®ä¿¡æ¯ï¼š</li>
<li>lazyLoadingEnabledï¼šå»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½
<ul>
<li>aggressiveLazyLoadingï¼šå½“å¼€å¯æ—¶ï¼Œä»»ä½•æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚ å¦åˆ™ï¼Œæ¯ä¸ªå±æ€§ä¼šæŒ‰éœ€åŠ è½½</li>
</ul>
</li>
<li>æ­¤æ—¶å°±å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ï¼Œè·å–çš„æ•°æ®æ˜¯ä»€ä¹ˆï¼Œå°±åªä¼šæ‰§è¡Œç›¸åº”çš„sqlã€‚æ­¤æ—¶å¯é€šè¿‡associationå’Œcollectionä¸­çš„fetchTypeå±æ€§è®¾ç½®å½“å‰çš„åˆ†æ­¥æŸ¥è¯¢æ˜¯å¦ä½¿ç”¨å»¶è¿ŸåŠ è½½ï¼ŒfetchType=â€œlazy(å»¶è¿ŸåŠ è½½)|eager(ç«‹å³åŠ è½½)â€</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getEmpAndDeptByStepOne</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">	<span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> mapper.getEmpAndDeptByStepOne(<span class="number">1</span>);</span><br><span class="line">	System.out.println(emp.getEmpName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å…³é—­å»¶è¿ŸåŠ è½½ï¼Œä¸¤æ¡SQLè¯­å¥éƒ½è¿è¡Œäº†<img src="/img/Java/12MyBatis/%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E6%B5%8B%E8%AF%951.png" alt="" /></li>
<li>å¼€å¯å»¶è¿ŸåŠ è½½ï¼Œåªè¿è¡Œè·å–empçš„SQLè¯­å¥<br />
<img src="/img/Java/12MyBatis/%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E6%B5%8B%E8%AF%952.png" alt="" /></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getEmpAndDeptByStepOne</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">	<span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> mapper.getEmpAndDeptByStepOne(<span class="number">1</span>);</span><br><span class="line">	System.out.println(emp.getEmpName());</span><br><span class="line">	System.out.println(<span class="string">&quot;----------------&quot;</span>);</span><br><span class="line">	System.out.println(emp.getDept());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>å¼€å¯åï¼Œéœ€è¦ç”¨åˆ°æŸ¥è¯¢deptçš„æ—¶å€™æ‰ä¼šè°ƒç”¨ç›¸åº”çš„SQLè¯­å¥<img src="/img/Java/12MyBatis/%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E6%B5%8B%E8%AF%953.png" alt="" /></p>
</li>
<li>
<p>fetchTypeï¼šå½“å¼€å¯äº†å…¨å±€çš„å»¶è¿ŸåŠ è½½ä¹‹åï¼Œå¯ä»¥é€šè¿‡è¯¥å±æ€§æ‰‹åŠ¨æ§åˆ¶å»¶è¿ŸåŠ è½½çš„æ•ˆæœï¼ŒfetchType=â€œlazy(å»¶è¿ŸåŠ è½½)|eager(ç«‹å³åŠ è½½)â€</p>
  <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;empAndDeptByStepResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;eid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;eid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sex&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span></span></span><br><span class="line"><span class="tag">				 <span class="attr">select</span>=<span class="string">&quot;com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo&quot;</span></span></span><br><span class="line"><span class="tag">				 <span class="attr">column</span>=<span class="string">&quot;did&quot;</span></span></span><br><span class="line"><span class="tag">				 <span class="attr">fetchType</span>=<span class="string">&quot;lazy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="åŠ¨æ€sql"><a class="markdownIt-Anchor" href="#åŠ¨æ€sql"></a> åŠ¨æ€SQL</h1>
<ul>
<li>Mybatisæ¡†æ¶çš„åŠ¨æ€SQLæŠ€æœ¯æ˜¯ä¸€ç§æ ¹æ®ç‰¹å®šæ¡ä»¶åŠ¨æ€æ‹¼è£…SQLè¯­å¥çš„åŠŸèƒ½ï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯ä¸ºäº†è§£å†³æ‹¼æ¥SQLè¯­å¥å­—ç¬¦ä¸²æ—¶çš„ç—›ç‚¹é—®é¢˜</li>
</ul>
<h2 id="if"><a class="markdownIt-Anchor" href="#if"></a> if</h2>
<ul>
<li>ifæ ‡ç­¾å¯é€šè¿‡testå±æ€§ï¼ˆå³ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼‰çš„è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¡¨è¾¾å¼çš„ç»“æœä¸ºtrueï¼Œåˆ™æ ‡ç­¾ä¸­çš„å†…å®¹ä¼šæ‰§è¡Œï¼›åä¹‹æ ‡ç­¾ä¸­çš„å†…å®¹ä¸ä¼šæ‰§è¡Œ</li>
<li>åœ¨whereåé¢æ·»åŠ ä¸€ä¸ªæ’æˆç«‹æ¡ä»¶<code>1=1</code></li>
<li>è¿™ä¸ªæ’æˆç«‹æ¡ä»¶å¹¶ä¸ä¼šå½±å“æŸ¥è¯¢çš„ç»“æœ
<ul>
<li>è¿™ä¸ª<code>1=1</code>å¯ä»¥ç”¨æ¥æ‹¼æ¥<code>and</code>è¯­å¥ï¼Œä¾‹å¦‚ï¼šå½“empNameä¸ºnullæ—¶</li>
<li>å¦‚æœä¸åŠ ä¸Šæ’æˆç«‹æ¡ä»¶ï¼Œåˆ™SQLè¯­å¥ä¸º<code>select * from t_emp where and age = ? and sex = ? and email = ?</code>ï¼Œæ­¤æ—¶<code>where</code>ä¼šä¸<code>and</code>è¿ç”¨ï¼ŒSQLè¯­å¥ä¼šæŠ¥é”™
<ul>
<li>å¦‚æœåŠ ä¸Šä¸€ä¸ªæ’æˆç«‹æ¡ä»¶ï¼Œåˆ™SQLè¯­å¥ä¸º<code>select * from t_emp where 1= 1 and age = ? and sex = ? and email = ?</code>ï¼Œæ­¤æ—¶ä¸æŠ¥é”™</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	select * from t_emp where 1=1</span><br><span class="line">	<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null and empName !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">		and emp_name = #&#123;empName&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != null and age !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">		and age = #&#123;age&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sex != null and sex !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">		and sex = #&#123;sex&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;email != null and email !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">		and email = #&#123;email&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="where"><a class="markdownIt-Anchor" href="#where"></a> where</h2>
<ul>
<li>whereå’Œifä¸€èˆ¬ç»“åˆä½¿ç”¨ï¼š</li>
<li>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾æ²¡æœ‰ä»»ä½•åŠŸèƒ½ï¼Œå³ä¸ä¼šæ·»åŠ whereå…³é”®å­—
<ul>
<li>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾ä¼šè‡ªåŠ¨æ·»åŠ whereå…³é”®å­—ï¼Œå¹¶å°†æ¡ä»¶æœ€å‰æ–¹å¤šä½™çš„and/orå»æ‰</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	select * from t_emp</span><br><span class="line">	<span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null and empName !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">			emp_name = #&#123;empName&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != null and age !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">			and age = #&#123;age&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sex != null and sex !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">			and sex = #&#123;sex&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;email != null and email !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">			and email = #&#123;email&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>æ³¨æ„ï¼šwhereæ ‡ç­¾ä¸èƒ½å»æ‰æ¡ä»¶åå¤šä½™çš„and/or</p>
  <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--è¿™ç§ç”¨æ³•æ˜¯é”™è¯¯çš„ï¼Œåªèƒ½å»æ‰æ¡ä»¶å‰é¢çš„and/orï¼Œæ¡ä»¶åé¢çš„ä¸è¡Œ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null and empName !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">emp_name = #&#123;empName&#125; and</span><br><span class="line"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != null and age !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">	age = #&#123;age&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="trim"><a class="markdownIt-Anchor" href="#trim"></a> trim</h2>
<ul>
<li>trimç”¨äºå»æ‰æˆ–æ·»åŠ æ ‡ç­¾ä¸­çš„å†…å®¹</li>
<li>å¸¸ç”¨å±æ€§</li>
<li>prefixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢æ·»åŠ æŸäº›å†…å®¹
<ul>
<li>suffixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢æ·»åŠ æŸäº›å†…å®¹</li>
<li>prefixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢å»æ‰æŸäº›å†…å®¹</li>
<li>suffixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢å»æ‰æŸäº›å†…å®¹</li>
</ul>
</li>
<li>è‹¥trimä¸­çš„æ ‡ç­¾éƒ½ä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™trimæ ‡ç­¾æ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œä¹Ÿå°±æ˜¯åªå‰©ä¸‹<code>select * from t_emp</code></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	select * from t_emp</span><br><span class="line">	<span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;where&quot;</span> <span class="attr">suffixOverrides</span>=<span class="string">&quot;and|or&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null and empName !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">			emp_name = #&#123;empName&#125; and</span><br><span class="line">		<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != null and age !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">			age = #&#123;age&#125; and</span><br><span class="line">		<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sex != null and sex !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">			sex = #&#123;sex&#125; or</span><br><span class="line">		<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;email != null and email !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">			email = #&#123;email&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•ç±»</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getEmpByCondition</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">DynamicSQLMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(DynamicSQLMapper.class);</span><br><span class="line">	List&lt;Emp&gt; emps= mapper.getEmpByCondition(<span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="literal">null</span>, <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>));</span><br><span class="line">	System.out.println(emps);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/12MyBatis/trim%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.png" alt="" /></p>
<h2 id="choose-when-otherwise"><a class="markdownIt-Anchor" href="#choose-when-otherwise"></a> chooseã€whenã€otherwise</h2>
<ul>
<li><code>chooseã€whenã€otherwise</code>ç›¸å½“äº<code>if...else if..else</code></li>
<li>whenè‡³å°‘è¦æœ‰ä¸€ä¸ªï¼Œotherwiseè‡³å¤šåªæœ‰ä¸€ä¸ª</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpByChoose&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	select * from t_emp</span><br><span class="line">	<span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;empName != null and empName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				emp_name = #&#123;empName&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;age != null and age != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				age = #&#123;age&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;sex != null and sex != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				sex = #&#123;sex&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;email != null and email != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				email = #&#123;email&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">otherwise</span>&gt;</span></span><br><span class="line">				did = 1</span><br><span class="line">			<span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getEmpByChoose</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">DynamicSQLMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(DynamicSQLMapper.class);</span><br><span class="line">	List&lt;Emp&gt; emps = mapper.getEmpByChoose(<span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="literal">null</span>, <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">23</span>, <span class="string">&quot;ç”·&quot;</span>, <span class="string">&quot;123@qq.com&quot;</span>, <span class="literal">null</span>));</span><br><span class="line">	System.out.println(emps);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/12MyBatis/choose%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.png" alt="" /></p>
<ul>
<li>ç›¸å½“äº<code>if a else if b else if c else d</code>ï¼Œåªä¼šæ‰§è¡Œå…¶ä¸­ä¸€ä¸ª</li>
</ul>
<h2 id="foreach"><a class="markdownIt-Anchor" href="#foreach"></a> foreach</h2>
<ul>
<li>
<p>å±æ€§ï¼š</p>
</li>
<li>
<p>collectionï¼šè®¾ç½®è¦å¾ªç¯çš„æ•°ç»„æˆ–é›†åˆ</p>
<ul>
<li>itemï¼šè¡¨ç¤ºé›†åˆæˆ–æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°æ®</li>
<li>separatorï¼šè®¾ç½®å¾ªç¯ä½“ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œåˆ†éš”ç¬¦å‰åé»˜è®¤æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦‚<code>,</code></li>
<li>openï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„å¼€å§‹ç¬¦</li>
<li>closeï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„ç»“æŸç¬¦</li>
</ul>
</li>
<li>
<p>æ‰¹é‡åˆ é™¤</p>
  <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--int deleteMoreByArray(Integer[] eids);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteMoreByArray&quot;</span>&gt;</span></span><br><span class="line">	delete from t_emp where eid in</span><br><span class="line">	<span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;eids&quot;</span> <span class="attr">item</span>=<span class="string">&quot;eid&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span>&gt;</span></span><br><span class="line">		#&#123;eid&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>
  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteMoreByArray</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">DynamicSQLMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(DynamicSQLMapper.class);</span><br><span class="line">	<span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> mapper.deleteMoreByArray(<span class="keyword">new</span> <span class="title class_">Integer</span>[]&#123;<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;);</span><br><span class="line">	System.out.println(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="Resources/foreach%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C1.png" alt="" /></p>
</li>
<li>
<p>æ‰¹é‡æ·»åŠ </p>
  <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--int insertMoreByList(@Param(&quot;emps&quot;) List&lt;Emp&gt; emps);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertMoreByList&quot;</span>&gt;</span></span><br><span class="line">	insert into t_emp values</span><br><span class="line">	<span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;emps&quot;</span> <span class="attr">item</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span>&gt;</span></span><br><span class="line">		(null,#&#123;emp.empName&#125;,#&#123;emp.age&#125;,#&#123;emp.sex&#125;,#&#123;emp.email&#125;,null)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertMoreByList</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtils.getSqlSession();</span><br><span class="line">	<span class="type">DynamicSQLMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(DynamicSQLMapper.class);</span><br><span class="line">	<span class="type">Emp</span> <span class="variable">emp1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="literal">null</span>,<span class="string">&quot;a&quot;</span>,<span class="number">1</span>,<span class="string">&quot;ç”·&quot;</span>,<span class="string">&quot;123@321.com&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">	<span class="type">Emp</span> <span class="variable">emp2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="literal">null</span>,<span class="string">&quot;b&quot;</span>,<span class="number">1</span>,<span class="string">&quot;ç”·&quot;</span>,<span class="string">&quot;123@321.com&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">	<span class="type">Emp</span> <span class="variable">emp3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="literal">null</span>,<span class="string">&quot;c&quot;</span>,<span class="number">1</span>,<span class="string">&quot;ç”·&quot;</span>,<span class="string">&quot;123@321.com&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">	List&lt;Emp&gt; emps = Arrays.asList(emp1, emp2, emp3);</span><br><span class="line">	<span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> mapper.insertMoreByList(emps);</span><br><span class="line">	System.out.println(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="Resources/foreach%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C2.png" alt="" /></p>
</li>
</ul>
<h2 id="sqlç‰‡æ®µ"><a class="markdownIt-Anchor" href="#sqlç‰‡æ®µ"></a> SQLç‰‡æ®µ</h2>
<ul>
<li>sqlç‰‡æ®µï¼Œå¯ä»¥è®°å½•ä¸€æ®µå…¬å…±sqlç‰‡æ®µï¼Œåœ¨ä½¿ç”¨çš„åœ°æ–¹é€šè¿‡includeæ ‡ç­¾è¿›è¡Œå¼•å…¥</li>
<li>å£°æ˜sqlç‰‡æ®µï¼š<code>&lt;sql&gt;</code>æ ‡ç­¾</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;empColumns&quot;</span>&gt;</span>eid,emp_name,age,sex,email<span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¼•ç”¨sqlç‰‡æ®µï¼š<code>&lt;include&gt;</code>æ ‡ç­¾</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getEmpByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Emp&quot;</span>&gt;</span></span><br><span class="line">	select <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;empColumns&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span> from t_emp</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="mybatisçš„ç¼“å­˜"><a class="markdownIt-Anchor" href="#mybatisçš„ç¼“å­˜"></a> MyBatisçš„ç¼“å­˜</h1>
<h2 id="mybatisçš„ä¸€çº§ç¼“å­˜"><a class="markdownIt-Anchor" href="#mybatisçš„ä¸€çº§ç¼“å­˜"></a> MyBatisçš„ä¸€çº§ç¼“å­˜</h2>
<ul>
<li>
<p>ä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«çš„ï¼Œé€šè¿‡åŒä¸€ä¸ªSqlSessionæŸ¥è¯¢çš„æ•°æ®ä¼šè¢«ç¼“å­˜ï¼Œä¸‹æ¬¡æŸ¥è¯¢ç›¸åŒçš„æ•°æ®ï¼Œå°±ä¼šä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸ä¼šä»æ•°æ®åº“é‡æ–°è®¿é—®</p>
</li>
<li>
<p>ä½¿ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µï¼š</p>
<ol>
<li>ä¸åŒçš„SqlSessionå¯¹åº”ä¸åŒçš„ä¸€çº§ç¼“å­˜</li>
<li>åŒä¸€ä¸ªSqlSessionä½†æ˜¯æŸ¥è¯¢æ¡ä»¶ä¸åŒ</li>
<li>åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰§è¡Œäº†ä»»ä½•ä¸€æ¬¡å¢åˆ æ”¹æ“ä½œ</li>
<li>åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰‹åŠ¨æ¸…ç©ºäº†ç¼“å­˜</li>
</ol>
</li>
</ul>
<h2 id="mybatisçš„äºŒçº§ç¼“å­˜"><a class="markdownIt-Anchor" href="#mybatisçš„äºŒçº§ç¼“å­˜"></a> MyBatisçš„äºŒçº§ç¼“å­˜</h2>
<ul>
<li>
<p>äºŒçº§ç¼“å­˜æ˜¯SqlSessionFactoryçº§åˆ«ï¼Œé€šè¿‡åŒä¸€ä¸ªSqlSessionFactoryåˆ›å»ºçš„SqlSessionæŸ¥è¯¢çš„ç»“æœä¼šè¢«ç¼“å­˜ï¼›æ­¤åè‹¥å†æ¬¡æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢è¯­å¥ï¼Œç»“æœå°±ä¼šä»ç¼“å­˜ä¸­è·å–</p>
</li>
<li>
<p>äºŒçº§ç¼“å­˜å¼€å¯çš„æ¡ä»¶</p>
<ol>
<li>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®å…¨å±€é…ç½®å±æ€§cacheEnabled=â€œtrueâ€ï¼Œé»˜è®¤ä¸ºtrueï¼Œä¸éœ€è¦è®¾ç½®</li>
<li>åœ¨æ˜ å°„æ–‡ä»¶ä¸­è®¾ç½®æ ‡ç­¾<cache /></li>
<li>äºŒçº§ç¼“å­˜å¿…é¡»åœ¨SqlSessionå…³é—­æˆ–æäº¤ä¹‹åæœ‰æ•ˆ</li>
<li>æŸ¥è¯¢çš„æ•°æ®æ‰€è½¬æ¢çš„å®ä½“ç±»ç±»å‹å¿…é¡»å®ç°åºåˆ—åŒ–çš„æ¥å£</li>
</ol>
</li>
<li>
<p>ä½¿äºŒçº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼šä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰§è¡Œäº†ä»»æ„çš„å¢åˆ æ”¹ï¼Œä¼šä½¿ä¸€çº§å’ŒäºŒçº§ç¼“å­˜åŒæ—¶å¤±æ•ˆ</p>
</li>
</ul>
<h2 id="äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®"><a class="markdownIt-Anchor" href="#äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®"></a> äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®</h2>
<ul>
<li>åœ¨mapperé…ç½®æ–‡ä»¶ä¸­æ·»åŠ çš„cacheæ ‡ç­¾å¯ä»¥è®¾ç½®ä¸€äº›å±æ€§</li>
<li>evictionå±æ€§ï¼šç¼“å­˜å›æ”¶ç­–ç•¥</li>
<li>LRUï¼ˆLeast Recently Usedï¼‰ â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚
<ul>
<li>FIFOï¼ˆFirst in First outï¼‰ â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚</li>
<li>SOFT â€“ è½¯å¼•ç”¨ï¼šç§»é™¤åŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚</li>
<li>WEAK â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°ç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚</li>
<li>é»˜è®¤çš„æ˜¯ LRU</li>
</ul>
</li>
<li>flushIntervalå±æ€§ï¼šåˆ·æ–°é—´éš”ï¼Œå•ä½æ¯«ç§’</li>
<li>é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰åˆ·æ–°é—´éš”ï¼Œç¼“å­˜ä»…ä»…è°ƒç”¨è¯­å¥ï¼ˆå¢åˆ æ”¹ï¼‰æ—¶åˆ·æ–°</li>
<li>sizeå±æ€§ï¼šå¼•ç”¨æ•°ç›®ï¼Œæ­£æ•´æ•°</li>
<li>ä»£è¡¨ç¼“å­˜æœ€å¤šå¯ä»¥å­˜å‚¨å¤šå°‘ä¸ªå¯¹è±¡ï¼Œå¤ªå¤§å®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</li>
<li>readOnlyå±æ€§ï¼šåªè¯»ï¼Œtrue/false</li>
<li>trueï¼šåªè¯»ç¼“å­˜ï¼›ä¼šç»™æ‰€æœ‰è°ƒç”¨è€…è¿”å›ç¼“å­˜å¯¹è±¡çš„ç›¸åŒå®ä¾‹ã€‚å› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«ä¿®æ”¹ã€‚è¿™æä¾›äº†å¾ˆé‡è¦çš„æ€§èƒ½ä¼˜åŠ¿ã€‚
<ul>
<li>falseï¼šè¯»å†™ç¼“å­˜ï¼›ä¼šè¿”å›ç¼“å­˜å¯¹è±¡çš„æ‹·è´ï¼ˆé€šè¿‡åºåˆ—åŒ–ï¼‰ã€‚è¿™ä¼šæ…¢ä¸€äº›ï¼Œä½†æ˜¯å®‰å…¨ï¼Œå› æ­¤é»˜è®¤æ˜¯false</li>
</ul>
</li>
</ul>
<h2 id="mybatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº"><a class="markdownIt-Anchor" href="#mybatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº"></a> MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº</h2>
<ul>
<li>å…ˆæŸ¥è¯¢äºŒçº§ç¼“å­˜ï¼Œå› ä¸ºäºŒçº§ç¼“å­˜ä¸­å¯èƒ½ä¼šæœ‰å…¶ä»–ç¨‹åºå·²ç»æŸ¥å‡ºæ¥çš„æ•°æ®ï¼Œå¯ä»¥æ‹¿æ¥ç›´æ¥ä½¿ç”¨</li>
<li>å¦‚æœäºŒçº§ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œå†æŸ¥è¯¢ä¸€çº§ç¼“å­˜</li>
<li>å¦‚æœä¸€çº§ç¼“å­˜ä¹Ÿæ²¡æœ‰å‘½ä¸­ï¼Œåˆ™æŸ¥è¯¢æ•°æ®åº“</li>
<li>SqlSessionå…³é—­ä¹‹åï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®ä¼šå†™å…¥äºŒçº§ç¼“å­˜</li>
</ul>
<h2 id="æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜ehcacheäº†è§£"><a class="markdownIt-Anchor" href="#æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜ehcacheäº†è§£"></a> æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCacheï¼ˆäº†è§£ï¼‰</h2>
<h3 id="æ·»åŠ ä¾èµ–"><a class="markdownIt-Anchor" href="#æ·»åŠ ä¾èµ–"></a> æ·»åŠ ä¾èµ–</h3>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Mybatis EHCacheæ•´åˆåŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.caches<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- slf4jæ—¥å¿—é—¨é¢çš„ä¸€ä¸ªå…·ä½“å®ç° --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="å„ä¸ªjaråŒ…çš„åŠŸèƒ½"><a class="markdownIt-Anchor" href="#å„ä¸ªjaråŒ…çš„åŠŸèƒ½"></a> å„ä¸ªjaråŒ…çš„åŠŸèƒ½</h3>
<table>
<thead>
<tr>
<th>jaråŒ…åç§°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>mybatis-ehcache</td>
<td>Mybatiså’ŒEHCacheçš„æ•´åˆåŒ…</td>
</tr>
<tr>
<td>ehcache</td>
<td>EHCacheæ ¸å¿ƒåŒ…</td>
</tr>
<tr>
<td>slf4j-api</td>
<td>SLF4Jæ—¥å¿—é—¨é¢åŒ…</td>
</tr>
<tr>
<td>logback-classic</td>
<td>æ”¯æŒSLF4Jé—¨é¢æ¥å£çš„ä¸€ä¸ªå…·ä½“å®ç°</td>
</tr>
</tbody>
</table>
<h3 id="åˆ›å»ºehcacheçš„é…ç½®æ–‡ä»¶ehcachexml"><a class="markdownIt-Anchor" href="#åˆ›å»ºehcacheçš„é…ç½®æ–‡ä»¶ehcachexml"></a> åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache.xml</h3>
<ul>
<li>åå­—å¿…é¡»å«<code>ehcache.xml</code></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ehcache</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">&quot;../config/ehcache.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç£ç›˜ä¿å­˜è·¯å¾„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">diskStore</span> <span class="attr">path</span>=<span class="string">&quot;D:\atguigu\ehcache&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">defaultCache</span></span></span><br><span class="line"><span class="tag">            <span class="attr">maxElementsInMemory</span>=<span class="string">&quot;1000&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">maxElementsOnDisk</span>=<span class="string">&quot;10000000&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">eternal</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">overflowToDisk</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToIdleSeconds</span>=<span class="string">&quot;120&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToLiveSeconds</span>=<span class="string">&quot;120&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">diskExpiryThreadIntervalSeconds</span>=<span class="string">&quot;120&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">memoryStoreEvictionPolicy</span>=<span class="string">&quot;LRU&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">defaultCache</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ehcache</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹"><a class="markdownIt-Anchor" href="#è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹"></a> è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹</h3>
<ul>
<li>åœ¨xxxMapper.xmlæ–‡ä»¶ä¸­è®¾ç½®äºŒçº§ç¼“å­˜ç±»å‹</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cache</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="åŠ å…¥logbackæ—¥å¿—"><a class="markdownIt-Anchor" href="#åŠ å…¥logbackæ—¥å¿—"></a> åŠ å…¥logbackæ—¥å¿—</h3>
<ul>
<li>å­˜åœ¨SLF4Jæ—¶ï¼Œä½œä¸ºç®€æ˜“æ—¥å¿—çš„log4jå°†å¤±æ•ˆï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å€ŸåŠ©SLF4Jçš„å…·ä½“å®ç°logbackæ¥æ‰“å°æ—¥å¿—ã€‚åˆ›å»ºlogbackçš„é…ç½®æ–‡ä»¶<code>logback.xml</code>ï¼Œåå­—å›ºå®šï¼Œä¸å¯æ”¹å˜</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">debug</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ä½ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ—¥å¿—è¾“å‡ºçš„æ ¼å¼ --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æŒ‰ç…§é¡ºåºåˆ†åˆ«æ˜¯ï¼šæ—¶é—´ã€æ—¥å¿—çº§åˆ«ã€çº¿ç¨‹åç§°ã€æ‰“å°æ—¥å¿—çš„ç±»ã€æ—¥å¿—ä¸»ä½“å†…å®¹ã€æ¢è¡Œ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>[%d&#123;HH:mm:ss.SSS&#125;] [%-5level] [%thread] [%logger] [%msg]%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è®¾ç½®å…¨å±€æ—¥å¿—çº§åˆ«ã€‚æ—¥å¿—çº§åˆ«æŒ‰é¡ºåºåˆ†åˆ«æ˜¯ï¼šDEBUGã€INFOã€WARNã€ERROR --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æŒ‡å®šä»»ä½•ä¸€ä¸ªæ—¥å¿—çº§åˆ«éƒ½åªæ‰“å°å½“å‰çº§åˆ«å’Œåé¢çº§åˆ«çš„æ—¥å¿—ã€‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šæ‰“å°æ—¥å¿—çš„appenderï¼Œè¿™é‡Œé€šè¿‡â€œSTDOUTâ€å¼•ç”¨äº†å‰é¢é…ç½®çš„appender --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;STDOUT&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ ¹æ®ç‰¹æ®Šéœ€æ±‚æŒ‡å®šå±€éƒ¨æ—¥å¿—çº§åˆ« --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;com.atguigu.crowd.mapper&quot;</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="ehcacheé…ç½®æ–‡ä»¶è¯´æ˜"><a class="markdownIt-Anchor" href="#ehcacheé…ç½®æ–‡ä»¶è¯´æ˜"></a> EHCacheé…ç½®æ–‡ä»¶è¯´æ˜</h3>
<table>
<thead>
<tr>
<th>å±æ€§å</th>
<th>æ˜¯å¦å¿…é¡»</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>maxElementsInMemory</td>
<td>æ˜¯</td>
<td>åœ¨å†…å­˜ä¸­ç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®</td>
</tr>
<tr>
<td>maxElementsOnDisk</td>
<td>æ˜¯</td>
<td>åœ¨ç£ç›˜ä¸Šç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®ï¼Œè‹¥æ˜¯0è¡¨ç¤ºæ— ç©·å¤§</td>
</tr>
<tr>
<td>eternal</td>
<td>æ˜¯</td>
<td>è®¾å®šç¼“å­˜çš„elementsæ˜¯å¦æ°¸è¿œä¸è¿‡æœŸã€‚ å¦‚æœä¸ºtrueï¼Œåˆ™ç¼“å­˜çš„æ•°æ®å§‹ç»ˆæœ‰æ•ˆï¼Œ å¦‚æœä¸ºfalseé‚£ä¹ˆè¿˜è¦æ ¹æ®timeToIdleSecondsã€timeToLiveSecondsåˆ¤æ–­</td>
</tr>
<tr>
<td>overflowToDisk</td>
<td>æ˜¯</td>
<td>è®¾å®šå½“å†…å­˜ç¼“å­˜æº¢å‡ºçš„æ—¶å€™æ˜¯å¦å°†è¿‡æœŸçš„elementç¼“å­˜åˆ°ç£ç›˜ä¸Š</td>
</tr>
<tr>
<td>timeToIdleSeconds</td>
<td>å¦</td>
<td>å½“ç¼“å­˜åœ¨EhCacheä¸­çš„æ•°æ®å‰åä¸¤æ¬¡è®¿é—®çš„æ—¶é—´è¶…è¿‡timeToIdleSecondsçš„å±æ€§å–å€¼æ—¶ï¼Œ è¿™äº›æ•°æ®ä¾¿ä¼šåˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯0,ä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§</td>
</tr>
<tr>
<td>timeToLiveSeconds</td>
<td>å¦</td>
<td>ç¼“å­˜elementçš„æœ‰æ•ˆç”Ÿå‘½æœŸï¼Œé»˜è®¤æ˜¯0.,ä¹Ÿå°±æ˜¯elementå­˜æ´»æ—¶é—´æ— ç©·å¤§</td>
</tr>
<tr>
<td>diskSpoolBufferSizeMB</td>
<td>å¦</td>
<td>DiskStore(ç£ç›˜ç¼“å­˜)çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒº</td>
</tr>
<tr>
<td>diskPersistent</td>
<td>å¦</td>
<td>åœ¨VMé‡å¯çš„æ—¶å€™æ˜¯å¦å¯ç”¨ç£ç›˜ä¿å­˜EhCacheä¸­çš„æ•°æ®ï¼Œé»˜è®¤æ˜¯false</td>
</tr>
<tr>
<td>diskExpiryThreadIntervalSeconds</td>
<td>å¦</td>
<td>ç£ç›˜ç¼“å­˜çš„æ¸…ç†çº¿ç¨‹è¿è¡Œé—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚æ¯ä¸ª120sï¼Œ ç›¸åº”çš„çº¿ç¨‹ä¼šè¿›è¡Œä¸€æ¬¡EhCacheä¸­æ•°æ®çš„æ¸…ç†å·¥ä½œ</td>
</tr>
<tr>
<td>memoryStoreEvictionPolicy</td>
<td>å¦</td>
<td>å½“å†…å­˜ç¼“å­˜è¾¾åˆ°æœ€å¤§ï¼Œæœ‰æ–°çš„elementåŠ å…¥çš„æ—¶å€™ï¼Œ ç§»é™¤ç¼“å­˜ä¸­elementçš„ç­–ç•¥ã€‚ é»˜è®¤æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ï¼Œå¯é€‰çš„æœ‰LFUï¼ˆæœ€ä¸å¸¸ä½¿ç”¨ï¼‰å’ŒFIFOï¼ˆå…ˆè¿›å…ˆå‡º</td>
</tr>
</tbody>
</table>
<h1 id="mybatisçš„é€†å‘å·¥ç¨‹"><a class="markdownIt-Anchor" href="#mybatisçš„é€†å‘å·¥ç¨‹"></a> MyBatisçš„é€†å‘å·¥ç¨‹</h1>
<ul>
<li>æ­£å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºJavaå®ä½“ç±»ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®å®ä½“ç±»ç”Ÿæˆæ•°æ®åº“è¡¨ã€‚Hibernateæ˜¯æ”¯æŒæ­£å‘å·¥ç¨‹çš„</li>
<li>é€†å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºæ•°æ®åº“è¡¨ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®æ•°æ®åº“è¡¨ï¼Œåå‘ç”Ÿæˆå¦‚ä¸‹èµ„æºï¼š</li>
<li>Javaå®ä½“ç±»
<ul>
<li>Mapperæ¥å£</li>
<li>Mapperæ˜ å°„æ–‡ä»¶</li>
</ul>
</li>
</ul>
<h2 id="åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤"><a class="markdownIt-Anchor" href="#åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤"></a> åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤</h2>
<h3 id="æ·»åŠ ä¾èµ–å’Œæ’ä»¶"><a class="markdownIt-Anchor" href="#æ·»åŠ ä¾èµ–å’Œæ’ä»¶"></a> æ·»åŠ ä¾èµ–å’Œæ’ä»¶</h3>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- MyBatisæ ¸å¿ƒä¾èµ–åŒ… --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- junitæµ‹è¯• --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- MySQLé©±åŠ¨ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.27<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- log4jæ—¥å¿— --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ§åˆ¶Mavenåœ¨æ„å»ºè¿‡ç¨‹ä¸­ç›¸å…³é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- æ„å»ºè¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ’ä»¶ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- å…·ä½“æ’ä»¶ï¼Œé€†å‘å·¥ç¨‹çš„æ“ä½œæ˜¯ä»¥æ„å»ºè¿‡ç¨‹ä¸­æ’ä»¶å½¢å¼å‡ºç°çš„ --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- æ’ä»¶çš„ä¾èµ– --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">				<span class="comment">&lt;!-- é€†å‘å·¥ç¨‹çš„æ ¸å¿ƒä¾èµ– --&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">				<span class="comment">&lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mchange<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">				<span class="comment">&lt;!-- MySQLé©±åŠ¨ --&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.27<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶-2"><a class="markdownIt-Anchor" href="#åˆ›å»ºmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶-2"></a> åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h3>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶"></a> åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶</h3>
<ul>
<li>æ–‡ä»¶åå¿…é¡»æ˜¯ï¼š<code>generatorConfig.xml</code></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    targetRuntime: æ‰§è¡Œç”Ÿæˆçš„é€†å‘å·¥ç¨‹çš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">    MyBatis3Simple: ç”ŸæˆåŸºæœ¬çš„CRUDï¼ˆæ¸…æ–°ç®€æ´ç‰ˆï¼‰</span></span><br><span class="line"><span class="comment">    MyBatis3: ç”Ÿæˆå¸¦æ¡ä»¶çš„CRUDï¼ˆå¥¢åå°Šäº«ç‰ˆï¼‰</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;DB2Tables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3Simple&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;123456&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- javaBeançš„ç”Ÿæˆç­–ç•¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.atguigu.mybatis.pojo&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;.\src\main\java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- SQLæ˜ å°„æ–‡ä»¶çš„ç”Ÿæˆç­–ç•¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.atguigu.mybatis.mapper&quot;</span></span></span><br><span class="line"><span class="tag">                         <span class="attr">targetProject</span>=<span class="string">&quot;.\src\main\resources&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Mapperæ¥å£çš„ç”Ÿæˆç­–ç•¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetPackage</span>=<span class="string">&quot;com.atguigu.mybatis.mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;.\src\main\java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é€†å‘åˆ†æçš„è¡¨ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- tableNameè®¾ç½®ä¸º*å·ï¼Œå¯ä»¥å¯¹åº”æ‰€æœ‰è¡¨ï¼Œæ­¤æ—¶ä¸å†™domainObjectName --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- domainObjectNameå±æ€§æŒ‡å®šç”Ÿæˆå‡ºæ¥çš„å®ä½“ç±»çš„ç±»å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_emp&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Emp&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_dept&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Dept&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ‰§è¡Œmbgæ’ä»¶çš„generateç›®æ ‡"><a class="markdownIt-Anchor" href="#æ‰§è¡Œmbgæ’ä»¶çš„generateç›®æ ‡"></a> æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡</h3>
<ul>
<li><img src="/img/Java/12MyBatis/%E6%89%A7%E8%A1%8CMBG%E6%8F%92%E4%BB%B6%E7%9A%84generate%E7%9B%AE%E6%A0%87.png" alt="" /></li>
<li>å¦‚æœå‡ºç°æŠ¥é”™ï¼š<code>Exception getting JDBC Driver</code>ï¼Œå¯èƒ½æ˜¯pom.xmlä¸­ï¼Œæ•°æ®åº“é©±åŠ¨é…ç½®é”™è¯¯</li>
<li>dependencyä¸­çš„é©±åŠ¨<img src="/img/Java/12MyBatis/dependency%E4%B8%AD%E7%9A%84%E9%A9%B1%E5%8A%A8.png" alt="" />
<ul>
<li>mybatis-generator-maven-pluginæ’ä»¶ä¸­çš„é©±åŠ¨<img src="/img/Java/12MyBatis/%E6%8F%92%E4%BB%B6%E4%B8%AD%E7%9A%84%E9%A9%B1%E5%8A%A8.png" alt="" /></li>
<li>ä¸¤è€…çš„é©±åŠ¨ç‰ˆæœ¬åº”è¯¥ç›¸åŒ</li>
</ul>
</li>
<li>æ‰§è¡Œç»“æœ<img src="/img/Java/12MyBatis/%E9%80%86%E5%90%91%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C.png" alt="" /></li>
</ul>
<h2 id="qbc"><a class="markdownIt-Anchor" href="#qbc"></a> QBC</h2>
<h3 id="æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢"></a> æŸ¥è¯¢</h3>
<ul>
<li><code>selectByExample</code>ï¼šæŒ‰æ¡ä»¶æŸ¥è¯¢ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªexampleå¯¹è±¡æˆ–è€…nullï¼›å¦‚æœä¼ å…¥ä¸€ä¸ªnullï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯æŸ¥è¯¢æ‰€æœ‰æ•°æ®</li>
<li><code>example.createCriteria().xxx</code>ï¼šåˆ›å»ºæ¡ä»¶å¯¹è±¡ï¼Œé€šè¿‡andXXXæ–¹æ³•ä¸ºSQLæ·»åŠ æŸ¥è¯¢æ·»åŠ ï¼Œæ¯ä¸ªæ¡ä»¶ä¹‹é—´æ˜¯andå…³ç³»</li>
<li><code>example.or().xxx</code>ï¼šå°†ä¹‹å‰æ·»åŠ çš„æ¡ä»¶é€šè¿‡oræ‹¼æ¥å…¶ä»–æ¡ä»¶<br />
<img src="/img/Java/12MyBatis/example%E7%9A%84%E6%96%B9%E6%B3%95.png" alt="" /></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMBG</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	<span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">	<span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">	<span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(is);</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession(<span class="literal">true</span>);</span><br><span class="line">	<span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">	<span class="type">EmpExample</span> <span class="variable">example</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EmpExample</span>();</span><br><span class="line">	<span class="comment">//åå­—ä¸ºå¼ ä¸‰ï¼Œä¸”å¹´é¾„å¤§äºç­‰äº20</span></span><br><span class="line">	example.createCriteria().andEmpNameEqualTo(<span class="string">&quot;å¼ ä¸‰&quot;</span>).andAgeGreaterThanOrEqualTo(<span class="number">20</span>);</span><br><span class="line">	<span class="comment">//æˆ–è€…didä¸ä¸ºç©º</span></span><br><span class="line">	example.or().andDidIsNotNull();</span><br><span class="line">	List&lt;Emp&gt; emps = mapper.selectByExample(example);</span><br><span class="line">	emps.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/12MyBatis/example%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.png" alt="" /></p>
<h3 id="å¢æ”¹"><a class="markdownIt-Anchor" href="#å¢æ”¹"></a> å¢æ”¹</h3>
<ul>
<li><code>updateByPrimaryKey</code>ï¼šé€šè¿‡ä¸»é”®è¿›è¡Œæ•°æ®ä¿®æ”¹ï¼Œå¦‚æœæŸä¸€ä¸ªå€¼ä¸ºnullï¼Œä¹Ÿä¼šå°†å¯¹åº”çš„å­—æ®µæ”¹ä¸ºnull</li>
<li><code>mapper.updateByPrimaryKey(new Emp(1,&quot;admin&quot;,22,null,&quot;456@qq.com&quot;,3));</code>
<ul>
<li><img src="/img/Java/12MyBatis/%E5%A2%9E%E5%88%A0%E6%94%B9%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C1.png" alt="" /></li>
</ul>
</li>
<li><code>updateByPrimaryKeySelective()</code>ï¼šé€šè¿‡ä¸»é”®è¿›è¡Œé€‰æ‹©æ€§æ•°æ®ä¿®æ”¹ï¼Œå¦‚æœæŸä¸ªå€¼ä¸ºnullï¼Œåˆ™ä¸ä¿®æ”¹è¿™ä¸ªå­—æ®µ</li>
<li><code>mapper.updateByPrimaryKeySelective(new Emp(2,&quot;admin2&quot;,22,null,&quot;456@qq.com&quot;,3));</code>
<ul>
<li><img src="/img/Java/12MyBatis/%E5%A2%9E%E5%88%A0%E6%94%B9%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C2.png" alt="" /></li>
</ul>
</li>
</ul>
<h1 id="åˆ†é¡µæ’ä»¶"><a class="markdownIt-Anchor" href="#åˆ†é¡µæ’ä»¶"></a> åˆ†é¡µæ’ä»¶</h1>
<h2 id="åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤"><a class="markdownIt-Anchor" href="#åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤"></a> åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤</h2>
<h3 id="æ·»åŠ ä¾èµ–-2"><a class="markdownIt-Anchor" href="#æ·»åŠ ä¾èµ–-2"></a> æ·»åŠ ä¾èµ–</h3>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®åˆ†é¡µæ’ä»¶"><a class="markdownIt-Anchor" href="#é…ç½®åˆ†é¡µæ’ä»¶"></a> é…ç½®åˆ†é¡µæ’ä»¶</h3>
<ul>
<li>åœ¨MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆmybatis-config.xmlï¼‰ä¸­é…ç½®æ’ä»¶</li>
<li><img src="/img/Java/12MyBatis/%E9%85%8D%E7%BD%AE%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6.png" alt="" /></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--è®¾ç½®åˆ†é¡µæ’ä»¶--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨"></a> åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨</h2>
<h3 id="å¼€å¯åˆ†é¡µåŠŸèƒ½"><a class="markdownIt-Anchor" href="#å¼€å¯åˆ†é¡µåŠŸèƒ½"></a> å¼€å¯åˆ†é¡µåŠŸèƒ½</h3>
<ul>
<li>åœ¨æŸ¥è¯¢åŠŸèƒ½ä¹‹å‰ä½¿ç”¨<code>PageHelper.startPage(int pageNum, int pageSize)</code>å¼€å¯åˆ†é¡µåŠŸèƒ½</li>
<li>pageNumï¼šå½“å‰é¡µçš„é¡µç 
<ul>
<li>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPageHelper</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	<span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">	<span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">	<span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(is);</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession(<span class="literal">true</span>);</span><br><span class="line">	<span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">	<span class="comment">//è®¿é—®ç¬¬ä¸€é¡µï¼Œæ¯é¡µå››æ¡æ•°æ®</span></span><br><span class="line">	PageHelper.startPage(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line">	List&lt;Emp&gt; emps = mapper.selectByExample(<span class="literal">null</span>);</span><br><span class="line">	emps.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/12MyBatis/%E5%88%86%E9%A1%B5%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.png" alt="" /></p>
<h3 id="åˆ†é¡µç›¸å…³æ•°æ®"><a class="markdownIt-Anchor" href="#åˆ†é¡µç›¸å…³æ•°æ®"></a> åˆ†é¡µç›¸å…³æ•°æ®</h3>
<h4 id="æ–¹æ³•ä¸€ç›´æ¥è¾“å‡º"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€ç›´æ¥è¾“å‡º"></a> æ–¹æ³•ä¸€ï¼šç›´æ¥è¾“å‡º</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPageHelper</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	<span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">	<span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">	<span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(is);</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession(<span class="literal">true</span>);</span><br><span class="line">	<span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">	<span class="comment">//è®¿é—®ç¬¬ä¸€é¡µï¼Œæ¯é¡µå››æ¡æ•°æ®</span></span><br><span class="line">	Page&lt;Object&gt; page = PageHelper.startPage(<span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">	List&lt;Emp&gt; emps = mapper.selectByExample(<span class="literal">null</span>);</span><br><span class="line">	<span class="comment">//åœ¨æŸ¥è¯¢åˆ°Listé›†åˆåï¼Œæ‰“å°åˆ†é¡µæ•°æ®</span></span><br><span class="line">	System.out.println(page);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>åˆ†é¡µç›¸å…³æ•°æ®ï¼š</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Page&#123;count=true, pageNum=1, pageSize=4, startRow=0, endRow=4, total=8, pages=2, reasonable=false, pageSizeZero=false&#125;[Emp&#123;eid=1, empName=&#x27;admin&#x27;, age=22, sex=&#x27;ç”·&#x27;, email=&#x27;456@qq.com&#x27;, did=3&#125;, Emp&#123;eid=2, empName=&#x27;admin2&#x27;, age=22, sex=&#x27;ç”·&#x27;, email=&#x27;456@qq.com&#x27;, did=3&#125;, Emp&#123;eid=3, empName=&#x27;ç‹äº”&#x27;, age=12, sex=&#x27;å¥³&#x27;, email=&#x27;123@qq.com&#x27;, did=3&#125;, Emp&#123;eid=4, empName=&#x27;èµµå…­&#x27;, age=32, sex=&#x27;ç”·&#x27;, email=&#x27;123@qq.com&#x27;, did=1&#125;]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="æ–¹æ³•äºŒä½¿ç”¨pageinfo"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒä½¿ç”¨pageinfo"></a> æ–¹æ³•äºŒä½¿ç”¨PageInfo</h4>
<ul>
<li>åœ¨æŸ¥è¯¢è·å–listé›†åˆä¹‹åï¼Œä½¿ç”¨<code>PageInfo&lt;T&gt; pageInfo = new PageInfo&lt;&gt;(List&lt;T&gt; list, intnavigatePages)</code>è·å–åˆ†é¡µç›¸å…³æ•°æ®</li>
<li>listï¼šåˆ†é¡µä¹‹åçš„æ•°æ®
<ul>
<li>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPageHelper</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	<span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">	<span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">	<span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(is);</span><br><span class="line">	<span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession(<span class="literal">true</span>);</span><br><span class="line">	<span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">	PageHelper.startPage(<span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">	List&lt;Emp&gt; emps = mapper.selectByExample(<span class="literal">null</span>);</span><br><span class="line">	PageInfo&lt;Emp&gt; page = <span class="keyword">new</span> <span class="title class_">PageInfo</span>&lt;&gt;(emps,<span class="number">5</span>);</span><br><span class="line">	System.out.println(page);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>åˆ†é¡µç›¸å…³æ•°æ®ï¼š</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PageInfo&#123;</span><br><span class="line">pageNum=1, pageSize=4, size=4, startRow=1, endRow=4, total=8, pages=2, </span><br><span class="line">list=Page&#123;count=true, pageNum=1, pageSize=4, startRow=0, endRow=4, total=8, pages=2, reasonable=false, pageSizeZero=false&#125;[Emp&#123;eid=1, empName=&#x27;admin&#x27;, age=22, sex=&#x27;ç”·&#x27;, email=&#x27;456@qq.com&#x27;, did=3&#125;, Emp&#123;eid=2, empName=&#x27;admin2&#x27;, age=22, sex=&#x27;ç”·&#x27;, email=&#x27;456@qq.com&#x27;, did=3&#125;, Emp&#123;eid=3, empName=&#x27;ç‹äº”&#x27;, age=12, sex=&#x27;å¥³&#x27;, email=&#x27;123@qq.com&#x27;, did=3&#125;, Emp&#123;eid=4, empName=&#x27;èµµå…­&#x27;, age=32, sex=&#x27;ç”·&#x27;, email=&#x27;123@qq.com&#x27;, did=1&#125;], </span><br><span class="line">prePage=0, nextPage=2, isFirstPage=true, isLastPage=false, hasPreviousPage=false, hasNextPage=true, navigatePages=5, navigateFirstPage=1, navigateLastPage=2, navigatepageNums=[1, 2]&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å…¶ä¸­listä¸­çš„æ•°æ®ç­‰åŒäºæ–¹æ³•ä¸€ä¸­ç›´æ¥è¾“å‡ºçš„pageæ•°æ®</p>
</li>
</ul>
<h4 id="å¸¸ç”¨æ•°æ®"><a class="markdownIt-Anchor" href="#å¸¸ç”¨æ•°æ®"></a> å¸¸ç”¨æ•°æ®ï¼š</h4>
<ul>
<li>pageNumï¼šå½“å‰é¡µçš„é¡µç </li>
<li>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li>
<li>sizeï¼šå½“å‰é¡µæ˜¾ç¤ºçš„çœŸå®æ¡æ•°</li>
<li>totalï¼šæ€»è®°å½•æ•°</li>
<li>pagesï¼šæ€»é¡µæ•°</li>
<li>prePageï¼šä¸Šä¸€é¡µçš„é¡µç </li>
<li>nextPageï¼šä¸‹ä¸€é¡µçš„é¡µç </li>
<li>isFirstPage/isLastPageï¼šæ˜¯å¦ä¸ºç¬¬ä¸€é¡µ/æœ€åä¸€é¡µ</li>
<li>hasPreviousPage/hasNextPageï¼šæ˜¯å¦å­˜åœ¨ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µ</li>
<li>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</li>
<li>navigatepageNumsï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç ï¼Œ[1,2,3,4,5]</li>
</ul>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>é˜¶æ®µ3</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Spring</tag>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title>SSMé…ç½®æ–‡ä»¶</title>
    <url>/2022/10/25/JAVA/14SSM_CRUD/</url>
    <content><![CDATA[<h2 id="å¯¼å…¥åŒ…"><a class="markdownIt-Anchor" href="#å¯¼å…¥åŒ…"></a> å¯¼å…¥åŒ…</h2>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.3.23<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span>  <span class="comment">&lt;!-- è®¾ç½®springç‰ˆæœ¬ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- springMVC --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- spring è¿æ¥æ•°æ®åº“ï¼Œäº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç®¡ç†åˆ‡é¢ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aspects --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- MyBatisæ ¸å¿ƒ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- mybatisæ•´åˆspringçš„ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis-spring --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.14<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æµ‹è¯•ï¼Œmysqlé©±åŠ¨ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.31<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- log4jæ—¥å¿— --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- pagehelperåˆ†é¡µæ’ä»¶ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ—¥å¿— --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- servlet-api --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¤„ç†jsonæ•°æ®çš„ä¾èµ– --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å®ç°æ–‡ä»¶ä¸Šä¼ çš„ä¾èµ– --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- spring5å’Œthymeleafæ•´åˆåŒ… --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.thymeleaf/thymeleaf-spring5 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.thymeleaf<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thymeleaf-spring5<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.15.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- å†…å®¹å¯¼å‡ºä¸‹è½½ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="é…ç½®webxml"><a class="markdownIt-Anchor" href="#é…ç½®webxml"></a> é…ç½®<code>web.xml</code></h2>
<p>éœ€è¦é…ç½®çš„ä¸œè¥¿ï¼š</p>
<ul>
<li>é…ç½®springçš„ç¼–ç è¿‡æ»¤å™¨</li>
<li>é…ç½®å¤„ç†è¯·æ±‚æ–¹å¼çš„è¿‡æ»¤å™¨</li>
<li>é…ç½®springMVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServlet</li>
<li>é…ç½®Springçš„ç›‘å¬å™¨,åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½springçš„é…ç½®æ–‡ä»¶</li>
<li>è®¾ç½®springé…ç½®æ–‡ä»¶è‡ªå®šä¹‰çš„ä½ç½®å’Œåç§°</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®web.xml --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.é…ç½®springçš„ç¼–ç è¿‡æ»¤å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceResponseEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceRequestEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.å¤„ç†è¯·æ±‚æ–¹å¼çš„è¿‡æ»¤å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.é…ç½®springMVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServlet --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è®¾ç½®springMVCé…ç½®æ–‡ä»¶è‡ªå®šä¹‰çš„ä½ç½®å’Œåç§° --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springMVC.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å°†DispatcherServletçš„åˆå§‹åŒ–æ—¶é—´æå‰åˆ°æœåŠ¡å™¨å¯åŠ¨æ—¶ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 4.é…ç½®Springçš„ç›‘å¬å™¨,åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½springçš„é…ç½®æ–‡ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 5.è®¾ç½®springé…ç½®æ–‡ä»¶è‡ªå®šä¹‰çš„ä½ç½®å’Œåç§° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:spring.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="é…ç½®springmvcxml"><a class="markdownIt-Anchor" href="#é…ç½®springmvcxml"></a> é…ç½®<code>SpringMVC.xml</code></h2>
<p>åœ¨<code>resources/</code>ä¸‹åˆ›å»º<code>springMVC.xml</code>ã€‚æ–‡ä»¶åæœ‰è¦æ±‚ï¼Œè®¤çœŸçœ‹<code>web.xml</code>ä¸­çš„æ³¨é‡Š</p>
<p>éœ€è¦é…ç½®çš„ï¼š</p>
<ul>
<li>ç»„ä»¶æ‰«æï¼Œæ‰«ææ§åˆ¶å±‚</li>
<li>é…ç½®Thymeleafè§†å›¾è§£æå™¨</li>
<li>é…ç½®é»˜è®¤çš„servletå¤„ç†é™æ€èµ„æº</li>
<li>å¼€å¯mvcçš„æ³¨è§£é©±åŠ¨</li>
<li>è§†å›¾æ§åˆ¶å™¨</li>
<li>é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ç»„ä»¶æ‰«æï¼Œæ‰«ææ§åˆ¶å±‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xzt.ssm.controller&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®Thymeleafè§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;viewResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;order&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateEngine&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateResolver&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- è§†å›¾å‰ç¼€ --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/templates/&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- è§†å›¾åç¼€ --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.html&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateMode&quot;</span> <span class="attr">value</span>=<span class="string">&quot;HTML5&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®é»˜è®¤çš„servletå¤„ç†é™æ€èµ„æº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯mvcçš„æ³¨è§£é©±åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è§†å›¾æ§åˆ¶å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:view-controller</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">view-name</span>=<span class="string">&quot;index&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:view-controller</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;multipartResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="é…ç½®spring"><a class="markdownIt-Anchor" href="#é…ç½®spring"></a> é…ç½®Spring</h2>
<h3 id="åˆ›å»ºspringxml"><a class="markdownIt-Anchor" href="#åˆ›å»ºspringxml"></a> åˆ›å»º<code>spring.xml</code></h3>
<p>åœ¨<code>resources/</code>ç›®å½•ä¸‹åˆ›å»º<code>spring.xml</code>ã€‚æ–‡ä»¶åçœ‹<code>web.xml</code></p>
<p>éœ€è¦é…ç½®çš„ä¸œè¥¿ï¼š</p>
<ul>
<li>æ‰«æç»„ä»¶(æ§åˆ¶å±‚é™¤å¤–)ï¼Œé™¤æ§åˆ¶å±‚ä»¥å¤–çš„å…¶ä»–åŒ…</li>
<li>å¼•å…¥jdbc.properties å¹¶ é…ç½®æ•°æ®æº</li>
<li>é…ç½®äº‹åŠ¡ç®¡ç†å™¨</li>
<li>å¼€å¯äº‹åŠ¡çš„æ³¨è§£é©±åŠ¨</li>
<li>é…ç½®springæ•´åˆMyBatis</li>
<li>é…ç½®mapperæ‰«æ</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span> <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ‰«æç»„ä»¶(æ§åˆ¶å±‚é™¤å¤–)ï¼Œé™¤æ§åˆ¶å±‚ä»¥å¤–çš„å…¶ä»–åŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xzt.ssm&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼•å…¥jdbc.properties --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®æ•°æ®æº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        å¼€å¯äº‹åŠ¡çš„æ³¨è§£é©±åŠ¨</span></span><br><span class="line"><span class="comment">        å°†ä½¿ç”¨æ³¨è§£@Transactionalæ ‡è¯†çš„æ–¹æ³•æˆ–ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•è¿›è¡Œäº‹åŠ¡ç®¡ç†</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- springæ•´åˆmybatis --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®SqlSessionFactoryBean,å¯ä»¥ç›´æ¥åœ¨springçš„iocä¸­ç›´æ¥è·å–SqlSession --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è®¾ç½®mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„è·¯å¾„ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis-config.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è®¾ç½®æ•°æ®æºï¼Œè®¾ç½®äº†è¯¥é€‰é¡¹åï¼Œmybatis-config.xml æ–‡ä»¶ä¸­çš„æ•°æ®æºå°±å¯ä»¥ä¸è¦äº† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è®¾ç½®ç±»å‹åˆ«åæ‰€å¯¹åº”çš„åŒ…ï¼ŒåŒæ ·åœ¨ mybatis-config.xml æ–‡ä»¶ä¸­çš„typeAliaseså°±å¯ä»¥ä¸è¦äº†--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;typeAliasesPackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.xzt.ssm.pojo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            è®¾ç½®æ˜ å°„æ–‡ä»¶ï¼ŒåŒæ ·åœ¨ mybatis-config.xml æ–‡ä»¶ä¸­çš„mapperså°±å¯ä»¥ä¸è¦äº†</span></span><br><span class="line"><span class="comment">            åªæœ‰æ˜ å°„æ–‡ä»¶çš„åŒ…å’Œmapperæ¥å£çš„åŒ…ä¸ä¸€è‡´æ—¶éœ€è¦è®¾ç½®</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        mapperæ‰«æï¼Œæ‰«æmapperæ¥å£ã€‚</span></span><br><span class="line"><span class="comment">        é…ç½®mapperæ¥å£çš„æ‰«æï¼Œå¯ä»¥å°†æŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰mapperæ¥å£é€šè¿‡sqlSessionåˆ›å»ºä»£ç†å¯¹è±¡ï¼Œå¹¶å°†è¿™äº›å¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†</span></span><br><span class="line"><span class="comment">        å°±å¯ä»¥åœ¨serviceä¸­ç›´æ¥è£…é…mapperå¯¹è±¡äº†</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.xzt.ssm.mapper&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="éœ€è¦ç”¨åˆ°æ•°æ®åº“é©±åŠ¨"><a class="markdownIt-Anchor" href="#éœ€è¦ç”¨åˆ°æ•°æ®åº“é©±åŠ¨"></a> éœ€è¦ç”¨åˆ°æ•°æ®åº“é©±åŠ¨</h3>
<p>åœ¨<code>resources/</code>ç›®å½•ä¸‹åˆ›å»º<code>jdbc.properties</code></p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/ssm?serverTimezone=UTC</span></span><br><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®log4j"><a class="markdownIt-Anchor" href="#é…ç½®log4j"></a> é…ç½®log4j</h3>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">log4j</span>:configuration <span class="keyword">SYSTEM</span> <span class="string">&quot;log4j.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">log4j:configuration</span> <span class="attr">xmlns:log4j</span>=<span class="string">&quot;http://jakarta.apache.org/log4j/&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.apache.log4j.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;Encoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;org.apache.log4j.PatternLayout&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;ConversionPattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;%-5p %d&#123;MM-dd HH:mm:ss,SSS&#125; %m (%F:%L) \n&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;java.sql&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">level</span> <span class="attr">value</span>=<span class="string">&quot;debug&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;org.apache.ibatis&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">level</span> <span class="attr">value</span>=<span class="string">&quot;info&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">level</span> <span class="attr">value</span>=<span class="string">&quot;debug&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;STDOUT&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">log4j:configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="é…ç½®mybatiså’Œmybatisé€†å‘å·¥ç¨‹"><a class="markdownIt-Anchor" href="#é…ç½®mybatiså’Œmybatisé€†å‘å·¥ç¨‹"></a> é…ç½®MyBatiså’ŒMyBatisé€†å‘å·¥ç¨‹</h2>
<h3 id="é…ç½®mybatis"><a class="markdownIt-Anchor" href="#é…ç½®mybatis"></a> é…ç½®MyBatis</h3>
<p>åœ¨<code>resources/</code>ç›®å½•ä¸‹åˆ›å»º<code>mybatis-config.xml</code>ï¼Œè¿›è¡Œmybatisé…ç½®ã€‚</p>
<p>ç»å¤§éƒ¨åˆ†å†…å®¹éƒ½åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®è¿‡äº†ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è®¾ç½®å…¨å±€é…ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å°†è¡¨ä¸­å­—æ®µçš„ä¸‹åˆ’çº¿è‡ªåŠ¨è½¬æ¢ä¸ºé©¼å³°--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®åˆ†é¡µæ’ä»¶,åŒæ ·ä¹Ÿå¯ä»¥åœ¨spring.xmlä¸­é…ç½® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®mybatisé€†å‘å·¥ç¨‹å¯ä»¥æ‰‹å†™"><a class="markdownIt-Anchor" href="#é…ç½®mybatisé€†å‘å·¥ç¨‹å¯ä»¥æ‰‹å†™"></a> é…ç½®MyBatisé€†å‘å·¥ç¨‹ğŸ’¡å¯ä»¥æ‰‹å†™</h3>
<p>è°ƒç”¨é€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ç”Ÿæˆæ•°æ®åº“ä¸­è¡¨å¯¹åº”çš„å®ä½“ç±»ã€å¯¹åº”çš„mapperæ¥å£ä»¥åŠé…ç½®æ–‡ä»¶ã€‚</p>
<p>åœ¨<code>src/</code>ç›®å½•ä¸‹åˆ›å»º<code>mbg.xml</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span> <span class="keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é€†å‘å·¥ç¨‹ç”Ÿæˆå®ä½“ç±»å’Œdaoæ¥å£ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;DB2Tables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- ç”Ÿæˆçš„ç±»ã€æ¥å£ã€é…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰æ³¨é‡Š --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®æ•°æ®åº“è¿æ¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/ssm_crud&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;qqy.2520&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šjavaBeanç”Ÿæˆçš„ä½ç½® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.xzt.crud.bean&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;./src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šsqlæ˜ å°„æ–‡ä»¶ç”Ÿæˆçš„ä½ç½® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;./src/main/resources&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šdaoæ¥å£ç”Ÿæˆçš„ä½ç½® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.xzt.crud.dao&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;./src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šæ¯ä¸ªè¡¨çš„ç”Ÿæˆèµ„æ–™ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_emp&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Employee&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_dept&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Department&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="è°ƒç”¨mybatisé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#è°ƒç”¨mybatisé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶"></a> è°ƒç”¨mybatisé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* è°ƒç”¨é…ç½®æ–‡ä»¶é€†å‘å·¥ç¨‹ç”Ÿæˆå®ä½“ç±»å’Œæ¥å£å’Œé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment">* <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    List&lt;String&gt; warnings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">overwrite</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="type">File</span> <span class="variable">configFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/mbg.xml&quot;</span>);</span><br><span class="line">    <span class="type">ConfigurationParser</span> <span class="variable">cp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConfigurationParser</span>(warnings);</span><br><span class="line">    <span class="type">Configuration</span> <span class="variable">config</span> <span class="operator">=</span> cp.parseConfiguration(configFile);</span><br><span class="line">    <span class="type">DefaultShellCallback</span> <span class="variable">callback</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultShellCallback</span>(overwrite);</span><br><span class="line">    <span class="type">MyBatisGenerator</span> <span class="variable">myBatisGenerator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyBatisGenerator</span>(config, callback, warnings);</span><br><span class="line">    myBatisGenerator.generate(<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="14SSM_CRUD/image-20221026155853567.png" alt="image-20221026155853567" /></p>
]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>SSM</tag>
      </tags>
  </entry>
  <entry>
    <title>Git</title>
    <url>/2022/10/27/JAVA/15Git/</url>
    <content><![CDATA[<h1 id="git-å¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#git-å¸¸ç”¨å‘½ä»¤"></a> Git å¸¸ç”¨å‘½ä»¤</h1>
<h2 id="è®¾ç½®ç”¨æˆ·ç­¾å"><a class="markdownIt-Anchor" href="#è®¾ç½®ç”¨æˆ·ç­¾å"></a> è®¾ç½®ç”¨æˆ·ç­¾å</h2>
<ul>
<li><code>git config --global user.name ç”¨æˆ·å</code> è®¾ç½®å…¨å±€ç”¨æˆ·å</li>
<li><code>git config --global user.email é‚®ç®±</code>  è®¾ç½®å…¨å±€é‚®ç®±</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼Œè¿™é‡Œè®¾ç½®çš„ç”¨æˆ·ç­¾åå’Œå°†æ¥ç™»å½•GitHubï¼ˆæˆ–è€…å…¶ä»–ä»£ç æ‰˜ç®¡ä¸­å¿ƒï¼‰çš„è´¦å·æ²¡æœ‰ä»»ä½•å…³ç³»</p>
</blockquote>
<h2 id="åˆå§‹åŒ–æœ¬åœ°åº“"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–æœ¬åœ°åº“"></a> åˆå§‹åŒ–æœ¬åœ°åº“</h2>
<p>åŸºæœ¬è¯­æ³•ï¼š</p>
<ul>
<li><code>git init</code></li>
</ul>
<p>åœ¨ç›¸åº”ç›®å½•ä¸‹ä¼šç”Ÿæˆ<code>.git</code>ç›®å½•</p>
<h2 id="æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€"></a> æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€</h2>
<p><code>git status</code></p>
<h2 id="æ·»åŠ æš‚å­˜åŒº"><a class="markdownIt-Anchor" href="#æ·»åŠ æš‚å­˜åŒº"></a> æ·»åŠ æš‚å­˜åŒº</h2>
<p><code>git add .</code></p>
<h2 id="æäº¤æœ¬åœ°åº“"><a class="markdownIt-Anchor" href="#æäº¤æœ¬åœ°åº“"></a> æäº¤æœ¬åœ°åº“</h2>
<p><code>git commit -m &quot;è§£é‡Š&quot;</code></p>
<h2 id="å†å²ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#å†å²ç‰ˆæœ¬"></a> å†å²ç‰ˆæœ¬</h2>
<h3 id="æŸ¥çœ‹å†å²ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹å†å²ç‰ˆæœ¬"></a> æŸ¥çœ‹å†å²ç‰ˆæœ¬</h3>
<ul>
<li><code>git reflog</code> æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯</li>
<li><code>git log</code> æŸ¥çœ‹ç‰ˆæœ¬è¯¦ç»†ä¿¡æ¯</li>
</ul>
<h3 id="ç©¿æ¢­å†å²ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#ç©¿æ¢­å†å²ç‰ˆæœ¬"></a> ç©¿æ¢­å†å²ç‰ˆæœ¬</h3>
<p><code>git reset --hard ç‰ˆæœ¬å·</code></p>
<h1 id="git-åˆ†æ”¯æ“ä½œ"><a class="markdownIt-Anchor" href="#git-åˆ†æ”¯æ“ä½œ"></a> Git åˆ†æ”¯æ“ä½œ</h1>
<h2 id="ä»€ä¹ˆæ˜¯åˆ†æ”¯"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯åˆ†æ”¯"></a> ä»€ä¹ˆæ˜¯åˆ†æ”¯</h2>
<p>â€‹		åœ¨ç‰ˆæœ¬æ§åˆ¶è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶æ¨è¿›å¤šä¸ªä»»åŠ¡ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºæ¯ä¸ªä»»åŠ¡çš„å•ç‹¬åˆ†æ”¯ã€‚ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ç¨‹åºå‘˜å¯ä»¥æŠŠè‡ªå·±çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œå¼€å‘è‡ªå·±åˆ†æ”¯çš„æ—¶å€™ï¼Œä¸ä¼šå½±å“ä¸»çº¿åˆ†æ”¯çš„è¿è¡Œã€‚</p>
<h2 id="åˆ†æ”¯çš„å¥½å¤„"><a class="markdownIt-Anchor" href="#åˆ†æ”¯çš„å¥½å¤„"></a> åˆ†æ”¯çš„å¥½å¤„</h2>
<p>åŒæ—¶å¹¶è¡Œæ¨è¿›å¤šä¸ªåŠŸèƒ½å¼€å‘ï¼Œæé«˜æ•ˆç‡ã€‚</p>
<p>å„ä¸ªåˆ†æ”¯åœ¨å¼€å‘ä¸­äº’ä¸å½±å“ã€‚</p>
<h2 id="åˆ†æ”¯çš„æ“ä½œ"><a class="markdownIt-Anchor" href="#åˆ†æ”¯çš„æ“ä½œ"></a> åˆ†æ”¯çš„æ“ä½œ</h2>
<h3 id="æŸ¥çœ‹åˆ†æ”¯"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹åˆ†æ”¯"></a> æŸ¥çœ‹åˆ†æ”¯</h3>
<p><code>git branch -v</code></p>
<h3 id="åˆ›å»ºåˆ†æ”¯"><a class="markdownIt-Anchor" href="#åˆ›å»ºåˆ†æ”¯"></a> åˆ›å»ºåˆ†æ”¯</h3>
<p><code>git branch åˆ†æ”¯å</code></p>
<h3 id="ä¿®æ”¹åˆ†æ”¯"><a class="markdownIt-Anchor" href="#ä¿®æ”¹åˆ†æ”¯"></a> ä¿®æ”¹åˆ†æ”¯</h3>
<p>ä¿®æ”¹ååªå¯¹æœ¬åˆ†æ”¯çš„å†…å®¹å½±å“</p>
<h3 id="åˆ‡æ¢åˆ†æ”¯"><a class="markdownIt-Anchor" href="#åˆ‡æ¢åˆ†æ”¯"></a> åˆ‡æ¢åˆ†æ”¯</h3>
<p><code>git checkout åˆ†æ”¯å</code></p>
<h3 id="åˆå¹¶åˆ†æ”¯"><a class="markdownIt-Anchor" href="#åˆå¹¶åˆ†æ”¯"></a> åˆå¹¶åˆ†æ”¯</h3>
<p>å…ˆåˆ‡æ¢å›masteråˆ†æ”¯ä¸Š</p>
<p><code>git merge å¦ä¸€ä¸ªåˆ†æ”¯å</code> ï¼šå°†å¦ä¸€ä¸ªåˆ†æ”¯çš„å†…å®¹åˆå¹¶åˆ°masteråˆ†æ”¯ä¸Šã€‚</p>
<h3 id="äº§ç”Ÿå†²çª"><a class="markdownIt-Anchor" href="#äº§ç”Ÿå†²çª"></a> äº§ç”Ÿå†²çª</h3>
<p>åˆå¹¶åˆ†æ”¯æ—¶ï¼Œä¸¤ä¸ªåˆ†æ”¯åœ¨ <strong>åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä¸ªä½ç½®</strong> æœ‰ä¸¤å¥—å®Œå…¨ä¸åŒçš„ä¿®æ”¹ã€‚Gitæ— æ³•æ›¿æˆ‘ä»¬å†³å®šä½¿ç”¨å“ªä¸€ä¸ªæ—¶ï¼Œé¡»è¦äººä¸ºå†³å®šæ–°ä»£ç çš„å†…å®¹ã€‚</p>
<ul>
<li>æ‰‹åŠ¨ä¿®æ”¹äº§ç”Ÿå†²çªçš„æ–‡ä»¶å¹¶ä¿å­˜ã€‚</li>
<li>ç„¶åå†æ¬¡æ‰§è¡Œä¸€é<code>git add .; git commit -m &quot;æ³¨é‡Š&quot;;</code></li>
</ul>
<h1 id="git-å›¢é˜Ÿåä½œæœºåˆ¶"><a class="markdownIt-Anchor" href="#git-å›¢é˜Ÿåä½œæœºåˆ¶"></a> Git å›¢é˜Ÿåä½œæœºåˆ¶</h1>
<h2 id="å›¢é˜Ÿå†…å†™ä½œ"><a class="markdownIt-Anchor" href="#å›¢é˜Ÿå†…å†™ä½œ"></a> å›¢é˜Ÿå†…å†™ä½œ</h2>
<ul>
<li><code>git push</code> æ¨é€åˆ°ä»£ç æ‰˜ç®¡ä¸­å¿ƒ</li>
<li><code>git clone</code> å¤åˆ¶åˆ°è‡ªå·±çš„æœ¬åœ°åº“ä¸­ã€‚</li>
<li><code>git pull</code> æ‹‰å–ä¿®æ”¹åçš„ä»£ç </li>
</ul>
<h2 id="è·¨å›¢é˜Ÿåä½œ"><a class="markdownIt-Anchor" href="#è·¨å›¢é˜Ÿåä½œ"></a> è·¨å›¢é˜Ÿåä½œ</h2>
<ul>
<li><code>git fork</code></li>
<li><code>git clone</code></li>
<li><code>git merge</code></li>
</ul>
<h1 id="github-æ“ä½œ"><a class="markdownIt-Anchor" href="#github-æ“ä½œ"></a> GitHub æ“ä½œ</h1>
<h2 id="è¿œç¨‹ä»“åº“æ“ä½œ"><a class="markdownIt-Anchor" href="#è¿œç¨‹ä»“åº“æ“ä½œ"></a> è¿œç¨‹ä»“åº“æ“ä½œ</h2>
<h3 id="åˆ›å»ºè¿œç¨‹ä»“åº“åˆ«å"><a class="markdownIt-Anchor" href="#åˆ›å»ºè¿œç¨‹ä»“åº“åˆ«å"></a> åˆ›å»ºè¿œç¨‹ä»“åº“åˆ«å</h3>
<p>åŸºæœ¬è¯­æ³•</p>
<ul>
<li><code>git remote -v</code> æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿œç¨‹åœ°å€åˆ«å</li>
<li><code>git remote add åˆ«å httpsè¿œç¨‹åœ°å€</code> åˆ›å»ºåˆ«å</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git remote add origin https://github.com/aaaatopos/git-demo.git</span><br></pre></td></tr></table></figure>
<h3 id="æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“"><a class="markdownIt-Anchor" href="#æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“"></a> æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</h3>
<p><code>git push åˆ«å åˆ†æ”¯å</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<h3 id="æ‹‰å–æœ¬åœ°åº“åˆ°æœ¬åœ°"><a class="markdownIt-Anchor" href="#æ‹‰å–æœ¬åœ°åº“åˆ°æœ¬åœ°"></a> æ‹‰å–æœ¬åœ°åº“åˆ°æœ¬åœ°</h3>
<p><code>git pull åˆ«å åˆ†æ”¯å</code></p>
<h3 id="å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°"><a class="markdownIt-Anchor" href="#å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°"></a> å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°</h3>
<p>å…‹éš†<code>public</code>ä»“åº“çš„ä»£ç ä¸éœ€è¦ç™»å½•è´¦å·</p>
<p><code>git clone httpsè¿œç¨‹åœ°å€</code></p>
<p>å…‹éš†ä¼šåšå¦‚ä¸‹æ“ä½œï¼š1ã€æ‹‰å–ä»£ç  ã€‚2ã€åˆå§‹åŒ–æœ¬åœ°ä»“åº“ã€‚3ã€åˆ›å»ºåˆ«åï¼ˆoriginï¼‰</p>
<h3 id="å›¢é˜Ÿåä½œ"><a class="markdownIt-Anchor" href="#å›¢é˜Ÿåä½œ"></a> å›¢é˜Ÿåä½œ</h3>
<p>éœ€è¦å°†å°ç»„æˆå‘˜åŠ å…¥åˆ°è¿œç¨‹ä»£ç ä»“åº“ï¼Œæ‰èƒ½å¤Ÿæœ‰æƒé™ã€‚</p>
<p><img src="15Git/image-20221026204128926.png" alt="image-20221026204128926" /></p>
<h2 id="ssh-å…å¯†ç™»å½•"><a class="markdownIt-Anchor" href="#ssh-å…å¯†ç™»å½•"></a> SSH å…å¯†ç™»å½•</h2>
<ul>
<li>ä½¿ç”¨<code>ssh-keygen -t rsa -C githubé‚®ç®±åœ°å€</code> ä¼šåœ¨ç”µè„‘çš„ç”¨æˆ·ç›®å½•ä¸‹ç”Ÿæˆ<code>.ssh/</code>ç›®å½•ã€‚</li>
<li>å¤åˆ¶<code>.ssh</code>ç›®å½•é‡Œå…¬é’¥é‡Œé¢çš„å†…å®¹ <code>id_rsa.pub</code>ï¼Œç²˜è´´åˆ°å¯¹åº”ä½ç½®å³å¯</li>
</ul>
<p><img src="15Git/image-20221026204631799.png" alt="image-20221026204631799" /></p>
<h1 id="idea-é›†æˆ-git"><a class="markdownIt-Anchor" href="#idea-é›†æˆ-git"></a> IDEA é›†æˆ Git</h1>
<h2 id="é…ç½®gitå¿½ç•¥æ–‡ä»¶"><a class="markdownIt-Anchor" href="#é…ç½®gitå¿½ç•¥æ–‡ä»¶"></a> é…ç½®Gitå¿½ç•¥æ–‡ä»¶</h2>
<ul>
<li>
<p>åˆ›å»º<code>.ignore</code>æ–‡ä»¶ã€‚å»ºè®®æ˜¯<code>git.ignore</code>ã€‚å»ºè®®æ”¾åœ¨ç”¨æˆ·çš„å®¶ç›®å½•ä¸‹ã€‚</p>
</li>
<li>
<p>ç„¶åå†<code>.gitconfig</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ã€‚éœ€è¦ä½¿ç”¨æ­£æ–œçº¿</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">[core]</span><br><span class="line">	excludesfile = C:/Users/17741/git.ignore</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æ¨¡æ¿</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Compiled class file</span><br><span class="line">*.class</span><br><span class="line"></span><br><span class="line"># Log file</span><br><span class="line">*.log</span><br><span class="line"></span><br><span class="line"># BlueJ files</span><br><span class="line">*.ctxt</span><br><span class="line"></span><br><span class="line"># Mobile Tools for Java (</span><br><span class="line">.mtj.</span><br><span class="line"></span><br><span class="line"># Package Files</span><br><span class="line">*.jar</span><br><span class="line">*.war</span><br><span class="line">*.nar</span><br><span class="line">*.ear</span><br><span class="line">*.zip</span><br><span class="line">*.tar.gz</span><br><span class="line">*.rar</span><br><span class="line"></span><br><span class="line"># virtual machine crash logs, see</span><br><span class="line">http://www.java.com/en/download/help/error_hotspot.xml</span><br><span class="line">hs_err_pid*</span><br><span class="line"></span><br><span class="line">.classpath</span><br><span class="line">.project</span><br><span class="line">.settings</span><br><span class="line">target</span><br><span class="line">.idea</span><br><span class="line">*.iml</span><br></pre></td></tr></table></figure>
<h2 id="å®šä½gitç¨‹åº"><a class="markdownIt-Anchor" href="#å®šä½gitç¨‹åº"></a> å®šä½Gitç¨‹åº</h2>
<p><code>file -&gt; setting -&gt; version control -&gt; Git</code></p>
<p><img src="15Git/image-20221026210157243.png" alt="image-20221026210157243" /></p>
<h2 id="åˆå§‹åŒ–æœ¬åœ°ä»“åº“"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–æœ¬åœ°ä»“åº“"></a> åˆå§‹åŒ–æœ¬åœ°ä»“åº“</h2>
<p><img src="15Git/image-20221026210507046.png" alt="image-20221026210507046" /></p>
<h2 id="ä¸Šä¼ è‡³è¿œç¨‹ä»£ç ä»“åº“"><a class="markdownIt-Anchor" href="#ä¸Šä¼ è‡³è¿œç¨‹ä»£ç ä»“åº“"></a> ä¸Šä¼ è‡³è¿œç¨‹ä»£ç ä»“åº“</h2>
<p><img src="15Git/image-20221026210728603.png" alt="image-20221026210728603" /></p>
<h2 id="åˆ‡æ¢ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#åˆ‡æ¢ç‰ˆæœ¬"></a> åˆ‡æ¢ç‰ˆæœ¬</h2>
<p><img src="15Git/image-20221026211010703.png" alt="image-20221026211010703" /></p>
<h2 id="åˆ›å»ºåˆ†æ”¯-2"><a class="markdownIt-Anchor" href="#åˆ›å»ºåˆ†æ”¯-2"></a> åˆ›å»ºåˆ†æ”¯</h2>
<p><img src="15Git/image-20221026211112996.png" alt="image-20221026211112996" /></p>
<h2 id="åˆ‡æ¢åˆ†æ”¯-2"><a class="markdownIt-Anchor" href="#åˆ‡æ¢åˆ†æ”¯-2"></a> åˆ‡æ¢åˆ†æ”¯</h2>
<p><img src="15Git/image-20221026211433674.png" alt="image-20221026211433674" /></p>
<h2 id="åˆå¹¶åˆ†æ”¯-2"><a class="markdownIt-Anchor" href="#åˆå¹¶åˆ†æ”¯-2"></a> åˆå¹¶åˆ†æ”¯</h2>
<h3 id="æ­£å¸¸åˆå¹¶"><a class="markdownIt-Anchor" href="#æ­£å¸¸åˆå¹¶"></a> æ­£å¸¸åˆå¹¶</h3>
<p><img src="15Git/image-20221026211454034.png" alt="image-20221026211454034" /></p>
<h3 id="å†²çªåˆå¹¶"><a class="markdownIt-Anchor" href="#å†²çªåˆå¹¶"></a> å†²çªåˆå¹¶</h3>
<p>éœ€è¦æ‰‹åŠ¨åˆå¹¶ã€‚åˆå¹¶æˆåŠŸåä¼šç›´æ¥è‡ªåŠ¨æäº¤ã€‚</p>
<p><img src="15Git/image-20221026211709606.png" alt="image-20221026211709606" /></p>
<h1 id="idea-è¿æ¥-github"><a class="markdownIt-Anchor" href="#idea-è¿æ¥-github"></a> IDEA è¿æ¥ GitHub</h1>
<h2 id="ç™»å½•è´¦å·"><a class="markdownIt-Anchor" href="#ç™»å½•è´¦å·"></a> ç™»å½•è´¦å·</h2>
<p><img src="15Git/image-20221027092457165.png" alt="image-20221027092457165" /></p>
<p>åœ¨GitHubä¸­åˆ›å»ºToken</p>
<p><img src="15Git/image-20221027092313234.png" alt="image-20221027092313234" /></p>
<p>ç„¶åå¤åˆ¶tokenè‡³IDEAä¸­å³å¯ã€‚</p>
<h2 id="åˆ†äº«é¡¹ç›®åˆ°github"><a class="markdownIt-Anchor" href="#åˆ†äº«é¡¹ç›®åˆ°github"></a> åˆ†äº«é¡¹ç›®åˆ°GitHub</h2>
<p>å¯ä»¥åœ¨githubä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ã€‚</p>
<p><img src="15Git/image-20221027092722458.png" alt="image-20221027092722458" /></p>
<h2 id="pushæ¨é€åˆ°è¿œç¨‹ä»“åº“"><a class="markdownIt-Anchor" href="#pushæ¨é€åˆ°è¿œç¨‹ä»“åº“"></a> pushæ¨é€åˆ°è¿œç¨‹ä»“åº“</h2>
<p><img src="15Git/image-20221027092858453.png" alt="image-20221027092858453" /></p>
<p>ä½¿ç”¨Httpså¯èƒ½ä¼šå¤±è´¥ï¼Œéœ€è¦ä½¿ç”¨sshã€‚ç‚¹å‡»<code>orgin -&gt; define Remote</code></p>
<p><img src="15Git/image-20221027093208261.png" alt="image-20221027093208261" /></p>
<h1 id="å›½å†…ä»£ç æ‰˜ç®¡ä¸­å¿ƒ"><a class="markdownIt-Anchor" href="#å›½å†…ä»£ç æ‰˜ç®¡ä¸­å¿ƒ"></a> å›½å†…ä»£ç æ‰˜ç®¡ä¸­å¿ƒ</h1>
<h2 id="ç äº‘-gitee"><a class="markdownIt-Anchor" href="#ç äº‘-gitee"></a> ç äº‘ Gitee</h2>
<h3 id="åˆ›å»ºè¿œç¨‹ä»“åº“"><a class="markdownIt-Anchor" href="#åˆ›å»ºè¿œç¨‹ä»“åº“"></a> åˆ›å»ºè¿œç¨‹ä»“åº“</h3>
<p>ä¸»é¡µï¼š<a href="https://gitee.com/">https://gitee.com/</a></p>
<p>å’Œ GItHub æ“ä½œç›¸åŒ</p>
<h2 id="acgit"><a class="markdownIt-Anchor" href="#acgit"></a> AcGit</h2>
<p>ä¸»é¡µï¼š<a href="https://git.acwing.com/">https://git.acwing.com/</a></p>
<h1 id="gitlab"><a class="markdownIt-Anchor" href="#gitlab"></a> GitLab</h1>
<p>ä¸»é¡µï¼š<a href="https://about.gitlab.com/">https://about.gitlab.com/</a></p>
<p>å®‰è£…æ—¶éœ€è¦æœåŠ¡å™¨ã€‚</p>
]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis6</title>
    <url>/2022/11/01/JAVA/16Redis6/</url>
    <content><![CDATA[<h1 id="redis-æ¦‚è¿°"><a class="markdownIt-Anchor" href="#redis-æ¦‚è¿°"></a> Redis æ¦‚è¿°</h1>
<h2 id="ä»‹ç»"><a class="markdownIt-Anchor" href="#ä»‹ç»"></a> ä»‹ç»</h2>
<ul>
<li>Redis æ˜¯ä¸€ä¸ªå¼€æºçš„ key-value å­˜å‚¨ç³»ç»Ÿ</li>
<li>å’Œ Memcached ç±»ä¼¼ï¼Œå®ƒæ”¯æŒå­˜å‚¨çš„ value ç±»å‹ç›¸å¯¹æ›´å¤šï¼ŒåŒ…æ‹¬ string (å­—ç¬¦ä¸²)ã€list (é“¾è¡¨)ã€set (é›†åˆ)ã€zset (sorted set â€“æœ‰åºé›†åˆ) å’Œ hashï¼ˆå“ˆå¸Œç±»å‹ï¼‰ã€‚</li>
<li>è¿™äº›æ•°æ®ç±»å‹éƒ½æ”¯æŒ push/popã€add/remove åŠå–äº¤é›†å¹¶é›†å’Œå·®é›†åŠæ›´ä¸°å¯Œçš„æ“ä½œï¼Œè€Œä¸”è¿™äº›æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ã€‚</li>
<li>åœ¨æ­¤åŸºç¡€ä¸Šï¼ŒRedis æ”¯æŒå„ç§ä¸åŒæ–¹å¼çš„æ’åºã€‚</li>
<li>ä¸ memcached ä¸€æ ·ï¼Œä¸ºäº†ä¿è¯æ•ˆç‡ï¼Œæ•°æ®éƒ½æ˜¯ç¼“å­˜åœ¨å†…å­˜ä¸­ã€‚</li>
<li>åŒºåˆ«çš„æ˜¯ Redis ä¼šå‘¨æœŸæ€§çš„æŠŠæ›´æ–°çš„æ•°æ®å†™å…¥ç£ç›˜æˆ–è€…æŠŠä¿®æ”¹æ“ä½œå†™å…¥è¿½åŠ çš„è®°å½•æ–‡ä»¶ã€‚<br />
å¹¶ä¸”åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº† master-slave (ä¸»ä») åŒæ­¥ã€‚</li>
</ul>
<h2 id="åº”ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#åº”ç”¨åœºæ™¯"></a> åº”ç”¨åœºæ™¯</h2>
<p><strong>é…åˆå…³ç³»å‹æ•°æ®åº“åšé«˜é€Ÿç¼“å­˜</strong></p>
<ul>
<li>é«˜é¢‘æ¬¡ï¼Œçƒ­é—¨è®¿é—®çš„æ•°æ®ï¼Œé™ä½æ•°æ®åº“IOï¼›</li>
<li>åˆ†å¸ƒå¼æ¶æ„ï¼Œåšsessionå…±äº«ã€‚</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/zhangc233/pic@master/img/image-20210618160003509.png" alt="image-20210618160003509" /></p>
<p><strong>å¤šæ ·çš„æ•°æ®ç»“æ„å­˜å‚¨æŒä¹…åŒ–æ•°æ®</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhangc233/pic@master/img/image-20210618160101040.png" alt="image-20210618160101040" /></p>
<h2 id="ç›¸å…³æŠ€æœ¯"><a class="markdownIt-Anchor" href="#ç›¸å…³æŠ€æœ¯"></a> ç›¸å…³æŠ€æœ¯</h2>
<p><strong>Redis ä½¿ç”¨çš„æ˜¯å•çº¿ç¨‹ + å¤šè·¯ IO å¤ç”¨æŠ€æœ¯</strong>ï¼š</p>
<p>å¤šè·¯å¤ç”¨æ˜¯æŒ‡ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹æ¥æ£€æŸ¥å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ˆSocketï¼‰çš„å°±ç»ªçŠ¶æ€ï¼Œæ¯”å¦‚è°ƒç”¨ select å’Œ poll å‡½æ•°ï¼Œä¼ å…¥å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦å°±ç»ªï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™é˜»å¡ç›´åˆ°è¶…æ—¶ã€‚å¾—åˆ°å°±ç»ªçŠ¶æ€åè¿›è¡ŒçœŸæ­£çš„æ“ä½œå¯ä»¥åœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥å¯åŠ¨çº¿ç¨‹æ‰§è¡Œï¼ˆæ¯”å¦‚ä½¿ç”¨çº¿ç¨‹æ± ï¼‰ã€‚</p>
<p><strong>ä¸²è¡Œ vs å¤šçº¿ç¨‹ + é”ï¼ˆmemcachedï¼‰ vs å•çº¿ç¨‹ + å¤šè·¯ IO å¤ç”¨ (Redis)</strong>ï¼ˆä¸ Memcache ä¸‰ç‚¹ä¸åŒï¼šæ”¯æŒå¤šæ•°æ®ç±»å‹ï¼Œæ”¯æŒæŒä¹…åŒ–ï¼Œå•çº¿ç¨‹ + å¤šè·¯ IO å¤ç”¨ï¼‰ ã€‚</p>
<h2 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h2>
<p>Redis æ˜¯éœ€è¦å®‰è£…åœ¨Linuxç³»ç»Ÿä¸­ã€‚å¹¶ä¸”è¦æ±‚ç³»ç»Ÿä¸­éœ€è¦æœ‰Cè¯­è¨€çš„ç¯å¢ƒgccã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf redis-6.2.7.tar.gz  <span class="comment"># è§£å‹å‹ç¼©åŒ…ï¼Œå‹ç¼©åŒ…ä»ç³»ç»Ÿä¸­ä¸‹è½½</span></span><br><span class="line"><span class="built_in">cd</span> redis-6.2.7  <span class="comment"># è¿›å…¥è§£å‹åçš„ç›®å½•ä¸‹</span></span><br><span class="line">make  <span class="comment"># è¿›è¡Œç¼–è¯‘</span></span><br><span class="line">make install  <span class="comment"># è¿›è¡Œå®‰è£… é»˜è®¤å®‰è£…ç›®å½• /usr/local/bin</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#### Redis å‘½ä»¤</span></span><br><span class="line">redis-server <span class="comment"># å¯åŠ¨redisæœåŠ¡</span></span><br><span class="line">redis-cli <span class="comment"># é€šè¿‡å®¢æˆ·ç«¯è¿æ¥redis</span></span><br></pre></td></tr></table></figure>
<h1 id="redis-æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#redis-æ•°æ®ç±»å‹"></a> Redis æ•°æ®ç±»å‹</h1>
<h2 id="redis-å­—ç¬¦ä¸²string"><a class="markdownIt-Anchor" href="#redis-å­—ç¬¦ä¸²string"></a> Redis å­—ç¬¦ä¸²String</h2>
<h3 id="ç®€ä»‹"><a class="markdownIt-Anchor" href="#ç®€ä»‹"></a> ç®€ä»‹</h3>
<ul>
<li>String æ˜¯ Redis æœ€åŸºæœ¬çš„ç±»å‹ï¼Œä½ å¯ä»¥ç†è§£æˆä¸ Memcached ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚</li>
<li>String ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚æ„å‘³ç€ Redis çš„ string å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚ jpg å›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚</li>
<li>String ç±»å‹æ˜¯ Redis æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œä¸€ä¸ª Redis ä¸­å­—ç¬¦ä¸² value æœ€å¤šå¯ä»¥æ˜¯ 512Mã€‚</li>
</ul>
<h3 id="å¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#å¸¸ç”¨å‘½ä»¤"></a> å¸¸ç”¨å‘½ä»¤</h3>
<ul>
<li><code>set &lt;key&gt; &lt;value&gt;</code>ï¼šæ·»åŠ é”®å€¼å¯¹æŒ‡ä»¤</li>
<li><code>get &lt;key&gt;</code>ï¼šè·å–å¯¹åº”é”®çš„å€¼</li>
<li><code>append &lt;key&gt; &lt;value&gt;</code>ï¼šå°†ç»™å®šçš„valueè¿½åŠ åˆ°åŸå€¼çš„æœ«å°¾</li>
<li><code>strlen &lt;key&gt;</code>ï¼šè·å¾—å€¼çš„é•¿åº¦</li>
<li><code>setnx &lt;key&gt; &lt;value&gt;</code>ï¼šåªæœ‰åœ¨ä¸å­˜åœ¨æ—¶ï¼Œè®¾ç½®keyçš„å€¼</li>
<li><code>incr &lt;key&gt;</code>ï¼šå°†keyä¸­å­˜å‚¨çš„æ•°å­—åŠ 1ã€‚åªèƒ½å¯¹æ•°å­—è¿›è¡Œæ“ä½œã€‚</li>
<li><code>decr &lt;key&gt;</code>ï¼šå°†keyä¸­å­˜å‚¨çš„æ•°å­—å‡1ã€‚</li>
<li><code>incrby/decrby &lt;key&gt; &lt;æ­¥é•¿&gt;</code>ï¼šå°†keyä¸­å­˜å‚¨çš„æ•°å­—å¢å‡è‡ªå®šä¹‰çš„æ­¥é•¿ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu å®‰è£…Python3ä»¥åŠpip3</title>
    <url>/2022/06/08/Ubuntu/01installPythonAndPIP/</url>
    <content><![CDATA[<h2 id="åŸå› "><a class="markdownIt-Anchor" href="#åŸå› "></a> åŸå› </h2>
<p>Ubuntu 16.04 å®‰è£…åè‡ªå¸¦çš„æ˜¯ <code>Python2.7</code> å’Œ<code>Python3.5</code> ,å¦‚æœæœ‰å…¶ä»–ç‰ˆæœ¬éœ€è¦,æœ¬æ–‡ç« å°±æä¾›ä¸€ä¸ªä¸‹è½½å®‰è£…é…ç½®çš„æ–¹æ³•.</p>
<h2 id="ä¸‹è½½-python"><a class="markdownIt-Anchor" href="#ä¸‹è½½-python"></a> ä¸‹è½½ python</h2>
<p>å¯ä»¥åœ¨Pythonå®˜ç½‘é€‰æ‹©éœ€è¦çš„Pythonç‰ˆæœ¬ï¼Œæœ¬æ–‡ç« ä»¥<code>Python3.6.13</code>æ¥ä¸¾ä¾‹</p>
<p><a href="https://www.python.org/downloads/"> Pythonå®˜ç½‘ </a></p>
<p><img src="/img/Ubuntu/image-20220608162801384.png" alt="image-20220608162801384" /></p>
<p>ä¸‹è½½åç¼€æ˜¯ <code>.tgz</code> çš„è½¯ä»¶åŒ…ï¼Œä¸‹è½½å®Œæˆåå°†æ•°æ®åŒ…å¤åˆ¶åˆ°è‡ªå·±çš„Ubuntuä¸Šï¼Œå¯ä»¥ä½¿ç”¨ <code>Xftp</code> å‘é€æ•°æ®ï¼Œè¿™é‡Œä¸è¯¦ç»†è¯´.</p>
<p><img src="/img/Ubuntu/image-20220608162820549.png" alt="image-20220608162820549" /></p>
<p>åœ¨Ubuntuä¸Šå°†è½¯ä»¶åŒ…è¿›è¡Œè§£å‹,å¯ä»¥ä½¿ç”¨å‘½ä»¤,ä¹Ÿå¯ä»¥ç›´æ¥å³é”®è¿›è¡Œè§£å‹.</p>
<p><img src="/img/Ubuntu/image-20220613143027013.png" alt="image-20220613143027013" /></p>
<h2 id="é…ç½®pythonç¯å¢ƒ"><a class="markdownIt-Anchor" href="#é…ç½®pythonç¯å¢ƒ"></a> é…ç½®Pythonç¯å¢ƒ</h2>
<p>è¿›å…¥<code>Python</code>æ–‡ä»¶å¤¹ï¼Œåœ¨<code>/user/local/</code>ä¸‹åˆ›å»ºå®‰è£…ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> /usr/local/python3</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/image-20220613143313174.png" alt="image-20220613143313174" /></p>
<p>åœ¨ç¼–è¯‘å®‰è£…æºç å‰å…ˆè¿›è¡Œé…ç½®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./configure --prefix=/usr/local/python3 --with-ssl</span><br></pre></td></tr></table></figure>
<p><strong><img src="/img/Ubuntu/image-20220613143550505.png" alt="image-20220613143550505" /></strong></p>
<p>çœ‹åˆ°è¿™ä¸ªæ ·å­è¯´æ˜é…ç½®æˆåŠŸäº†</p>
<p><img src="/img/Ubuntu/image-20220613143725150.png" alt="image-20220613143725150" /></p>
<h2 id="ç¼–è¯‘å®‰è£…python"><a class="markdownIt-Anchor" href="#ç¼–è¯‘å®‰è£…python"></a> ç¼–è¯‘å®‰è£…Python</h2>
<p>ç„¶åå¼€å§‹ç¼–è¯‘å®‰è£…<code>Python3.6</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/image-20220613143837752.png" alt="image-20220613143837752" /></p>
<p>ç¼–è¯‘å®‰è£…ç»“æŸï¼Œæ­¤æ—¶å¯èƒ½ä¼šæŠ¥é”™ï¼Œå¦‚ä¸‹å›¾ï¼Œåˆ™éœ€è¦å®‰è£…<code>zlib*</code></p>
<p><img src="/img/Ubuntu/image-20220613144033166.png" alt="image-20220613144033166" /></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install zlib*</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/image-20220613144148137.png" alt="image-20220613144148137" /></p>
<p>å®‰è£…å®Œæˆåå†æ¬¡è¿›è¡Œå®‰è£…ç¼–è¯‘ï¼Œç¼–è¯‘å®Œæˆåå¯ä»¥çœ‹åˆ°æˆåŠŸäº†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/image-20220613144309700.png" alt="image-20220613144309700" /></p>
<h2 id="é“¾æ¥python3"><a class="markdownIt-Anchor" href="#é“¾æ¥python3"></a> é“¾æ¥Python3</h2>
<p>å°†ç³»ç»Ÿè‡ªå¸¦çš„<code>python3.5</code>å¤‡ä»½ä¸€ä»½</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mv</span> /usr/bin/python3 /usr/bin/python3_old</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/image-20220613144526729.png" alt="image-20220613144526729" /></p>
<p>å°†æ–°å®‰è£…çš„<code>python3.6</code>é“¾æ¥åˆ°<code>python3</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/python3/bin/python3.6 /usr/bin/python3</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/image-20220613144628712.png" alt="image-20220613144628712" /></p>
<p>å†æ¬¡æŸ¥çœ‹<code>python3</code>,å¯ä»¥çœ‹åˆ°<code>python3</code>å·²ç»æ˜¯<code>3.6.13</code>äº†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/image-20220613144828192.png" alt="image-20220613144828192" /></p>
<h2 id="é“¾æ¥pip3"><a class="markdownIt-Anchor" href="#é“¾æ¥pip3"></a> é“¾æ¥pip3</h2>
<p>åŒæ ·çš„æ–¹æ³•å°†<code>python3.6</code>è‡ªå¸¦çš„<code>pip3</code>é“¾æ¥åˆ°ç³»ç»Ÿä¸­çš„<code>pip3</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/python3/bin/pip3 /usr/bin/pip3</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/image-20220613144940734.png" alt="image-20220613144940734" /></p>
<p>æŸ¥çœ‹<code>pip3</code>çš„ç‰ˆæœ¬</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 -V</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/image-20220613145044825.png" alt="image-20220613145044825" /></p>
]]></content>
      <categories>
        <category>ç–‘éš¾æ‚ç—‡</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>ç–‘éš¾æ‚ç—‡</tag>
        <tag>python</tag>
        <tag>pip</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu å®‰è£…LLVM7.1.0 å’Œ Clang</title>
    <url>/2022/06/15/Ubuntu/02InstallLLVM/</url>
    <content><![CDATA[<h2 id="ä¸‹è½½llvm710æºç "><a class="markdownIt-Anchor" href="#ä¸‹è½½llvm710æºç "></a> ä¸‹è½½<code>llvm7.1.0</code>æºç </h2>
<p><a href="https://releases.llvm.org/download.html#7.1.0"> LLVM7.1.0 æºç  </a></p>
<p>åœ¨<code>LLVM</code>å®˜ç½‘ä¸Šä¸‹è½½ï¼Œä¸€èˆ¬åªéœ€è¦ä¸‹è½½è¿™å‡ ä¸ªå°±å¯ä»¥äº†</p>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615094757923.png" alt="image-20220615094757923" /></p>
<p>ç„¶åå°†ä¸‹è½½çš„å‹ç¼©åŒ…ä¼ åˆ°è™šæ‹Ÿæœºä¸­ï¼Œè¿›è¡Œè§£å‹ã€‚</p>
<h2 id="llvmclang-ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#llvmclang-ç¯å¢ƒæ­å»º"></a> LLVM+Clang ç¯å¢ƒæ­å»º</h2>
<p>é¦–å…ˆåœ¨<code>/home/user/</code>ä¸‹é¢æ–°å»ºæ–‡ä»¶å¤¹ï¼Œå­˜æ”¾åˆšä¸‹è½½çš„å‹ç¼©åŒ…ã€‚ï¼ˆæˆ‘è¿™è¾¹ä¸‹è½½çš„æºç æ¯”è¾ƒå¤šï¼Œä½†æ˜¯ä¸Šé¢çš„å››ä¸ªæ˜¯å¿…é¡»è¦æœ‰çš„ï¼‰</p>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615095307426.png" alt="image-20220615095307426" /></p>
<p>è¿›è¡Œè§£å‹ï¼Œå¯ä»¥ç›´æ¥å³é”®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤è¿›è¡Œè§£å‹ã€‚è§£å‹å¥½çš„å¦‚ä¸‹å›¾ï¼Œ</p>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615095458174.png" alt="image-20220615095458174" /></p>
<p>ç„¶åéœ€è¦å°†æ‰€æœ‰çš„<code>-7.1.0.src</code>å»æ‰ã€‚</p>
<ul>
<li>å¦å¤–éœ€è¦å°†<code>cfe-7.1.0.src</code>æ”¹åä¸º<code>clang</code>ï¼Œå¹¶å°†<code>clang-tools-extra</code>æ”¾åœ¨<code>./clang/tools/</code>ä¸­</li>
</ul>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615095757633.png" alt="image-20220615095757633" /></p>
<ul>
<li>å°†<code>clang</code>æ–‡ä»¶å¤¹æ”¾åœ¨<code>./llvm/tools/</code>ä¸­</li>
</ul>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615095925229.png" alt="image-20220615095925229" /></p>
<ul>
<li>å°†<code>compiler-rt</code>æ”¾åœ¨<code>./llvm/projects/</code>ä¸­ï¼Œå¦‚æœä¸‹è½½äº†å…¶ä»–æºç ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨è¿™ä¸ªä½ç½®</li>
</ul>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615100040399.png" alt="image-20220615100040399" /></p>
<ul>
<li>åœ¨<code>./llvm/</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹ï¼Œå‘½åä¸º<code>build</code></li>
</ul>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615100146090.png" alt="image-20220615100146090" /></p>
<p>è¿›å…¥<code>build</code>ç›®å½•ä¸‹ï¼Œè¿›è¡Œåç»­æ“ä½œã€‚æ³¨æ„ä¸‹é¢çš„æ‰€æœ‰æ“ä½œå‡åœ¨<code>./llvm/build/</code>ç›®å½•ä¸‹è¿›è¡Œ</p>
<h2 id="ä½¿ç”¨cmakeè¿›è¡Œæºç ç¼–è¯‘"><a class="markdownIt-Anchor" href="#ä½¿ç”¨cmakeè¿›è¡Œæºç ç¼–è¯‘"></a> ä½¿ç”¨cmakeè¿›è¡Œæºç ç¼–è¯‘</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cmake ../ -DCMAKE_BUILD_TYPE=Release</span><br></pre></td></tr></table></figure>
<p>é‡åˆ°å¦‚ä¸‹æƒ…å†µï¼Œè¯´æ˜ä½ çš„ubuntuè¿˜æ²¡æœ‰å®‰è£…<code>cmake</code>ï¼ŒæŒ‰ç…§æç¤ºè¿›è¡Œå®‰è£…å³å¯ã€‚</p>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615101035213.png" alt="image-20220615101035213" /></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install cmake  <span class="comment"># å®‰è£…cmake</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615101207022.png" alt="image-20220615101207022" /></p>
<p>å®‰è£…æˆåŠŸåç»§ç»­æŒ‡å‘ä¸Šè¿°å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cmake ../ -DCMAKE_BUILD_TYPE=Release</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°å¦‚ä¸‹æç¤ºåˆ™ç¼–è¯‘æˆåŠŸ</p>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615121643392.png" alt="image-20220615121643392" /></p>
<h2 id="ä½¿ç”¨makeç¼–è¯‘é“¾æ¥æºæ–‡ä»¶"><a class="markdownIt-Anchor" href="#ä½¿ç”¨makeç¼–è¯‘é“¾æ¥æºæ–‡ä»¶"></a> ä½¿ç”¨makeç¼–è¯‘é“¾æ¥æºæ–‡ä»¶</h2>
<p>ç»§ç»­æ‰§è¡Œ<code>make</code>å‘½ä»¤ï¼Œè¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥å¼€å¤šä¸ªçº¿ç¨‹<code>-j8</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make -j8</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/InstallLLVM/image-20220615101644724.png" alt="image-20220615101644724" /></p>
<h2 id="è¿›è¡Œå®‰è£…"><a class="markdownIt-Anchor" href="#è¿›è¡Œå®‰è£…"></a> è¿›è¡Œå®‰è£…</h2>
<p>ç¼–è¯‘å®Œæˆåä½¿ç”¨<code>sudo make install</code>è¿›è¡Œå®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
<h2 id="ç‰ˆæœ¬æŸ¥çœ‹"><a class="markdownIt-Anchor" href="#ç‰ˆæœ¬æŸ¥çœ‹"></a> ç‰ˆæœ¬æŸ¥çœ‹</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">llvm-config --version</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç–‘éš¾æ‚ç—‡</category>
      </categories>
      <tags>
        <tag>LLVM</tag>
        <tag>Ubuntu</tag>
        <tag>ç–‘éš¾æ‚ç—‡</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu apt-getå®‰è£…æ—¶æŠ¥é”™</title>
    <url>/2022/06/22/Ubuntu/03apt-get/</url>
    <content><![CDATA[<h2 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h2>
<p>åœ¨Ubuntuä¸­ä½¿ç”¨<code>apt-get</code>è¿›è¡Œå®‰è£…æ—¶äº§ç”Ÿäº†å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">E: Could not get lock /var/lib/dpkg/lock-frontend - open (11: Resource temporarily unavailable)</span><br><span class="line">E: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), is another process using it?</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/apt-get/1-1.jpg" alt="1-1" /></p>
<h2 id="è§£å†³æ–¹æ³•"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ³•"></a> è§£å†³æ–¹æ³•</h2>
<p>åˆ†åˆ«æ‰§è¡Œä¸‹é¢ä¸‰æ¡å‘½ä»¤ï¼Œæ‰§è¡Œå®Œæˆååˆ™æ¢å¤æ­£å¸¸ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">rm</span> /var/lib/dpkg/lock-frontend</span><br><span class="line">sudo <span class="built_in">rm</span> /var/lib/dpkg/lock</span><br><span class="line">sudo <span class="built_in">rm</span> /var/cache/apt/archives/lock</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/apt-get/1-2.jpg" alt="1-2" /></p>
]]></content>
      <categories>
        <category>ç–‘éš¾æ‚ç—‡</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>ç–‘éš¾æ‚ç—‡</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu å®‰è£…LLFIåŠæ‰€ç”¨çš„å·¥å…·</title>
    <url>/2022/06/25/Ubuntu/05InstallLLFI/</url>
    <content><![CDATA[<h2 id="å®‰è£…python3æˆ–è€…æ›´é«˜ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#å®‰è£…python3æˆ–è€…æ›´é«˜ç‰ˆæœ¬"></a> å®‰è£…python3æˆ–è€…æ›´é«˜ç‰ˆæœ¬</h2>
<p>è¿™éƒ¨åˆ†åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­å†™åˆ°äº†ã€‚</p>
<p><a href="http://atopos-blog.cn/2022/06/08/Ubuntu/01installPythonAndPIP/"> Ubuntu å®‰è£…Python3ä»¥åŠpip3 </a></p>
<h2 id="å®‰è£…cmake"><a class="markdownIt-Anchor" href="#å®‰è£…cmake"></a> å®‰è£…cmake</h2>
<p>ç›´æ¥ä½¿ç”¨<code>apt-get</code>è¿›è¡Œå®‰è£…å³å¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install cmake</span><br></pre></td></tr></table></figure>
<h2 id="å®‰è£…tcsh-shell"><a class="markdownIt-Anchor" href="#å®‰è£…tcsh-shell"></a> å®‰è£…tcsh shell</h2>
<p>ç›´æ¥ä½¿ç”¨<code>apt-get</code>è¿›è¡Œå®‰è£…å³å¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install tcsh</span><br></pre></td></tr></table></figure>
<h2 id="å®‰è£…jdk8"><a class="markdownIt-Anchor" href="#å®‰è£…jdk8"></a> å®‰è£…JDK8</h2>
<p><a href="https://pan.baidu.com/s/1NC4dZJNGtBPlWR_M_pjJKA"> JDK ä¸‹è½½é“¾æ¥ </a>  ã€å¯†ç ï¼špw24ã€‘</p>
<p>å°†ä¸‹è½½çš„JDKæºä»£ç åŒ…ï¼ˆ<code>.tar.gz</code>æ–‡ä»¶ï¼‰å¤åˆ¶åˆ°ç›®æ ‡è™šæ‹Ÿæœºï¼Œå¹¶è¿›è¡Œè§£å‹ã€‚</p>
<p><img src="/img/Ubuntu/InstallLLFI/image-20220625161650677.png" alt="image-20220625161650677" /></p>
<p>åˆ›å»ºéœ€è¦å­˜æ”¾javaçš„ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> /usr/local/java</span><br></pre></td></tr></table></figure>
<p>è®²è§£å‹åçš„æ–‡ä»¶ç§»åŠ¨è‡³æ–°åˆ›å»ºçš„ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mv</span> jdk1.8.0_241 /usr/local/java/</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo gedit /etc/profile</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/InstallLLFI/2.jpg" alt="2" /></p>
<p>åœ¨æ‰“å¼€çš„é…ç½®æ–‡ä»¶ååŠ ä¸Šä»¥ä¸‹å‡ è¡Œ</p>
<p>æ³¨æ„ï¼š<code>JAVA_HOME</code>åé¢è·Ÿçš„æ˜¯è‡ªå·±çš„å®‰è£…è·¯å¾„ï¼Œå¦‚æœå’Œä¸Šé¢çš„æ­¥éª¤ä¸€æ ·ï¼Œåˆ™ä¸ç”¨ä¿®æ”¹ã€‚</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">JAVA<span class="built_in">_</span>HOME=/usr/local/java/jdk1.8.0<span class="built_in">_</span>241</span><br><span class="line">CLASSPATH=<span class="built_in">$</span>JAVA<span class="built_in">_</span>HOME/lib/</span><br><span class="line">PATH=<span class="built_in">$</span>PATH:<span class="built_in">$</span>JAVA<span class="built_in">_</span>HOME/bin</span><br><span class="line">export PATH JAVA<span class="built_in">_</span>HOME CLASSPATH</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/InstallLLFI/3.jpg" alt="3" /></p>
<p>é‡æ–°å¯åŠ¨é…ç½®æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹JDKç‰ˆæœ¬</p>
<p>å‡ºç°å¦‚ä¸‹è¾“å‡ºåˆ™å®‰è£…æˆåŠŸã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/InstallLLFI/4.jpg" alt="4" /></p>
<h2 id="å®‰è£…llfi"><a class="markdownIt-Anchor" href="#å®‰è£…llfi"></a> å®‰è£…LLFIâ­</h2>
<p>å®‰è£…LLFIå‰åŠ¡å¿…ç¡®ä¿å‰é¢çš„å·¥å…·å’Œç¯å¢ƒé…ç½®å¥½ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<p><a href="https://pan.baidu.com/s/1gUs-sIg9pvBtRqjc1tzYtA"> LLFIå¥—ä»¶ä¸‹è½½é“¾æ¥ </a> ã€å¯†ç ï¼šgdi9ã€‘</p>
<p>å°†æ•´ä¸ªæ–‡ä»¶å¤¹å¤åˆ¶åˆ°è‡ªå·±çš„Ubuntuè™šæ‹Ÿæœºä¸Šã€‚åœ¨è™šæ‹Ÿæœºä¸­å°†ä¸‹è½½çš„<code>LLFI/</code>æ–‡ä»¶å¤¹ä¸‹é¢çš„å››ä¸ªå‹ç¼©åŒ…ç§»åŠ¨è‡³<code>./LLFI/downloads/</code>ç›®å½•ä¸‹å¹¶è¿›è¡Œè§£å‹ã€‚</p>
<p>å°†è§£å‹çš„æ–‡ä»¶ä¸­çš„<code>clang-3.4</code>æ›´åä¸º<code>clang</code>å¹¶å‰ªè´´è‡³<code>llvm-3.4/tools/</code>ä¸‹ï¼Œå¹¶å°†<code>llvm-3.4</code>æ›´åä¸º<code>llvmsrc</code>ï¼Œå°†<code>LLFI-master</code>æ›´åä¸º<code>llfisrc</code>ï¼Œå°†<code>PyYAML-3.11</code>æ›´åä¸º<code>pyyamlsrc</code>ã€‚</p>
<p>å¹¶å°†<code>llfisrc</code>ã€<code>llvmsrc</code>ã€<code>pyyamlsrc</code>å‰ªè´´è‡³<code>/home/xzt/LLFI/</code>ç›®å½•ä¸‹ï¼ˆä¹Ÿå°±æ˜¯<code>./downloads</code>çš„ä¸Šå±‚ç›®å½•ï¼‰</p>
<p><img src="/img/Ubuntu/InstallLLFI/image-20220626103018994.png" alt="image-20220626103018994" /></p>
<h3 id="å®‰è£…pyyaml-311"><a class="markdownIt-Anchor" href="#å®‰è£…pyyaml-311"></a> å®‰è£…<code>PyYAML-3.11</code></h3>
<ul>
<li>è¿›å…¥åˆ°<code>pyyamlsrc</code>ç›®å½•ä¸‹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3 setup.py --without-libyaml install</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œå®Œå³å®‰è£…æˆåŠŸã€‚</p>
<h3 id="å®‰è£…llfiä»¥åŠllvm-34"><a class="markdownIt-Anchor" href="#å®‰è£…llfiä»¥åŠllvm-34"></a> å®‰è£…<code>LLFI</code>ä»¥åŠ<code>llvm-3.4</code></h3>
<ul>
<li>è¿›å…¥<code>/home/xzt/LLFI/</code>ç›®å½•ä¸‹ï¼Œè¿è¡Œä¸‹é¢å‘½ä»¤ã€‚</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3 install.py</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç–‘éš¾æ‚ç—‡</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>ç–‘éš¾æ‚ç—‡</tag>
        <tag>LLFI</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu pipç³»åˆ—é—®é¢˜</title>
    <url>/2022/06/22/Ubuntu/04pip/</url>
    <content><![CDATA[<h2 id="é—®é¢˜1ç»™pipè¿›è¡Œæ¢æº"><a class="markdownIt-Anchor" href="#é—®é¢˜1ç»™pipè¿›è¡Œæ¢æº"></a> é—®é¢˜1ï¼šç»™pipè¿›è¡Œæ¢æº</h2>
<p>åœ¨<code>/home/xzt/</code>ç›®å½•ä¸‹åˆ›å»º<code>.pip/</code>ç›®å½•ï¼Œç„¶åå†<code>.pip/</code>ä¸‹åˆ›å»º<code>pip.conf</code>æ–‡ä»¶ã€‚</p>
<p><img src="/img/Ubuntu/pip/image-20220622163816955.png" alt="image-20220622163816955" /></p>
<p>æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹å³å¯ã€‚</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">[global]</span><br><span class="line">trusted-host = pypi.douban.com</span><br><span class="line">index-url = http://pypi.douban.com/simple</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜2ä½¿ç”¨pipå®‰è£…åŒ…æ—¶äº§ç”Ÿå¦‚ä¸‹é”™è¯¯"><a class="markdownIt-Anchor" href="#é—®é¢˜2ä½¿ç”¨pipå®‰è£…åŒ…æ—¶äº§ç”Ÿå¦‚ä¸‹é”™è¯¯"></a> é—®é¢˜2ï¼šä½¿ç”¨pipå®‰è£…åŒ…æ—¶äº§ç”Ÿå¦‚ä¸‹é”™è¯¯</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ERROR: Exception:</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_internal/cli/base_command.py&quot;</span>, line 188, <span class="keyword">in</span> _main</span><br><span class="line">    status = self.run(options, args)</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_internal/commands/uninstall.py&quot;</span>, line 54, <span class="keyword">in</span> run</span><br><span class="line">    session = self.get_default_session(options)</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_internal/cli/req_command.py&quot;</span>, line 83, <span class="keyword">in</span> get_default_session</span><br><span class="line">    self._session = self.enter_context(self._build_session(options))</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_internal/cli/req_command.py&quot;</span>, line 93, <span class="keyword">in</span> _build_session</span><br><span class="line">    session = PipSession(</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_internal/network/session.py&quot;</span>, line 249, <span class="keyword">in</span> __init__</span><br><span class="line">    self.headers[<span class="string">&quot;User-Agent&quot;</span>] = user_agent()</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_internal/network/session.py&quot;</span>, line 132, <span class="keyword">in</span> user_agent</span><br><span class="line">    zip([<span class="string">&quot;name&quot;</span>, <span class="string">&quot;version&quot;</span>, <span class="string">&quot;id&quot;</span>], distro.linux_distribution()),</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_vendor/distro.py&quot;</span>, line 125, <span class="keyword">in</span> linux_distribution</span><br><span class="line">    <span class="built_in">return</span> _distro.linux_distribution(full_distribution_name)</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_vendor/distro.py&quot;</span>, line 681, <span class="keyword">in</span> linux_distribution</span><br><span class="line">    self.version(),</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_vendor/distro.py&quot;</span>, line 741, <span class="keyword">in</span> version</span><br><span class="line">    self.lsb_release_attr(<span class="string">&#x27;release&#x27;</span>),</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_vendor/distro.py&quot;</span>, line 903, <span class="keyword">in</span> lsb_release_attr</span><br><span class="line">    <span class="built_in">return</span> self._lsb_release_info.get(attribute, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_vendor/distro.py&quot;</span>, line 556, <span class="keyword">in</span> __get__</span><br><span class="line">    ret = obj.__dict__[self._fname] = self._f(obj)</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/site-packages/pip/_vendor/distro.py&quot;</span>, line 1014, <span class="keyword">in</span> _lsb_release_info</span><br><span class="line">    stdout = subprocess.check_output(cmd, stderr=devnull)</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/subprocess.py&quot;</span>, line 411, <span class="keyword">in</span> check_output</span><br><span class="line">    <span class="built_in">return</span> run(*popenargs, stdout=PIPE, <span class="built_in">timeout</span>=<span class="built_in">timeout</span>, check=True,</span><br><span class="line">  File <span class="string">&quot;/usr/local/python/lib/python3.8/subprocess.py&quot;</span>, line 512, <span class="keyword">in</span> run</span><br><span class="line">    raise CalledProcessError(retcode, process.args,</span><br><span class="line">subprocess.CalledProcessError: Command <span class="string">&#x27;(&#x27;</span>lsb_release<span class="string">&#x27;, &#x27;</span>-a<span class="string">&#x27;)&#x27;</span> returned non-zero <span class="built_in">exit</span> status 1.</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/pip/2-1.jpg" alt="2-1" /></p>
<h3 id="è§£å†³åŠæ³•"><a class="markdownIt-Anchor" href="#è§£å†³åŠæ³•"></a> è§£å†³åŠæ³•</h3>
<ul>
<li>æ‰¾åˆ°<code>lsb_release.py</code>æ¨¡å—æ‰€åœ¨çš„ç›®å½•</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo find / -name <span class="string">&#x27;lsb_release.py&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å°†å…¶å¤åˆ¶åˆ°è®¾ç½®<code>python3.6</code>çš„ç³»ç»Ÿæ¨¡å—åŠ è½½ä½ç½®ï¼Œä¹Ÿå°±æ˜¯æŠ¥é”™å¤„<code>subprocess.py</code>æ‰€åœ¨çš„ç›®å½•</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span>  /usr/lib/python3/dist-packages/lsb_release.py /usr/local/python3/lib/python3.6/</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/pip/2-2.jpg" alt="2-2" /></p>
<h2 id="é—®é¢˜3ä½¿ç”¨pipå®‰è£…matplotlibæŠ¥é”™"><a class="markdownIt-Anchor" href="#é—®é¢˜3ä½¿ç”¨pipå®‰è£…matplotlibæŠ¥é”™"></a> é—®é¢˜3ï¼šä½¿ç”¨pipå®‰è£…<code>matplotlib</code>æŠ¥é”™</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Command <span class="string">&quot;/usr/local/python3/bin/python3.6 -u -c &quot;</span>import setuptools, tokenize;__file__=<span class="string">&#x27;/tmp/pip-install-x0_i3ps6/pillow/setup.py&#x27;</span>;f=getattr(tokenize, <span class="string">&#x27;open&#x27;</span>, open)(__file__);code=f.read().replace(<span class="string">&#x27;\r\n&#x27;</span>, <span class="string">&#x27;\n&#x27;</span>);f.close();<span class="built_in">exec</span>(compile(code, __file__, <span class="string">&#x27;exec&#x27;</span>))<span class="string">&quot; install --record /tmp/pip-record-7_n87fln/install-record.txt --single-version-externally-managed --compile --user --prefix=&quot;</span> failed with error code 1 <span class="keyword">in</span> /tmp/pip-install-x0_i3ps6/pillow/</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/pip/1.jpg" alt="1" /></p>
<h3 id="è§£å†³åŠæ³•-2"><a class="markdownIt-Anchor" href="#è§£å†³åŠæ³•-2"></a> è§£å†³åŠæ³•</h3>
<p>å…ˆæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å†è¿›è¡Œå®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install libjpeg-dev zlib1g-dev</span><br><span class="line"></span><br><span class="line">pip3 install matplotlib --user</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/pip/2.jpg" alt="2" /></p>
]]></content>
      <categories>
        <category>ç–‘éš¾æ‚ç—‡</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>ç–‘éš¾æ‚ç—‡</tag>
        <tag>pip</tag>
      </tags>
  </entry>
  <entry>
    <title>LLFI å·¥å…·å­¦ä¹ ä¸ä½¿ç”¨</title>
    <url>/2022/06/27/Ubuntu/06LLFIStudy/</url>
    <content><![CDATA[<h2 id="llfiä½¿ç”¨æ­¥éª¤"><a class="markdownIt-Anchor" href="#llfiä½¿ç”¨æ­¥éª¤"></a> LLFIä½¿ç”¨æ­¥éª¤</h2>
<h3 id="complieç¼–è¯‘ç”Ÿæˆä¸­é—´ä»£ç "><a class="markdownIt-Anchor" href="#complieç¼–è¯‘ç”Ÿæˆä¸­é—´ä»£ç "></a> Complieç¼–è¯‘ç”Ÿæˆä¸­é—´ä»£ç </h3>
<p>å°†æºæ–‡ä»¶è¿›è¡Œç¼–è¯‘ç”Ÿæˆ<code>.ll</code>æ ¼å¼çš„ä¸­é—´ä»£ç ã€‚</p>
<ul>
<li>è¾“å…¥ï¼šæºç¨‹åºï¼ˆ<code>C/C++ç¨‹åº</code>ï¼‰</li>
<li>è¾“å‡ºï¼šç¼–è¯‘ç”Ÿæˆ<code>.ll</code>æ–‡ä»¶æˆ–è€…<code>.bc</code>æ–‡ä»¶</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~/LLFI-master/llvm/bin/clang -emit-llvm -S sample.c -o sample.ll</span><br><span class="line">~/LLFI-master/llvm/bin/clang -emit-llvm -c sample.c -o sample.bc</span><br></pre></td></tr></table></figure>
<h3 id="instrumentå·¥å…·æ’å…¥å›è°ƒå‡½æ•°"><a class="markdownIt-Anchor" href="#instrumentå·¥å…·æ’å…¥å›è°ƒå‡½æ•°"></a> Instrumentå·¥å…·æ’å…¥å›è°ƒå‡½æ•°</h3>
<p>åœ¨ç”Ÿæˆçš„ä¸­é—´ä»£ç (<code>.ll/.bc</code>æ–‡ä»¶)ä¸­æ’å…¥å›è°ƒå‡½æ•°ï¼Œä»¥è¿›è¡Œåˆ†æå’Œæ•…éšœæ³¨å…¥ã€‚å¯ä»¥åœ¨æŒ‡å®šä½ç½®è¿›è¡Œæ’å…¥ï¼ŒæŒ‡å®šä½ç½®æ˜¯ç”±<code>input.yaml</code>æ–‡ä»¶ä¸­æŒ‡å®šè¦æ³¨å…¥çš„æ•…éšœç¡®å®šã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~/LLFI-master/llfi/bin/Instrucment --readable sample.ll</span><br><span class="line">~/LLFI-master/llfi/bin/Instrucment sample.bc</span><br></pre></td></tr></table></figure>
<ul>
<li>è¾“å…¥ï¼šç¼–è¯‘ç”Ÿæˆçš„ä¸­é—´ä»£ç <code>.ll/.bc</code>ï¼Œä»¥åŠå¸¦æœ‰ <code>compileTime</code> é€‰é¡¹çš„ <code>input.yaml</code> æ–‡ä»¶ï¼ˆæ²¡æœ‰åœ¨å‘½ä»¤ä¸­ä½“ç°ï¼Œåªéœ€è¦å°†<code>input.yaml</code>å’Œæºä»£ç æ”¾åœ¨åŒä¸€ç›®å½•ä¸‹å³å¯ï¼‰</li>
<li>è¾“å‡ºï¼šä¸¤ä¸ª <code>.ll</code>ï¼ˆæˆ– <code>.bc</code>ï¼‰æ–‡ä»¶åˆ†åˆ«ç”¨äºåˆ†æå’Œæ•…éšœæ³¨å…¥ã€‚è¿™äº›æ–‡ä»¶å°†åˆ†åˆ«ç§°ä¸º <code>sample-profiling.ll</code> å’Œ <code>sample-faultinjection.ll</code>ã€‚è¿˜ä¼šç”Ÿæˆç›¸åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ <code>sample-profiling.exe</code> å’Œ <code>sample-faultInjection.exe</code>ã€‚</li>
</ul>
<h3 id="profiling-åˆ†æ"><a class="markdownIt-Anchor" href="#profiling-åˆ†æ"></a> Profiling åˆ†æ</h3>
<p>ä¸ºäº†è·å–æ­¥éª¤2ä¸­æ ‡è¯†çš„<code>.ll</code>æ–‡ä»¶ä¸­æŒ‡å®šä½ç½®çš„åŠ¨æ€æ‰§è¡Œè®¡æ•°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~/LLFI-master/llfi/bin/Profile ./llfi/sample-profiling.exe &lt;ç¨‹åºå‚æ•°&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¾“å…¥ï¼šåˆ†æå¯æ‰§è¡Œæ–‡ä»¶<code>sample-profiling.exe</code>ï¼Œå’Œç¨‹åºæ‰€éœ€è¦çš„å‚æ•°</li>
<li>è¾“å‡ºï¼š<code>llfi-stat-profile.txt</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŒ…å«å¾ªç¯æ€»æ•°ï¼ˆå³æ„Ÿå…´è¶£çš„åœ°æ–¹çš„æ‰§è¡Œå®ä¾‹ï¼‰çš„æ–‡æœ¬æ–‡ä»¶ï¼Œä»¥åŠä¸€ä¸ªåŒ…å«ç¨‹åºé»„é‡‘è¾“å‡ºçš„è¾“å‡ºæ–‡ä»¶</li>
</ul>
<h3 id="fault-injection-æ•…éšœæ³¨å…¥"><a class="markdownIt-Anchor" href="#fault-injection-æ•…éšœæ³¨å…¥"></a> Fault Injection æ•…éšœæ³¨å…¥</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~/LLFI-master/llfi/bin/injectfault ./llfi/sample-faultinjection.exe &lt;ç¨‹åºå‚æ•°&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¾“å…¥ï¼š<code>fault-injection</code> å¯æ‰§è¡Œæ–‡ä»¶<code>sample-faultInjection.exe</code>ï¼Œè¾“å…¥çš„<code>yaml</code> æ–‡ä»¶å¡«å…¥è¿è¡Œæ—¶é€‰é¡¹ï¼Œå°¤å…¶æ˜¯<code>fault-injection</code> è¿è¡Œæ¬¡æ•°å’Œ<code>faultinjector</code> ç±»å‹ã€‚æ­¤å¤–ï¼Œåˆ†ææ­¥éª¤ 3 çš„è¾“å‡ºã€‚</li>
<li>è¾“å‡ºï¼šæ•…éšœæ³¨å…¥å®éªŒçš„ç»“æœï¼Œä»¥åŠæ³¨å…¥çš„æ—¥å¿—æ–‡ä»¶å’Œç”Ÿæˆçš„è¾“å‡ºæ–‡ä»¶ã€‚åº”ç”¨ç¨‹åºå†™å…¥ stderr çš„ä»»ä½•é”™è¯¯æ¶ˆæ¯ä¹Ÿä¼šè¢«è®°å½•ä¸‹æ¥ã€‚</li>
</ul>
<h2 id="inpuyyamlå„æŒ‡ä»¤å«ä¹‰"><a class="markdownIt-Anchor" href="#inpuyyamlå„æŒ‡ä»¤å«ä¹‰"></a> <code>inpuy.yaml</code>å„æŒ‡ä»¤å«ä¹‰</h2>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">defaultTimeOut:</span> <span class="number">500</span> </span><br><span class="line"><span class="attr">compileOption:</span>  <span class="comment"># å®šä¹‰LLFIçš„ç¼–è¯‘æ—¶é€‰é¡¹</span></span><br><span class="line">    <span class="attr">instSelMethod:</span> <span class="comment"># æŒ‡ä»¤é€‰æ‹©å™¨</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">insttype:</span></span><br><span class="line">          <span class="attr">include:</span> </span><br><span class="line">            <span class="bullet">-</span> <span class="string">all</span></span><br><span class="line">          <span class="attr">exclude:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">ret</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">regSelMethod:</span> <span class="string">regloc</span> <span class="comment"># å¯„å­˜å™¨é€‰æ‹©å™¨</span></span><br><span class="line">    <span class="attr">regloc:</span> <span class="string">dstreg</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">includeInjectionTrace:</span> <span class="comment"># è·Ÿè¸ªé€‰é¡¹</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">forward</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">backward</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">tracingPropagation:</span> <span class="literal">True</span> <span class="comment"># trace dynamic instruction values.</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">tracingPropagationOption:</span></span><br><span class="line">        <span class="attr">maxTrace:</span> <span class="number">250</span> <span class="comment"># max number of instructions to trace during fault injection run</span></span><br><span class="line">        <span class="attr">debugTrace:</span> <span class="literal">True</span><span class="string">/False</span></span><br><span class="line">        <span class="attr">generateCDFG:</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="attr">runOption:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">run:</span></span><br><span class="line">        <span class="attr">numOfRuns:</span> <span class="number">3</span></span><br><span class="line">        <span class="attr">fi_type:</span> <span class="string">bitflip</span></span><br></pre></td></tr></table></figure>
<h3 id="compileoptionå±‚æ¬¡ç»“æ„"><a class="markdownIt-Anchor" href="#compileoptionå±‚æ¬¡ç»“æ„"></a> <code>compileOption</code>å±‚æ¬¡ç»“æ„</h3>
<blockquote>
<p>å®šä¹‰äº†LLFIçš„ç¼–è¯‘æ—¶é€‰é¡¹ï¼ŒåŒ…æ‹¬æŒ‡ä»¤é€‰æ‹©å™¨ã€å¯„å­˜å™¨é€‰æ‹©å™¨ã€è·Ÿè¸ªé€‰é¡¹ç­‰ã€‚æŒ‡ä»¤é€‰æ‹©å™¨å’Œå¯„å­˜å™¨é€‰æ‹©å™¨å¯ä»¥ç”¨äºæŒ‡å®šæ•…éšœæ³¨å…¥çš„èŒƒå›´ï¼Œé€šè¿‡é…ç½®è¿™ä¸¤ä¸ªé€‰æ‹©å™¨ï¼Œç”¨æˆ·å¯ä»¥é™åˆ¶å¯èƒ½å‘ç”Ÿæ•…éšœçš„æ½œåœ¨ä½ç½®ã€‚</p>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">compileOption:</span></span><br><span class="line">	<span class="comment">### å¿…é¡»é¡¹ç›® ###</span></span><br><span class="line">    <span class="attr">instSelMethod:</span></span><br><span class="line">        <span class="string">&lt;content</span> <span class="string">of</span> <span class="string">inst</span> <span class="string">selector&gt;...</span></span><br><span class="line">    <span class="attr">regSelMethod:</span> <span class="string">&lt;content</span> <span class="string">of</span> <span class="string">reg</span> <span class="string">selector&gt;...</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">### å¯é€‰æ‹©é¡¹ç›® ###</span></span><br><span class="line">    <span class="attr">tracingPropagation:</span> <span class="literal">True</span><span class="string">/False</span></span><br><span class="line">    <span class="attr">tracingPropagationOption:</span></span><br><span class="line">		<span class="string">&lt;content</span> <span class="string">of</span> <span class="string">tracing</span> <span class="string">propagation</span> <span class="string">option&gt;</span></span><br><span class="line">	<span class="attr">includeInjectionTrace:</span></span><br><span class="line">	    <span class="bullet">-</span> <span class="string">forward</span></span><br><span class="line">	    <span class="bullet">-</span> <span class="string">backward</span></span><br></pre></td></tr></table></figure>
<h4 id="instselmethod"><a class="markdownIt-Anchor" href="#instselmethod"></a> instSelMethod</h4>
<blockquote>
<p>å®šä¹‰æŒ‡ä»¤é€‰æ‹©å™¨<strong>instSelMethod</strong>æ˜¯å®šä¹‰æŒ‡ä»¤é€‰æ‹©å™¨çš„å—ã€‚å®ƒä½äº***compileOption***çš„å­—å…¸ä¸­ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªå—çš„ç»“æ„ï¼š</p>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">instSelMethod:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;insttype/funcname/customInstselector&gt;:</span></span><br><span class="line">      <span class="attr">include:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&lt;inst</span> <span class="string">types/func</span> <span class="string">names/name</span> <span class="string">of</span> <span class="string">custom</span> <span class="string">inst</span> <span class="string">selector&gt;</span></span><br><span class="line">      <span class="attr">exclude:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&lt;inst</span> <span class="string">types/func</span> <span class="string">names&gt;</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&lt;command</span> <span class="string">line</span> <span class="string">options</span> <span class="string">for</span> <span class="string">the</span> <span class="string">inst</span> <span class="string">selector&gt;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LLVM</category>
        <category>LLFI</category>
      </categories>
      <tags>
        <tag>æ•…éšœæ³¨å…¥</tag>
        <tag>Ubuntu</tag>
        <tag>LLFI</tag>
      </tags>
  </entry>
  <entry>
    <title>LLVM CFGæ§åˆ¶æµå›¾å¯è§†åŒ–</title>
    <url>/2022/07/04/Ubuntu/07drawCFG/</url>
    <content><![CDATA[<h2 id="å®‰è£…ç»„ä»¶"><a class="markdownIt-Anchor" href="#å®‰è£…ç»„ä»¶"></a> å®‰è£…ç»„ä»¶</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install -y graphviz-doc libgraphviz-dev graphviz</span><br></pre></td></tr></table></figure>
<h2 id="ç¤ºä¾‹ç¨‹åº"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹ç¨‹åº"></a> ç¤ºä¾‹ç¨‹åº</h2>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// file test.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> x= <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> y = <span class="number">11</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> z = <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">        z *= x * y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç”Ÿæˆllvm-iræ–‡ä»¶"><a class="markdownIt-Anchor" href="#ç”Ÿæˆllvm-iræ–‡ä»¶"></a> ç”Ÿæˆ<code>LLVM IR</code>æ–‡ä»¶</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">clang -S -emit-llvm test.c -o test.ll</span><br></pre></td></tr></table></figure>
<h2 id="è°ƒç”¨æ§åˆ¶æµå›¾"><a class="markdownIt-Anchor" href="#è°ƒç”¨æ§åˆ¶æµå›¾"></a> è°ƒç”¨æ§åˆ¶æµå›¾</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">opt -dot-callgraph test.ll  <span class="comment"># ç”Ÿæˆ.dotæ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<p><code>dot</code>æ–‡ä»¶ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆï¼Œä¸åŒç‰ˆæœ¬çš„<code>llvm</code>å¯èƒ½<code>dot</code>æ–‡ä»¶çš„åå­—å¯èƒ½ç¨æœ‰ä¸åŒï¼Œæˆ‘ä½¿ç”¨çš„ç‰ˆæœ¬äº§ç”Ÿçš„dotæ–‡ä»¶æ˜¯<code>callgraph.dot</code>ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆå›¾ç‰‡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dot callgraph.dot -Tpng -o callgraph.png</span><br></pre></td></tr></table></figure>
<p><img src="/img/Ubuntu/07drawCFG/callgraph.png" alt="callgraph" /></p>
<h2 id="å‡½æ•°æ§åˆ¶æµå›¾"><a class="markdownIt-Anchor" href="#å‡½æ•°æ§åˆ¶æµå›¾"></a> å‡½æ•°æ§åˆ¶æµå›¾</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">opt -dot-cfg test.ll</span><br></pre></td></tr></table></figure>
<p><code>dot</code>æ–‡ä»¶ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆï¼Œä¸åŒç‰ˆæœ¬çš„<code>llvm</code>å¯èƒ½<code>dot</code>æ–‡ä»¶çš„åå­—å¯èƒ½ç¨æœ‰ä¸åŒï¼Œæˆ‘ä½¿ç”¨çš„ç‰ˆæœ¬äº§ç”Ÿçš„dotæ–‡ä»¶æ˜¯<code>cfg.main.dot</code>ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆå›¾ç‰‡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dot cfg.main.dot -Tpng -o cfg.main.png  <span class="comment"># ç”Ÿæˆå›¾ç‰‡</span></span><br></pre></td></tr></table></figure>
<p>æ§åˆ¶æµå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/img/Ubuntu/07drawCFG/cfg.main.png" alt="cfg.main" /></p>
]]></content>
      <categories>
        <category>LLVM</category>
      </categories>
      <tags>
        <tag>LLVM</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu16.04 ä¸‹Anacondaçš„å®‰è£…ä¸ä½¿ç”¨</title>
    <url>/2022/07/21/Ubuntu/08InstallAnconda/</url>
    <content><![CDATA[<h2 id="anacondaä¸‹è½½ä¸å®‰è£…"><a class="markdownIt-Anchor" href="#anacondaä¸‹è½½ä¸å®‰è£…"></a> Anacondaä¸‹è½½ä¸å®‰è£…</h2>
<h3 id="ä¸‹è½½anaconda"><a class="markdownIt-Anchor" href="#ä¸‹è½½anaconda"></a> ä¸‹è½½Anaconda</h3>
<ul>
<li>å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a href="https://www.continuum.io/downloads">https://www.continuum.io/downloads</a></li>
<li>æ¸…åå¤§å­¦å¼€æºé•œåƒåœ°å€ï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/</a></li>
</ul>
<p>å®˜æ–¹ä¸‹è½½åœ°å€å¾€å¾€æ¯”è¾ƒæ…¢ï¼Œè¿™é‡Œè¾ƒä¸ºæ¨èå»æ¸…åå¼€æºé•œåƒåœ°å€ä¸‹è½½ï¼Œé€‰æ‹©å¥½è‡ªå·±çš„æ“ä½œç³»ç»Ÿå’Œæƒ³è¦å®‰è£…çš„è½¯ä»¶ç‰ˆæœ¬å°±å¥½äº†ã€‚</p>
<p><img src="/img/Ubuntu/08InstallAnconda/image-20220712212728662.png" alt="image-20220712212728662" /></p>
<p>è¿™é‡Œä¸‹è½½äº†<code>Anconda3-5.3.0-Linux-x86_64.sh</code></p>
<h3 id="å®‰è£…anaconda"><a class="markdownIt-Anchor" href="#å®‰è£…anaconda"></a> å®‰è£…Anaconda</h3>
<ul>
<li>æ‰“å¼€ä¸‹è½½çš„æ–‡ä»¶æ‰€åœ¨ä½ç½®</li>
<li>è¿è¡Œå®‰è£…<code>.sh</code>æ–‡ä»¶å‘½ä»¤</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash Anaconda3-5.3.0-Linux-x86_64.sh</span><br></pre></td></tr></table></figure>
<ul>
<li>ç„¶åä¸€è·¯æŒ‰Enteré”®æŸ¥çœ‹å®‰è£…è¯´æ˜</li>
</ul>
<h2 id="é…ç½®æ¸…åé•œåƒæº"><a class="markdownIt-Anchor" href="#é…ç½®æ¸…åé•œåƒæº"></a> é…ç½®æ¸…åé•œåƒæº</h2>
<p>é¦–å…ˆï¼Œè¾“å…¥å‘½ä»¤ <code>conda config --show channels</code> èƒ½å¤Ÿæ˜¾ç¤ºå‡ºæ‰€æœ‰channelsçš„ä¿¡æ¯ï¼Œä¸€èˆ¬æ˜¯defaultsçš„æºï¼Œä¸‹è½½é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œä¸å¤ªå‹å¥½ï¼Œæ¸…åæºé•œåƒèµ„æºåŒ…é½å…¨ï¼Œä¸‹è½½é€Ÿåº¦ï¼Œå› æ­¤å¸¸é…ç½®æˆæ¸…åæºã€‚</p>
<ul>
<li>ç¼–è¾‘æ–‡ä»¶<code>gedit ~/.condarc</code>ï¼Œå¤åˆ¶ä¸‹é¢å†…å®¹è‡³æ–‡ä»¶ä¸­</li>
</ul>
<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/fastai/</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/</span><br><span class="line"></span><br><span class="line">show_channel_urls: true</span><br><span class="line">ssl_verify: false</span><br></pre></td></tr></table></figure>
<p>é…ç½®å¥½çš„é•œåƒæºå†™å…¥anaconda3æ ¹ç›®å½•çš„ <code>~/.condarc</code> æ–‡ä»¶ä¸‹ï¼Œå¯ä»¥ç”¨å‘½ä»¤ <code>cat ~/.condarc</code> æŸ¥çœ‹ã€‚<a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">æ¸…åå¤§å­¦å¼€æºé•œåƒ - Anaconda é•œåƒä½¿ç”¨å¸®åŠ©</a> ä¸­æ¨èç”Ÿæˆçš„ <code>.condarc</code> æ–‡ä»¶å†…å®¹å¦‚ä¸‹:</p>
]]></content>
      <categories>
        <category>ç–‘éš¾æ‚ç—‡</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>ç–‘éš¾æ‚ç—‡</tag>
        <tag>anconda</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‘å‰å¤–å–é¡¹ç›®å®æˆ˜</title>
    <url>/2023/02/17/JAVA/17ReggieProject/</url>
    <content><![CDATA[<h1 id="ç‘å‰å¤–å–é¡¹ç›®å®æˆ˜"><a class="markdownIt-Anchor" href="#ç‘å‰å¤–å–é¡¹ç›®å®æˆ˜"></a> ç‘å‰å¤–å–é¡¹ç›®å®æˆ˜</h1>
<h1 id="ç¬¬ä¸€ç« -é¡¹ç›®å‡†å¤‡"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€ç« -é¡¹ç›®å‡†å¤‡"></a> ç¬¬ä¸€ç«  é¡¹ç›®å‡†å¤‡</h1>
<h2 id="å¼€å‘ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#å¼€å‘ç¯å¢ƒæ­å»º"></a> å¼€å‘ç¯å¢ƒæ­å»º</h2>
<h3 id="æ•°æ®åº“ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#æ•°æ®åº“ç¯å¢ƒæ­å»º"></a> æ•°æ®åº“ç¯å¢ƒæ­å»º</h3>
<p>åˆ›å»ºæ•°æ®åº“reggie</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">create database reggie character <span class="built_in">set</span> utf8mb4;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œsqlæ–‡ä»¶ï¼Œè¿›è¡Œè¡¨ç»“æ„çš„å¿«é€Ÿåˆ›å»ºã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> sqlæ–‡ä»¶ç»å¯¹ç›®å½•;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/17ReggieProject/image-20230216100735742.png" alt="image-20230216100735742" /></p>
<h3 id="mavenç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#mavenç¯å¢ƒæ­å»º"></a> mavenç¯å¢ƒæ­å»º</h3>
<p>åˆ›å»ºé¡¹ç›®reggie_take_outï¼Œæ£€æŸ¥mavenã€jreã€jdk</p>
<p>mavenä½¿ç”¨æœ¬åœ°ä»“åº“</p>
<p><img src="/img/Java/17ReggieProject/image-20230216102831905.png" alt="image-20230216102831905" /></p>
<p>mavenæ¢æº</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginGroups</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">proxies</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servers</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- mavenè‡ªåŠ¨ä¸‹è½½çš„jaråŒ…ï¼Œä¼šå­˜æ”¾åˆ°è¯¥ç›®å½•ä¸‹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>D:\maven\apache-maven-3.8.6\repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>Maven Repository Switchboard<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo1.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>repo2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo2.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>ibiblio<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://mirrors.ibiblio.org/pub/mirrors/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>jboss-public-repository-group<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>JBoss Public Repository Group<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repository.jboss.org/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>google-maven-central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>Google Maven Central<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven-central.storage.googleapis.com</span><br><span class="line">            <span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä¸­å¤®ä»“åº“åœ¨ä¸­å›½çš„é•œåƒ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven.net.cn<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>oneof the central mirrors in china<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.net.cn/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç¼–å†™é¡¹ç›®é…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line">&lt;/img/Java/17ReggieProject xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span><br><span class="line">         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.nuaa<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>reggie_take_out<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org./img/Java/17ReggieProjectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.76<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.23<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;//img/Java/17ReggieProject&gt;</span><br></pre></td></tr></table></figure>
<p>é…ç½®springé…ç½®æ–‡ä»¶</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="comment"># åº”ç”¨åç§°ï¼Œå¯é€‰</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">reggie_take_out</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/reggie?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">qqy.2520</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment">#åœ¨æ˜ å°„å®ä½“æˆ–è€…å±æ€§æ—¶ï¼Œå°†æ•°æ®åº“ä¸­è¡¨åå’Œå­—æ®µåä¸­çš„ä¸‹åˆ’çº¿å»æ‰ï¼ŒæŒ‰ç…§é©¼å³°å‘½åæ³•æ˜ å°„</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">ASSIGN_ID</span></span><br></pre></td></tr></table></figure>
<p>ç¼–å†™é¡¹ç›®å¯åŠ¨ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * springbootçš„å¯åŠ¨ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span>  <span class="comment">// è®°å½•æ—¥å¿—ä¿¡æ¯</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReggieApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(ReggieApplication.class, args);</span><br><span class="line">        log.info(<span class="string">&quot;é¡¹ç›®å¯åŠ¨æˆåŠŸï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="webmvcæ˜ å°„é…ç½®"><a class="markdownIt-Anchor" href="#webmvcæ˜ å°„é…ç½®"></a> webmvcæ˜ å°„é…ç½®</h3>
<p>ç¼–å†™ä¸€ä¸ªé…ç½®ç±»ï¼Œå®ç°æœç´¢è·¯å¾„å’Œé™æ€èµ„æºçš„æ˜ å°„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * springmvcé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * æœç´¢è·¯å¾„ä¸é™æ€èµ„æºçš„æ˜ å°„é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Configuration</span>  <span class="comment">// æ³¨è§£ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcConfig</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®é™æ€èµ„æºæ˜ å°„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> registry</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å¼€å§‹é™æ€èµ„æºæ˜ å°„....&quot;</span>);</span><br><span class="line">        <span class="comment">// è·¯å¾„åœ°å€å’Œé™æ€èµ„æºçš„æ˜ å°„</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/backend/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/backend/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/front/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/front/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åå°ç³»ç»Ÿç™»å½•åŠŸèƒ½"><a class="markdownIt-Anchor" href="#åå°ç³»ç»Ÿç™»å½•åŠŸèƒ½"></a> åå°ç³»ç»Ÿç™»å½•åŠŸèƒ½</h2>
<h3 id="å¯¼å…¥å‘˜å·¥å®ä½“ç±»"><a class="markdownIt-Anchor" href="#å¯¼å…¥å‘˜å·¥å®ä½“ç±»"></a> å¯¼å…¥å‘˜å·¥å®ä½“ç±»</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å‘˜å·¥å®ä½“ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String idNumber;  <span class="comment">// èº«ä»½è¯å· å¯¹åº”æ•°æ®åº“ä¸­çš„id_number,åœ¨é…ç½®æ–‡ä»¶ä¸­å·²ç»åšäº†ç›¸åº”é…ç½®</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºå¯¹åº”çš„mapper-service-controller"><a class="markdownIt-Anchor" href="#åˆ›å»ºå¯¹åº”çš„mapper-service-controller"></a> åˆ›å»ºå¯¹åº”çš„mapperã€serviceã€controller</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mapper</span>  <span class="comment">// æ³¨è§£ï¼Œè¡¨ç¤ºæ˜¯daoæŒä¹…å±‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmployeeMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Employee&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmployeeService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Employee&gt; &#123;</span><br><span class="line">    <span class="comment">//mybatis-plus å°è£…äº†å¾ˆå¤šæ–¹æ³•ï¼Œæ‰€ä»¥åŸºæœ¬ä¸ç”¨å†™äº†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.mapper.EmployeeMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.EmployeeService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span>  <span class="comment">// æ³¨è§£ï¼Œè¡¨ç¤ºæ˜¯serviceä¸šåŠ¡å±‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;EmployeeMapper, Employee&gt; <span class="keyword">implements</span> <span class="title class_">EmployeeService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.EmployeeService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.DigestUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/employee&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService employeeService;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ç¼–å†™æœåŠ¡ç«¯è¿”å›ç»“æœç±»"><a class="markdownIt-Anchor" href="#ç¼–å†™æœåŠ¡ç«¯è¿”å›ç»“æœç±»"></a> ç¼–å†™æœåŠ¡ç«¯è¿”å›ç»“æœç±»</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šç”¨è¿”å›ç»“æœï¼ŒæœåŠ¡ç«¯å“åº”çš„æ•°æ®æœ€ç»ˆéƒ½ä¼šå°è£…æˆæ­¤å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">R</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer code; <span class="comment">//ç¼–ç ï¼š1æˆåŠŸï¼Œ0å’Œå…¶å®ƒæ•°å­—ä¸ºå¤±è´¥</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String msg; <span class="comment">//é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> T data; <span class="comment">//æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>(); <span class="comment">//åŠ¨æ€æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; R&lt;T&gt; <span class="title function_">success</span><span class="params">(T object)</span> &#123;</span><br><span class="line">        R&lt;T&gt; r = <span class="keyword">new</span> <span class="title class_">R</span>&lt;T&gt;();</span><br><span class="line">        r.data = object;</span><br><span class="line">        r.code = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; R&lt;T&gt; <span class="title function_">error</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.msg = msg;</span><br><span class="line">        r.code = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> R&lt;T&gt; <span class="title function_">add</span><span class="params">(String key, Object value)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.map.put(key, value);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç¼–å†™ä¸šåŠ¡é€»è¾‘"><a class="markdownIt-Anchor" href="#ç¼–å†™ä¸šåŠ¡é€»è¾‘"></a> ç¼–å†™ä¸šåŠ¡é€»è¾‘</h3>
<p><img src="/img/Java/17ReggieProject/image-20230216154255440.png" alt="image-20230216154255440" /></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* å‘˜å·¥ç™»å½•</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> request ç”¨äºè·å–sessionï¼Œä¿å­˜session</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> employee å°†å‰ç«¯ä¼ é€’çš„ç”¨æˆ·åå’Œå¯†ç å°è£…åˆ°Employeeä¸­ï¼Œéœ€è¦åç§°å®Œå…¨ä¸€è‡´</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Employee&gt; <span class="title function_">login</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> employee.getUsername();</span><br><span class="line">    <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> employee.getPassword();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1.å°†å¯†ç è¿›è¡Œmd5åŠ å¯†å¤„ç†</span></span><br><span class="line">    password = DigestUtils.md5DigestAsHex(password.getBytes());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.æ ¹æ®é¡µé¢æäº¤çš„ç”¨æˆ·åusernameæŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">    LambdaQueryWrapper&lt;Employee&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(Employee::getUsername, employee.getUsername());</span><br><span class="line">    <span class="type">Employee</span> <span class="variable">emp</span> <span class="operator">=</span> employeeService.getOne(queryWrapper);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.å¦‚æœæ²¡æœ‰æŸ¥è¯¢åˆ°åˆ™è¿”å›ç™»å½•å¤±è´¥ç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span>(emp == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;ç™»å½•å¤±è´¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4.å¯†ç æ¯”å¯¹ï¼Œå¦‚æœä¸ä¸€è‡´åˆ™è¿”å›ç™»å½•å¤±è´¥ç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span>(!emp.getPassword().equals(password)) &#123;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;ç™»å½•å¤±è´¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 5.æŸ¥çœ‹å‘˜å·¥çŠ¶æ€ï¼Œå¦‚æœä¸ºå·²ç¦ç”¨çŠ¶æ€ï¼Œåˆ™è¿”å›å‘˜å·¥å·²ç¦ç”¨ç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span>(emp.getStatus() == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;è´¦å·å·²ç¦ç”¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6.ç™»å½•æˆåŠŸï¼Œå°†å‘˜å·¥idå­˜å…¥sessionå¹¶è¿”å›ç™»å½•æˆåŠŸç»“æœ</span></span><br><span class="line">    request.getSession().setAttribute(<span class="string">&quot;employee&quot;</span>, emp.getId());</span><br><span class="line">    <span class="keyword">return</span> R.success(emp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åå°ç³»ç»Ÿé€€å‡ºåŠŸèƒ½"><a class="markdownIt-Anchor" href="#åå°ç³»ç»Ÿé€€å‡ºåŠŸèƒ½"></a> åå°ç³»ç»Ÿé€€å‡ºåŠŸèƒ½</h2>
<p>ç›´æ¥åœ¨controllerä¸­ç¼–å†™ä¸šåŠ¡é€»è¾‘å³å¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* å‘˜å·¥æ¨å‡º</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> request ç”¨äºæ¸…ç†sessionä¸­çš„ç”¨æˆ·id</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> è¿”å›ç»™é¡µé¢çš„ç»“æœ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/logout&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">logout</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æ¸…ç†sessionä¸­çš„ç”¨æˆ·id</span></span><br><span class="line">    request.getSession().removeAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">    <span class="comment">// 2.è¿”å›ç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;é€€å‡ºæˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ç¬¬äºŒç« -å‘˜å·¥ç®¡ç†"><a class="markdownIt-Anchor" href="#ç¬¬äºŒç« -å‘˜å·¥ç®¡ç†"></a> ç¬¬äºŒç«  å‘˜å·¥ç®¡ç†</h1>
<h2 id="å®Œå–„ç™»å½•åŠŸèƒ½"><a class="markdownIt-Anchor" href="#å®Œå–„ç™»å½•åŠŸèƒ½"></a> å®Œå–„ç™»å½•åŠŸèƒ½</h2>
<p><strong>ä¸šåŠ¡éœ€æ±‚</strong> ï¼šéœ€è¦ä¿è¯åªæœ‰åœ¨ç™»å½•åæ‰å¯ä»¥è®¿é—®ä¸»é¡µé¢ï¼Œæœªç™»å½•æ—¶åˆ™é»˜è®¤è·³è½¬è‡³ç™»å½•é¡µé¢</p>
<p><strong>å…·ä½“å®ç°æ–¹æ³•</strong> ï¼šä½¿ç”¨ <strong>æ‹¦æˆªå™¨</strong> æˆ–è€… <strong>è¿‡æ»¤å™¨</strong> ï¼Œåœ¨è¿‡æ»¤å™¨æˆ–è€…æ‹¦æˆªå™¨ä¸­åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»å®Œæˆç™»å½•ï¼Œå¦‚æœæ²¡æœ‰ç™»å½•åˆ™è·³è½¬è‡³ç™»å½•é¡µé¢ã€‚</p>
<p>æœ¬é¡¹ç›®ä½¿ç”¨è¿‡æ»¤å™¨è¿›è¡Œå®Œå–„</p>
<p><img src="/img/Java/17ReggieProject/image-20230216164520572.png" alt="image-20230216164520572" /></p>
<p><strong>æ³¨æ„</strong> ï¼šéœ€è¦åœ¨springbootå¯åŠ¨ç±»ä¸­éœ€è¦æ·»åŠ <code>@ServletComponentScan</code>ï¼Œæ‰èƒ½åœ¨æ¯æ¬¡é¡¹ç›®å¯åŠ¨æ—¶å…ˆè¿è¡Œè¿‡æ»¤å™¨ã€‚</p>
<h3 id="ç™»å½•é¡µé¢è¿‡æ»¤å™¨"><a class="markdownIt-Anchor" href="#ç™»å½•é¡µé¢è¿‡æ»¤å™¨"></a> ç™»å½•é¡µé¢è¿‡æ»¤å™¨</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.ServletComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.AntPathMatcher;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç»å®Œæˆç™»å½•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@WebFilter(filterName = &quot;loginCheckFilter&quot;, urlPatterns = &quot;/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheckFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·¯å¾„åŒ¹é…å™¨ï¼Œæ”¯æŒé€šé…ç¬¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">AntPathMatcher</span> <span class="variable">PATH_MATCHER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AntPathMatcher</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸éœ€è¦è¯·æ±‚çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line">    <span class="keyword">private</span> String[] urls = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;</span><br><span class="line">            <span class="string">&quot;/employee/login&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/employee/logout&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/backend/**&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/front/**&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span> (HttpServletResponse) servletResponse;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1.è·å–æœ¬æ¬¡è¯·æ±‚çš„url</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line">        log.info(<span class="string">&quot;æ‹¦æˆªåˆ°è¯·æ±‚ï¼š&#123;&#125;&quot;</span>,requestURI);</span><br><span class="line">        <span class="comment">// 2.åˆ¤æ–­æœ¬æ¬¡è¯·æ±‚æ˜¯å¦éœ€è¦å¤„ç†</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">check</span> <span class="operator">=</span> check(requestURI);</span><br><span class="line">        <span class="comment">// 3.å¦‚æœä¸éœ€è¦å¤„ç†ï¼Œåˆ™ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span> (check) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;æœ¬æ¬¡è¯·æ±‚&#123;&#125;ä¸éœ€è¦å¤„ç†&quot;</span>,requestURI);</span><br><span class="line">            filterChain.doFilter(request, response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 4.åˆ¤æ–­ç™»å½•çŠ¶æ€ï¼Œå¦‚æœå·²ç»ç™»å½•ï¼Œåˆ™ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span> (request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>) != <span class="literal">null</span>) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;ç”¨æˆ·&#123;&#125;å·²ç™»å½•&quot;</span>,request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>));</span><br><span class="line">            filterChain.doFilter(request, response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;ç”¨æˆ·æœªç™»å½•&quot;</span>);</span><br><span class="line">        <span class="comment">// 5.å¦‚æœæœªç™»å½•åˆ™è¿”å›ç™»å½•é¡µé¢,é€šè¿‡è¾“å‡ºæµçš„æ–¹å¼å‘å®¢æˆ·ç«¯é¡µé¢å“åº”æ•°æ®</span></span><br><span class="line">        response.getWriter().write(JSON.toJSONString(R.error(<span class="string">&quot;NOTLOGIN&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·¯å¾„åŒ¹é…ï¼Œæ£€æŸ¥æœ¬æ¬¡è¯·æ±‚æ˜¯å¦éœ€è¦æ”¾è¡Œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> requestURI è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(String requestURI)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (String url : urls) &#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">match</span> <span class="operator">=</span> PATH_MATCHER.match(url, requestURI);</span><br><span class="line">            <span class="keyword">if</span> (match == <span class="literal">true</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ–°å¢å‘˜å·¥åŠŸèƒ½"><a class="markdownIt-Anchor" href="#æ–°å¢å‘˜å·¥åŠŸèƒ½"></a> æ–°å¢å‘˜å·¥åŠŸèƒ½</h2>
<p><img src="/img/Java/17ReggieProject/image-20230216203213257.png" alt="image-20230216203213257" /></p>
<p>ç¼–å†™æ–°å¢å‘˜å·¥çš„ä¸šåŠ¡é€»è¾‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;æ–°å¢å‘˜å·¥ä¿¡æ¯ï¼š&#123;&#125;&quot;</span>, employee.toString());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®åˆå§‹å¯†ç ï¼Œå¹¶è¿›è¡Œmd5åŠ å¯†å¤„ç†</span></span><br><span class="line">    employee.setPassword(DigestUtils.md5DigestAsHex(<span class="string">&quot;123456&quot;</span>.getBytes()));</span><br><span class="line"></span><br><span class="line">    employee.setCreateTime(LocalDateTime.now());</span><br><span class="line">    employee.setUpdateTime(LocalDateTime.now());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å¾—å½“å‰ç™»å½•ç”¨æˆ·çš„id</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">empId</span> <span class="operator">=</span> (Long) request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">    employee.setCreateUser(empId);</span><br><span class="line">    employee.setUpdateUser(empId);</span><br><span class="line"></span><br><span class="line">    employeeService.save(employee);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;æ–°å¢å‘˜å·¥æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç å¯èƒ½å­˜åœ¨é—®é¢˜ï¼ŒåŠ å…¥æ–°å¢çš„å‘˜å·¥ç”¨æˆ·åå¦‚æœé‡å¤ï¼Œåˆ™ä¼šæŠ¥å¼‚å¸¸ï¼Œå› æ­¤éœ€è¦å¯¹å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚</p>
<h3 id="ç¼–å†™å…¨å±€å¼‚å¸¸å¤„ç†"><a class="markdownIt-Anchor" href="#ç¼–å†™å…¨å±€å¼‚å¸¸å¤„ç†"></a> ç¼–å†™å…¨å±€å¼‚å¸¸å¤„ç†â­</h3>
<p>é€šå¸¸æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼š</p>
<ul>
<li>
<p>åœ¨controlleræ–¹æ³•ä¸­åŠ å…¥tryã€catchè¿›è¡Œå¼‚å¸¸æ•è·ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    employeeService.save(employee);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    <span class="keyword">return</span> R.error(<span class="string">&quot;æ–°å¢å‘˜å·¥å¤±è´¥&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä½¿ç”¨å¼‚å¸¸å¤„ç†å™¨è¿›è¡Œå…¨å±€å¼‚å¸¸æ•è·</p>
</li>
</ul>
<p><strong>ä½¿ç”¨å…¨å±€å¼‚å¸¸æ•è·</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ControllerAdvice;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLIntegrityConstraintViolationException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * å…¨å±€å¼‚å¸¸å¤„ç†ï¼Œåº•å±‚æ˜¯åŸºäºä»£ç†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@ControllerAdvice(annotations = &#123;RestController.class, Controller.class&#125;)</span>  <span class="comment">// æ‰«ææœ‰è¿™ä¸¤ç§æ³¨è§£çš„controllerç±»</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¼‚å¸¸å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(SQLIntegrityConstraintViolationException.class)</span>  <span class="comment">//å£°æ˜å¤„ç†å¼‚å¸¸çš„ç±»å‹</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">exceptionHandler</span><span class="params">(SQLIntegrityConstraintViolationException ex)</span> &#123;</span><br><span class="line">        log.error(ex.getMessage());</span><br><span class="line">        <span class="keyword">if</span>(ex.getMessage().contains(<span class="string">&quot;Duplicate entry&quot;</span>)) &#123;  <span class="comment">// å¼‚å¸¸ä¿¡æ¯ä¸­æ˜¯ç°å®å­—æ®µé‡å¤ï¼Œåˆ™è¿›è¡Œç›¸åº”çš„å¤„ç†</span></span><br><span class="line">            String[] split = ex.getMessage().split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> split[<span class="number">2</span>] + <span class="string">&quot;å·²å­˜åœ¨&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> R.error(msg);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;æœªçŸ¥é”™è¯¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"><a class="markdownIt-Anchor" href="#å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"></a> å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢</h2>
<p>ä»£ç å¼€å‘æµç¨‹</p>
<p><img src="/img/Java/17ReggieProject/image-20230217095651425.png" alt="image-20230217095651425" /></p>
<h3 id="é…ç½®mybatis-plusåˆ†é¡µæ’ä»¶"><a class="markdownIt-Anchor" href="#é…ç½®mybatis-plusåˆ†é¡µæ’ä»¶"></a> é…ç½®mybatis-plusåˆ†é¡µæ’ä»¶â­</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * é…ç½®mybatis-plusåˆ†é¡µæ’ä»¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span> <span class="comment">// ç”Ÿæˆä¸€ä¸ªBeanå¯¹è±¡ï¼Œå¹¶äº¤ç»™springç®¡ç†ã€‚</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">mybatisPlusInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        mybatisPlusInterceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>());</span><br><span class="line">        <span class="keyword">return</span> mybatisPlusInterceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®Œæˆå‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢çš„ä¸šåŠ¡é€»è¾‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åˆ†é¡µæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> page é¡µç </span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> pageSize æ¯é¡µæ˜¾ç¤ºçš„æ•°é‡</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> name å‘˜å·¥åå­—ï¼Œç”¨äºæ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> è¿”å›ç±»å‹ä¸ºR&lt;Page&gt;,å› ä¸ºé¡µé¢æ¥æ”¶çš„jsonæ•°æ®ä¸­æœ‰recordså’Œtotalä¸¤ä¸ªï¼Œæ‰€ä»¥ç”¨Page</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">getEmployee</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize, String name)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;page = &#123;&#125;, pageSize = &#123;&#125;, name = &#123;&#125;&quot;</span>, page, pageSize, name);</span><br><span class="line">    <span class="comment">// æ„é€ åˆ†é¡µæ„é€ å™¨</span></span><br><span class="line">    Page&lt;Employee&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>(page, pageSize);</span><br><span class="line">    <span class="comment">// æ„é€ æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Employee&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// æ·»åŠ è¿‡æ»¤æ¡ä»¶ï¼Œç”¨äºæ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line">    queryWrapper.like(StringUtils.isNotEmpty(name), Employee::getName, name);</span><br><span class="line">    <span class="comment">// æ·»åŠ æ’åºæ¡ä»¶ï¼ŒæŒ‰ç…§æ›´æ–°æ—¥æœŸé™åº</span></span><br><span class="line">    queryWrapper.orderByDesc(Employee::getUpdateTime);</span><br><span class="line">    <span class="comment">// æ‰§è¡ŒæŸ¥è¯¢</span></span><br><span class="line">    employeeService.page(pageInfo, queryWrapper);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R.success(pageInfo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·"><a class="markdownIt-Anchor" href="#å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·"></a> å¯ç”¨/ç¦ç”¨å‘˜å·¥è´¦å·</h2>
<h3 id="ä»£ç å¼€å‘"><a class="markdownIt-Anchor" href="#ä»£ç å¼€å‘"></a> ä»£ç å¼€å‘</h3>
<p><img src="/img/Java/17ReggieProject/image-20230217153830469.png" alt="image-20230217153830469" /></p>
<h3 id="ä»£ç å®ç°"><a class="markdownIt-Anchor" href="#ä»£ç å®ç°"></a> ä»£ç å®ç°</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®idä¿®æ”¹å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request ç”¨ä¸è¯·æ±‚sessionä¸­çš„employeeçš„id</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> employee ä¿®æ”¹åçš„å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">update</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span> &#123;</span><br><span class="line">    log.info(employee.toString());</span><br><span class="line"></span><br><span class="line">    <span class="type">Long</span> <span class="variable">empId</span> <span class="operator">=</span> (Long) request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">    employee.setUpdateTime(LocalDateTime.now());</span><br><span class="line">    employee.setUpdateUser(empId);</span><br><span class="line">    employeeService.updateById(employee);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;å‘˜å·¥ä¿¡æ¯ä¿®æ”¹æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å­˜åœ¨çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å­˜åœ¨çš„é—®é¢˜"></a> å­˜åœ¨çš„é—®é¢˜</h3>
<p>æ•°æ®åº“ä¸­çš„idå€¼æ˜¯19ä½çš„longå‹æ•°æ®ï¼Œå‘é€ç»™å‰ç«¯é¡µé¢æ—¶ï¼Œå‰ç«¯jsæŸå¤±äº†ç²¾åº¦ï¼Œåªä¿è¯äº†å‰16ä½æ•°å­—ï¼Œæ‰€ä»¥ä¿®æ”¹æ—¶è·å–çš„idå’Œæ•°æ®åº“ä¸­çš„ä¸ä¸€è‡´ã€‚</p>
<p>è§£å†³åŠæ³•æ˜¯ï¼ŒæœåŠ¡ç«¯ç»™é¡µé¢å“åº”æ•°æ®æ—¶ï¼Œå°† longå‹çš„æ•°æ®ç»Ÿä¸€è½¬ä¸ºstringç±»å‹ã€‚</p>
<p><img src="/img/Java/17ReggieProject/image-20230217155244810.png" alt="image-20230217155244810" /></p>
<h3 id="é…ç½®å¯¹è±¡æ˜ å°„å™¨"><a class="markdownIt-Anchor" href="#é…ç½®å¯¹è±¡æ˜ å°„å™¨"></a> é…ç½®å¯¹è±¡æ˜ å°„å™¨â­</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.DeserializationFeature;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.<span class="keyword">module</span>.SimpleModule;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ser.std.ToStringSerializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.deser.LocalDateDeserializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.deser.LocalTimeDeserializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.ser.LocalDateSerializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.ser.LocalTimeSerializer;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalTime;</span><br><span class="line"><span class="keyword">import</span> java.time.format.DateTimeFormatter;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> com.fasterxml.jackson.databind.DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹è±¡æ˜ å°„å™¨:åŸºäºjacksonå°†Javaå¯¹è±¡è½¬ä¸ºjsonï¼Œæˆ–è€…å°†jsonè½¬ä¸ºJavaå¯¹è±¡</span></span><br><span class="line"><span class="comment"> * å°†JSONè§£æä¸ºJavaå¯¹è±¡çš„è¿‡ç¨‹ç§°ä¸º [ä»JSONååºåˆ—åŒ–Javaå¯¹è±¡]</span></span><br><span class="line"><span class="comment"> * ä»Javaå¯¹è±¡ç”ŸæˆJSONçš„è¿‡ç¨‹ç§°ä¸º [åºåˆ—åŒ–Javaå¯¹è±¡åˆ°JSON]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JacksonObjectMapper</span> <span class="keyword">extends</span> <span class="title class_">ObjectMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DEFAULT_DATE_FORMAT</span> <span class="operator">=</span> <span class="string">&quot;yyyy-MM-dd&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DEFAULT_DATE_TIME_FORMAT</span> <span class="operator">=</span> <span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DEFAULT_TIME_FORMAT</span> <span class="operator">=</span> <span class="string">&quot;HH:mm:ss&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JacksonObjectMapper</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">//æ”¶åˆ°æœªçŸ¥å±æ€§æ—¶ä¸æŠ¥å¼‚å¸¸</span></span><br><span class="line">        <span class="built_in">this</span>.configure(FAIL_ON_UNKNOWN_PROPERTIES, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ååºåˆ—åŒ–æ—¶ï¼Œå±æ€§ä¸å­˜åœ¨çš„å…¼å®¹å¤„ç†</span></span><br><span class="line">        <span class="built_in">this</span>.getDeserializationConfig().withoutFeatures(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">SimpleModule</span> <span class="variable">simpleModule</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleModule</span>()</span><br><span class="line">                .addDeserializer(LocalDateTime.class, <span class="keyword">new</span> <span class="title class_">LocalDateTimeDeserializer</span>(DateTimeFormatter.ofPattern(DEFAULT_DATE_TIME_FORMAT)))</span><br><span class="line">                .addDeserializer(LocalDate.class, <span class="keyword">new</span> <span class="title class_">LocalDateDeserializer</span>(DateTimeFormatter.ofPattern(DEFAULT_DATE_FORMAT)))</span><br><span class="line">                .addDeserializer(LocalTime.class, <span class="keyword">new</span> <span class="title class_">LocalTimeDeserializer</span>(DateTimeFormatter.ofPattern(DEFAULT_TIME_FORMAT)))</span><br><span class="line"></span><br><span class="line">                .addSerializer(BigInteger.class, ToStringSerializer.instance)</span><br><span class="line">                .addSerializer(Long.class, ToStringSerializer.instance)</span><br><span class="line">                .addSerializer(LocalDateTime.class, <span class="keyword">new</span> <span class="title class_">LocalDateTimeSerializer</span>(DateTimeFormatter.ofPattern(DEFAULT_DATE_TIME_FORMAT)))</span><br><span class="line">                .addSerializer(LocalDate.class, <span class="keyword">new</span> <span class="title class_">LocalDateSerializer</span>(DateTimeFormatter.ofPattern(DEFAULT_DATE_FORMAT)))</span><br><span class="line">                .addSerializer(LocalTime.class, <span class="keyword">new</span> <span class="title class_">LocalTimeSerializer</span>(DateTimeFormatter.ofPattern(DEFAULT_TIME_FORMAT)));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ³¨å†ŒåŠŸèƒ½æ¨¡å— ä¾‹å¦‚ï¼Œå¯ä»¥æ·»åŠ è‡ªå®šä¹‰åºåˆ—åŒ–å™¨å’Œååºåˆ—åŒ–å™¨</span></span><br><span class="line">        <span class="built_in">this</span>.registerModule(simpleModule);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ‰©å±•æ¶ˆæ¯è½¬æ¢å™¨"><a class="markdownIt-Anchor" href="#æ‰©å±•æ¶ˆæ¯è½¬æ¢å™¨"></a> æ‰©å±•æ¶ˆæ¯è½¬æ¢å™¨</h3>
<p>åœ¨é¡¹ç›®å¯åŠ¨æ—¶å°±ä¼šè°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ‰©å±•mvcæ¡†æ¶çš„æ¶ˆæ¯è½¬æ¢å™¨</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> converters</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºæ¶ˆæ¯è½¬æ¢å™¨å¯¹è±¡</span></span><br><span class="line">    <span class="type">MappingJackson2HttpMessageConverter</span> <span class="variable">messageConverter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MappingJackson2HttpMessageConverter</span>();</span><br><span class="line">    <span class="comment">// è®¾ç½®å¯¹è±¡è½¬æ¢å™¨ï¼Œåº•å±‚ä½¿ç”¨Jacksonå°†javaå¯¹è±¡è½¬ä¸ºjson</span></span><br><span class="line">    messageConverter.setObjectMapper(<span class="keyword">new</span> <span class="title class_">JacksonObjectMapper</span>());</span><br><span class="line">    <span class="comment">// å°†ä¸Šé¢çš„æ¶ˆæ¯è½¬æ¢å™¨å¯¹è±¡è¿½åŠ åˆ°mvcæ¡†æ¶çš„è½¬æ¢å™¨é›†åˆä¸­</span></span><br><span class="line">    converters.add(<span class="number">0</span>, messageConverter);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç¼–è¾‘å‘˜å·¥ä¿¡æ¯"><a class="markdownIt-Anchor" href="#ç¼–è¾‘å‘˜å·¥ä¿¡æ¯"></a> ç¼–è¾‘å‘˜å·¥ä¿¡æ¯</h2>
<p>æ ¹æ®å‘˜å·¥ idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> id é¡µé¢ä¼ è¿‡æ¥çš„å‘˜å·¥id</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span>  <span class="comment">// è·¯å¾„ä¸­/idçš„éœ€è¦è¿™æ ·æ¥æ”¶ä¸”éœ€è¦@PathVariableå…³é”®å­—</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Employee&gt; <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯&quot;</span>);</span><br><span class="line">    <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> employeeService.getById(id);</span><br><span class="line">    <span class="keyword">if</span> (employee != <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> R.success(employee);</span><br><span class="line">    <span class="keyword">return</span> R.error(<span class="string">&quot;æ²¡æœ‰æŸ¥è¯¢åˆ°å¯¹åº”å‘˜å·¥ä¿¡æ¯&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ç¬¬ä¸‰ç« -åˆ†ç±»ç®¡ç†"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰ç« -åˆ†ç±»ç®¡ç†"></a> ç¬¬ä¸‰ç«  åˆ†ç±»ç®¡ç†</h1>
<h2 id="å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……"><a class="markdownIt-Anchor" href="#å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……"></a> å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……</h2>
<h3 id="å…¬å…±å­—æ®µ"><a class="markdownIt-Anchor" href="#å…¬å…±å­—æ®µ"></a> å…¬å…±å­—æ®µ</h3>
<p>å½“è‹¥å¹²è¡¨ä¸­å­˜åœ¨ç›¸åŒå­—æ®µï¼Œä¾‹å¦‚åˆ›å»ºæ—¶é—´ã€åˆ›å»ºäººã€ä¿®æ”¹æ—¶é—´ã€ä¿®æ”¹äººç­‰å­—æ®µï¼Œåˆ™å°†è¿™äº›å­—æ®µç§°ä¸ºå…¬å…±å­—æ®µï¼Œå› æ­¤éœ€è¦å°†è¿™äº›å…¬å…±å­—æ®µåœ¨æŸä¸ªåœ°æ–¹ç»Ÿä¸€å¤„ç†ï¼Œæ¥ç®€åŒ–å¼€å‘ã€‚å¯ä»¥ä½¿ç”¨mybatis-plusæä¾›çš„å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……åŠŸèƒ½ã€‚</p>
<h3 id="å®ç°æ­¥éª¤"><a class="markdownIt-Anchor" href="#å®ç°æ­¥éª¤"></a> å®ç°æ­¥éª¤</h3>
<p><img src="/img/Java/17ReggieProject/image-20230217192302097.png" alt="image-20230217192302097" /></p>
<p>æ­¥éª¤1ï¼šåœ¨ç›¸åº”çš„å®ä½“ç±»ä¸­æ·»åŠ <code>@TableField</code>æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç›¸åº”å®ä½“ç±»çš„å¯¹åº”å±æ€§æ·»åŠ </span></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT)</span> <span class="comment">// æ’å…¥æ—¶å¡«å……å­—æ®µ</span></span><br><span class="line"><span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span>  <span class="comment">// æ’å…¥å’Œæ›´æ–°æ—¶å¡«å……å­—æ®µ</span></span><br><span class="line"><span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line"><span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line"><span class="keyword">private</span> Long updateUser;</span><br></pre></td></tr></table></figure>
<p>æ­¥éª¤2ï¼šè‡ªå®šä¹‰å…ƒæ•°æ®å¯¹è±¡å¤„ç†å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.reflection.MetaObject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰çš„å…ƒæ•°æ®å¯¹è±¡å¤„ç†å™¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span>  <span class="comment">// æ³¨è§£ä½œç”¨ï¼šæŠŠæ™®é€šçš„pojoå®ä¾‹åŒ–åˆ°springå®¹å™¨ä¸­</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title class_">MetaObjectHandler</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ’å…¥æ“ä½œï¼Œè‡ªåŠ¨å¡«å……</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> metaObject</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……ã€insertã€‘.....&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;createTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateTime&quot;</span>, LocalDateTime.now());</span><br><span class="line"></span><br><span class="line">        metaObject.setValue(<span class="string">&quot;createUser&quot;</span>, <span class="keyword">new</span> <span class="title class_">Long</span>(<span class="number">1</span>));</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateUser&quot;</span>, <span class="keyword">new</span> <span class="title class_">Long</span>(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ›´æ–°æ“ä½œï¼Œè‡ªåŠ¨å¡«å……</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> metaObject</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……ã€updateã€‘.....&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line"></span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        </span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateUser&quot;</span>, <span class="keyword">new</span> <span class="title class_">Long</span>(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŠŸèƒ½å®Œå–„"><a class="markdownIt-Anchor" href="#åŠŸèƒ½å®Œå–„"></a> åŠŸèƒ½å®Œå–„â­</h3>
<p>ä¸Šè¿°ä»£ç ä¸­<code>updateUser</code>å’Œ<code>createUser</code>ä¸¤ä¸ªå­—æ®µçš„å€¼æ˜¯å†™æ­»çš„ï¼Œä½†æ˜¯åœ¨å®é™…ä¸­ï¼Œéœ€è¦è·å–å½“å‰æ‰§è¡Œæ“ä½œçš„ç”¨æˆ·idã€‚å› æ­¤éœ€è¦å°†è¿™éƒ¨åˆ†åŠŸèƒ½è¿›è¡Œå®Œå–„ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨<code>ThreadLocal</code>æ¥è§£å†³æ­¤ç±»é—®é¢˜ï¼Œå®ƒæ˜¯jdkæä¾›çš„ä¸€ä¸ªç±»ã€‚</p>
<p><img src="/img/Java/17ReggieProject/image-20230217195711831.png" alt="image-20230217195711831" /></p>
<p><code>ThreadLocal</code><strong>ä»‹ç»</strong></p>
<p><img src="/img/Java/17ReggieProject/image-20230217200030934.png" alt="image-20230217200030934" /></p>
<p><strong>å…·ä½“å®ç°æ–¹æ³•</strong> ï¼šåœ¨<code>LoginCheckFilter</code>çš„<code>doFilter</code>æ–¹æ³•ä¸­è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„idï¼Œå¹¶è°ƒç”¨<code>ThreadLocal</code>çš„<code>set</code>æ–¹æ³•æ¥è®¾ç½®å½“å‰çº¿ç¨‹å±€éƒ¨å˜é‡çš„å€¼ï¼ˆç”¨æˆ·idï¼‰ï¼Œç„¶ååœ¨<code>MyMetaObjectHandler</code>çš„<code>updateFill</code>æ–¹æ³•ä¸­è°ƒç”¨<code>ThreadLocal</code>çš„<code>get</code>æ–¹æ³•æ¥è·å¾—å½“å‰çº¿ç¨‹æ‰€å¯¹åº”çš„çº¿ç¨‹å±€éƒ¨å˜é‡çš„å€¼ã€‚</p>
<h4 id="å®ç°æ­¥éª¤-2"><a class="markdownIt-Anchor" href="#å®ç°æ­¥éª¤-2"></a> å®ç°æ­¥éª¤</h4>
<p><img src="/img/Java/17ReggieProject/image-20230217200638084.png" alt="image-20230217200638084" /></p>
<p>æ­¥éª¤1ï¼šç¼–å†™å·¥å…·ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * åŸºäºThreadLocalå°è£…å·¥å…·ç±»ï¼Œç”¨æˆ·ä¿å­˜å’Œè·å–å½“å‰ç™»å½•ç”¨æˆ·id</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseContext</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ThreadLocal&lt;Long&gt; threadLocal = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setCurrentId</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        threadLocal.set(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Long <span class="title function_">getCurrentId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> threadLocal.get();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¥éª¤2ï¼šç»‘å®šå½“å‰çº¿ç¨‹çš„ç”¨æˆ·id</p>
<p><img src="/img/Java/17ReggieProject/image-20230217201225326.png" alt="image-20230217201225326" /></p>
<p>æ­¥éª¤3ï¼šå–å‡ºç»‘å®šçš„çº¿ç¨‹id</p>
<p><img src="/img/Java/17ReggieProject/image-20230217201320877.png" alt="image-20230217201320877" /></p>
<h2 id="æ–°å¢åˆ†ç±»"><a class="markdownIt-Anchor" href="#æ–°å¢åˆ†ç±»"></a> æ–°å¢åˆ†ç±»</h2>
<h3 id="å¯¼å…¥å®ä½“ç±»"><a class="markdownIt-Anchor" href="#å¯¼å…¥å®ä½“ç±»"></a> å¯¼å…¥å®ä½“ç±»</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> lombok.Setter;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ†ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Category</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç±»å‹ 1 èœå“åˆ†ç±» 2 å¥—é¤åˆ†ç±»</span></span><br><span class="line">    <span class="keyword">private</span> Integer type;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ†ç±»åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//é¡ºåº</span></span><br><span class="line">    <span class="keyword">private</span> Integer sort;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºæ—¶é—´</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ›´æ–°æ—¶é—´</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºäºº</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¿®æ”¹äºº</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¯å¦åˆ é™¤</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºmapper-service-controller"><a class="markdownIt-Anchor" href="#åˆ›å»ºmapper-service-controller"></a> åˆ›å»ºmapperã€serviceã€controller</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Category;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CategoryMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Category&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Category;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CategoryService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Category&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Category;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.mapper.CategoryMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.CategoryService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CategoryServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;CategoryMapper, Category&gt; <span class="keyword">implements</span> <span class="title class_">CategoryService</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.CategoryService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/category&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CategoryController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CategoryService categoryService;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç å®ç°-2"><a class="markdownIt-Anchor" href="#ä»£ç å®ç°-2"></a> ä»£ç å®ç°</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ–°å¢åˆ†ç±»</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> category é¡µé¢è¾“å…¥çš„åˆ†ç±»ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">add</span><span class="params">(<span class="meta">@RequestBody</span> Category category)</span>&#123;</span><br><span class="line">    log.info(<span class="string">&quot;category: &#123;&#125;&quot;</span>, category);</span><br><span class="line">    <span class="comment">// å¦‚æœnameå­—æ®µé‡å¤ï¼Œåˆ™ä¼šæŠ›å¼‚å¸¸ï¼Œä¼šè·³è½¬è‡³ GlobalExceptionHandler å‡½æ•°ä¸­æ‰§è¡Œå¼‚å¸¸å¤„ç†ã€‚</span></span><br><span class="line">    <span class="comment">// å…¶ä¸­åˆ›å»ºæ—¶é—´ï¼Œæ›´æ–°æ—¶é—´ï¼Œåˆ›å»ºäººï¼Œæ›´æ–°äººï¼Œä¼šå› ä¸ºå®ä½“ç±»ä¸­çš„å¯¹åº”å­—æ®µåŠ äº†æ³¨è§£ï¼Œä½¿ç”¨å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……äº†ï¼Œæ‰€ä»¥ä¸ç”¨å¤„ç†ã€‚</span></span><br><span class="line">    categoryService.save(category);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;æ–°å¢åˆ†ç±»æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ†ç±»ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"><a class="markdownIt-Anchor" href="#åˆ†ç±»ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"></a> åˆ†ç±»ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢</h2>
<p>å’Œä¹‹å‰å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢ç±»ä¼¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åˆ†ç±»ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> page é¡µç </span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> pageSize æ¯é¡µæ¡æ•°</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">getCategory</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;page: &#123;&#125;, pageInfo: &#123;&#125;&quot;</span>, page, pageSize);</span><br><span class="line">    <span class="comment">// æ„é€ åˆ†é¡µæ„é€ å™¨</span></span><br><span class="line">    Page&lt;Category&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>(page, pageSize);</span><br><span class="line">    <span class="comment">// æ„é€ æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Category&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// ç»‘å®šæ¡ä»¶</span></span><br><span class="line">    queryWrapper.orderByAsc(Category::getSort); <span class="comment">// å‡åº</span></span><br><span class="line">    <span class="comment">// æ‰§è¡ŒæŸ¥è¯¢</span></span><br><span class="line">    categoryService.page(pageInfo, queryWrapper);</span><br><span class="line">    <span class="keyword">return</span> R.success(pageInfo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ é™¤åˆ†ç±»"><a class="markdownIt-Anchor" href="#åˆ é™¤åˆ†ç±»"></a> åˆ é™¤åˆ†ç±»</h2>
<h3 id="éœ€æ±‚åˆ†æ"><a class="markdownIt-Anchor" href="#éœ€æ±‚åˆ†æ"></a> éœ€æ±‚åˆ†æ</h3>
<p>åœ¨åˆ†ç±»ç®¡ç†åˆ—è¡¨é¡µé¢ï¼Œå¯ä»¥å¯¹æŸä¸ªåˆ†ç±»è¿›è¡Œåˆ é™¤æ“ä½œï¼›éœ€è¦æ³¨æ„çš„æ˜¯å½“åˆ†ç±»å…³è”äº†èœå“æˆ–è€…å¥—é¤æ—¶ï¼Œæ­¤åˆ†ç±»ä¸å…è®¸åˆ é™¤ã€‚</p>
<h3 id="ä»£ç å®ç°-3"><a class="markdownIt-Anchor" href="#ä»£ç å®ç°-3"></a> ä»£ç å®ç°</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®idåˆ é™¤åˆ†ç±»ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> id é¡µé¢ä¼ è¿‡æ¥çš„id</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@DeleteMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">delete</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;åˆ é™¤çš„idæ˜¯ï¼š &#123;&#125;&quot;</span>, id);</span><br><span class="line">    categoryService.removeById(id);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç å®Œå–„"><a class="markdownIt-Anchor" href="#ä»£ç å®Œå–„"></a> ä»£ç å®Œå–„â­</h3>
<p><img src="/img/Java/17ReggieProject/image-20230219162851125.png" alt="image-20230219162851125" /></p>
<ol>
<li>åˆ›å»ºä¸¤ä¸ªå®ä½“ç±»ï¼šèœå“Dishï¼Œå¥—é¤Detmeal</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> èœå“</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dish</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//èœå“åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//èœå“åˆ†ç±»id</span></span><br><span class="line">    <span class="keyword">private</span> Long categoryId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//èœå“ä»·æ ¼</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å•†å“ç </span></span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">private</span> String image;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æè¿°ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//0 åœå”® 1 èµ·å”®</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//é¡ºåº</span></span><br><span class="line">    <span class="keyword">private</span> Integer sort;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¯å¦åˆ é™¤</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¥—é¤</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Setmeal</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ†ç±»id</span></span><br><span class="line">    <span class="keyword">private</span> Long categoryId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¥—é¤åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¥—é¤ä»·æ ¼</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//çŠ¶æ€ 0:åœç”¨ 1:å¯ç”¨</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç¼–ç </span></span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æè¿°ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">private</span> String image;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¯å¦åˆ é™¤</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>å®ç°å¯¹åº”çš„mapperã€serviceã€controlleræ¥å£æˆ–è€…ç±»</li>
<li>ä»£ç å®Œå–„</li>
</ol>
<p>é¦–å…ˆåœ¨<code>CategoryServiceImpl</code>ä¸­é‡æ–°å†™<code>remove</code>å‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ ¹æ®idåˆ é™¤åˆ†ç±»ï¼Œåˆ é™¤ä¹‹å‰éœ€è¦è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    LambdaQueryWrapper&lt;Dish&gt; dishLambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// æ·»åŠ æŸ¥è¯¢æ¡ä»¶ï¼Œæ ¹æ®åˆ†ç±»idè¿›è¡ŒæŸ¥è¯¢</span></span><br><span class="line">    dishLambdaQueryWrapper.eq(Dish::getCategoryId, id);</span><br><span class="line">    <span class="type">int</span> <span class="variable">count1</span> <span class="operator">=</span> dishService.count(dishLambdaQueryWrapper);</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢å½“å‰åˆ†ç±»æ˜¯å¦å…³è”äº†é¤å“ï¼Œå¦‚æœå·²ç»å…³è”ï¼ŒæŠ›å‡ºä¸€ä¸ªä¸šåŠ¡å¼‚å¸¸ã€‚</span></span><br><span class="line">    <span class="keyword">if</span>(count1 &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// å·²ç»å…³è”èœå“ï¼ŒæŠ›å‡ºä¸€ä¸ªä¸šåŠ¡å¼‚å¸¸ã€‚</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;å½“å‰åˆ†ç±»ä¸‹å·²ç»å…³è”èœå“ï¼Œä¸èƒ½åˆ é™¤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢å½“å‰åˆ†ç±»æ˜¯å¦å…³è”äº†å¥—é¤ï¼Œå¦‚æœå·²ç»å…³è”ï¼ŒæŠ›å‡ºä¸€ä¸ªä¸šåŠ¡å¼‚å¸¸ã€‚</span></span><br><span class="line">    LambdaQueryWrapper&lt;Setmeal&gt; setmealLambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// æ·»åŠ æŸ¥è¯¢æ¡ä»¶ï¼Œæ ¹æ®åˆ†ç±»idè¿›è¡ŒæŸ¥è¯¢</span></span><br><span class="line">    setmealLambdaQueryWrapper.eq(Setmeal::getCategoryId, id);</span><br><span class="line">    <span class="type">int</span> <span class="variable">count2</span> <span class="operator">=</span> setmealService.count(setmealLambdaQueryWrapper);</span><br><span class="line">    <span class="keyword">if</span>(count2 &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// å·²ç»å…³è”å¥—é¤ï¼ŒæŠ›å‡ºä¸€ä¸ªä¸šåŠ¡å¼‚å¸¸ã€‚</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;å½“å‰åˆ†ç±»ä¸‹å·²ç»å…³è”å¥—é¤ï¼Œä¸èƒ½åˆ é™¤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">super</span>.removeById(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åè¿›è¡Œå¼‚å¸¸å¤„ç†ï¼Œå…ˆè‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸å¤„ç†å‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CustomException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å†åœ¨å…¨å±€çš„å¼‚å¸¸å¤„ç†å‡½æ•°<code>GlobalExceptionHandler</code>ä¸­åŠ å…¥æ–¹æ³•ï¼Œä¸»è¦æ˜¯ä¸ºäº†å°†å¼‚å¸¸ä¿¡æ¯æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * customè‡ªå®šä¹‰å¼‚å¸¸å¤„ç†æ–¹æ³•ï¼Œä¸»è¦æ˜¯å°†å¼‚å¸¸æç¤ºä¿¡æ¯æ˜¾ç¤ºåœ¨é¡µé¢</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@ExceptionHandler(CustomException.class)</span>  <span class="comment">//å£°æ˜å¤„ç†å¼‚å¸¸çš„ç±»å‹</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">exceptionHandler</span><span class="params">(CustomException ex)</span> &#123;</span><br><span class="line">    log.error(ex.getMessage());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R.error(ex.getMessage());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¿®æ”¹åˆ†ç±»"><a class="markdownIt-Anchor" href="#ä¿®æ”¹åˆ†ç±»"></a> ä¿®æ”¹åˆ†ç±»</h2>
<p>ä»£ç å®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* ä¿®æ”¹åˆ†ç±»ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> category é¡µé¢ä¼ é€’çš„ä¿®æ”¹åçš„åˆ†ç±»ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> Category category)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;ä¿®æ”¹åˆ†ç±»ä¿¡æ¯ï¼š&#123;&#125;&quot;</span>, category);</span><br><span class="line">    <span class="comment">// ä¸éœ€è¦è¿›è¡Œæ›´æ–°æ—¶é—´æˆ–è€…æ›´æ–°äººå­—æ®µè®¾ç½®äº†ã€‚</span></span><br><span class="line">    categoryService.updateById(category);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;ä¿®æ”¹æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ç¬¬å››ç« -èœå“ç®¡ç†"><a class="markdownIt-Anchor" href="#ç¬¬å››ç« -èœå“ç®¡ç†"></a> ç¬¬å››ç«  èœå“ç®¡ç†</h1>
<h2 id="æ–‡ä»¶ä¸Šä¼ ä¸‹è½½"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ä¸Šä¼ ä¸‹è½½"></a> æ–‡ä»¶ä¸Šä¼ ä¸‹è½½â­â­</h2>
<h3 id="æ–‡ä»¶ä¸Šä¼ "><a class="markdownIt-Anchor" href="#æ–‡ä»¶ä¸Šä¼ "></a> æ–‡ä»¶ä¸Šä¼ â—</h3>
<p>é¡µé¢ä¸Šä¼ ç»„ä»¶è®¾ç½®</p>
<p><img src="/img/Java/17ReggieProject/image-20230220153722730.png" alt="image-20230220153722730" /></p>
<p>æœåŠ¡ç«¯æ¥æ”¶æ–‡ä»¶é…ç½®</p>
<p><img src="/img/Java/17ReggieProject/image-20230220154146798.png" alt="image-20230220154146798" /></p>
<h3 id="æ–‡ä»¶ä¸‹è½½"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ä¸‹è½½"></a> æ–‡ä»¶ä¸‹è½½</h3>
<p><img src="/img/Java/17ReggieProject/image-20230220154336114.png" alt="image-20230220154336114" /></p>
<h3 id="ä»£ç å®ç°-4"><a class="markdownIt-Anchor" href="#ä»£ç å®ç°-4"></a> ä»£ç å®ç°</h3>
<p>åœ¨<code>resources/application.yml</code>ä¸­æ·»åŠ é…ç½®ã€‚</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é…ç½®æ–‡ä»¶ä¿å­˜è·¯å¾„</span></span><br><span class="line"><span class="attr">reggie:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">D:\</span></span><br></pre></td></tr></table></figure>
<p>å®ç°ä»£ç æ¥æ”¶å¹¶ä¿å­˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.UUID;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/common&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;reggie.path&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String basePath;  <span class="comment">// æ–‡ä»¶ä¸Šä¼ ç›®å½•ï¼Œé…ç½®å†resources/application.ymlä¸­</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ä¸Šä¼ </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file å¿…é¡»å’Œå‰ç«¯inputæ¡†çš„nameå±æ€§åä¸€è‡´</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">upload</span><span class="params">(MultipartFile file)</span> &#123;</span><br><span class="line">        <span class="comment">// å½“å‰fileæ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œéœ€è¦è½¬å­˜åˆ°æŒ‡å®šä½ç½®ï¼Œå¦åˆ™æœ¬æ¬¡è¯·æ±‚å®Œæˆåä¸´æ—¶æ–‡ä»¶ä¼šåˆ é™¤</span></span><br><span class="line">        log.info(file.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—åŸå§‹æ–‡ä»¶å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line">        <span class="comment">// æˆªå–æ–‡ä»¶ååç¼€</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">suffix</span> <span class="operator">=</span> originalFilename.substring(originalFilename.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨UUIDé‡æ–°ç”Ÿæˆæ–‡ä»¶åï¼Œé˜²æ­¢æ–‡ä»¶åç§°é‡å¤é€ æˆæ–‡ä»¶è¦†ç›–</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> UUID.randomUUID().toString() + suffix;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªç›®å½•å¯¹è±¡</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basePath);</span><br><span class="line">        <span class="comment">// åˆ¤æ–­å½“å‰ç›®å½•æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span>(!dir.exists()) &#123;</span><br><span class="line">            <span class="comment">// ç›®å½•ä¸å­˜åœ¨ï¼Œéœ€è¦åˆ›å»º</span></span><br><span class="line">            dir.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// å°†ä¸´æ—¶æ–‡ä»¶è½¬å­˜åˆ°æŒ‡å®šä½ç½®</span></span><br><span class="line">            file.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(basePath + fileName));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿”å›æ–‡ä»¶åç§°</span></span><br><span class="line">        <span class="keyword">return</span> R.success(fileName);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ä¸‹è½½</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name æ–‡ä»¶åç§°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/download&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">download</span><span class="params">(String name, HttpServletResponse response)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// è¾“å…¥æµï¼Œé€šè¿‡è¾“å…¥æµè¯»å–æ–‡ä»¶å†…å®¹</span></span><br><span class="line">            <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(basePath + name));</span><br><span class="line">            <span class="comment">// è¾“å‡ºæµï¼Œé€šè¿‡è¾“å‡ºæµå°†æ–‡ä»¶å†™å›ï¼Œåœ¨æµè§ˆå™¨å±•ç¤ºå›¾ç‰‡</span></span><br><span class="line">            <span class="type">ServletOutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è®¾ç½®å“åº”æ ¼å¼</span></span><br><span class="line">            response.setContentType(<span class="string">&quot;image/jpeg&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">while</span> ((len = fileInputStream.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                outputStream.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">                outputStream.flush();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">            outputStream.close();</span><br><span class="line">            fileInputStream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ–°å¢èœå“"><a class="markdownIt-Anchor" href="#æ–°å¢èœå“"></a> æ–°å¢èœå“</h2>
<p>å¯¼å…¥<code>DishFlavor</code>èœå“å£å‘³å®ä½“ç±»ã€‚åˆ›å»ºå¯¹åº”çš„<code>mapper</code>ã€<code>service</code>ã€<code>controller</code>ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">èœå“å£å‘³</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishFlavor</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//èœå“id</span></span><br><span class="line">    <span class="keyword">private</span> Long dishId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å£å‘³åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å£å‘³æ•°æ®list</span></span><br><span class="line">    <span class="keyword">private</span> String value;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¯å¦åˆ é™¤</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>äº¤äº’è¿‡ç¨‹</p>
<p><img src="/img/Java/17ReggieProject/image-20230220191812865.png" alt="image-20230220191812865" /></p>
<p>æ­¥éª¤1ï¼šå…ˆå®Œæˆèœå“åˆ†ç±»ä¿¡æ¯çš„æ˜¾ç¤º</p>
<p><img src="/img/Java/17ReggieProject/image-20230220192639017.png" alt="image-20230220192639017" /></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ ¹æ®æ¡ä»¶æŸ¥è¯¢åˆ†ç±»æ•°æ®</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> category é¡µé¢ä¼ è¿‡æ¥çš„åˆ†ç±»ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;List&lt;Category&gt;&gt; <span class="title function_">list</span><span class="params">(Category category)</span> &#123;</span><br><span class="line">    <span class="comment">// æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Category&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// æ·»åŠ æ¡ä»¶</span></span><br><span class="line">    queryWrapper.eq(category.getType() != <span class="literal">null</span>, Category::getType, category.getType());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ æ’åºæ¡ä»¶</span></span><br><span class="line">    queryWrapper.orderByAsc(Category::getSort).orderByDesc(Category::getUpdateTime);</span><br><span class="line">    List&lt;Category&gt; categories = categoryService.list(queryWrapper);</span><br><span class="line">    <span class="keyword">return</span> R.success(categories);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¥éª¤2ï¼šå›¾ç‰‡ä¸Šä¼ ä¸‹è½½ï¼Œä¹‹å‰å·²ç»å®Œæˆã€‚</p>
<p>æ­¥éª¤3ï¼šèœå“ä¿¡æ¯ä¿å­˜</p>
<p>å› ä¸ºå‰ç«¯ä¼ é€’çš„ä¿¡æ¯åŒ…å«æ•°æ®åº“ä¸­ä¸¤ä¸ªè¡¨ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°å¯¼å…¥ä¸€ä¸ªå®ä½“ç±»<code>DishDto</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.dto;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Dish;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.DishFlavor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishDto</span> <span class="keyword">extends</span> <span class="title class_">Dish</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;DishFlavor&gt; flavors = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String categoryName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer copies;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºéœ€è¦æ“ä½œä¸¤å¼ è¡¨ï¼Œæ‰€ä»¥éœ€è¦å¼€å¯<strong>äº‹åŠ¡æ”¯æŒ</strong> â­ï¼Œé¦–å…ˆéœ€è¦åœ¨å¯åŠ¨ç±»ä¸­æ·»åŠ <code>@EnableTransactionManagement</code>æ³¨è§£ï¼Œ å¼€å¯äº‹åŠ¡æ”¯æŒã€‚ç„¶ååœ¨<code>DishServiceImpl</code> ä¸­å®ç°å…·ä½“çš„ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ–°å¢èœå“ï¼ŒåŒæ—¶ä¿å­˜å¯¹åº”å¾—å£å‘³æ•°æ®</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> dishDto</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Transactional</span>  <span class="comment">// æ“ä½œä¸¤å¼ è¡¨ï¼Œéœ€è¦ç»‘å®šäº‹åŠ¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveWithFlavor</span><span class="params">(DishDto dishDto)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜èœå“å¾—åŸºæœ¬ä¿¡æ¯åˆ°èœå“è¡¨</span></span><br><span class="line">    <span class="built_in">this</span>.save(dishDto);</span><br><span class="line">    <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> dishDto.getId(); <span class="comment">// èœå“id</span></span><br><span class="line"></span><br><span class="line">    List&lt;DishFlavor&gt; flavors = dishDto.getFlavors();</span><br><span class="line">    <span class="comment">// ç»™æ¯ä¸€é¡¹ç»‘å®šdishid.  Lambdaè¡¨è¾¾å¼</span></span><br><span class="line">    flavors.stream().map((item) -&gt; &#123;</span><br><span class="line">        item.setDishId(dishId);</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿å­˜èœå“å£å‘³æ•°æ®åˆ°èœå“å£å‘³è¡¨dishFlavor</span></span><br><span class="line">    dishFlavorService.saveBatch(dishDto.getFlavors());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="èœå“ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"><a class="markdownIt-Anchor" href="#èœå“ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"></a> èœå“ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢</h2>
<p><img src="/img/Java/17ReggieProject/image-20230220204149489.png" alt="image-20230220204149489" /></p>
<p>ä»£ç å®ç°â­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èœå“ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> page     é¡µç </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> pageSize æ¯é¡µæ¡æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> name     èœå“åç§°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">getDish</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize, String name)</span> &#123;</span><br><span class="line">    <span class="comment">// æ„é€ åˆ†é¡µæ„é€ å™¨</span></span><br><span class="line">    Page&lt;Dish&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    Page&lt;DishDto&gt; dishDtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// æ„é€ æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Dish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// æ·»åŠ è¿‡æ»¤æ¡ä»¶</span></span><br><span class="line">    queryWrapper.like(name != <span class="literal">null</span>, DishDto::getName, name);</span><br><span class="line">    <span class="comment">// æ·»åŠ æ’åºæ¡ä»¶</span></span><br><span class="line">    queryWrapper.orderByDesc(Dish::getUpdateTime);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">    dishService.page(pageInfo, queryWrapper);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹è±¡çš„æ‹·è´,å°†pageInfoä¸­é™¤äº†recordsçš„æ‰€æœ‰å±æ€§æ‹·è´è‡³dishDtoPageä¸­</span></span><br><span class="line">    BeanUtils.copyProperties(pageInfo, dishDtoPage, <span class="string">&quot;records&quot;</span>);</span><br><span class="line"></span><br><span class="line">    List&lt;Dish&gt; records = pageInfo.getRecords();</span><br><span class="line">    List&lt;DishDto&gt; list = records.stream().map((item) -&gt;&#123;</span><br><span class="line">        <span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DishDto</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†itemä¸­çš„å±æ€§æ‹·è´è‡³dishDtoä¸­</span></span><br><span class="line">        BeanUtils.copyProperties(item, dishDto);</span><br><span class="line"></span><br><span class="line">        <span class="type">Long</span> <span class="variable">categoryId</span> <span class="operator">=</span> item.getCategoryId(); <span class="comment">// åˆ†ç±»id</span></span><br><span class="line">        <span class="comment">// æ ¹æ®idæŸ¥è¯¢åˆ†ç±»å¯¹è±¡</span></span><br><span class="line">        <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryService.getById(categoryId);</span><br><span class="line">        <span class="type">String</span> <span class="variable">categoryName</span> <span class="operator">=</span> category.getName();</span><br><span class="line">        dishDto.setCategoryName(categoryName);</span><br><span class="line">        <span class="keyword">return</span> dishDto;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">    dishDtoPage.setRecords(list);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R.success(dishDtoPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¿®æ”¹èœå“"><a class="markdownIt-Anchor" href="#ä¿®æ”¹èœå“"></a> ä¿®æ”¹èœå“</h2>
<p><img src="/img/Java/17ReggieProject/image-20230221100533035.png" alt="image-20230221100533035" /></p>
<h3 id="èœå“ä¿¡æ¯å›æ˜¾"><a class="markdownIt-Anchor" href="#èœå“ä¿¡æ¯å›æ˜¾"></a> èœå“ä¿¡æ¯å›æ˜¾</h3>
<p>éœ€è¦æŸ¥è¯¢ä¸¤å¼ è¡¨ï¼š<code>dish</code>å’Œ<code>dish_flavor</code>ä¸¤å¼ è¡¨ï¼Œæ‰€ä»¥åœ¨<code>DishService</code>ä¸­å®ç°è¿™ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ ¹æ®idæŸ¥è¯¢å¯¹åº”çš„èœå“ä¿¡æ¯å’Œå£å‘³ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> id èœå“id</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> DishDto <span class="title function_">geByIdWithFlavor</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢èœå“åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">    <span class="type">Dish</span> <span class="variable">dish</span> <span class="operator">=</span> <span class="built_in">this</span>.getById(id);</span><br><span class="line"></span><br><span class="line">    <span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DishDto</span>();</span><br><span class="line">    BeanUtils.copyProperties(dish, dishDto);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢å½“å‰èœå“å¯¹åº”çš„å£å‘³ä¿¡æ¯ï¼Œä»dish_flavorè¡¨æŸ¥è¯¢</span></span><br><span class="line">    LambdaQueryWrapper&lt;DishFlavor&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(DishFlavor::getDishId, dish.getId());</span><br><span class="line">    List&lt;DishFlavor&gt; dishFlavors = dishFlavorService.list(queryWrapper);</span><br><span class="line">    dishDto.setFlavors(dishFlavors);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dishDto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ç°å¯¹åº”<code>controller</code>å±‚ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ ¹æ®èœå“idæŸ¥è¯¢å¯¹åº”çš„èœå“ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> id èœå“id</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;DishDto&gt; <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> &#123;</span><br><span class="line">    <span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> dishService.geByIdWithFlavor(id);</span><br><span class="line">    <span class="keyword">return</span> R.success(dishDto);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="èœå“ä¿¡æ¯ä¿®æ”¹"><a class="markdownIt-Anchor" href="#èœå“ä¿¡æ¯ä¿®æ”¹"></a> èœå“ä¿¡æ¯ä¿®æ”¹</h3>
<p>åŒæ ·æ˜¯ä¿®æ”¹ä¸¤ä¸ªè¡¨ï¼ŒåŒæ—¶è¿˜éœ€è¦å¼€å¯äº‹åŠ¡<code>@Transactional</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ›´æ–°èœå“ä¿¡æ¯ï¼ŒåŒæ—¶æ›´æ–°å¯¹åº”çš„å£å‘³æ•°æ®ï¼Œéœ€è¦æ“ä½œä¸¤å¼ è¡¨ï¼Œdishã€dishflavor</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> dishDto</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateWithFlavor</span><span class="params">(DishDto dishDto)</span> &#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°æ–°èœå“è¡¨dish</span></span><br><span class="line">    <span class="built_in">this</span>.updateById(dishDto);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// dish_flavorï¼Œæ¸…ç†å½“å‰èœå“å¯¹åº”çš„å£å‘³æ•°æ®ï¼Œdeleteæ“ä½œ</span></span><br><span class="line">    LambdaQueryWrapper&lt;DishFlavor&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(DishFlavor::getDishId, dishDto.getId());</span><br><span class="line"></span><br><span class="line">    dishFlavorService.remove(queryWrapper);</span><br><span class="line">    <span class="comment">// dish_flavorï¼Œé‡æ–°æ·»åŠ å½“å‰èœå“å¯¹åº”çš„å£å‘³æ•°æ®ï¼Œinsertæ“ä½œ</span></span><br><span class="line">    List&lt;DishFlavor&gt; flavors = dishDto.getFlavors();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»™æ¯ä¸€é¡¹ç»‘å®šdishid.  Lambdaè¡¨è¾¾å¼</span></span><br><span class="line">    flavors.stream().map((item) -&gt; &#123;</span><br><span class="line">        item.setDishId(dishDto.getId());</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line">    dishFlavorService.saveBatch(flavors);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>controller</code>å±‚ä»£ç å®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¿®æ”¹èœå“</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> dishDto</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> DishDto dishDto)</span>&#123;</span><br><span class="line">    dishService.updateWithFlavor(dishDto);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;èœå“ä¿¡æ¯ä¿®æ”¹æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ç¬¬äº”ç« -å¥—é¤ç®¡ç†"><a class="markdownIt-Anchor" href="#ç¬¬äº”ç« -å¥—é¤ç®¡ç†"></a> ç¬¬äº”ç«  å¥—é¤ç®¡ç†</h1>
<h2 id="æ–°å¢å¥—é¤"><a class="markdownIt-Anchor" href="#æ–°å¢å¥—é¤"></a> æ–°å¢å¥—é¤</h2>
<p>éœ€è¦ä¸¤å¼ è¡¨<code>setmeal</code>å’Œ<code>setmeal_dish</code>è¡¨</p>
<p><img src="/img/Java/17ReggieProject/image-20230221110857196.png" alt="image-20230221110857196" /></p>
<p>å®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¥—é¤èœå“å…³ç³»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetmealDish</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¥—é¤id</span></span><br><span class="line">    <span class="keyword">private</span> Long setmealId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//èœå“id</span></span><br><span class="line">    <span class="keyword">private</span> Long dishId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//èœå“åç§° ï¼ˆå†—ä½™å­—æ®µï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//èœå“åŸä»·</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä»½æ•°</span></span><br><span class="line">    <span class="keyword">private</span> Integer copies;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ’åº</span></span><br><span class="line">    <span class="keyword">private</span> Integer sort;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¯å¦åˆ é™¤</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.dto;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Setmeal;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.SetmealDish;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetmealDto</span> <span class="keyword">extends</span> <span class="title class_">Setmeal</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;SetmealDish&gt; setmealDishes;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String categoryName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹åº”çš„mapperã€service</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.SetmealDish;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SetmealDishMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;SetmealDish&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.SetmealDish;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SetmealDishService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;SetmealDish&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.SetmealDish;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.mapper.SetmealDishMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.SetmealDishService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetmealDishServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;SetmealDishMapper, SetmealDish&gt; <span class="keyword">implements</span> <span class="title class_">SetmealDishService</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/setmeal&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetmealController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SetmealService setmealService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SetmealDishService setmealDishService;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç å¼€å‘-2"><a class="markdownIt-Anchor" href="#ä»£ç å¼€å‘-2"></a> ä»£ç å¼€å‘</h3>
<p><img src="/img/Java/17ReggieProject/image-20230221112539556.png" alt="image-20230221112539556" /></p>
<p>æ­¥éª¤1ï¼š<code>/category/list?type=2</code>åœ¨<code>CategoryController</code>ä¸­å·²ç»å®ç°äº†å¯¹åº”çš„åŠŸèƒ½ã€‚</p>
<p>æ­¥éª¤2ï¼š<code>/category/list?type=1</code>åœ¨<code>CategoryController</code>ä¸­å·²ç»å®ç°äº†å¯¹åº”çš„åŠŸèƒ½ã€‚</p>
<p>æ­¥éª¤3ï¼š<code>/dish/list?categoryId=</code>è¯·æ±‚èœå“åˆ†ç±»æŸ¥è¯¢å¯¹åº”çš„èœå“æ•°æ®å¹¶å±•ç¤ºåˆ°èœå“ä¸­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®æ¡ä»¶æŸ¥è¯¢å¯¹åº”çš„èœå“æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> dish</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;List&lt;Dish&gt;&gt; <span class="title function_">list</span><span class="params">(Dish dish)</span> &#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Dish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(Dish::getStatus, <span class="number">1</span>);</span><br><span class="line">    queryWrapper.eq(dish.getCategoryId() != <span class="literal">null</span>, Dish::getCategoryId, dish.getCategoryId());</span><br><span class="line">    queryWrapper.orderByAsc(Dish::getSort).orderByDesc(Dish::getUpdateTime);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿›è¡ŒæŸ¥è¯¢</span></span><br><span class="line">    List&lt;Dish&gt; list = dishService.list(queryWrapper);</span><br><span class="line">    <span class="keyword">return</span> R.success(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/17ReggieProject/image-20230221113625532.png" alt="image-20230221113625532" /></p>
<p>æ­¥éª¤4ï¼š<code>/common/upload</code>å·²ç»åœ¨<code>CommonController</code>å®ç°äº†</p>
<p>æ­¥éª¤5ï¼š<code>/common/download</code>å·²ç»åœ¨<code>CommonController</code>å®ç°ã€‚</p>
<p>æ­¥éª¤6ï¼š<code>/setmeal</code>åœ¨<code>SetmealController</code>ä¸­å®ç°ï¼Œå› ä¸ºéœ€è¦åŒæ—¶å‘ä¸¤ä¸ªè¡¨ä¸­æ·»åŠ æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦ç°åœ¨<code>SetmealService</code>ä¸­å®ç°æ–¹æ³•ã€‚ç„¶åå†<code>controller</code>ä¸­è°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ·»åŠ å¥—é¤ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> setmealDto</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveWithDish</span><span class="params">(SetmealDto setmealDto)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜å¥—é¤çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ“ä½œsetmealï¼Œæ‰§è¡Œinsertæ“ä½œ</span></span><br><span class="line">    <span class="built_in">this</span>.save(setmealDto);</span><br><span class="line">    List&lt;SetmealDish&gt; setmealDishes = setmealDto.getSetmealDishes();</span><br><span class="line">    setmealDishes.stream().map((item) -&gt;&#123;</span><br><span class="line">        item.setSetmealId(setmealDto.getId());</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line">    <span class="comment">// ä¿å­˜å¥—é¤å’Œèœå“çš„å…³è”ä¿¡æ¯ï¼Œæ“ä½œsetmeal_dish,æ‰§è¡Œinsertæ“ä½œ</span></span><br><span class="line">    setmealDishService.saveBatch(setmealDishes);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ–°å¢å¥—é¤</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> setmealDto</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> SetmealDto setmealDto)</span>&#123;</span><br><span class="line">    log.info(<span class="string">&quot;å¥—é¤ä¿¡æ¯ï¼š&#123;&#125;&quot;</span>, setmealDto);</span><br><span class="line">    setmealService.saveWithDish(setmealDto);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;å¥—é¤æ·»åŠ æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¥—é¤ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"><a class="markdownIt-Anchor" href="#å¥—é¤ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢"></a> å¥—é¤ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢</h2>
<p>å®ç°æ–¹æ³•å’Œèœå“é¡µé¢åˆ†é¡µæŸ¥è¯¢ä¸€æ ·</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* å¥—é¤ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> page é¡µç </span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> pageSize æ¯é¡µæ•°é‡</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> name å¥—é¤åå­—</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize, String name)</span>&#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ åˆ†é¡µæ„é€ å™¨</span></span><br><span class="line">    Page&lt;Setmeal&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    Page&lt;SetmealDto&gt; setmealDtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// æ„é€ æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Setmeal&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// æ·»åŠ è¿‡æ»¤æ¡ä»¶</span></span><br><span class="line">    queryWrapper.like(name != <span class="literal">null</span>, Setmeal::getName, name);</span><br><span class="line">    <span class="comment">// æ·»åŠ æ’åºæ¡ä»¶</span></span><br><span class="line">    queryWrapper.orderByDesc(Setmeal::getUpdateTime);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">    setmealService.page(pageInfo, queryWrapper);</span><br><span class="line">    <span class="comment">// å¯¹è±¡çš„æ‹·è´</span></span><br><span class="line">    BeanUtils.copyProperties(pageInfo, setmealDtoPage, <span class="string">&quot;records&quot;</span>);</span><br><span class="line"></span><br><span class="line">    List&lt;Setmeal&gt; records = pageInfo.getRecords();</span><br><span class="line">    List&lt;SetmealDto&gt; list = records.stream().map((item) -&gt; &#123;</span><br><span class="line">        <span class="type">SetmealDto</span> <span class="variable">setmealDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SetmealDto</span>();</span><br><span class="line">        <span class="comment">// å°†itemä¸­çš„å±æ€§æ‹·è´è‡³setmealDtoä¸­</span></span><br><span class="line">        BeanUtils.copyProperties(item, setmealDto);</span><br><span class="line"></span><br><span class="line">        <span class="type">Long</span> <span class="variable">categoryId</span> <span class="operator">=</span> item.getCategoryId();</span><br><span class="line">        <span class="comment">// æ ¹æ®idæŸ¥è¯¢åˆ†ç±»å¯¹è±¡</span></span><br><span class="line">        <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryService.getById(categoryId);</span><br><span class="line">        <span class="keyword">if</span>(category != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">categoryName</span> <span class="operator">=</span> category.getName();</span><br><span class="line">            setmealDto.setCategoryName(categoryName);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> setmealDto;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">    setmealDtoPage.setRecords(list);</span><br><span class="line">    <span class="keyword">return</span> R.success(setmealDtoPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ é™¤å¥—é¤"><a class="markdownIt-Anchor" href="#åˆ é™¤å¥—é¤"></a> åˆ é™¤å¥—é¤</h2>
<p>éœ€è¦åˆ é™¤ä¸¤ä¸ªè¡¨ä¸­çš„æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦ç°åœ¨serviceä¸­å®ç°å…·ä½“çš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åˆ é™¤å¥—é¤ï¼ŒåŒæ—¶éœ€è¦åˆ é™¤å’Œå¥—é¤å…³è”çš„èœå“å…³ç³»</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> ids</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeWithDish</span><span class="params">(List&lt;Long&gt; ids)</span> &#123;</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢å¥—é¤çŠ¶æ€ï¼Œç¡®å®šæ˜¯å¦å¯ä»¥åˆ é™¤</span></span><br><span class="line">    <span class="comment">// select count(*) from setmeal where id in (1, 2, 3, ....) and status = 1</span></span><br><span class="line">    LambdaQueryWrapper&lt;Setmeal&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.in(Setmeal::getId, ids);</span><br><span class="line">    queryWrapper.eq(Setmeal::getStatus, <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="built_in">this</span>.count(queryWrapper);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœä¸èƒ½åˆ é™¤ï¼ŒæŠ›å‡ºä¸€ä¸ªä¸šåŠ¡å¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;å¥—é¤æ­£åœ¨å”®å–ä¸­ï¼Œä¸èƒ½åˆ é™¤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœå¯ä»¥åˆ é™¤ï¼Œå…ˆåˆ é™¤å¥—é¤è¡¨ä¸­çš„æ•°æ®---setmeal</span></span><br><span class="line">    <span class="built_in">this</span>.removeByIds(ids);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤å…³ç³»è¡¨ä¸­çš„æ•°æ®ï¼Œ----setmeal_dish</span></span><br><span class="line">    <span class="comment">// delete from setmeal_dish where setmeal_id in (1, 2, 3);</span></span><br><span class="line">    LambdaQueryWrapper&lt;SetmealDish&gt; lambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    lambdaQueryWrapper.in(SetmealDish::getSetmealId, ids);</span><br><span class="line">    setmealDishService.remove(lambdaQueryWrapper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>controllerå±‚ä»£ç å®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ é™¤å¥—é¤</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> ids</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@DeleteMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">delete</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;Long&gt; ids)</span> &#123;</span><br><span class="line">    setmealService.removeWithDish(ids);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;å¥—é¤åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ç¬¬å…­ç« -æ‰‹æœºéªŒè¯ç ç™»å½•"><a class="markdownIt-Anchor" href="#ç¬¬å…­ç« -æ‰‹æœºéªŒè¯ç ç™»å½•"></a> ç¬¬å…­ç«  æ‰‹æœºéªŒè¯ç ç™»å½•</h1>
<h2 id="çŸ­ä¿¡å‘é€"><a class="markdownIt-Anchor" href="#çŸ­ä¿¡å‘é€"></a> çŸ­ä¿¡å‘é€</h2>
<h3 id="æœåŠ¡å¼€å¯"><a class="markdownIt-Anchor" href="#æœåŠ¡å¼€å¯"></a> æœåŠ¡å¼€å¯</h3>
<p><img src="/img/Java/17ReggieProject/image-20230221205010704.png" alt="image-20230221205010704" /></p>
<p>æœ¬é¡¹ç›®ä½¿ç”¨é˜¿é‡Œäº‘éªŒè¯ç æœåŠ¡</p>
<p><img src="/img/Java/17ReggieProject/image-20230221210219226.png" alt="image-20230221210219226" /></p>
<h3 id="ä»£ç å¼€å‘-3"><a class="markdownIt-Anchor" href="#ä»£ç å¼€å‘-3"></a> ä»£ç å¼€å‘</h3>
<p>æ­¥éª¤1ï¼šå¯¼å…¥<code>maven</code>åæ ‡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-java-sdk-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.5.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-java-sdk-dysmsapi<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ­¥éª¤2ï¼šè°ƒå…¥API</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.DefaultAcsClient;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.IAcsClient;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.dysmsapi.model.v20170525.SendSmsRequest;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.dysmsapi.model.v20170525.SendSmsResponse;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.exceptions.ClientException;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.profile.DefaultProfile;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * çŸ­ä¿¡å‘é€å·¥å…·ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SMSUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * å‘é€çŸ­ä¿¡</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> signName ç­¾å</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> templateCode æ¨¡æ¿</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> phoneNumbers æ‰‹æœºå·</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> param å‚æ•°</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String signName, String templateCode,String phoneNumbers,String param)</span>&#123;</span><br><span class="line">		<span class="type">DefaultProfile</span> <span class="variable">profile</span> <span class="operator">=</span> DefaultProfile.getProfile(<span class="string">&quot;cn-hangzhou&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">		<span class="type">IAcsClient</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultAcsClient</span>(profile);</span><br><span class="line"></span><br><span class="line">		<span class="type">SendSmsRequest</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SendSmsRequest</span>();</span><br><span class="line">		request.setSysRegionId(<span class="string">&quot;cn-hangzhou&quot;</span>);</span><br><span class="line">		request.setPhoneNumbers(phoneNumbers);</span><br><span class="line">		request.setSignName(signName);</span><br><span class="line">		request.setTemplateCode(templateCode);</span><br><span class="line">		request.setTemplateParam(<span class="string">&quot;&#123;\&quot;code\&quot;:\&quot;&quot;</span>+param+<span class="string">&quot;\&quot;&#125;&quot;</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="type">SendSmsResponse</span> <span class="variable">response</span> <span class="operator">=</span> client.getAcsResponse(request);</span><br><span class="line">			System.out.println(<span class="string">&quot;çŸ­ä¿¡å‘é€æˆåŠŸ&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span> (ClientException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¸šåŠ¡åŠŸèƒ½å¼€å‘"><a class="markdownIt-Anchor" href="#ä¸šåŠ¡åŠŸèƒ½å¼€å‘"></a> ä¸šåŠ¡åŠŸèƒ½å¼€å‘</h2>
<p><img src="/img/Java/17ReggieProject/image-20230221211919842.png" alt="image-20230221211919842" /></p>
<h3 id="äº¤äº’è¿‡ç¨‹æ¢³ç†"><a class="markdownIt-Anchor" href="#äº¤äº’è¿‡ç¨‹æ¢³ç†"></a> äº¤äº’è¿‡ç¨‹æ¢³ç†</h3>
<p><img src="/img/Java/17ReggieProject/image-20230222100818456.png" alt="image-20230222100818456" /></p>
<h3 id="ä»£ç å¼€å‘-4"><a class="markdownIt-Anchor" href="#ä»£ç å¼€å‘-4"></a> ä»£ç å¼€å‘</h3>
<h4 id="å‰æœŸå‡†å¤‡"><a class="markdownIt-Anchor" href="#å‰æœŸå‡†å¤‡"></a> å‰æœŸå‡†å¤‡</h4>
<p><img src="/img/Java/17ReggieProject/image-20230222100924434.png" alt="image-20230222100924434" /></p>
<p>å¯¼å…¥<code>user</code>è¡¨å¯¹åº”çš„å®ä½“ç±»<code>User</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å§“å</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰‹æœºå·</span></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ€§åˆ« 0 å¥³ 1 ç”·</span></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//èº«ä»½è¯å·</span></span><br><span class="line">    <span class="keyword">private</span> String idNumber;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¤´åƒ</span></span><br><span class="line">    <span class="keyword">private</span> String avatar;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//çŠ¶æ€ 0:ç¦ç”¨ï¼Œ1:æ­£å¸¸</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºå¯¹åº”çš„mapperã€serviceã€controllerç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.mapper.UserMapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.UserService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;UserMapper, User&gt; <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.UserService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¼å…¥å·¥å…·ç±»ï¼šçŸ­ä¿¡å‘é€å·¥å…·ç±»<code>SMSUtils</code>ã€éšæœºç”ŸæˆéªŒè¯ç å·¥å…·ç±»<code>ValidateCodeUtils</code>â­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.DefaultAcsClient;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.IAcsClient;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.dysmsapi.model.v20170525.SendSmsRequest;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.dysmsapi.model.v20170525.SendSmsResponse;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.exceptions.ClientException;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.profile.DefaultProfile;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * çŸ­ä¿¡å‘é€å·¥å…·ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SMSUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * å‘é€çŸ­ä¿¡</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> signName ç­¾å</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> templateCode æ¨¡æ¿</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> phoneNumbers æ‰‹æœºå·</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> param å‚æ•°</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String signName, String templateCode,String phoneNumbers,String param)</span>&#123;</span><br><span class="line">		<span class="type">DefaultProfile</span> <span class="variable">profile</span> <span class="operator">=</span> DefaultProfile.getProfile(<span class="string">&quot;cn-hangzhou&quot;</span>, <span class="string">&quot;LTAI5tCmkkEhE21W4tvjS1dd&quot;</span>, <span class="string">&quot;xU2cXGMutcASkZjR185QMmORRpiqSA&quot;</span>);</span><br><span class="line">		<span class="type">IAcsClient</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultAcsClient</span>(profile);</span><br><span class="line"></span><br><span class="line">		<span class="type">SendSmsRequest</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SendSmsRequest</span>();</span><br><span class="line">		request.setSysRegionId(<span class="string">&quot;cn-hangzhou&quot;</span>);</span><br><span class="line">		request.setPhoneNumbers(phoneNumbers);</span><br><span class="line">		request.setSignName(signName);</span><br><span class="line">		request.setTemplateCode(templateCode);</span><br><span class="line">		request.setTemplateParam(<span class="string">&quot;&#123;\&quot;code\&quot;:\&quot;&quot;</span>+param+<span class="string">&quot;\&quot;&#125;&quot;</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="type">SendSmsResponse</span> <span class="variable">response</span> <span class="operator">=</span> client.getAcsResponse(request);</span><br><span class="line">			System.out.println(<span class="string">&quot;çŸ­ä¿¡å‘é€æˆåŠŸ&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span> (ClientException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * éšæœºç”ŸæˆéªŒè¯ç å·¥å…·ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValidateCodeUtils</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * éšæœºç”ŸæˆéªŒè¯ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> length é•¿åº¦ä¸º4ä½æˆ–è€…6ä½</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">generateValidateCode</span><span class="params">(<span class="type">int</span> length)</span>&#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">code</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(length == <span class="number">4</span>)&#123;</span><br><span class="line">            code = <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">9999</span>);<span class="comment">//ç”Ÿæˆéšæœºæ•°ï¼Œæœ€å¤§ä¸º9999</span></span><br><span class="line">            <span class="keyword">if</span>(code &lt; <span class="number">1000</span>)&#123;</span><br><span class="line">                code = code + <span class="number">1000</span>;<span class="comment">//ä¿è¯éšæœºæ•°ä¸º4ä½æ•°å­—</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(length == <span class="number">6</span>)&#123;</span><br><span class="line">            code = <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">999999</span>);<span class="comment">//ç”Ÿæˆéšæœºæ•°ï¼Œæœ€å¤§ä¸º999999</span></span><br><span class="line">            <span class="keyword">if</span>(code &lt; <span class="number">100000</span>)&#123;</span><br><span class="line">                code = code + <span class="number">100000</span>;<span class="comment">//ä¿è¯éšæœºæ•°ä¸º6ä½æ•°å­—</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;åªèƒ½ç”Ÿæˆ4ä½æˆ–6ä½æ•°å­—éªŒè¯ç &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * éšæœºç”ŸæˆæŒ‡å®šé•¿åº¦å­—ç¬¦ä¸²éªŒè¯ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> length é•¿åº¦</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">generateValidateCode4String</span><span class="params">(<span class="type">int</span> length)</span>&#123;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">rdm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">hash1</span> <span class="operator">=</span> Integer.toHexString(rdm.nextInt());</span><br><span class="line">        <span class="type">String</span> <span class="variable">capstr</span> <span class="operator">=</span> hash1.substring(<span class="number">0</span>, length);</span><br><span class="line">        <span class="keyword">return</span> capstr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ä¿®æ”¹logincheckfilter"><a class="markdownIt-Anchor" href="#ä¿®æ”¹logincheckfilter"></a> ä¿®æ”¹<code>LoginCheckFilter</code></h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸éœ€è¦è¯·æ±‚çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="keyword">private</span> String[] urls = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;</span><br><span class="line">        <span class="string">&quot;/employee/login&quot;</span>,</span><br><span class="line">        <span class="string">&quot;/employee/logout&quot;</span>,</span><br><span class="line">        <span class="string">&quot;/backend/**&quot;</span>,</span><br><span class="line">        <span class="string">&quot;/front/**&quot;</span>,</span><br><span class="line">        <span class="string">&quot;/common/**&quot;</span>,</span><br><span class="line">        <span class="string">&quot;/user/sendMsg&quot;</span>,</span><br><span class="line">        <span class="string">&quot;/user/login&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>doFilter</code>å‡½æ•°ä¸­æ·»åŠ ç”¨æˆ·ç™»å½•çŠ¶æ€åˆ¤æ–­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 4-2.åˆ¤æ–­æ™®é€šç”¨æˆ·ç™»å½•çŠ¶æ€ï¼Œå¦‚æœå·²ç»ç™»å½•ï¼Œåˆ™ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line"><span class="keyword">if</span> (request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>) != <span class="literal">null</span>) &#123;</span><br><span class="line">    log.info(<span class="string">&quot;ç”¨æˆ·&#123;&#125;å·²ç™»å½•&quot;</span>,request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>));</span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> (Long) request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">    BaseContext.setCurrentId(userId);</span><br><span class="line"></span><br><span class="line">    filterChain.doFilter(request, response);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>UserController</code>ä¸­æ·»åŠ å‘é€éªŒè¯ç æ¶ˆæ¯ä¸šåŠ¡ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* å‘é€æ‰‹æœºçŸ­ä¿¡éªŒè¯ç </span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> user æ¥å—é¡µé¢ä¼ è¿‡æ¥çš„æ‰‹æœºå·</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/sendMsg&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">sendMsg</span><span class="params">(<span class="meta">@RequestBody</span> User user, HttpSession session)</span>&#123;</span><br><span class="line">    <span class="comment">// è·å–æ‰‹æœºå·</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> user.getPhone();</span><br><span class="line">    <span class="keyword">if</span>(StringUtils.isNotEmpty(phone)) &#123;</span><br><span class="line">        <span class="comment">// ç”Ÿæˆéšæœºçš„å››ä½éªŒè¯ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> ValidateCodeUtils.generateValidateCode(<span class="number">4</span>).toString();</span><br><span class="line">        log.info(<span class="string">&quot;code: &#123;&#125;&quot;</span>, code);</span><br><span class="line">        <span class="comment">// è°ƒç”¨é˜¿é‡Œäº‘æä¾›çš„çŸ­ä¿¡æœåŠ¡APIå®Œæˆå‘é€çŸ­ä¿¡</span></span><br><span class="line">        <span class="comment">//            SMSUtils.sendMessage(&quot;ç‘å‰å¤–å–&quot;, &quot;SMS_270920139&quot;, phone, code);</span></span><br><span class="line">        <span class="comment">// è®²ç”Ÿæˆçš„éªŒè¯ç ä¿å­˜åœ¨sessionä¸­</span></span><br><span class="line">        session.setAttribute(phone, code);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;æ‰‹æœºéªŒè¯ç å‘é€æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R.error(<span class="string">&quot;æ‰‹æœºéªŒè¯ç å‘é€å¤±è´¥&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ç°å¯¹åº”çš„ç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼Œéœ€è¦åˆ¤æ–­æ•°æ®åº“ä¸­æ˜¯å¦æœ‰è¯¥ç”¨æˆ·</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* ç”¨æˆ·ç™»å½•ï¼Œéœ€è¦åˆ¤æ–­æ•°æ®åº“ä¸­æ˜¯å¦æœ‰è¯¥ç”¨æˆ·</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> map</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> session</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;User&gt; <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> Map map, HttpSession session)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;map: &#123;&#125;&quot;</span>, map.toString());</span><br><span class="line">    <span class="comment">// è·å–æ‰‹æœºå·</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> map.get(<span class="string">&quot;phone&quot;</span>).toString();</span><br><span class="line">    <span class="comment">// è·å–éªŒè¯ç </span></span><br><span class="line">    <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> map.get(<span class="string">&quot;code&quot;</span>).toString();</span><br><span class="line">    <span class="comment">// ä»sessionä¸­è·å–ä¿å­˜çš„éªŒè¯ç </span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">codeInSession</span> <span class="operator">=</span> session.getAttribute(phone);</span><br><span class="line">    <span class="comment">// è¿›è¡ŒéªŒè¯ç æ¯”å¯¹ï¼Œé¡µé¢æäº¤çš„éªŒè¯ç å’Œsessionä¸­ä¿å­˜çš„éªŒè¯ç æ¯”å¯¹</span></span><br><span class="line">    <span class="keyword">if</span> (codeInSession != <span class="literal">null</span> &amp;&amp; codeInSession.equals(code)) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœèƒ½å¤Ÿæ¯”å¯¹æˆåŠŸ,è¯´æ˜ç™»å½•æˆåŠŸ</span></span><br><span class="line">        LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(User::getPhone, phone);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getOne(queryWrapper);</span><br><span class="line">        <span class="keyword">if</span>(user == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­å½“å‰æ‰‹æœºå·æ˜¯å¦ä¸ºæ–°ç”¨æˆ·ï¼Œå¦‚æœæ˜¯æ–°ç”¨æˆ·åˆ™è‡ªåŠ¨å®Œæˆæ³¨å†Œ</span></span><br><span class="line">            user = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">            user.setPhone(phone);</span><br><span class="line">            user.setStatus(<span class="number">1</span>);</span><br><span class="line">            userService.save(user);</span><br><span class="line">        &#125;</span><br><span class="line">        session.setAttribute(<span class="string">&quot;user&quot;</span>, user.getId());</span><br><span class="line">        <span class="keyword">return</span> R.success(user);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> R.error(<span class="string">&quot;ç™»å½•å¤±è´¥&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ç¬¬ä¸ƒç« -ç§»åŠ¨ç«¯èœå“ç®¡ç†"><a class="markdownIt-Anchor" href="#ç¬¬ä¸ƒç« -ç§»åŠ¨ç«¯èœå“ç®¡ç†"></a> ç¬¬ä¸ƒç«  ç§»åŠ¨ç«¯èœå“ç®¡ç†</h1>
<h2 id="å¯¼å…¥ç”¨æˆ·åœ°å€ç°¿ç›¸å…³åŠŸèƒ½ä»£ç "><a class="markdownIt-Anchor" href="#å¯¼å…¥ç”¨æˆ·åœ°å€ç°¿ç›¸å…³åŠŸèƒ½ä»£ç "></a> å¯¼å…¥ç”¨æˆ·åœ°å€ç°¿ç›¸å…³åŠŸèƒ½ä»£ç </h2>
<h3 id="éœ€æ±‚åˆ†æ-2"><a class="markdownIt-Anchor" href="#éœ€æ±‚åˆ†æ-2"></a> éœ€æ±‚åˆ†æ</h3>
<p>åœ°å€ç°¿ï¼ŒæŒ‡çš„æ˜¯ç§»åŠ¨ç«¯æ¶ˆè´¹è€…ç”¨æˆ·çš„åœ°å€ä¿¡æ¯ï¼Œç”¨æˆ·ç™»å½•æˆåŠŸåå¯ä»¥ç»´æŠ¤è‡ªå·±çš„åœ°å€ä¿¡æ¯ã€‚åŒä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šä¸ªåœ°å€ä¿¡æ¯ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ª<strong>é»˜è®¤åœ°å€</strong>ã€‚</p>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220517170247695-608658319.png" alt="image" /></p>
<h3 id="æ•°æ®æ¨¡å‹"><a class="markdownIt-Anchor" href="#æ•°æ®æ¨¡å‹"></a> æ•°æ®æ¨¡å‹</h3>
<p>ç”¨æˆ·çš„åœ°å€ä¿¡æ¯ä¼šå­˜å‚¨åœ¨address_bookè¡¨ï¼Œå³åœ°å€ç°¿è¡¨ä¸­ã€‚å…·ä½“è¡¨ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="/img/Java/17ReggieProject/image-20230222162355588.png" alt="image-20230222162355588" /></p>
<h3 id="å¯¼å…¥åŠŸèƒ½ä»£ç "><a class="markdownIt-Anchor" href="#å¯¼å…¥åŠŸèƒ½ä»£ç "></a> å¯¼å…¥åŠŸèƒ½ä»£ç </h3>
<p>åŠŸèƒ½ä»£ç æ¸…å•:</p>
<ul>
<li>
<p>å®ä½“ç±»AddressBook(ç›´æ¥ä»è¯¾ç¨‹èµ„æ–™ä¸­å¯¼å…¥å³å¯)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ°å€ç°¿</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddressBook</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”¨æˆ·id</span></span><br><span class="line">    <span class="keyword">private</span> Long userId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ”¶è´§äºº</span></span><br><span class="line">    <span class="keyword">private</span> String consignee;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰‹æœºå·</span></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ€§åˆ« 0 å¥³ 1 ç”·</span></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//çœçº§åŒºåˆ’ç¼–å·</span></span><br><span class="line">    <span class="keyword">private</span> String provinceCode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//çœçº§åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String provinceName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¸‚çº§åŒºåˆ’ç¼–å·</span></span><br><span class="line">    <span class="keyword">private</span> String cityCode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¸‚çº§åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String cityName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŒºçº§åŒºåˆ’ç¼–å·</span></span><br><span class="line">    <span class="keyword">private</span> String districtCode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŒºçº§åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String districtName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¯¦ç»†åœ°å€</span></span><br><span class="line">    <span class="keyword">private</span> String detail;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">private</span> String label;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¯å¦é»˜è®¤ 0 å¦ 1æ˜¯</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDefault;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºæ—¶é—´</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ›´æ–°æ—¶é—´</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºäºº</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¿®æ”¹äºº</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¯å¦åˆ é™¤</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Mapperæ¥å£AddressBookMapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.AddressBook;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AddressBookMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;AddressBook&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä¸šåŠ¡å±‚æ¥å£AddressBookService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.AddressBook;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AddressBookService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;AddressBook&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä¸šåŠ¡å±‚å®ç°ç±»AddressBookServicelmpl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.AddressBook;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.mapper.AddressBookMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.AddressBookService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddressBookServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;AddressBookMapper, AddressBook&gt; <span class="keyword">implements</span> <span class="title class_">AddressBookService</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æ§åˆ¶å±‚AddressBookController(ç›´æ¥ä»è¯¾ç¨‹èµ„æ–™ä¸­å¯¼å…¥å³å¯)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.LambdaUpdateWrapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.common.BaseContext;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.AddressBook;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.AddressBookService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/addressBook&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddressBookController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AddressBookService addressBookService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°å¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;AddressBook&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> AddressBook addressBook)</span> &#123;</span><br><span class="line">        addressBook.setUserId(BaseContext.getCurrentId());</span><br><span class="line">        log.info(<span class="string">&quot;addressBook:&#123;&#125;&quot;</span>, addressBook);</span><br><span class="line">        addressBookService.save(addressBook);</span><br><span class="line">        <span class="keyword">return</span> R.success(addressBook);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®é»˜è®¤åœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;default&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;AddressBook&gt; <span class="title function_">setDefault</span><span class="params">(<span class="meta">@RequestBody</span> AddressBook addressBook)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;addressBook:&#123;&#125;&quot;</span>, addressBook);</span><br><span class="line">        LambdaUpdateWrapper&lt;AddressBook&gt; wrapper = <span class="keyword">new</span> <span class="title class_">LambdaUpdateWrapper</span>&lt;&gt;();</span><br><span class="line">        wrapper.eq(AddressBook::getUserId, BaseContext.getCurrentId());</span><br><span class="line">        wrapper.set(AddressBook::getIsDefault, <span class="number">0</span>);</span><br><span class="line">        <span class="comment">//SQL:update address_book set is_default = 0 where user_id = ?</span></span><br><span class="line">        addressBookService.update(wrapper);</span><br><span class="line"></span><br><span class="line">        addressBook.setIsDefault(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//SQL:update address_book set is_default = 1 where id = ?</span></span><br><span class="line">        addressBookService.updateById(addressBook);</span><br><span class="line">        <span class="keyword">return</span> R.success(addressBook);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®idæŸ¥è¯¢åœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">get</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> &#123;</span><br><span class="line">        <span class="type">AddressBook</span> <span class="variable">addressBook</span> <span class="operator">=</span> addressBookService.getById(id);</span><br><span class="line">        <span class="keyword">if</span> (addressBook != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.success(addressBook);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ°è¯¥å¯¹è±¡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢é»˜è®¤åœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;default&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;AddressBook&gt; <span class="title function_">getDefault</span><span class="params">()</span> &#123;</span><br><span class="line">        LambdaQueryWrapper&lt;AddressBook&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(AddressBook::getUserId, BaseContext.getCurrentId());</span><br><span class="line">        queryWrapper.eq(AddressBook::getIsDefault, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//SQL:select * from address_book where user_id = ? and is_default = 1</span></span><br><span class="line">        <span class="type">AddressBook</span> <span class="variable">addressBook</span> <span class="operator">=</span> addressBookService.getOne(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == addressBook) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ°è¯¥å¯¹è±¡&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> R.success(addressBook);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢æŒ‡å®šç”¨æˆ·çš„å…¨éƒ¨åœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;List&lt;AddressBook&gt;&gt; <span class="title function_">list</span><span class="params">(AddressBook addressBook)</span> &#123;</span><br><span class="line">        addressBook.setUserId(BaseContext.getCurrentId());</span><br><span class="line">        log.info(<span class="string">&quot;addressBook:&#123;&#125;&quot;</span>, addressBook);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">        LambdaQueryWrapper&lt;AddressBook&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(<span class="literal">null</span> != addressBook.getUserId(), AddressBook::getUserId, addressBook.getUserId());</span><br><span class="line">        queryWrapper.orderByDesc(AddressBook::getUpdateTime);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//SQL:select * from address_book where user_id = ? order by update_time desc</span></span><br><span class="line">        <span class="keyword">return</span> R.success(addressBookService.list(queryWrapper));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="åŠŸèƒ½æµ‹è¯•"><a class="markdownIt-Anchor" href="#åŠŸèƒ½æµ‹è¯•"></a> åŠŸèƒ½æµ‹è¯•</h3>
<p><img src="/img/Java/17ReggieProject/image-20230222164901344.png" alt="image-20230222164901344" /></p>
<h2 id="èœå“å±•ç¤º"><a class="markdownIt-Anchor" href="#èœå“å±•ç¤º"></a> èœå“å±•ç¤º</h2>
<h3 id="éœ€æ±‚åˆ†æ-3"><a class="markdownIt-Anchor" href="#éœ€æ±‚åˆ†æ-3"></a> éœ€æ±‚åˆ†æ</h3>
<p>ç”¨æˆ·ç™»å½•æˆåŠŸåè·³è½¬åˆ°ç³»ç»Ÿé¦–é¡µï¼Œåœ¨é¦–é¡µéœ€è¦æ ¹æ®åˆ†ç±»æ¥å±•ç¤ºèœå“å’Œå¥—é¤ã€‚å¦‚æœèœå“è®¾ç½®äº†å£å‘³ä¿¡æ¯éœ€è¦å±•ç¤º [é€‰æ‹©è§„æ ¼] æŒ‰é’®ï¼Œå¦åˆ™æ˜¾ç¤º [+] æŒ‰é’®ã€‚</p>
<h3 id="ä»£ç å¼€å‘-5"><a class="markdownIt-Anchor" href="#ä»£ç å¼€å‘-5"></a> ä»£ç å¼€å‘</h3>
<h4 id="æ¢³ç†äº¤äº’è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#æ¢³ç†äº¤äº’è¿‡ç¨‹"></a> æ¢³ç†äº¤äº’è¿‡ç¨‹</h4>
<p>åœ¨å¼€å‘ä»£ç ä¹‹å‰ï¼Œéœ€è¦æ¢³ç†ä¸€ä¸‹å‰ç«¯é¡µé¢å’ŒæœåŠ¡ç«¯çš„äº¤äº’è¿‡ç¨‹:</p>
<p>â€‹	1ã€é¡µé¢(<code>front/index.html</code>)å‘é€ajaxè¯·æ±‚ï¼Œè·å–åˆ†ç±»æ•°æ®ï¼ˆèœå“åˆ†ç±»å’Œå¥—é¤åˆ†ç±»)</p>
<p>â€‹	2ã€é¡µé¢å‘é€ajaxè¯·æ±‚ï¼Œè·å–ç¬¬ä¸€ä¸ªåˆ†ç±»ä¸‹çš„èœå“æˆ–è€…å¥—é¤</p>
<p>å¼€å‘èœå“å±•ç¤ºåŠŸèƒ½ï¼Œå…¶å®å°±æ˜¯åœ¨æœåŠ¡ç«¯ç¼–å†™ä»£ç å»å¤„ç†å‰ç«¯é¡µé¢å‘é€çš„è¿™2æ¬¡è¯·æ±‚å³å¯ã€‚</p>
<p><strong>æ³¨æ„</strong>:é¦–é¡µåŠ è½½å®Œæˆåï¼Œè¿˜å‘é€äº†ä¸€æ¬¡ajaxè¯·æ±‚ç”¨äºåŠ è½½è´­ç‰©è½¦æ•°æ®ï¼Œæ­¤å¤„å¯ä»¥å°†è¿™æ¬¡è¯·æ±‚çš„åœ°å€æš‚æ—¶ä¿®æ”¹ä¸€ä¸‹ï¼Œä»é™æ€jsonæ–‡ä»¶è·å–æ•°æ®ï¼Œç­‰åç»­å¼€å‘è´­ç‰©è½¦åŠŸèƒ½æ—¶å†ä¿®æ”¹å›æ¥ï¼Œå¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–è´­ç‰©è½¦å†…å•†å“çš„é›†åˆ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cartListApi</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> $axios(&#123;</span><br><span class="line">        <span class="comment">// &#x27;url&#x27;: &#x27;/shoppingCart/list&#x27;,</span></span><br><span class="line">        <span class="string">&#x27;url&#x27;</span>: <span class="string">&#x27;/front/cartData.json&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;method&#x27;</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">        <span class="attr">params</span>:&#123;...data&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>cartData.json:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="attr">&quot;map&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>æ”¹é€ <code>DishController</code>ä¸­çš„<code>list</code>æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®æ¡ä»¶æŸ¥è¯¢å¯¹åº”çš„èœå“æ•°æ® --- æ”¹è¿›ç‰ˆ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dish</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;List&lt;DishDto&gt;&gt; <span class="title function_">list</span><span class="params">(Dish dish)</span> &#123;</span><br><span class="line">        <span class="comment">// æ·»åŠ æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">        LambdaQueryWrapper&lt;Dish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(Dish::getStatus, <span class="number">1</span>);</span><br><span class="line">        queryWrapper.eq(dish.getCategoryId() != <span class="literal">null</span>, Dish::getCategoryId, dish.getCategoryId());</span><br><span class="line">        queryWrapper.orderByAsc(Dish::getSort).orderByDesc(Dish::getUpdateTime);</span><br><span class="line">        <span class="comment">// è¿›è¡ŒæŸ¥è¯¢</span></span><br><span class="line">        List&lt;Dish&gt; list = dishService.list(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–°å¢å†…å®¹ï¼Œéœ€è¦åŠ ä¸Šå£å‘³ä¿¡æ¯</span></span><br><span class="line">        List&lt;DishDto&gt; dishDtoList = list.stream().map((item) -&gt; &#123;</span><br><span class="line">            <span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DishDto</span>();</span><br><span class="line">            BeanUtils.copyProperties(item, dishDto);</span><br><span class="line">            <span class="type">Long</span> <span class="variable">categoryId</span> <span class="operator">=</span> item.getCategoryId();</span><br><span class="line">            <span class="comment">// æ ¹æ®idæŸ¥è¯¢åˆ†ç±»å¯¹è±¡ï¼Œç»‘å®šåˆ†ç±»åç§°</span></span><br><span class="line">            <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryService.getById(categoryId);</span><br><span class="line">            <span class="keyword">if</span>(category != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">categoryName</span> <span class="operator">=</span> category.getName();</span><br><span class="line">                dishDto.setCategoryName(categoryName);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç»‘å®šå£å‘³</span></span><br><span class="line">            <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> item.getId();</span><br><span class="line">            <span class="comment">// æ ¹æ®idæŸ¥è¯¢å£å‘³å¯¹è±¡</span></span><br><span class="line">            LambdaQueryWrapper&lt;DishFlavor&gt; lambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">            lambdaQueryWrapper.eq(DishFlavor::getDishId, dishId);</span><br><span class="line">            List&lt;DishFlavor&gt; dishFlavorList = dishFlavorService.list(lambdaQueryWrapper);</span><br><span class="line">            dishDto.setFlavors(dishFlavorList);</span><br><span class="line">            <span class="keyword">return</span> dishDto;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(dishDtoList);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>SetmealController</code>é‡Œæ·»åŠ <code>list</code>æ–¹æ³•æ˜¾ç¤ºå¥—é¤ä¿¡æ¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®åˆ†ç±»idæŸ¥è¯¢å¥—é¤ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> setmeal</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;List&lt;Setmeal&gt;&gt; <span class="title function_">list</span><span class="params">(Setmeal setmeal)</span> &#123;</span><br><span class="line">    LambdaQueryWrapper&lt;Setmeal&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(setmeal.getCategoryId() != <span class="literal">null</span>, Setmeal::getCategoryId, setmeal.getCategoryId());</span><br><span class="line">    queryWrapper.eq(setmeal.getStatus() != <span class="literal">null</span>, Setmeal::getStatus, setmeal.getStatus());</span><br><span class="line">    queryWrapper.orderByDesc(Setmeal::getUpdateTime);</span><br><span class="line"></span><br><span class="line">    List&lt;Setmeal&gt; list = setmealService.list(queryWrapper);</span><br><span class="line">    <span class="keyword">return</span> R.success(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¿è¡Œæ•ˆæœ"><a class="markdownIt-Anchor" href="#è¿è¡Œæ•ˆæœ"></a> è¿è¡Œæ•ˆæœ</h3>
<p><img src="/img/Java/17ReggieProject/image-20230222172335894.png" alt="image-20230222172335894" /></p>
<h2 id="è´­ç‰©è½¦"><a class="markdownIt-Anchor" href="#è´­ç‰©è½¦"></a> è´­ç‰©è½¦</h2>
<h3 id="éœ€æ±‚åˆ†æ-4"><a class="markdownIt-Anchor" href="#éœ€æ±‚åˆ†æ-4"></a> éœ€æ±‚åˆ†æ</h3>
<p>ç§»åŠ¨ç«¯ç”¨æˆ·å¯ä»¥å°†èœå“æˆ–è€…å¥—é¤æ·»åŠ åˆ°è´­ç‰©è½¦ã€‚å¯¹äºèœå“æ¥è¯´ï¼Œå¦‚æœè®¾ç½®äº†å£å‘³ä¿¡æ¯ï¼Œåˆ™éœ€è¦é€‰æ‹©è§„æ ¼åæ‰èƒ½åŠ å…¥è´­ç‰©è½¦;å¯¹äºå¥—é¤æ¥è¯´ï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡» <strong>[+]</strong> å°†å½“å‰å¥—é¤åŠ å…¥è´­ç‰©è½¦ã€‚åœ¨è´­ç‰©è½¦ä¸­å¯ä»¥ä¿®æ”¹èœå“å’Œå¥—é¤çš„æ•°é‡,ä¹Ÿå¯ä»¥æ¸…ç©ºè´­ç‰©è½¦ã€‚</p>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220517170322261-1190710679.png" alt="image" /></p>
<h3 id="æ•°æ®æ¨¡å‹-2"><a class="markdownIt-Anchor" href="#æ•°æ®æ¨¡å‹-2"></a> æ•°æ®æ¨¡å‹</h3>
<p><img src="/img/Java/17ReggieProject/image-20230222183832340.png" alt="image-20230222183832340" /></p>
<h3 id="ä»£ç å¼€å‘-6"><a class="markdownIt-Anchor" href="#ä»£ç å¼€å‘-6"></a> ä»£ç å¼€å‘</h3>
<h4 id="æ¢³ç†äº¤äº’è¿‡ç¨‹-2"><a class="markdownIt-Anchor" href="#æ¢³ç†äº¤äº’è¿‡ç¨‹-2"></a> æ¢³ç†äº¤äº’è¿‡ç¨‹</h4>
<p>åœ¨å¼€å‘ä»£ç ä¹‹å‰ï¼Œéœ€è¦æ¢³ç†ä¸€ä¸‹è´­ç‰©è½¦æ“ä½œæ—¶å‰ç«¯é¡µé¢å’ŒæœåŠ¡ç«¯çš„äº¤äº’è¿‡ç¨‹:</p>
<ol>
<li>ç‚¹å‡» <strong>[åŠ å…¥è´­ç‰©è½¦]</strong> æˆ–è€… <strong>[+]</strong> æŒ‰é’®ï¼Œé¡µé¢å‘é€ajaxè¯·æ±‚ï¼Œè¯·æ±‚æœåŠ¡ç«¯ï¼Œå°†èœå“æˆ–è€…å¥—é¤æ·»åŠ åˆ°è´­ç‰©è½¦</li>
<li>ç‚¹å‡»è´­ç‰©è½¦å›¾æ ‡ï¼Œé¡µé¢å‘é€ajaxè¯·æ±‚ï¼Œè¯·æ±‚æœåŠ¡ç«¯æŸ¥è¯¢è´­ç‰©è½¦ä¸­çš„èœå“å’Œå¥—é¤</li>
<li>ç‚¹å‡»æ¸…ç©ºè´­ç‰©è½¦æŒ‰é’®ï¼Œé¡µé¢å‘é€ajaxè¯·æ±‚ï¼Œè¯·æ±‚æœåŠ¡ç«¯æ¥æ‰§è¡Œæ¸…ç©ºè´­ç‰©è½¦æ“ä½œ</li>
</ol>
<p>å¼€å‘è´­ç‰©è½¦åŠŸèƒ½ï¼Œå…¶å®å°±æ˜¯åœ¨æœåŠ¡ç«¯ç¼–å†™ä»£ç å»å¤„ç†å‰ç«¯é¡µé¢å‘é€çš„è¿™3æ¬¡è¯·æ±‚å³å¯ã€‚</p>
<h4 id="å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#å‡†å¤‡å·¥ä½œ"></a> å‡†å¤‡å·¥ä½œ</h4>
<p>åœ¨å¼€å‘ä¸šåŠ¡åŠŸèƒ½å‰ï¼Œå…ˆå°†éœ€è¦ç”¨åˆ°çš„ç±»å’Œæ¥å£åŸºæœ¬ç»“æ„åˆ›å»ºå¥½:</p>
<ul>
<li>
<p>å®ä½“ç±»ShoppingCart(ç›´æ¥ä»è¯¾ç¨‹èµ„æ–™ä¸­å¯¼å…¥å³å¯)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è´­ç‰©è½¦</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoppingCart</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”¨æˆ·id</span></span><br><span class="line">    <span class="keyword">private</span> Long userId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//èœå“id</span></span><br><span class="line">    <span class="keyword">private</span> Long dishId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¥—é¤id</span></span><br><span class="line">    <span class="keyword">private</span> Long setmealId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å£å‘³</span></span><br><span class="line">    <span class="keyword">private</span> String dishFlavor;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ•°é‡</span></span><br><span class="line">    <span class="keyword">private</span> Integer number;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é‡‘é¢</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal amount;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">private</span> String image;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Mapperæ¥å£ShoppingCartMapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.ShoppingCart;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ShoppingCartMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;ShoppingCart&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä¸šåŠ¡å±‚æ¥å£ShoppingCartService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.ShoppingCart;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ShoppingCartService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;ShoppingCart&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä¸šåŠ¡å±‚å®ç°ç±»ShoppingCartServicelmpl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.ShoppingCart;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.mapper.ShoppingCartMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.ShoppingCartService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoppingCartServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;ShoppingCartMapper, ShoppingCart&gt; <span class="keyword">implements</span> <span class="title class_">ShoppingCartService</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æ§åˆ¶å±‚ShoppingCartController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.ShoppingCartService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/shoppingcart&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoppingCartController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ShoppingCartService shoppingCartService;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="æ·»åŠ è´­ç‰©è½¦"><a class="markdownIt-Anchor" href="#æ·»åŠ è´­ç‰©è½¦"></a> æ·»åŠ è´­ç‰©è½¦</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ·»åŠ è´­ç‰©è½¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> shoppingCart</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;ShoppingCart&gt; <span class="title function_">add</span><span class="params">(<span class="meta">@RequestBody</span> ShoppingCart shoppingCart)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;è´­ç‰©è½¦æ•°æ®ï¼š&#123;&#125;&quot;</span>, shoppingCart);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®ç”¨æˆ·idï¼ŒæŒ‡å®šå½“å‰æ˜¯å“ªä¸ªç”¨æˆ·çš„è´­ç‰©è½¦æ•°æ®</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">currentId</span> <span class="operator">=</span> BaseContext.getCurrentId();</span><br><span class="line">    shoppingCart.setUserId(currentId);</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢å½“å‰æ·»åŠ çš„èœå“æ˜¯å¦å·²ç»åœ¨è´­ç‰©è½¦ä¸­</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> shoppingCart.getDishId();</span><br><span class="line">    LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(ShoppingCart::getUserId, currentId);</span><br><span class="line">    <span class="keyword">if</span>(dishId != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// æ·»åŠ åˆ°è´­ç‰©è½¦çš„æ˜¯èœå“</span></span><br><span class="line">        queryWrapper.eq(ShoppingCart::getDishId, dishId);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        queryWrapper.eq(ShoppingCart::getSetmealId, shoppingCart.getSetmealId());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ShoppingCart</span> <span class="variable">cartServiceOne</span> <span class="operator">=</span> shoppingCartService.getOne(queryWrapper);</span><br><span class="line">    <span class="comment">// å¦‚æœå·²ç»å­˜åœ¨ï¼Œåˆ™éœ€è¦å¢åŠ number</span></span><br><span class="line">    <span class="keyword">if</span>(cartServiceOne != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">number</span> <span class="operator">=</span> cartServiceOne.getNumber();</span><br><span class="line">        cartServiceOne.setNumber(number + <span class="number">1</span>);</span><br><span class="line">        shoppingCartService.updateById(cartServiceOne);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ·»åŠ åˆ°è´­ç‰©è½¦ï¼Œæ•°é‡é»˜è®¤å°±æ˜¯1</span></span><br><span class="line">        shoppingCart.setNumber(<span class="number">1</span>);</span><br><span class="line">        shoppingCartService.save(shoppingCart);</span><br><span class="line">        cartServiceOne = shoppingCart;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> R.success(cartServiceOne);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥çœ‹è´­ç‰©è½¦"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹è´­ç‰©è½¦"></a> æŸ¥çœ‹è´­ç‰©è½¦</h4>
<p>æŠŠå‰ç«¯æ•°æ®æ”¹å›æ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–è´­ç‰©è½¦å†…å•†å“çš„é›†åˆ</span></span><br><span class="line">function <span class="title function_">cartListApi</span><span class="params">(data)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> $axios(&#123;</span><br><span class="line">        <span class="string">&#x27;url&#x27;</span>: <span class="string">&#x27;/shoppingCart/list&#x27;</span>,</span><br><span class="line">        <span class="comment">// &#x27;url&#x27;: &#x27;/front/cartData.json&#x27;,</span></span><br><span class="line">        <span class="string">&#x27;method&#x27;</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">        params:&#123;...data&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹è´­ç‰©è½¦ä¸šåŠ¡ä»£ç å®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥çœ‹è´­ç‰©è½¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;List&lt;ShoppingCart&gt;&gt; <span class="title function_">list</span><span class="params">()</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;æŸ¥çœ‹è´­ç‰©è½¦&quot;</span>);</span><br><span class="line">    LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(ShoppingCart::getUserId, BaseContext.getCurrentId());</span><br><span class="line">    queryWrapper.orderByDesc(ShoppingCart::getCreateTime);</span><br><span class="line">    List&lt;ShoppingCart&gt; list = shoppingCartService.list(queryWrapper);</span><br><span class="line">    <span class="keyword">return</span> R.success(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ¸…ç©ºè´­ç‰©è½¦"><a class="markdownIt-Anchor" href="#æ¸…ç©ºè´­ç‰©è½¦"></a> æ¸…ç©ºè´­ç‰©è½¦</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¸…ç©ºè´­ç‰©è½¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@DeleteMapping(&quot;/clean&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">clean</span><span class="params">()</span> &#123;</span><br><span class="line">    LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(ShoppingCart::getUserId, BaseContext.getCurrentId());</span><br><span class="line">    shoppingCartService.remove(queryWrapper);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;æ¸…ç©ºè´­ç‰©è½¦æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å‡å°‘èœå“"><a class="markdownIt-Anchor" href="#å‡å°‘èœå“"></a> å‡å°‘èœå“</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å‡å°‘è´­ç‰©è½¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> shoppingCart</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/sub&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;ShoppingCart&gt; <span class="title function_">sub</span><span class="params">(<span class="meta">@RequestBody</span> ShoppingCart shoppingCart)</span> &#123;</span><br><span class="line">    <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> shoppingCart.getDishId();</span><br><span class="line">    <span class="type">Long</span> <span class="variable">setmealId</span> <span class="operator">=</span> shoppingCart.getSetmealId();</span><br><span class="line">    LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    queryWrapper.eq(ShoppingCart::getUserId, BaseContext.getCurrentId());</span><br><span class="line">    <span class="keyword">if</span>(dishId != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// æ“ä½œçš„æ˜¯èœå“</span></span><br><span class="line">        queryWrapper.eq(ShoppingCart::getDishId, dishId);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// æ“ä½œçš„æ˜¯å¥—é¤</span></span><br><span class="line">        queryWrapper.eq(ShoppingCart::getSetmealId, setmealId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ShoppingCart</span> <span class="variable">one</span> <span class="operator">=</span> shoppingCartService.getOne(queryWrapper);</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">number</span> <span class="operator">=</span> one.getNumber(); <span class="comment">// è·å¾—è´­ç‰©è½¦ä¸­è¯¥èœå“çš„æ•°é‡</span></span><br><span class="line">    <span class="keyword">if</span>(number == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœè´­ç‰©è½¦ä¸­åªæœ‰ä¸€ä¸ªèœå“ï¼Œåˆ™ç›´æ¥åˆ é™¤</span></span><br><span class="line">        shoppingCartService.remove(queryWrapper);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæœ‰å¤šä¸ªï¼Œåˆ™éœ€è¦æ›´æ–°numberå³å¯</span></span><br><span class="line">        one.setNumber(number - <span class="number">1</span>);</span><br><span class="line">        shoppingCartService.updateById(one);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> R.success(one);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç”¨æˆ·ä¸‹å•"><a class="markdownIt-Anchor" href="#ç”¨æˆ·ä¸‹å•"></a> ç”¨æˆ·ä¸‹å•</h2>
<h3 id="éœ€æ±‚åˆ†æ-5"><a class="markdownIt-Anchor" href="#éœ€æ±‚åˆ†æ-5"></a> éœ€æ±‚åˆ†æ</h3>
<p>ç§»åŠ¨ç«¯ç”¨æˆ·å°†èœå“æˆ–è€…å¥—é¤åŠ å…¥è´­ç‰©è½¦åï¼Œå¯ä»¥ç‚¹å‡»è´­ç‰©è½¦ä¸­çš„ <strong>ã€å»ç»“ç®—ã€‘</strong> æŒ‰é’®ï¼Œé¡µé¢è·³è½¬åˆ°è®¢å•ç¡®è®¤é¡µé¢ï¼Œç‚¹å‡» <strong>ã€å»æ”¯ä»˜ã€‘</strong> æŒ‰é’®åˆ™å®Œæˆä¸‹å•æ“ä½œã€‚</p>
<h3 id="æ•°æ®æ¨¡å‹-3"><a class="markdownIt-Anchor" href="#æ•°æ®æ¨¡å‹-3"></a> æ•°æ®æ¨¡å‹</h3>
<p>ç”¨æˆ·ä¸‹å•ä¸šåŠ¡å¯¹åº”çš„æ•°æ®è¡¨ä¸º<code>orders</code>è¡¨å’Œ<code>order_detail</code>è¡¨:</p>
<p>ordersè®¢å•è¡¨</p>
<p><img src="/img/Java/17ReggieProject/image-20230223153359488.png" alt="image-20230223153359488" /></p>
<p>order_detailè®¢å•æ˜ç»†è¡¨</p>
<p><img src="/img/Java/17ReggieProject/image-20230223153430574.png" alt="image-20230223153430574" /></p>
<h3 id="ä»£ç å¼€å‘-7"><a class="markdownIt-Anchor" href="#ä»£ç å¼€å‘-7"></a> ä»£ç å¼€å‘</h3>
<h4 id="æ¢³ç†äº¤äº’è¿‡ç¨‹-3"><a class="markdownIt-Anchor" href="#æ¢³ç†äº¤äº’è¿‡ç¨‹-3"></a> æ¢³ç†äº¤äº’è¿‡ç¨‹</h4>
<p>åœ¨å¼€å‘ä»£ç ä¹‹å‰ï¼Œéœ€è¦æ¢³ç†ä¸€ä¸‹ç”¨æˆ·ä¸‹å•æ“ä½œæ—¶å‰ç«¯é¡µé¢å’ŒæœåŠ¡ç«¯çš„äº¤äº’è¿‡ç¨‹:</p>
<ol>
<li>åœ¨è´­ç‰©è½¦ä¸­ç‚¹å‡» <strong>ã€å»ç»“ç®—ã€‘</strong> æŒ‰é’®ï¼Œé¡µé¢è·³è½¬åˆ°è®¢å•ç¡®è®¤é¡µé¢</li>
<li>åœ¨è®¢å•ç¡®è®¤é¡µé¢ï¼Œå‘é€ajaxè¯·æ±‚ï¼Œè¯·æ±‚æœåŠ¡ç«¯è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„é»˜è®¤åœ°å€</li>
<li>åœ¨è®¢å•ç¡®è®¤é¡µé¢ï¼Œå‘é€ajaxè¯·æ±‚ï¼Œè¯·æ±‚æœåŠ¡ç«¯è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„è´­ç‰©è½¦æ•°æ®</li>
<li>åœ¨è®¢å•ç¡®è®¤é¡µé¢ç‚¹å‡» <strong>ã€å»æ”¯ä»˜ã€‘</strong> æŒ‰é’®ï¼Œå‘é€ajaxè¯·æ±‚ï¼Œè¯·æ±‚æœåŠ¡ç«¯å®Œæˆä¸‹å•æ“ä½œ</li>
</ol>
<p>å¼€å‘ç”¨æˆ·ä¸‹å•åŠŸèƒ½ï¼Œå…¶å®å°±æ˜¯åœ¨æœåŠ¡ç«¯ç¼–å†™ä»£ç å»å¤„ç†å‰ç«¯é¡µé¢å‘é€çš„è¯·æ±‚å³å¯ã€‚</p>
<h4 id="å‡†å¤‡å·¥ä½œ-2"><a class="markdownIt-Anchor" href="#å‡†å¤‡å·¥ä½œ-2"></a> å‡†å¤‡å·¥ä½œ</h4>
<p>åœ¨å¼€å‘ä¸šåŠ¡åŠŸèƒ½å‰ï¼Œå…ˆå°†éœ€è¦ç”¨åˆ°çš„ç±»å’Œæ¥å£åŸºæœ¬ç»“æ„åˆ›å»ºå¥½:</p>
<ul>
<li>
<p>å®ä½“ç±»Ordersã€OrderDetailï¼ˆç›´æ¥ä»è¯¾ç¨‹èµ„æ–™ä¸­å¯¼å…¥å³å¯)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è®¢å•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Orders</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¢å•å·</span></span><br><span class="line">    <span class="keyword">private</span> String number;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¢å•çŠ¶æ€ 1å¾…ä»˜æ¬¾ï¼Œ2å¾…æ´¾é€ï¼Œ3å·²æ´¾é€ï¼Œ4å·²å®Œæˆï¼Œ5å·²å–æ¶ˆ</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸‹å•ç”¨æˆ·id</span></span><br><span class="line">    <span class="keyword">private</span> Long userId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ°å€id</span></span><br><span class="line">    <span class="keyword">private</span> Long addressBookId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸‹å•æ—¶é—´</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime orderTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç»“è´¦æ—¶é—´</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime checkoutTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ”¯ä»˜æ–¹å¼ 1å¾®ä¿¡ï¼Œ2æ”¯ä»˜å®</span></span><br><span class="line">    <span class="keyword">private</span> Integer payMethod;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®æ”¶é‡‘é¢</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal amount;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¤‡æ³¨</span></span><br><span class="line">    <span class="keyword">private</span> String remark;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”¨æˆ·å</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰‹æœºå·</span></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ°å€</span></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ”¶è´§äºº</span></span><br><span class="line">    <span class="keyword">private</span> String consignee;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è®¢å•æ˜ç»†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderDetail</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¢å•id</span></span><br><span class="line">    <span class="keyword">private</span> Long orderId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//èœå“id</span></span><br><span class="line">    <span class="keyword">private</span> Long dishId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¥—é¤id</span></span><br><span class="line">    <span class="keyword">private</span> Long setmealId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å£å‘³</span></span><br><span class="line">    <span class="keyword">private</span> String dishFlavor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ•°é‡</span></span><br><span class="line">    <span class="keyword">private</span> Integer number;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é‡‘é¢</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal amount;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">private</span> String image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Mapperæ¥å£OrderMapperã€OrderDetailMapper</p>
</li>
<li>
<p>ä¸šåŠ¡å±‚æ¥å£OrderServiceã€OrderDetailService</p>
</li>
<li>
<p>ä¸šåŠ¡å±‚å®ç°ç±»OrderServicelmplã€OrderDetailServicelmpl</p>
</li>
<li>
<p>æ§åˆ¶å±‚OrderControllerã€OrderDetailController</p>
</li>
</ul>
<h4 id="ä»£ç å¼€å‘-8"><a class="markdownIt-Anchor" href="#ä»£ç å¼€å‘-8"></a> ä»£ç å¼€å‘</h4>
<p>åœ¨<code>OrderService</code>æ·»åŠ <code>submit</code>æ–¹æ³•ç”¨äºç”¨æˆ·ä¸‹å•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.toolkit.IdWorker;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.common.BaseContext;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.common.CustomException;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.*;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.mapper.OrderMapper;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.service.*;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.annotation.Order;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xzt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;OrderMapper, Orders&gt; <span class="keyword">implements</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ShoppingCartService shoppingCartService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderDetailService orderDetailService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AddressBookService addressBookService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨æˆ·æäº¤è®¢å•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> orders</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">submit</span><span class="params">(Orders orders)</span> &#123;</span><br><span class="line">        <span class="comment">// è·å–ç”¨æˆ·id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">currentId</span> <span class="operator">=</span> BaseContext.getCurrentId();</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢å½“å‰ç”¨æˆ·çš„è´­ç‰©è½¦æ•°æ®</span></span><br><span class="line">        LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(ShoppingCart::getUserId, currentId);</span><br><span class="line">        List&lt;ShoppingCart&gt; shoppingCarts = shoppingCartService.list(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(shoppingCarts == <span class="literal">null</span> || shoppingCarts.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;è´­ç‰©è½¦ä¸ºç©ºï¼Œä¸èƒ½ä¸‹å•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢ç”¨æˆ·æ•°æ®</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getById(currentId);</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢åœ°å€æ•°æ®</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">addressBookId</span> <span class="operator">=</span> orders.getAddressBookId();</span><br><span class="line">        <span class="type">AddressBook</span> <span class="variable">addressBook</span> <span class="operator">=</span> addressBookService.getById(addressBookId);</span><br><span class="line">        <span class="keyword">if</span>(addressBook == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;ç”¨æˆ·åœ°å€ä¿¡æ¯æœ‰è¯¯ï¼Œä¸èƒ½ä¸‹å•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> IdWorker.getId();  <span class="comment">// è·å–è®¢å•å·Mybatis-plusæä¾›</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¡ç®—æ€»é‡‘é¢ï¼ŒåŸå­æ“ä½œï¼Œä¿è¯åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ä¹Ÿèƒ½è®¡ç®—æ­£ç¡®</span></span><br><span class="line">        <span class="type">AtomicInteger</span> <span class="variable">amount</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;OrderDetail&gt; orderDetails = shoppingCarts.stream().map((item) -&gt; &#123;</span><br><span class="line">            <span class="type">OrderDetail</span> <span class="variable">orderDetail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OrderDetail</span>();</span><br><span class="line">            orderDetail.setOrderId(orderId);</span><br><span class="line">            orderDetail.setNumber(item.getNumber());</span><br><span class="line">            orderDetail.setDishFlavor(item.getDishFlavor());</span><br><span class="line">            orderDetail.setDishId(item.getDishId());</span><br><span class="line">            orderDetail.setSetmealId(item.getSetmealId());</span><br><span class="line">            orderDetail.setName(item.getName());</span><br><span class="line">            orderDetail.setImage(item.getImage());</span><br><span class="line">            orderDetail.setAmount(item.getAmount());</span><br><span class="line">            amount.addAndGet(item.getAmount().multiply(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(item.getNumber())).intValue());</span><br><span class="line">            <span class="keyword">return</span> orderDetail;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘è®¢å•è¡¨ä¸­æ’å…¥ä¸€æ¡æ•°æ®</span></span><br><span class="line">        orders.setNumber(String.valueOf(orderId));  <span class="comment">// è®¾ç½®è®¢å•å·</span></span><br><span class="line">        orders.setId(orderId);</span><br><span class="line">        orders.setOrderTime(LocalDateTime.now());</span><br><span class="line">        orders.setCheckoutTime(LocalDateTime.now());</span><br><span class="line">        orders.setStatus(<span class="number">2</span>);  <span class="comment">// 2å¸¦æ´¾é€</span></span><br><span class="line">        orders.setAmount(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(amount.get()));<span class="comment">//è®¡ç®—æ€»é‡‘é¢</span></span><br><span class="line">        orders.setUserId(currentId);</span><br><span class="line">        orders.setUserName(user.getName());</span><br><span class="line">        orders.setConsignee(addressBook.getConsignee());</span><br><span class="line">        orders.setPhone(addressBook.getPhone());</span><br><span class="line">        orders.setAddress((addressBook.getProvinceName()==<span class="literal">null</span>?<span class="string">&quot;&quot;</span>:addressBook.getProvinceName())</span><br><span class="line">                +(addressBook.getCityName()==<span class="literal">null</span>?<span class="string">&quot;&quot;</span>:addressBook.getCityName())</span><br><span class="line">                +(addressBook.getDistrictName()==<span class="literal">null</span>?<span class="string">&quot;&quot;</span>:addressBook.getDistrictName())</span><br><span class="line">                +(addressBook.getDetail()==<span class="literal">null</span>?<span class="string">&quot;&quot;</span>:addressBook.getDetail()));</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.save(orders);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‘è®¢å•æ˜ç»†è¡¨ä¸­æ’å…¥å¤šæ¡æ•°æ®</span></span><br><span class="line">        orderDetailService.saveBatch(orderDetails);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¸…ç©ºè´­ç‰©è½¦æ•°æ®</span></span><br><span class="line">        shoppingCartService.remove(queryWrapper);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>OrderController</code>çš„<code>submit</code>æ–¹æ³•å¤„ç†<code>post</code>è¯·æ±‚å®ç°ä¸Šé¢çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* ç”¨æˆ·ä¸‹å•</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> orders</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/submit&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">submit</span><span class="params">(<span class="meta">@RequestBody</span> Orders orders)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;è®¢å•æ•°æ®ï¼š&#123;&#125;&quot;</span>, orders);</span><br><span class="line">    orderService.submit(orders);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;ä¸‹å•æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŠŸèƒ½æµ‹è¯•-2"><a class="markdownIt-Anchor" href="#åŠŸèƒ½æµ‹è¯•-2"></a> åŠŸèƒ½æµ‹è¯•</h3>
<p><img src="/img/Java/17ReggieProject/image-20230223162621032.png" alt="image-20230223162621032" /></p>
<p><img src="/img/Java/17ReggieProject/image-20230223162629059.png" alt="image-20230223162629059" /></p>
<h2 id="åŠŸèƒ½è¡¥å……"><a class="markdownIt-Anchor" href="#åŠŸèƒ½è¡¥å……"></a> åŠŸèƒ½è¡¥å……</h2>
<h3 id="ç”¨æˆ·é€€å‡º"><a class="markdownIt-Anchor" href="#ç”¨æˆ·é€€å‡º"></a> ç”¨æˆ·é€€å‡º</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨æˆ·é€€å‡º</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/loginout&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">logout</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">    <span class="comment">// æ¸…ç†sessionä¸­ä¿å­˜çš„ç”¨æˆ·id</span></span><br><span class="line">    request.getSession().removeAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;é€€å‡ºæˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è®¢å•ç®¡ç†"><a class="markdownIt-Anchor" href="#è®¢å•ç®¡ç†"></a> è®¢å•ç®¡ç†</h3>
<p>å¯¼å…¥OrderDtoéœ€æ‰‹åŠ¨æ·»åŠ <code>private int sumNum;</code>å‰ç«¯ä¼šè®¡ç®—æ•°é‡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nuaa.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.OrderDetail;</span><br><span class="line"><span class="keyword">import</span> com.nuaa.reggie.entity.Orders;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrdersDto</span> <span class="keyword">extends</span> <span class="title class_">Orders</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String consignee;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;OrderDetail&gt; orderDetails;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> sumNum;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>OrderController</code>æ·»åŠ <code>userPageæ–¹æ³•</code>â—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åˆ†é¡µæŸ¥çœ‹è®¢å•ä¿¡æ¯</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> page</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> pageSize</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/userPage&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">getOrder</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize)</span> &#123;</span><br><span class="line">    <span class="comment">// æ„é€ åˆ†é¡µæ„é€ å™¨</span></span><br><span class="line">    Page&lt;Orders&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    Page&lt;OrdersDto&gt; ordersDtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Orders&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// ç»‘å®šç”¨æˆ·</span></span><br><span class="line">    queryWrapper.eq(Orders::getUserId, BaseContext.getCurrentId());</span><br><span class="line">    <span class="comment">// æ·»åŠ æ’åºæ¡ä»¶</span></span><br><span class="line">    queryWrapper.orderByDesc(Orders::getOrderTime);</span><br><span class="line">    <span class="comment">// åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">    orderService.page(pageInfo, queryWrapper);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹è±¡æ‹·è´</span></span><br><span class="line">    BeanUtils.copyProperties(pageInfo, ordersDtoPage, <span class="string">&quot;records&quot;</span>);</span><br><span class="line">    List&lt;Orders&gt; records = pageInfo.getRecords();</span><br><span class="line"></span><br><span class="line">    List&lt;OrdersDto&gt; list = records.stream().map((item) -&gt; &#123;</span><br><span class="line">        <span class="type">OrdersDto</span> <span class="variable">ordersDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OrdersDto</span>();</span><br><span class="line">        BeanUtils.copyProperties(item, ordersDto);</span><br><span class="line">        <span class="type">Long</span> <span class="variable">id</span> <span class="operator">=</span> item.getId();</span><br><span class="line">        <span class="comment">// æ ¹æ®id æŸ¥è®¢å•è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">        <span class="type">Orders</span> <span class="variable">orders</span> <span class="operator">=</span> orderService.getById(id);</span><br><span class="line">        <span class="type">String</span> <span class="variable">number</span> <span class="operator">=</span> orders.getNumber();  <span class="comment">// è·å–è¯¥è®¢å•çš„è®¢å•å·</span></span><br><span class="line"></span><br><span class="line">        LambdaQueryWrapper&lt;OrderDetail&gt; lambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        lambdaQueryWrapper.eq(OrderDetail::getOrderId, number);</span><br><span class="line">        List&lt;OrderDetail&gt; orderDetailList = orderDetailService.list(lambdaQueryWrapper);</span><br><span class="line">        ordersDto.setOrderDetails(orderDetailList);</span><br><span class="line">        <span class="keyword">return</span>  ordersDto;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">    ordersDtoPage.setRecords(list);</span><br><span class="line">    <span class="keyword">return</span> R.success(ordersDtoPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/17ReggieProject/image-20230223192144378.png" alt="image-20230223192144378" /></p>
<h3 id="ç®¡ç†å‘˜ç«¯è®¢å•ä¿¡æ¯ç®¡ç†åˆ†é¡µæŸ¥è¯¢"><a class="markdownIt-Anchor" href="#ç®¡ç†å‘˜ç«¯è®¢å•ä¿¡æ¯ç®¡ç†åˆ†é¡µæŸ¥è¯¢"></a> ç®¡ç†å‘˜ç«¯è®¢å•ä¿¡æ¯ç®¡ç†åˆ†é¡µæŸ¥è¯¢</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç®¡ç†å‘˜ç«¯è®¢å•ç®¡ç†åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> page</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> pageSize</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> number</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginTime</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endTime</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize, String number, String beginTime, String endTime)</span> &#123;</span><br><span class="line">    <span class="comment">// æ„é€ åˆ†é¡µæ„é€ å™¨</span></span><br><span class="line">    Page&lt;Orders&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    Page&lt;OrdersDto&gt; ordersDtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Orders&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ¹æ®numberè¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line">    queryWrapper.like(!StringUtils.isEmpty(number), Orders::getNumber, number);</span><br><span class="line">    <span class="comment">// æ ¹æ®datetimeè¿›è¡Œæ—¶é—´èŒƒå›´æŸ¥è¯¢</span></span><br><span class="line">    <span class="keyword">if</span>(beginTime != <span class="literal">null</span> &amp;&amp; endTime != <span class="literal">null</span>) &#123;</span><br><span class="line">        queryWrapper.ge(Orders::getOrderTime, beginTime);</span><br><span class="line">        queryWrapper.le(Orders::getOrderTime, endTime);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ æ’åºæ¡ä»¶</span></span><br><span class="line">    queryWrapper.orderByDesc(Orders::getOrderTime);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿›è¡Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">    orderService.page(pageInfo, queryWrapper);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹è±¡æ‹·è´</span></span><br><span class="line">    BeanUtils.copyProperties(pageInfo, ordersDtoPage);</span><br><span class="line"></span><br><span class="line">    List&lt;Orders&gt; records = pageInfo.getRecords();</span><br><span class="line"></span><br><span class="line">    List&lt;OrdersDto&gt; list = records.stream().map((item) -&gt; &#123;</span><br><span class="line">        <span class="type">OrdersDto</span> <span class="variable">ordersDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OrdersDto</span>();</span><br><span class="line"></span><br><span class="line">        BeanUtils.copyProperties(item, ordersDto);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;ç”¨æˆ·&quot;</span> + item.getUserId();</span><br><span class="line">        ordersDto.setUserName(name);</span><br><span class="line">        <span class="keyword">return</span> ordersDto;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line">    ordersDtoPage.setRecords(list);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R.success(ordersDtoPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/17ReggieProject/image-20230223192021209.png" alt="image-20230223192021209" /></p>
<h3 id="å¤–å–è®¢å•æ´¾é€"><a class="markdownIt-Anchor" href="#å¤–å–è®¢å•æ´¾é€"></a> å¤–å–è®¢å•æ´¾é€</h3>
<p>åœ¨<code>OrderController</code>å¤„ç†<code>post</code>è¯·æ±‚ä¿®æ”¹<code>status</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ´¾é€/å®Œæˆè®¢å•--ä¿®æ”¹è®¢å•çŠ¶æ€</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> orders</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">send</span><span class="params">(<span class="meta">@RequestBody</span> Orders orders)</span> &#123;</span><br><span class="line">    <span class="type">Long</span> <span class="variable">id</span> <span class="operator">=</span> orders.getId();</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">status</span> <span class="operator">=</span> orders.getStatus();</span><br><span class="line"></span><br><span class="line">    LambdaQueryWrapper&lt;Orders&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(Orders::getId, id);</span><br><span class="line">    <span class="type">Orders</span> <span class="variable">one</span> <span class="operator">=</span> orderService.getOne(queryWrapper);</span><br><span class="line">    one.setStatus(status);</span><br><span class="line">    orderService.updateById(one);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;æ´¾é€æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/17ReggieProject/image-20230223192700658.png" alt="image-20230223192700658" /></p>
<p><img src="/img/Java/17ReggieProject/image-20230223192731544.png" alt="image-20230223192731544" /><img src="/img/Java/17ReggieProject/image-20230223192846024.png" alt="image-20230223192846024" /></p>
<h3 id="å†æ¥ä¸€å•"><a class="markdownIt-Anchor" href="#å†æ¥ä¸€å•"></a> å†æ¥ä¸€å•</h3>
<p>ç”¨æˆ·å¯ä»¥é€šè¿‡è¯¥æ–¹æ³•å¿«é€Ÿå†ä¸‹ä¸€å•</p>
<p><img src="/img/Java/17ReggieProject/image-20230223193001095.png" alt="image-20230223193001095" /></p>
<p>å› ä¸ºè®¾è®¡ä¸¤ä¸ªè¡¨ï¼Œæ‰€ä»¥éœ€è¦å†<code>OrderServiceImpl</code>ä¸­å®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å†æ¥ä¸€å•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> orders</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">again</span><span class="params">(Orders orders)</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–è®¢å•id å¹¶è·å–è®¢å•çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">id</span> <span class="operator">=</span> orders.getId();</span><br><span class="line">    <span class="type">Orders</span> <span class="variable">newOrders</span> <span class="operator">=</span> <span class="built_in">this</span>.getById(id);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®è®¢å•å·</span></span><br><span class="line">    <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> IdWorker.getId();</span><br><span class="line">    newOrders.setId(orderId);</span><br><span class="line">    <span class="comment">// è®¾ç½®è®¢å•å·</span></span><br><span class="line">    newOrders.setNumber(String.valueOf(orderId));</span><br><span class="line">    <span class="comment">// è®¾ç½®ä¸‹å•æ—¶é—´</span></span><br><span class="line">    newOrders.setOrderTime(LocalDateTime.now());</span><br><span class="line">    newOrders.setCheckoutTime(LocalDateTime.now());</span><br><span class="line">    newOrders.setStatus(<span class="number">2</span>); <span class="comment">// å¾…æ´¾é€</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¢åŠ è®¢å•æ˜ç»†è¡¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;OrderDetail&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(OrderDetail::getOrderId, id);</span><br><span class="line">    List&lt;OrderDetail&gt; list = orderDetailService.list(queryWrapper);</span><br><span class="line">    list.stream().map((item) -&gt; &#123;</span><br><span class="line">        <span class="comment">// ç”Ÿæˆæ–°çš„id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">detailId</span> <span class="operator">=</span> IdWorker.getId();</span><br><span class="line">        item.setOrderId(orderId);</span><br><span class="line">        item.setId(detailId);</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘è®¢å•è¡¨ä¸­æ’å…¥ä¸€æ¡æ•°æ®</span></span><br><span class="line">    <span class="built_in">this</span>.save(newOrders);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘è®¢å•æ˜ç»†è¡¨ä¸­æ’å…¥å¤šæ¡æ•°æ®</span></span><br><span class="line">    orderDetailService.saveBatch(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>OrderController</code>ä¸­è¿›è¡Œè°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å†æ¥ä¸€å•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> orders åªä¼ é€’äº†è®¢å•ç¼–å·</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/again&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">again</span><span class="params">(<span class="meta">@RequestBody</span> Orders orders)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;å†æ¥ä¸€å•ï¼š&#123;&#125;&quot;</span>, orders);</span><br><span class="line">    orderService.again(orders);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;å·²æˆåŠŸä¸‹å•&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/Java/17ReggieProject/image-20230223194942144.png" alt="image-20230223194942144" /></p>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>Project</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>SpringBoot</tag>
        <tag>MySQL</tag>
        <tag>Spring</tag>
        <tag>MyBatis</tag>
        <tag>SSM</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‘å‰å¤–å–é¡¹ç›®å®æˆ˜ - Linuxå…¥é—¨</title>
    <url>/2023/02/23/JAVA/18Linux/</url>
    <content><![CDATA[<h1 id="linuxç®€ä»‹"><a class="markdownIt-Anchor" href="#linuxç®€ä»‹"></a> Linuxç®€ä»‹</h1>
<h2 id="ä¸åŒåº”ç”¨é¢†åŸŸçš„ä¸»æµæ“ä½œç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#ä¸åŒåº”ç”¨é¢†åŸŸçš„ä¸»æµæ“ä½œç³»ç»Ÿ"></a> ä¸åŒåº”ç”¨é¢†åŸŸçš„ä¸»æµæ“ä½œç³»ç»Ÿ</h2>
<ul>
<li>æ¡Œé¢æ“ä½œç³»ç»Ÿ
<ul>
<li>Windows ï¼ˆç”¨æˆ·æ•°é‡æœ€å¤š)</li>
<li>Mac OSï¼ˆæ“ä½œä½“éªŒå¥½ï¼ŒåŠå…¬äººå£«é¦–é€‰)</li>
<li>Linuxï¼ˆç”¨æˆ·æ•°é‡å°‘)</li>
</ul>
</li>
<li>æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ
<ul>
<li>UNIXï¼ˆå®‰å…¨ã€ç¨³å®šã€ä»˜è´¹)</li>
<li>Linuxï¼ˆå®‰å…¨ã€ç¨³å®šã€å…è´¹ã€å æœ‰ç‡é«˜)</li>
<li>Windows Server (ä»˜è´¹ã€å æœ‰ç‡ä½)</li>
</ul>
</li>
<li>ç§»åŠ¨è®¾å¤‡æ“ä½œç³»ç»Ÿ
<ul>
<li>Android (åŸºäºLinux ã€å¼€æºï¼Œä¸»è¦ç”¨äºæ™ºèƒ½æ‰‹æœºã€å¹³æ¿ç”µè„‘å’Œæ™ºèƒ½ç”µè§†)</li>
<li>iosï¼ˆè‹¹æœå…¬å¸å¼€å‘ã€ä¸å¼€æºï¼Œç”¨äºè‹¹æœå…¬å¸çš„äº§å“ï¼Œä¾‹å¦‚: iPhoneã€iPad )</li>
</ul>
</li>
<li>åµŒå…¥å¼æ“ä½œç³»ç»Ÿ
<ul>
<li>Linuxï¼ˆæœºé¡¶ç›’ã€è·¯ç”±å™¨ã€äº¤æ¢æœº)</li>
</ul>
</li>
</ul>
<h2 id="linuxå‘å±•å†å²"><a class="markdownIt-Anchor" href="#linuxå‘å±•å†å²"></a> Linuxå‘å±•å†å²</h2>
<p>Linuxç³»ç»Ÿå†å²</p>
<ul>
<li>æ—¶é—´:1991å¹´</li>
<li>åœ°ç‚¹:èŠ¬å…°èµ«å°”è¾›åŸºå¤§å­¦</li>
<li>äººç‰©:Linus Torvalds ( 21å²)</li>
<li>è¯­è¨€:Cè¯­è¨€ã€æ±‡ç¼–è¯­è¨€</li>
<li>logo:ä¼é¹…</li>
<li>ç‰¹ç‚¹:å…è´¹ã€å¼€æºã€å¤šç”¨æˆ·ã€å¤šä»»åŠ¡</li>
</ul>
<h3 id="linuxç³»ç»Ÿç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#linuxç³»ç»Ÿç‰ˆæœ¬"></a> Linuxç³»ç»Ÿç‰ˆæœ¬</h3>
<p>Linuxç³»ç»Ÿåˆ†ä¸ºå†…æ ¸ç‰ˆå’Œå‘è¡Œç‰ˆ</p>
<ul>
<li>å†…æ ¸ç‰ˆ
<ul>
<li>ç”±Linus TorvaldsåŠå…¶å›¢é˜Ÿå¼€å‘ã€ç»´æŠ¤</li>
<li>å…è´¹ã€å¼€æº</li>
<li>è´Ÿè´£æ§åˆ¶ç¡¬ä»¶</li>
</ul>
</li>
<li>å‘è¡Œç‰ˆ
<ul>
<li>åŸºäºLinuxå†…æ ¸ç‰ˆè¿›è¡Œæ‰©å±•</li>
<li>ç”±å„ä¸ªLinuxå‚å•†å¼€å‘ã€ç»´æŠ¤</li>
<li>æœ‰æ”¶è´¹ç‰ˆæœ¬å’Œå…è´¹ç‰ˆæœ¬</li>
</ul>
</li>
</ul>
<p><strong>Linuxç³»ç»Ÿå‘è¡Œç‰ˆ</strong>:</p>
<ul>
<li>ubuntu:ä»¥æ¡Œé¢åº”ç”¨ä¸ºä¸»Â·</li>
<li>RedHat:åº”ç”¨æœ€å¹¿æ³›ã€æ”¶è´¹</li>
<li>CentOs: RedHatçš„ç¤¾åŒºç‰ˆã€å…è´¹Â·</li>
<li>opensuSE:å¯¹ä¸ªäººå®Œå…¨å…è´¹ã€å›¾å½¢ç•Œé¢åä¸½</li>
<li>Fedora:åŠŸèƒ½å®Œå¤‡ã€å¿«é€Ÿæ›´æ–°ã€å…è´¹</li>
<li>çº¢æ——Linux:åŒ—äº¬ä¸­ç§‘çº¢æ——è½¯ä»¶æŠ€æœ¯æœ‰é™å…¬å¸å¼€å‘</li>
</ul>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164510201-1893673796.png" alt="image" /></p>
<h1 id="linux-å®‰è£…"><a class="markdownIt-Anchor" href="#linux-å®‰è£…"></a> Linux å®‰è£…</h1>
<h2 id="å®‰è£…æ–¹å¼ä»‹ç»"><a class="markdownIt-Anchor" href="#å®‰è£…æ–¹å¼ä»‹ç»"></a> å®‰è£…æ–¹å¼ä»‹ç»</h2>
<p>Linuxç³»ç»Ÿçš„å®‰è£…æ–¹å¼</p>
<ul>
<li>ç‰©ç†æœºå®‰è£…:ç›´æ¥å°†æ“ä½œç³»ç»Ÿå®‰è£…åˆ°æœåŠ¡å™¨ç¡¬ä»¶ä¸Š</li>
<li>è™šæ‹Ÿæœºå®‰è£…:é€šè¿‡è™šæ‹Ÿæœºè½¯ä»¶å®‰è£…</li>
</ul>
<p><strong>è™šæ‹Ÿæœº</strong>( Virtual Machine)æŒ‡é€šè¿‡<strong>è½¯ä»¶</strong>æ¨¡æ‹Ÿçš„å…·æœ‰å®Œæ•´ç¡¬ä»¶ç³»ç»ŸåŠŸèƒ½ã€è¿è¡Œåœ¨å®Œå…¨éš”ç¦»ç¯å¢ƒä¸­çš„å®Œæ•´è®¡ç®—æœºç³»ç»Ÿã€‚</p>
<p>å¸¸ç”¨è™šæ‹Ÿæœºè½¯ä»¶</p>
<ul>
<li>VMware</li>
<li>VirtualBox</li>
<li>VMLite workStation</li>
<li>Qemu</li>
<li>HopeddotVos</li>
</ul>
<h2 id="å®‰è£…linux"><a class="markdownIt-Anchor" href="#å®‰è£…linux"></a> å®‰è£…Linux</h2>
<p><strong>å®‰è£…æ–¹å¼-å®‰è£…VMWare</strong></p>
<p>ç›´æ¥åŒå‡»è¿è¡Œèµ„æ–™ä¸­çš„VMwareå®‰è£…ç¨‹åºï¼Œæ ¹æ®æç¤ºå®Œæˆå®‰è£…å³å¯</p>
<p><strong>å®‰è£…CentOSé•œåƒ</strong></p>
<p>ä½¿ç”¨èµ„æ–™ä¸­æä¾›çš„CentOSé•œåƒæ–‡ä»¶æ¥å®ŒæˆLinuxç³»ç»Ÿçš„å®‰è£…</p>
<h2 id="ç½‘å¡è®¾ç½®"><a class="markdownIt-Anchor" href="#ç½‘å¡è®¾ç½®"></a> ç½‘å¡è®¾ç½®</h2>
<p>ç”±äºå¯åŠ¨æœåŠ¡å™¨æ—¶æœªåŠ è½½ç½‘å¡ï¼Œå¯¼è‡´IPåœ°å€åˆå§‹åŒ–å¤±è´¥</p>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164517145-1413567992.png" alt="image" /></p>
<p>ä¿®æ”¹ç½‘ç»œåˆå§‹åŒ–é…ç½®ï¼Œè®¾å®šç½‘å¡åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶åˆå§‹åŒ–<br />
<img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164525095-1179631425.png" alt="image" /></p>
<h2 id="å®‰è£…sshè¿æ¥å·¥å…·"><a class="markdownIt-Anchor" href="#å®‰è£…sshè¿æ¥å·¥å…·"></a> å®‰è£…SSHè¿æ¥å·¥å…·</h2>
<p>SSH ( Secure Shell)ï¼Œå»ºç«‹åœ¨åº”ç”¨å±‚åŸºç¡€ä¸Šçš„å®‰å…¨åè®®</p>
<p>å¸¸ç”¨çš„SSHè¿æ¥å·¥å…·</p>
<ul>
<li>putty</li>
<li>secureCRT</li>
<li>xshell</li>
<li>finalshell</li>
</ul>
<p>é€šè¿‡SSHè¿æ¥å·¥å…·å°±å¯ä»¥å®ç°ä»æœ¬åœ°è¿æ¥åˆ°è¿œç¨‹çš„LinuxæœåŠ¡å™¨</p>
<h2 id="linuxå’Œwindowsç›®å½•ç»“æ„å¯¹æ¯”"><a class="markdownIt-Anchor" href="#linuxå’Œwindowsç›®å½•ç»“æ„å¯¹æ¯”"></a> Linuxå’Œwindowsç›®å½•ç»“æ„å¯¹æ¯”</h2>
<p>Linuxç³»ç»Ÿä¸­çš„ç›®å½•</p>
<ul>
<li>/æ˜¯æ‰€æœ‰ç›®å½•çš„é¡¶ç‚¹</li>
<li>ç›®å½•ç»“æ„åƒä¸€é¢—å€’æŒ‚çš„æ ‘</li>
</ul>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164532669-2029309901.png" alt="image" /></p>
<h2 id="linuxç›®å½•ç»“æ„"><a class="markdownIt-Anchor" href="#linuxç›®å½•ç»“æ„"></a> Linuxç›®å½•ç»“æ„</h2>
<ul>
<li>binå­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶</li>
<li>bootå­˜æ”¾ç³»ç»Ÿå¼•å¯¼æ—¶ä½¿ç”¨çš„å„ç§æ–‡ä»¶</li>
<li>devå­˜æ”¾è®¾å¤‡æ–‡ä»¶</li>
<li>etcå­˜æ”¾ç³»ç»Ÿé…ç½®æ–‡ä»¶</li>
<li>homeå­˜æ”¾ç³»ç»Ÿç”¨æˆ·çš„æ–‡ä»¶</li>
<li>libå­˜æ”¾ç¨‹åºè¿è¡Œæ‰€éœ€çš„å…±äº«åº“å’Œå†…æ ¸æ¨¡å—</li>
<li>opté¢å¤–å®‰è£…çš„å¯é€‰åº”ç”¨ç¨‹åºåŒ…æ‰€æ”¾ç½®çš„ä½ç½®</li>
<li>rootè¶…çº§ç”¨æˆ·ç›®å½•</li>
<li>sbinå­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªæœ‰rootç”¨æˆ·æ‰èƒ½è®¿é—®</li>
<li>tmpå­˜æ”¾ä¸´æ—¶æ–‡ä»¶</li>
<li>usrå­˜æ”¾ç³»ç»Ÿåº”ç”¨ç¨‹åº</li>
<li>varå­˜æ”¾è¿è¡Œæ—¶éœ€è¦æ”¹å˜æ•°æ®çš„æ–‡ä»¶ï¼Œä¾‹å¦‚æ—¥å¿—æ–‡ä»¶</li>
</ul>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164538098-689217035.png" alt="image" /></p>
<h1 id="linux-å¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#linux-å¸¸ç”¨å‘½ä»¤"></a> Linux å¸¸ç”¨å‘½ä»¤</h1>
<h2 id="linuxå‘½ä»¤åˆä½“éªŒ"><a class="markdownIt-Anchor" href="#linuxå‘½ä»¤åˆä½“éªŒ"></a> Linuxå‘½ä»¤åˆä½“éªŒ</h2>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>å‘½ä»¤</th>
<th>å¯¹åº”è‹±æ–‡</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ls</td>
<td>list</td>
<td>æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„å†…å®¹</td>
</tr>
<tr>
<td>2</td>
<td>pwd</td>
<td>print work directory</td>
<td>æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•</td>
</tr>
<tr>
<td>3</td>
<td>cd [ç›®å½•å]</td>
<td>change directory</td>
<td>åˆ‡æ¢ç›®å½•</td>
</tr>
<tr>
<td>4</td>
<td>touch [æ–‡ä»¶å]</td>
<td>touch</td>
<td>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ–°å»ºæ–‡ä»¶</td>
</tr>
<tr>
<td>5</td>
<td>mkdir [ç›®å½•å]</td>
<td>make directory</td>
<td>åˆ›å»ºç›®å½•</td>
</tr>
<tr>
<td>6</td>
<td>rm [æ–‡ä»¶å]</td>
<td>remove</td>
<td>åˆ é™¤æŒ‡å®šæ–‡ä»¶</td>
</tr>
</tbody>
</table>
<p><strong>ä½¿ç”¨æŠ€å·§</strong></p>
<ul>
<li>Tabé”®è‡ªåŠ¨è¡¥å…¨</li>
<li>è¿ç»­ä¸¤æ¬¡Tabé”®ï¼Œç»™å‡ºæ“ä½œæç¤º</li>
<li>ä½¿ç”¨ä¸Šä¸‹ç®­å¤´å¿«é€Ÿè°ƒå‡ºæ›¾ç»ä½¿ç”¨è¿‡çš„å‘½ä»¤</li>
<li>ä½¿ç”¨clearå‘½ä»¤æˆ–è€…Ctrl+lå¿«æ·é”®å®ç°æ¸…å±</li>
</ul>
<p><strong>å‘½ä»¤æ ¼å¼</strong></p>
<p><code>command ã€-optionsã€‘ã€parameterã€‘</code></p>
<p>è¯´æ˜:</p>
<ul>
<li>command:å‘½ä»¤å</li>
<li>ã€-optionsã€‘:é€‰é¡¹ï¼Œå¯ç”¨æ¥å¯¹å‘½ä»¤è¿›è¡Œæ§åˆ¶ï¼Œä¹Ÿå¯ä»¥çœç•¥</li>
<li>ã€parameterã€‘:ä¼ ç»™å‘½ä»¤çš„å‚æ•°ï¼Œå¯ä»¥æ˜¯é›¶ä¸ªã€ä¸€ä¸ªæˆ–è€…å¤šä¸ª</li>
</ul>
<p>æ³¨æ„:</p>
<p>[]ä»£è¡¨å¯é€‰</p>
<p>å‘½ä»¤åã€é€‰é¡¹ã€å‚æ•°ä¹‹é—´æœ‰ç©ºæ ¼è¿›è¡Œåˆ†éš”</p>
<h2 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤"></a> æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤</h2>
<h3 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤ls"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤ls"></a> æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤<strong>ls</strong></h3>
<p>ä½œç”¨:æ˜¾ç¤ºæŒ‡å®šç›®å½•ä¸‹çš„å†…å®¹</p>
<p>è¯­æ³•:<code>ls [-al] [dir]</code></p>
<p>è¯´æ˜:</p>
<ul>
<li>-aæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶åŠç›®å½•(.å¼€å¤´çš„éšè—æ–‡ä»¶ä¹Ÿä¼šåˆ—å‡º)</li>
<li>-lé™¤æ–‡ä»¶åç§°å¤–ï¼ŒåŒæ—¶å°†æ–‡ä»¶å‹æ€(dè¡¨ç¤ºç›®å½•ï¼Œ-è¡¨ç¤ºæ–‡ä»¶)ã€æƒé™ã€æ‹¥æœ‰è€…ã€æ–‡ä»¶å¤§å°ç­‰ä¿¡æ¯è¯¦ç»†åˆ—å‡º</li>
</ul>
<p>æ³¨æ„:<br />
ç”±äºæˆ‘ä»¬ä½¿ç”¨lså‘½ä»¤æ—¶ç»å¸¸éœ€è¦åŠ å…¥-lé€‰é¡¹ï¼Œæ‰€ä»¥Linuxä¸ºls -lå‘½ä»¤æä¾›äº†ä¸€ç§ç®€å†™æ–¹å¼ï¼Œå³ll</p>
<h3 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤cd"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤cd"></a> æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤<strong>cd</strong></h3>
<p>ä½œç”¨:ç”¨äºåˆ‡æ¢å½“å‰å·¥ä½œç›®å½•ï¼Œå³è¿›å…¥æŒ‡å®šç›®å½•</p>
<p>è¯­æ³•:<code>cd [dirName]</code></p>
<p>ç‰¹æ®Šè¯´æ˜:</p>
<ul>
<li>~è¡¨ç¤ºç”¨æˆ·çš„homeç›®å½•</li>
<li>.è¡¨ç¤ºç›®å‰æ‰€åœ¨çš„ç›®å½•</li>
<li>â€¦è¡¨ç¤ºç›®å‰ç›®å½•ä½ç½®çš„ä¸Šçº§ç›®å½•</li>
</ul>
<p>ä¸¾ä¾‹:</p>
<ul>
<li>cd â€¦<br />
åˆ‡æ¢åˆ°å½“å‰ç›®å½•çš„ä¸Šçº§ç›®å½•</li>
<li>cd ~<br />
åˆ‡æ¢åˆ°ç”¨æˆ·çš„homeç›®å½•</li>
<li>cd /usr/local åˆ‡æ¢åˆ°/usr/localç›®å½•</li>
</ul>
<h3 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤cat"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤cat"></a> æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤<strong>cat</strong></h3>
<p>ä½œç”¨:ç”¨äºæ˜¾ç¤ºæ–‡ä»¶å†…å®¹</p>
<p>è¯­æ³•: <code>cat [-n] fileName</code></p>
<p>è¯´æ˜:</p>
<ul>
<li>-n :ç”±1å¼€å§‹å¯¹æ‰€æœ‰è¾“å‡ºçš„è¡Œæ•°ç¼–å·</li>
</ul>
<p>ä¸¾ä¾‹:</p>
<ul>
<li><code>cat /etc/profile</code><br />
æŸ¥çœ‹/etcç›®å½•ä¸‹çš„profileæ–‡ä»¶å†…å®¹</li>
</ul>
<h3 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤more"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤more"></a> æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤<strong>more</strong></h3>
<p>ä½œç”¨:ä»¥åˆ†é¡µçš„å½¢å¼æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</p>
<p>è¯­æ³•: <code>more fileName</code></p>
<p>æ“ä½œè¯´æ˜:</p>
<ul>
<li>å›è½¦é”®<br />
å‘ä¸‹æ»šåŠ¨ä¸€è¡Œ</li>
<li>ç©ºæ ¼é”®<br />
å‘ä¸‹æ»šåŠ¨ä¸€å±</li>
<li>b<br />
è¿”å›ä¸Šä¸€å±</li>
<li>qæˆ–è€…Ctrl+C<br />
é€€å‡ºmore</li>
</ul>
<p>ä¸¾ä¾‹:</p>
<p><code>more /etc/profile</code><br />
ä»¥åˆ†é¡µæ–¹å¼æ˜¾ç¤º/etcç›®å½•ä¸‹çš„profileæ–‡ä»¶å†…å®¹</p>
<h3 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤tail"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤tail"></a> æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤<strong>tail</strong></h3>
<p>ä½œç”¨:æŸ¥çœ‹æ–‡ä»¶æœ«å°¾çš„å†…å®¹</p>
<p>è¯­æ³•:<code>tail [-f] fileName</code></p>
<p>è¯´æ˜:</p>
<ul>
<li>-f :åŠ¨æ€è¯»å–æ–‡ä»¶æœ«å°¾å†…å®¹å¹¶æ˜¾ç¤ºï¼Œé€šå¸¸ç”¨äºæ—¥å¿—æ–‡ä»¶çš„å†…å®¹è¾“å‡º</li>
</ul>
<p>ä¸¾ä¾‹:</p>
<ul>
<li><code>tail /etc/profile</code><br />
æ˜¾ç¤º/etcç›®å½•ä¸‹çš„profileæ–‡ä»¶æœ«å°¾10è¡Œçš„å†…å®¹</li>
<li><code>tail -20 /etc/profile</code><br />
æ˜¾ç¤º/etcç›®å½•ä¸‹çš„profileæ–‡ä»¶æœ«å°¾20è¡Œçš„å†…å®¹</li>
<li><code>tail -f /itcast/my.log</code><br />
åŠ¨æ€è¯»å–/itcastç›®å½•ä¸‹çš„my.logæ–‡ä»¶æœ«å°¾å†…å®¹å¹¶æ˜¾ç¤º</li>
</ul>
<h3 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤mkdir"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤mkdir"></a> æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤<strong>mkdir</strong></h3>
<p>ä½œç”¨:åˆ›å»ºç›®å½•</p>
<p>è¯­æ³•:<code>mkdir [-p] dirName</code></p>
<p>è¯´æ˜:</p>
<ul>
<li>-pï¸°ç¡®ä¿ç›®å½•åç§°å­˜åœ¨ï¼Œä¸å­˜åœ¨çš„å°±åˆ›å»ºä¸€ä¸ªã€‚é€šè¿‡æ­¤é€‰é¡¹ï¼Œå¯ä»¥å®ç°å¤šå±‚ç›®å½•åŒæ—¶åˆ›å»º</li>
</ul>
<p>ä¸¾ä¾‹:</p>
<ul>
<li><code>mkdir itcast</code>ã€€åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œå»ºç«‹ä¸€ä¸ªåä¸ºitcastçš„å­ç›®å½•</li>
<li><code>mkdir-p itcast/test</code>ã€€åœ¨å·¥ä½œç›®å½•ä¸‹çš„itcastç›®å½•ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºtestçš„å­ç›®å½•ï¼Œè‹¥itcastç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™å»ºç«‹ä¸€ä¸ª</li>
</ul>
<h3 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤rmdir"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤rmdir"></a> æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤rmdir</h3>
<p>ä½œç”¨:åˆ é™¤ç©ºç›®å½•</p>
<p>è¯­æ³•:<code>rmdir [-p] dirName</code></p>
<p>è¯´æ˜:</p>
<ul>
<li>-p:å½“å­ç›®å½•è¢«åˆ é™¤åä½¿çˆ¶ç›®å½•ä¸ºç©ºç›®å½•çš„è¯ï¼Œåˆ™ä¸€å¹¶åˆ é™¤</li>
</ul>
<p>ä¸¾ä¾‹:</p>
<ul>
<li><code>rmdir itcast</code>ã€€åˆ é™¤åä¸ºitcastçš„ç©ºç›®å½•</li>
<li><code>rmdir-p itcast/test</code>ã€€åˆ é™¤itcastç›®å½•ä¸­åä¸ºtestçš„å­ç›®å½•ï¼Œè‹¥testç›®å½•åˆ é™¤åitcastç›®å½•å˜ä¸ºç©ºç›®å½•ï¼Œåˆ™ä¹Ÿè¢«åˆ é™¤</li>
<li><code>rmdir itcast*</code>ã€€åˆ é™¤åç§°ä»¥itcastå¼€å§‹çš„ç©ºç›®å½•</li>
</ul>
<h3 id="æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤rm"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤rm"></a> æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤rm</h3>
<p>ä½œç”¨:åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•</p>
<p>è¯­æ³•:<code>rm [-rf] name</code></p>
<p>è¯´æ˜:</p>
<ul>
<li>-r:å°†ç›®å½•åŠç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶ï¼ˆç›®å½•ï¼‰é€ä¸€åˆ é™¤ï¼Œå³é€’å½’åˆ é™¤</li>
<li>-f:æ— éœ€ç¡®è®¤ï¼Œç›´æ¥åˆ é™¤</li>
</ul>
<p>ä¸¾ä¾‹:</p>
<ul>
<li>rm -r itcast/åˆ é™¤åä¸ºitcastçš„ç›®å½•å’Œç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶ï¼Œåˆ é™¤å‰éœ€ç¡®è®¤</li>
<li>rm -rf itcast/æ— éœ€ç¡®è®¤ï¼Œç›´æ¥åˆ é™¤åä¸ºitcastçš„ç›®å½•å’Œç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶</li>
<li>rm -f hello.txtæ— éœ€ç¡®è®¤ï¼Œç›´æ¥åˆ é™¤hello.txtæ–‡ä»¶</li>
</ul>
<h2 id="æ‹·è´ç§»åŠ¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#æ‹·è´ç§»åŠ¨å‘½ä»¤"></a> æ‹·è´ç§»åŠ¨å‘½ä»¤</h2>
<h3 id="æ‹·è´ç§»åŠ¨å‘½ä»¤cp"><a class="markdownIt-Anchor" href="#æ‹·è´ç§»åŠ¨å‘½ä»¤cp"></a> æ‹·è´ç§»åŠ¨å‘½ä»¤cp</h3>
<p>ä½œç”¨:ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•è¯­æ³•:<code>cp [-r] source dest</code></p>
<p>è¯´æ˜:</p>
<ul>
<li>-r:å¦‚æœå¤åˆ¶çš„æ˜¯ç›®å½•éœ€è¦ä½¿ç”¨æ­¤é€‰é¡¹ï¼Œæ­¤æ—¶å°†å¤åˆ¶è¯¥ç›®å½•ä¸‹æ‰€æœ‰çš„å­ç›®å½•å’Œæ–‡ä»¶</li>
</ul>
<p>ä¸¾ä¾‹:</p>
<ul>
<li>cp hello.txt itcast/<br />
å°†hello.txtå¤åˆ¶åˆ°itcastç›®å½•ä¸­</li>
<li>cp hello.txt . / hi.txt<br />
å°†hello.txtå¤åˆ¶åˆ°å½“å‰ç›®å½•ï¼Œå¹¶æ”¹åä¸ºhi.txt</li>
<li>cp -r itcast/ ./itheimalå°†itcastç›®å½•å’Œç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°itheimaç›®å½•ä¸‹</li>
<li>cp -r itcast/* ./ itheima/å°†itcastç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°itheimaç›®å½•ä¸‹</li>
</ul>
<h3 id="æ‹·è´ç§»åŠ¨å‘½ä»¤mv"><a class="markdownIt-Anchor" href="#æ‹·è´ç§»åŠ¨å‘½ä»¤mv"></a> æ‹·è´ç§»åŠ¨å‘½ä»¤mv</h3>
<p>ä½œç”¨:ä¸ºæ–‡ä»¶æˆ–ç›®å½•æ”¹åã€æˆ–å°†æ–‡ä»¶æˆ–ç›®å½•ç§»åŠ¨åˆ°å…¶å®ƒä½ç½®</p>
<p>è¯­æ³•: <code>mv source dest</code></p>
<p>ä¸¾ä¾‹:</p>
<ul>
<li><code>mv hello.txt hi.txt</code><br />
å°†hello.txtæ”¹åä¸ºhi.txt</li>
<li><code>mv hi.txt itheima/</code><br />
å°†æ–‡ä»¶hi.txtç§»åŠ¨åˆ°itheimaç›®å½•ä¸­</li>
<li><code>mv hi.txt itheima/</code> hello.txtå°†hi.txtç§»åŠ¨åˆ°itheimaç›®å½•ä¸­ï¼Œå¹¶æ”¹åä¸ºhello.txt</li>
<li><code>mv itcast/ itheima/</code>å¦‚æœitheimaç›®å½•ä¸å­˜åœ¨ï¼Œå°†itcastç›®å½•æ”¹åä¸ºitheima</li>
<li><code>mv itcast/ itheima/</code><br />
å¦‚æœitheimaç›®å½•å­˜åœ¨ï¼Œå°†itcastç›®å½•ç§»åŠ¨åˆ°itheimaç›®å½•ä¸­</li>
</ul>
<h3 id="æ‰“åŒ…å‹ç¼©å‘½ä»¤tar"><a class="markdownIt-Anchor" href="#æ‰“åŒ…å‹ç¼©å‘½ä»¤tar"></a> æ‰“åŒ…å‹ç¼©å‘½ä»¤tar</h3>
<p>ä½œç”¨:å¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€è§£åŒ…ã€å‹ç¼©ã€è§£å‹</p>
<p>è¯­æ³•: <code>tar [-zcxvf] fileName [files]</code></p>
<p>åŒ…æ–‡ä»¶åç¼€ä¸º**.tar**è¡¨ç¤ºåªæ˜¯å®Œæˆäº†æ‰“åŒ…ï¼Œå¹¶æ²¡æœ‰å‹ç¼©</p>
<p>åŒ…æ–‡ä»¶åç¼€ä¸º**.tar.gz**è¡¨ç¤ºæ‰“åŒ…çš„åŒæ—¶è¿˜è¿›è¡Œäº†å‹ç¼©</p>
<p>è¯´æ˜:</p>
<ul>
<li>-zâˆ¶ zä»£è¡¨çš„æ˜¯gzipï¼Œé€šè¿‡gzipå‘½ä»¤å¤„ç†æ–‡ä»¶ï¼Œgzipå¯ä»¥å¯¹æ–‡ä»¶å‹ç¼©æˆ–è€…è§£å‹</li>
<li>-c: cä»£è¡¨çš„æ˜¯createï¼Œå³åˆ›å»ºæ–°çš„åŒ…æ–‡ä»¶</li>
<li>-x: xä»£è¡¨çš„æ˜¯extractï¼Œå®ç°ä»åŒ…æ–‡ä»¶ä¸­è¿˜åŸæ–‡ä»¶</li>
<li>-v: vä»£è¡¨çš„æ˜¯verboseï¼Œæ˜¾ç¤ºå‘½ä»¤çš„æ‰§è¡Œè¿‡ç¨‹</li>
<li>-f: fä»£è¡¨çš„æ˜¯fileï¼Œç”¨äºæŒ‡å®šåŒ…æ–‡ä»¶çš„åç§°</li>
<li>-cvfï¼šå°†æ–‡ä»¶æ‰“åŒ…å¹¶å‘½åï¼Œåç¼€ä¸º<code>.tar</code></li>
<li>-zcvfï¼šè®²æ–‡ä»¶æ‰“åŒ…å‹ç¼©å¹¶å‘½åï¼Œåç¼€ä¸º<code>.tar.gz</code></li>
<li>-xvfï¼šå¯¹å·²æœ‰çš„åŒ…<code>.tar</code>è¿›è¡Œè§£åŒ…</li>
<li>-zxvfï¼šå¯¹å·²æœ‰çš„å‹ç¼©åŒ…<code>.tar.gz</code>è¿›è¡Œè§£å‹ç¼©</li>
</ul>
<h2 id="æ–‡æœ¬ç¼–è¾‘å‘½ä»¤vivim"><a class="markdownIt-Anchor" href="#æ–‡æœ¬ç¼–è¾‘å‘½ä»¤vivim"></a> æ–‡æœ¬ç¼–è¾‘å‘½ä»¤vi/vim</h2>
<p>ä½œç”¨: viå‘½ä»¤æ˜¯Linuxç³»ç»Ÿæä¾›çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å·¥å…·ï¼Œå¯ä»¥å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œç¼–è¾‘ï¼Œç±»ä¼¼äºWindowsä¸­çš„è®°äº‹æœ¬</p>
<p>è¯­æ³•: <code>vi fileName</code></p>
<p>è¯´æ˜:</p>
<p>1ã€ vimæ˜¯ä»viå‘å±•æ¥çš„ä¸€ä¸ªåŠŸèƒ½æ›´åŠ å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å·¥å…·ï¼Œåœ¨ç¼–è¾‘æ–‡ä»¶æ—¶å¯ä»¥å¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œç€è‰²ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘å¤„ç†ï¼Œæ‰€ä»¥å®é™…å·¥ä½œä¸­vimæ›´åŠ å¸¸ç”¨ã€‚</p>
<p>2ã€è¦ä½¿ç”¨vimå‘½ä»¤ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å®Œæˆå®‰è£…ã€‚å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤æ¥å®Œæˆå®‰è£…:yum install vim</p>
<h3 id="æ–‡æœ¬ç¼–è¾‘å‘½ä»¤vim"><a class="markdownIt-Anchor" href="#æ–‡æœ¬ç¼–è¾‘å‘½ä»¤vim"></a> æ–‡æœ¬ç¼–è¾‘å‘½ä»¤vim</h3>
<p>ä½œç”¨:å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œç¼–è¾‘ï¼Œvimå…¶å®å°±æ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨</p>
<p>è¯­æ³•:<code>vim fileName</code></p>
<p>è¯´æ˜:</p>
<p>1ã€åœ¨ä½¿ç”¨vimå‘½ä»¤ç¼–è¾‘æ–‡ä»¶æ—¶ï¼Œå¦‚æœæŒ‡å®šçš„æ–‡ä»¶å­˜åœ¨åˆ™ç›´æ¥æ‰“å¼€æ­¤æ–‡ä»¶ã€‚å¦‚æœæŒ‡å®šçš„æ–‡ä»¶ä¸å­˜åœ¨åˆ™æ–°å»ºæ–‡ä»¶ã€‚</p>
<p>2ã€vimåœ¨è¿›è¡Œæ–‡æœ¬ç¼–è¾‘æ—¶å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯å‘½ä»¤æ¨¡å¼(Command mode)ï¼Œæ’å…¥æ¨¡å¼ï¼ˆInsert mode)å’Œåº•è¡Œæ¨¡å¼(Last line mode)ã€‚è¿™ä¸‰ç§æ¨¡å¼ä¹‹é—´å¯ä»¥ç›¸äº’åˆ‡æ¢ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨vimæ—¶ä¸€å®šè¦æ³¨æ„æˆ‘ä»¬å½“å‰æ‰€å¤„çš„æ˜¯å“ªç§æ¨¡å¼ã€‚</p>
<p>é’ˆå¯¹vimä¸­çš„ä¸‰ç§æ¨¡å¼è¯´æ˜å¦‚ä¸‹:</p>
<p>1ã€<strong>å‘½ä»¤æ¨¡å¼</strong></p>
<ul>
<li>å‘½ä»¤æ¨¡å¼ä¸‹å¯ä»¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ã€ç§»åŠ¨å…‰æ ‡ï¼ˆä¸Šä¸‹å·¦å³ç®­å¤´ã€ggã€G)</li>
<li>é€šè¿‡vimå‘½ä»¤æ‰“å¼€æ–‡ä»¶åï¼Œé»˜è®¤è¿›å…¥å‘½ä»¤æ¨¡å¼</li>
<li>å¦å¤–ä¸¤ç§æ¨¡å¼éœ€è¦é¦–å…ˆè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œæ‰èƒ½è¿›å…¥å½¼æ­¤</li>
</ul>
<p>2ã€<strong>æ’å…¥æ¨¡å¼</strong></p>
<ul>
<li>æ’å…¥æ¨¡å¼ä¸‹å¯ä»¥å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œç¼–è¾‘</li>
<li>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹[i,a,o]ä»»æ„ä¸€ä¸ªï¼Œå¯ä»¥è¿›å…¥æ’å…¥æ¨¡å¼ã€‚è¿›å…¥æ’å…¥æ¨¡å¼åï¼Œä¸‹æ–¹ä¼šå‡ºç°ã€insertã€‘å­—æ ·</li>
<li>åœ¨æ’å…¥æ¨¡å¼ä¸‹æŒ‰ä¸‹ESCé”®ï¼Œå›åˆ°å‘½ä»¤æ¨¡å¼</li>
</ul>
<p>3ã€<strong>åº•è¡Œæ¨¡å¼</strong></p>
<ul>
<li>åº•è¡Œæ¨¡å¼ä¸‹å¯ä»¥é€šè¿‡å‘½ä»¤å¯¹æ–‡ä»¶å†…å®¹è¿›è¡ŒæŸ¥æ‰¾ã€æ˜¾ç¤ºè¡Œå·ã€é€€å‡ºç­‰æ“ä½œ</li>
<li>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹[:,/]ä»»æ„ä¸€ä¸ªï¼Œå¯ä»¥è¿›å…¥åº•è¡Œæ¨¡å¼</li>
<li>é€šè¿‡/æ–¹å¼è¿›å…¥åº•è¡Œæ¨¡å¼åï¼Œå¯ä»¥å¯¹æ–‡ä»¶å†…å®¹è¿›è¡ŒæŸ¥æ‰¾</li>
<li>é€šè¿‡:æ–¹å¼è¿›å…¥åº•è¡Œæ¨¡å¼åï¼Œå¯ä»¥è¾“å…¥wqï¼ˆä¿å­˜å¹¶é€€å‡ºï¼‰ã€q!(ä¸ä¿å­˜é€€å‡ºï¼‰ ã€ set nu(æ˜¾ç¤ºè¡Œå·)</li>
</ul>
<h2 id="æŸ¥æ‰¾å‘½ä»¤"><a class="markdownIt-Anchor" href="#æŸ¥æ‰¾å‘½ä»¤"></a> æŸ¥æ‰¾å‘½ä»¤</h2>
<h3 id="æŸ¥æ‰¾å‘½ä»¤find"><a class="markdownIt-Anchor" href="#æŸ¥æ‰¾å‘½ä»¤find"></a> æŸ¥æ‰¾å‘½ä»¤find</h3>
<p>ä½œç”¨:åœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶</p>
<p>è¯­æ³•:<code>find dirName -option fileName</code></p>
<p>ä¸¾ä¾‹:</p>
<ul>
<li><code>find . -name &quot;*.java&quot;</code><br />
åœ¨å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æŸ¥æ‰¾.javaç»“å°¾æ–‡ä»¶</li>
<li><code>find /itcast -name &quot;*.java&quot;</code><br />
åœ¨/itcastç›®å½•åŠå…¶å­ç›®å½•ä¸‹æŸ¥æ‰¾.javaç»“å°¾çš„æ–‡ä»¶</li>
</ul>
<h3 id="æŸ¥æ‰¾å‘½ä»¤grep"><a class="markdownIt-Anchor" href="#æŸ¥æ‰¾å‘½ä»¤grep"></a> æŸ¥æ‰¾å‘½ä»¤grep</h3>
<p>ä½œç”¨:ä»æŒ‡å®šæ–‡ä»¶ä¸­æŸ¥æ‰¾æŒ‡å®šçš„æ–‡æœ¬å†…å®¹</p>
<p>è¯­æ³•: <code>grep word fileName</code></p>
<p>ä¸¾ä¾‹:</p>
<ul>
<li><code>grep Hello Helloworld.java</code><br />
æŸ¥æ‰¾Helloworld.javaæ–‡ä»¶ä¸­å‡ºç°çš„Helloå­—ç¬¦ä¸²çš„ä½ç½®</li>
<li><code>grep hello *.java</code><br />
æŸ¥æ‰¾å½“å‰ç›®å½•ä¸­æ‰€æœ‰.javaç»“å°¾çš„æ–‡ä»¶ä¸­åŒ…å«helloå­—ç¬¦ä¸²çš„ä½ç½®</li>
</ul>
<h1 id="linuxè½¯ä»¶å®‰è£…"><a class="markdownIt-Anchor" href="#linuxè½¯ä»¶å®‰è£…"></a> Linuxè½¯ä»¶å®‰è£…</h1>
<h2 id="è½¯ä»¶å®‰è£…æ–¹å¼"><a class="markdownIt-Anchor" href="#è½¯ä»¶å®‰è£…æ–¹å¼"></a> è½¯ä»¶å®‰è£…æ–¹å¼</h2>
<ul>
<li>äºŒè¿›åˆ¶å‘å¸ƒåŒ…å®‰è£…
<ul>
<li>è½¯ä»¶å·²ç»é’ˆå¯¹å…·ä½“å¹³å°ç¼–è¯‘æ‰“åŒ…å‘å¸ƒï¼Œåªè¦è§£å‹ï¼Œä¿®æ”¹é…ç½®å³å¯</li>
</ul>
</li>
<li><code>rpm</code>å®‰è£…
<ul>
<li>è½¯ä»¶å·²ç»æŒ‰ç…§redhatçš„åŒ…ç®¡ç†è§„èŒƒè¿›è¡Œæ‰“åŒ…ï¼Œä½¿ç”¨rpmå‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œä¸èƒ½è‡ªè¡Œè§£å†³åº“ä¾èµ–é—®é¢˜</li>
</ul>
</li>
<li><code>yum</code>å®‰è£…
<ul>
<li>ä¸€ç§åœ¨çº¿è½¯ä»¶å®‰è£…æ–¹å¼ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯rpmå®‰è£…ï¼Œè‡ªåŠ¨ä¸‹è½½å®‰è£…åŒ…å¹¶å®‰è£…ï¼Œå®‰è£…è¿‡ç¨‹ä¸­è‡ªåŠ¨è§£å†³åº“ä¾èµ–é—®é¢˜</li>
</ul>
</li>
<li>æºç ç¼–è¯‘å®‰è£…
<ul>
<li>è½¯ä»¶ä»¥æºç å·¥ç¨‹çš„å½¢å¼å‘å¸ƒï¼Œéœ€è¦è‡ªå·±ç¼–è¯‘æ‰“åŒ…</li>
</ul>
</li>
</ul>
<h2 id="å®‰è£…jdk"><a class="markdownIt-Anchor" href="#å®‰è£…jdk"></a> å®‰è£…jdk</h2>
<p>æ“ä½œæ­¥éª¤:</p>
<p>1ã€ä½¿ç”¨FinalShellè‡ªå¸¦çš„ä¸Šä¼ å·¥å…·å°†jdkçš„äºŒè¿›åˆ¶å‘å¸ƒåŒ…ä¸Šä¼ åˆ°<code>Linux jdk-8u171-linux-Ã—64.tar.gz</code></p>
<p>2ã€è§£å‹å®‰è£…åŒ…ï¼Œå‘½ä»¤ä¸º<code>tar -zxvf jdk-8u171-linux-x64.tar.gz -C/usr/local</code></p>
<p>3ã€é…ç½®ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨<code>vim</code>å‘½ä»¤ä¿®æ”¹<code>/etc/profile</code>æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ«å°¾åŠ å…¥å¦‚ä¸‹é…ç½®</p>
<ul>
<li><code>JAVA_HOME=/usr/local/jdk1.8.0_171</code></li>
<li><code>PATH=$JAVA_HOME/bin :$PATH</code></li>
</ul>
<p>4ã€é‡æ–°åŠ è½½<code>profile</code>æ–‡ä»¶ï¼Œä½¿æ›´æ”¹çš„é…ç½®ç«‹å³ç”Ÿæ•ˆï¼Œå‘½ä»¤ä¸º<code>source /etc/profile</code></p>
<p>5ã€æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸï¼Œå‘½ä»¤ä¸º<code>java -version</code></p>
<h2 id="å®‰è£…tomcat"><a class="markdownIt-Anchor" href="#å®‰è£…tomcat"></a> å®‰è£…Tomcat</h2>
<h3 id="æ“ä½œæ­¥éª¤"><a class="markdownIt-Anchor" href="#æ“ä½œæ­¥éª¤"></a> æ“ä½œæ­¥éª¤:</h3>
<p>1ã€ä½¿ç”¨FinalShellè‡ªå¸¦çš„ä¸Šä¼ å·¥å…·å°†Tomcatçš„äºŒè¿›åˆ¶å‘å¸ƒåŒ…ä¸Šä¼ åˆ°Linuxapache-tomcat-7.0.57.tar.gz</p>
<p>2ã€è§£å‹å®‰è£…åŒ…ï¼Œå‘½ä»¤ä¸º<code>tar -zxvf apache-tomcat-7.0.57.tar.gz -C/usr/local</code></p>
<p>3ã€è¿›å…¥Tomcatçš„binç›®å½•å¯åŠ¨æœåŠ¡ï¼Œå‘½ä»¤ä¸º<code>sh startup.sh</code>æˆ–è€…<code>./startup.sh</code></p>
<h3 id="éªŒè¯tomcatå¯åŠ¨æ˜¯å¦æˆåŠŸæœ‰å¤šç§æ–¹å¼"><a class="markdownIt-Anchor" href="#éªŒè¯tomcatå¯åŠ¨æ˜¯å¦æˆåŠŸæœ‰å¤šç§æ–¹å¼"></a> éªŒè¯Tomcatå¯åŠ¨æ˜¯å¦æˆåŠŸï¼Œæœ‰å¤šç§æ–¹å¼:</h3>
<ul>
<li>
<p>æŸ¥çœ‹å¯åŠ¨æ—¥å¿—</p>
<p><code>more /usr/local/apache-tomcat-7.0.57/logs/catalina.out</code></p>
<p><code>tail -50 /usr/local/apache-tomcat-7.0.57/logs/catalina.out</code></p>
</li>
<li>
<p>æŸ¥çœ‹è¿›ç¨‹ <code>ps -ef | grep tomcat</code><br />
<img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164559036-587234087.png" alt="image" /></p>
</li>
</ul>
<p><strong>æ³¨æ„:</strong></p>
<ul>
<li>pså‘½ä»¤æ˜¯linuxä¸‹éå¸¸å¼ºå¤§çš„è¿›ç¨‹æŸ¥çœ‹å‘½ä»¤ï¼Œé€šè¿‡ps -efå¯ä»¥æŸ¥çœ‹å½“å‰è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯</li>
<li>â€œ|â€åœ¨Linuxä¸­ç§°ä¸ºç®¡é“ç¬¦ï¼Œå¯ä»¥å°†å‰ä¸€ä¸ªå‘½ä»¤çš„ç»“æœè¾“å‡ºç»™åä¸€ä¸ªå‘½ä»¤ä½œä¸ºè¾“å…¥</li>
<li>ä½¿ç”¨pså‘½ä»¤æŸ¥çœ‹è¿›ç¨‹æ—¶ï¼Œç»å¸¸é…åˆç®¡é“ç¬¦å’ŒæŸ¥æ‰¾å‘½ä»¤grepä¸€èµ·ä½¿ç”¨ï¼Œæ¥æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹</li>
</ul>
<h3 id="é˜²ç«å¢™æ“ä½œ"><a class="markdownIt-Anchor" href="#é˜²ç«å¢™æ“ä½œ"></a> é˜²ç«å¢™æ“ä½œ:</h3>
<ul>
<li>æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€(<code>systemctl status firewalld</code>ã€<code>firewall-cmd --state</code>)</li>
<li>æš‚æ—¶å…³é—­é˜²ç«å¢™(<code>systemctl stop firewalld</code>)</li>
<li>æ°¸ä¹…å…³é—­é˜²ç«å¢™(<code>systemctl disable firewalld</code>)</li>
<li>å¼€å¯é˜²ç«å¢™(<code>systemctl start firewalld</code>)</li>
<li><strong>å¼€æ”¾æŒ‡å®šç«¯å£</strong>(<code>firewall-cmd --zone=public --add-port=8080/tcp --permanent</code>)</li>
<li>å…³é—­æŒ‡å®šç«¯å£(<code>firewall-cmd --zone=public --remove-port=8080/tcp --permanent</code>)</li>
<li><strong>ç«‹å³ç”Ÿæ•ˆ</strong>(<code>firewall-cmd --reload</code>)</li>
<li>æŸ¥çœ‹å¼€æ”¾çš„ç«¯å£(<code>firewall-cmd --zone=public --list-ports</code>)</li>
</ul>
<p><strong>æ³¨æ„:</strong></p>
<p>1ã€systemctlæ˜¯ç®¡ç†Linuxä¸­æœåŠ¡çš„å‘½ä»¤ï¼Œå¯ä»¥å¯¹æœåŠ¡è¿›è¡Œå¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€æŸ¥çœ‹çŠ¶æ€ç­‰æ“ä½œ</p>
<p>2ã€firewall-cmdæ˜¯Linuxä¸­ä¸“é—¨ç”¨äºæ§åˆ¶é˜²ç«å¢™çš„å‘½ä»¤</p>
<p>3ã€ä¸ºäº†ä¿è¯ç³»ç»Ÿå®‰å…¨ï¼ŒæœåŠ¡å™¨çš„é˜²ç«å¢™ä¸å»ºè®®å…³é—­</p>
<h3 id="åœæ­¢tomcatæœåŠ¡çš„æ–¹å¼"><a class="markdownIt-Anchor" href="#åœæ­¢tomcatæœåŠ¡çš„æ–¹å¼"></a> åœæ­¢TomcatæœåŠ¡çš„æ–¹å¼:</h3>
<ul>
<li>
<p>è¿è¡ŒTomcatçš„binç›®å½•ä¸­æä¾›çš„åœæ­¢æœåŠ¡çš„è„šæœ¬æ–‡ä»¶<code>shutdown.sh</code></p>
<p><code>sh shutdown.sh</code></p>
<p><code>./shutdown.sh</code></p>
</li>
<li>
<p>ç»“æŸTomcatè¿›ç¨‹<br />
æŸ¥çœ‹Tomcatè¿›ç¨‹ï¼Œè·å¾—è¿›ç¨‹id<br />
<img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164615590-1183764675.png" alt="image" /><br />
æ‰§è¡Œå‘½ä»¤ç»“æŸè¿›ç¨‹<code>kill -9 7742</code></p>
</li>
</ul>
<p><strong>æ³¨æ„:</strong><br />
killå‘½ä»¤æ˜¯Linuxæä¾›çš„ç”¨äºç»“æŸè¿›ç¨‹çš„å‘½ä»¤ï¼Œ-9è¡¨ç¤ºå¼ºåˆ¶ç»“æŸ</p>
<h2 id="å®‰è£…mysql"><a class="markdownIt-Anchor" href="#å®‰è£…mysql"></a> å®‰è£…MySQL</h2>
<p>1ã€æ£€æµ‹å½“å‰ç³»ç»Ÿä¸­æ˜¯å¦å®‰è£…MySQLæ•°æ®åº“</p>
<ul>
<li><code>rpm -qa</code><br />
æŸ¥è¯¢å½“å‰ç³»ç»Ÿä¸­å®‰è£…çš„æ‰€æœ‰è½¯ä»¶</li>
<li><code>rpm -qa l grep mysql</code><br />
æŸ¥è¯¢å½“å‰ç³»ç»Ÿä¸­å®‰è£…çš„åç§°å¸¦mysqlçš„è½¯ä»¶</li>
<li><code>rpm -qa l grep mariadb</code><br />
æŸ¥è¯¢å½“å‰ç³»ç»Ÿä¸­å®‰è£…çš„åç§°å¸¦mariadbçš„è½¯ä»¶<br />
<img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164632289-1107734166.png" alt="image" /></li>
</ul>
<p>RPMï¼ˆ Red-Hat Package Manager ï¼‰RPMè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œæ˜¯çº¢å¸½Linuxç”¨äºç®¡ç†å’Œå®‰è£…è½¯ä»¶çš„å·¥å…·</p>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœå½“å‰ç³»ç»Ÿä¸­å·²ç»å®‰è£…æœ‰MySQLæ•°æ®åº“ï¼Œå®‰è£…å°†å¤±è´¥ã€‚CentoS7è‡ªå¸¦mariadbï¼Œä¸My5QLæ•°æ®åº“å†²çª</p>
<p>2ã€å¸è½½å·²ç»å®‰è£…çš„å†²çªè½¯ä»¶</p>
<ul>
<li><code>rpm -e --nodeps è½¯ä»¶åç§°</code> å¸è½½è½¯ä»¶</li>
<li><code>rpm -e --nodeps mariadb-libs-5.5.60-1.el7_5.x86_64</code></li>
</ul>
<p>3ã€å°†èµ„æ–™ä¸­æä¾›çš„MySQLå®‰è£…åŒ…ä¸Šä¼ åˆ°Linuxå¹¶è§£å‹</p>
<ul>
<li><code>mkdir /usr/local/mysql</code></li>
<li><code>tar -zxvf mysql-5.7.25-1.el7.x86_64.rpm-bundle.tar.gz -C /usr/local/mysql</code></li>
</ul>
<p>4ã€æŒ‰ç…§é¡ºåºå®‰è£…rpmè½¯ä»¶åŒ…</p>
<ul>
<li>
<p><code>rpm -ivh mysql-community-common-5.7.25-1.el7.x86_64.rpm</code></p>
</li>
<li>
<p><code>rpm -ivh mysql-community-libs-5.7.25-1.el7.x86_64.rpm</code></p>
</li>
<li>
<p><code>rpm -ivh mysql-community-devel-5.7.25-1.el7.x86_64.rpm</code></p>
</li>
<li>
<p><code>rpm -ivh mysql-community-libs-compat-5.7.25-1.el7.x86_64.rpm</code></p>
</li>
<li>
<p><code>rpm -ivh mysql-community-client-5.7.25-1.el7.x86_64.rpm</code></p>
</li>
<li>
<p><code>yum install net-tools</code></p>
</li>
<li>
<p><code>rpm -ivh mysql-community-server-5.7.25-1.el7.x86_64.rpm</code></p>
<p>è¯´æ˜1:å®‰è£…è¿‡ç¨‹ä¸­æç¤ºç¼ºå°‘net-toolsä¾èµ–ï¼Œä½¿ç”¨yumå®‰è£…</p>
<p>è¯´æ˜2:å¯ä»¥é€šè¿‡æŒ‡ä»¤å‡çº§ç°æœ‰è½¯ä»¶åŠç³»ç»Ÿå†…æ ¸</p>
</li>
<li>
<p><code>yum update</code></p>
</li>
</ul>
<h3 id="å¯åŠ¨mysql"><a class="markdownIt-Anchor" href="#å¯åŠ¨mysql"></a> å¯åŠ¨mysql</h3>
<ul>
<li><code>systemctl status mysqld</code><br />
æŸ¥çœ‹mysqlæœåŠ¡çŠ¶æ€</li>
<li><code>systemctl start mysqld</code><br />
å¯åŠ¨mysqlæœåŠ¡<br />
<img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164641114-1683153309.png" alt="image" /></li>
</ul>
<p>è¯´æ˜:å¯ä»¥è®¾ç½®å¼€æœºæ—¶å¯åŠ¨mysqlæœåŠ¡ï¼Œé¿å…æ¯æ¬¡å¼€æœºå¯åŠ¨mysql</p>
<ul>
<li><code>systemctl enable mysqld</code><br />
å¼€æœºå¯åŠ¨mysqlæœåŠ¡</li>
<li><code>netstat -tunlp</code><br />
æŸ¥çœ‹å·²ç»å¯åŠ¨çš„æœåŠ¡</li>
<li><code>netstat -tunlp | grep mysql</code></li>
<li><code>ps -ef | grep mysql</code><br />
æŸ¥çœ‹mysqlè¿›ç¨‹</li>
</ul>
<h3 id="ç™»å½•mysqlæ•°æ®åº“æŸ¥é˜…ä¸´æ—¶å¯†ç "><a class="markdownIt-Anchor" href="#ç™»å½•mysqlæ•°æ®åº“æŸ¥é˜…ä¸´æ—¶å¯†ç "></a> ç™»å½•MySQLæ•°æ®åº“ï¼ŒæŸ¥é˜…ä¸´æ—¶å¯†ç </h3>
<ul>
<li><code>cat /var/log/mysqld.log</code><br />
æŸ¥çœ‹æ–‡ä»¶å†…å®¹</li>
<li><code>cat /var/log/mysqld.log | grep password</code><br />
æŸ¥çœ‹æ–‡ä»¶å†…å®¹ä¸­åŒ…å«passwordçš„è¡Œä¿¡æ¯</li>
</ul>
<h3 id="ç™»å½•mysqlä¿®æ”¹å¯†ç å¼€æ”¾è®¿é—®æƒé™"><a class="markdownIt-Anchor" href="#ç™»å½•mysqlä¿®æ”¹å¯†ç å¼€æ”¾è®¿é—®æƒé™"></a> ç™»å½•MySQLï¼Œä¿®æ”¹å¯†ç ï¼Œå¼€æ”¾è®¿é—®æƒé™</h3>
<ul>
<li><code>mysql -urpot -p</code><br />
ç™»å½•mysqlï¼ˆä½¿ç”¨ä¸´æ—¶å¯†ç ç™»å½•)</li>
</ul>
<h4 id="ä¿®æ”¹å¯†ç "><a class="markdownIt-Anchor" href="#ä¿®æ”¹å¯†ç "></a> ä¿®æ”¹å¯†ç </h4>
<ul>
<li><code>set global validate_password_length=4;</code><br />
è®¾ç½®å¯†ç é•¿åº¦æœ€ä½ä½æ•°</li>
<li><code>set global validate_password_policy=LOW;</code><br />
è®¾ç½®å¯†ç å®‰å…¨ç­‰çº§ä½ï¼Œä¾¿äºå¯†ç å¯ä»¥ä¿®æ”¹æˆroot</li>
<li><code>set password = password('root');</code><br />
è®¾ç½®å¯†ç ä¸ºroot</li>
</ul>
<h4 id="å¼€å¯è®¿é—®æƒé™"><a class="markdownIt-Anchor" href="#å¼€å¯è®¿é—®æƒé™"></a> å¼€å¯è®¿é—®æƒé™</h4>
<ul>
<li><code>grant all on *.* to 'root'@'%' identified by 'root';</code></li>
<li><code>flush privileges;</code></li>
</ul>
<p>8ã€æµ‹è¯•Mysqlæ•°æ®åº“æ˜¯å¦æ­£å¸¸å·¥ä½œ</p>
<ul>
<li><code>show databases;</code></li>
</ul>
<h3 id="æµ‹è¯•"><a class="markdownIt-Anchor" href="#æµ‹è¯•"></a> æµ‹è¯•</h3>
<p>ä½¿ç”¨windowsä¸Šçš„æ•°æ®åº“ç®¡ç†å·¥å…·è¿›è¡Œè¿æ¥</p>
<p><img src="18Linux/image-20230224112555071.png" alt="image-20230224112555071" /></p>
<p><img src="18Linux/image-20230224112635773.png" alt="image-20230224112635773" /></p>
<h2 id="å®‰è£…lrzsz"><a class="markdownIt-Anchor" href="#å®‰è£…lrzsz"></a> å®‰è£…lrzsz</h2>
<p>ç”¨äºæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</p>
<p><strong>æ“ä½œæ­¥éª¤:</strong></p>
<p>1ã€æœç´¢lrzszå®‰è£…åŒ…ï¼Œå‘½ä»¤ä¸º <code>yum list lrzsz</code></p>
<p>2ã€ä½¿ç”¨yumå‘½ä»¤åœ¨çº¿å®‰è£…ï¼Œå‘½ä»¤ä¸º<code>yum install lrzsz.x86_64</code></p>
<p><strong>æ³¨æ„ï¼š</strong> Yum(å…¨ç§°ä¸ºYellow dog Updater, Modified)æ˜¯ä¸€ä¸ªåœ¨Fedoraå’ŒRedHatä»¥åŠCentoSä¸­çš„Shellå‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚åŸºäºRPMåŒ…ç®¡ç†ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½RPMåŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶åŒ…ï¼Œæ— é¡»ç¹çåœ°ä¸€æ¬¡æ¬¡ä¸‹è½½ã€å®‰è£…ã€‚</p>
<h1 id="é¡¹ç›®éƒ¨ç½²"><a class="markdownIt-Anchor" href="#é¡¹ç›®éƒ¨ç½²"></a> é¡¹ç›®éƒ¨ç½²</h1>
<h2 id="æ‰‹å·¥éƒ¨ç½²é¡¹ç›®"><a class="markdownIt-Anchor" href="#æ‰‹å·¥éƒ¨ç½²é¡¹ç›®"></a> æ‰‹å·¥éƒ¨ç½²é¡¹ç›®</h2>
<p>ä¸€ã€åœ¨IDEAä¸­å¼€å‘SpringBooté¡¹ç›®å¹¶æ‰“æˆjaråŒ…</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>pomæ–‡ä»¶å¿…é¡»åŠ å…¥ä¸Šé¢ä»£ç </p>
<p>äºŒã€å°†jaråŒ…ä¸Šä¼ åˆ°LinuxæœåŠ¡å™¨</p>
<ul>
<li><code>mkdir /usr/local/app</code>åˆ›å»ºç›®å½•ï¼Œå°†é¡¹ç›®jaråŒ…æ”¾åˆ°æ­¤ç›®å½•</li>
</ul>
<p>ä¸‰ã€å¯åŠ¨Springç¨‹åº<br />
<img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164657090-508266715.png" alt="image" /></p>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164651066-1125429480.png" alt="image" /></p>
<p>å››ã€æ£€æŸ¥é˜²ç«å¢™ï¼Œç¡®ä¿8080ç«¯å£å¯¹å¤–å¼€æ”¾ï¼Œè®¿é—®SpringBooté¡¹ç›®</p>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164701736-1278145242.png" alt="image" /></p>
<p>äº”ã€æ”¹ä¸ºåå°è¿è¡ŒSpringBootç¨‹åºï¼Œå¹¶å°†æ—¥å¿—è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ç›®å‰ç¨‹åºè¿è¡Œçš„é—®é¢˜â­</p>
<ul>
<li>çº¿ä¸Šç¨‹åºä¸ä¼šé‡‡ç”¨æ§åˆ¶å°éœ¸å±çš„å½¢å¼è¿è¡Œç¨‹åºï¼Œè€Œæ˜¯å°†ç¨‹åºåœ¨åå°è¿è¡Œ</li>
<li>çº¿ä¸Šç¨‹åºä¸ä¼šå°†æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œè€Œæ˜¯è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ï¼Œæ–¹ä¾¿è¿ç»´æŸ¥é˜…ä¿¡æ¯</li>
</ul>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164708361-1366414462.png" alt="image" /></p>
<p>å…­ã€åœæ­¢SpringBootç¨‹åº<br />
<img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164714373-1729045522.png" alt="image" /></p>
<h2 id="é€šè¿‡shellè„šæœ¬è‡ªåŠ¨éƒ¨ç½²é¡¹ç›®"><a class="markdownIt-Anchor" href="#é€šè¿‡shellè„šæœ¬è‡ªåŠ¨éƒ¨ç½²é¡¹ç›®"></a> é€šè¿‡shellè„šæœ¬è‡ªåŠ¨éƒ¨ç½²é¡¹ç›®</h2>
<p>æ“ä½œæ­¥éª¤:</p>
<ul>
<li>1ã€åœ¨Linuxä¸­å®‰è£…Git</li>
<li>2ã€ä½¿ç”¨Gitå…‹éš†ä»£ç </li>
<li>3ã€åœ¨Linuxä¸­å®‰è£…maven</li>
<li>4ã€ç¼–å†™Shellè„šæœ¬ï¼ˆæ‹‰å–ä»£ç ã€ç¼–è¯‘ã€æ‰“åŒ…ã€å¯åŠ¨ï¼‰</li>
<li>5ã€ä¸ºç”¨æˆ·æˆäºˆæ‰§è¡ŒShellè„šæœ¬çš„æƒé™</li>
<li>6ã€æ‰§è¡ŒShellè„šæœ¬</li>
</ul>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164722000-1572884584.png" alt="image" /></p>
<h3 id="åœ¨linuxä¸­å®‰è£…git"><a class="markdownIt-Anchor" href="#åœ¨linuxä¸­å®‰è£…git"></a> åœ¨Linuxä¸­å®‰è£…Git</h3>
<ul>
<li>yum list git<br />
åˆ—å‡ºgitå®‰è£…åŒ…</li>
<li>yum install git<br />
åœ¨çº¿å®‰è£…git</li>
</ul>
<h3 id="ä½¿ç”¨gitå…‹éš†ä»£ç "><a class="markdownIt-Anchor" href="#ä½¿ç”¨gitå…‹éš†ä»£ç "></a> ä½¿ç”¨Gitå…‹éš†ä»£ç </h3>
<ul>
<li><code>cd /usr/local/</code></li>
<li><code>git clone ä»“åº“</code></li>
</ul>
<h3 id="åœ¨linuxä¸­å®‰è£…maven"><a class="markdownIt-Anchor" href="#åœ¨linuxä¸­å®‰è£…maven"></a> åœ¨Linuxä¸­å®‰è£…maven</h3>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164728977-1234910859.png" alt="image" /></p>
<h3 id="å°†èµ„æ–™ä¸­æä¾›çš„shellè„šæœ¬æ–‡ä»¶å¤åˆ¶åˆ°linux-bootstartsh"><a class="markdownIt-Anchor" href="#å°†èµ„æ–™ä¸­æä¾›çš„shellè„šæœ¬æ–‡ä»¶å¤åˆ¶åˆ°linux-bootstartsh"></a> å°†èµ„æ–™ä¸­æä¾›çš„Shellè„šæœ¬æ–‡ä»¶å¤åˆ¶åˆ°Linux (<a href="http://bootStart.sh">bootStart.sh</a>)</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line">echo =================================</span><br><span class="line">echo  è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬å¯åŠ¨</span><br><span class="line">echo =================================</span><br><span class="line"></span><br><span class="line">echo åœæ­¢åŸæ¥è¿è¡Œä¸­çš„å·¥ç¨‹</span><br><span class="line">APP_NAME=reggie</span><br><span class="line"></span><br><span class="line">tpid=`ps -ef|grep $APP_NAME|grep -v grep|grep -v kill|awk &#x27;&#123;print $2&#125;&#x27;`</span><br><span class="line">if [ $&#123;tpid&#125; ]; then</span><br><span class="line">    echo &#x27;Stop Process...&#x27;</span><br><span class="line">    kill -15 $tpid</span><br><span class="line">fi</span><br><span class="line">sleep 2</span><br><span class="line">tpid=`ps -ef|grep $APP_NAME|grep -v grep|grep -v kill|awk &#x27;&#123;print $2&#125;&#x27;`</span><br><span class="line">if [ $&#123;tpid&#125; ]; then</span><br><span class="line">    echo &#x27;Kill Process!&#x27;</span><br><span class="line">    kill -9 $tpid</span><br><span class="line">else</span><br><span class="line">    echo &#x27;Stop Success!&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo å‡†å¤‡ä»Gitä»“åº“æ‹‰å–æœ€æ–°ä»£ç </span><br><span class="line">cd /usr/local/helloworld</span><br><span class="line"></span><br><span class="line">echo å¼€å§‹ä»Gitä»“åº“æ‹‰å–æœ€æ–°ä»£ç </span><br><span class="line">git pull</span><br><span class="line">echo ä»£ç æ‹‰å–å®Œæˆ</span><br><span class="line"></span><br><span class="line">echo å¼€å§‹æ‰“åŒ…</span><br><span class="line">output=`mvn clean package -Dmaven.test.skip=true`</span><br><span class="line"></span><br><span class="line">cd target</span><br><span class="line"></span><br><span class="line">echo å¯åŠ¨é¡¹ç›®</span><br><span class="line">nohup java -jar helloworld-1.0-SNAPSHOT.jar &amp;&gt; helloworld.log &amp;</span><br><span class="line">echo é¡¹ç›®å¯åŠ¨å®Œæˆ</span><br></pre></td></tr></table></figure>
<ul>
<li>Shellè„šæœ¬(shell script)ï¼Œæ˜¯ä¸€ç§Linuxç³»ç»Ÿä¸­çš„è„šæœ¬ç¨‹åºã€‚</li>
<li>ä½¿ç”¨Shellè„šæœ¬ç¼–ç¨‹è·ŸJavaScriptã€Javaç¼–ç¨‹ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½ç¼–å†™ä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨å’Œä¸€ä¸ªèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±å¯ä»¥äº†.</li>
<li>å¯¹äºShellè„šæœ¬ç¼–å†™ä¸ä½œä¸ºæœ¬è¯¾ç¨‹é‡ç‚¹å†…å®¹ï¼Œç›´æ¥ä½¿ç”¨è¯¾ç¨‹èµ„æ–™ä¸­æä¾›çš„è„šæœ¬æ–‡ä»¶bootStart.shå³å¯ã€‚</li>
</ul>
<h3 id="ä¸ºç”¨æˆ·æˆæƒ"><a class="markdownIt-Anchor" href="#ä¸ºç”¨æˆ·æˆæƒ"></a> ä¸ºç”¨æˆ·æˆæƒ</h3>
<p><code>chmod</code>ï¼ˆè‹±æ–‡å…¨æ‹¼: change modeï¼‰å‘½ä»¤æ˜¯æ§åˆ¶ç”¨æˆ·å¯¹æ–‡ä»¶çš„æƒé™çš„å‘½ä»¤</p>
<p>Linuxä¸­çš„æƒé™åˆ†ä¸º:è¯»Â®ã€å†™(w)ã€æ‰§è¡Œ(x)ä¸‰ç§æƒé™</p>
<p>Linuxçš„æ–‡ä»¶è°ƒç”¨æƒé™åˆ†ä¸ºä¸‰çº§ï¸°æ–‡ä»¶æ‰€æœ‰è€…ï¼ˆOwner)ã€ç”¨æˆ·ç»„ï¼ˆGroup)ã€å…¶å®ƒç”¨æˆ·(Other Users)</p>
<p>åªæœ‰æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œè¶…çº§ç”¨æˆ·å¯ä»¥ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™</p>
<p>è¦æ‰§è¡ŒShellè„šæœ¬éœ€è¦æœ‰å¯¹æ­¤è„šæœ¬æ–‡ä»¶çš„æ‰§è¡Œæƒé™ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¸èƒ½æ‰§è¡Œ</p>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164739518-66571149.png" alt="image" /></p>
<p>chmodå‘½ä»¤å¯ä»¥ä½¿ç”¨å…«è¿›åˆ¶æ•°æ¥æŒ‡å®šæƒé™</p>
<p><strong>ä¸¾ä¾‹</strong>:</p>
<ul>
<li><code>chmod 777 bootStart.sh</code>ä¸ºæ‰€æœ‰ç”¨æˆ·æˆäºˆè¯»ã€å†™ã€æ‰§è¡Œæƒé™</li>
<li><code>chmod 755 bootStart.sh</code>ä¸ºæ–‡ä»¶æ‹¥æœ‰è€…æˆäºˆè¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼ŒåŒç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·æˆäºˆè¯»ã€æ‰§è¡Œæƒé™</li>
<li><code>chmod 210 bootstart.sh</code>ä¸ºæ–‡ä»¶æ‹¥æœ‰è€…æˆäºˆå†™æƒé™ï¼ŒåŒç»„ç”¨æˆ·æˆäºˆæ‰§è¡Œæƒé™ï¼Œå…¶ä»–ç”¨æˆ·æ²¡æœ‰ä»»ä½•æƒé™</li>
</ul>
<p><strong>æ³¨æ„</strong>:ä¸‰ä½æ•°å­—åˆ†åˆ«ä»£è¡¨ä¸åŒç”¨æˆ·çš„æƒé™/</p>
<ul>
<li>ç¬¬1ä½è¡¨ç¤ºæ–‡ä»¶æ‹¥æœ‰è€…çš„æƒé™</li>
<li>ç¬¬2ä½è¡¨ç¤ºåŒç»„ç”¨æˆ·çš„æƒé™</li>
<li>ç¬¬3ä½è¡¨ç¤ºå…¶ä»–ç”¨æˆ·çš„æƒé™</li>
</ul>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164747415-1856910097.png" alt="image" /></p>
<h3 id="è®¾ç½®é™æ€ip"><a class="markdownIt-Anchor" href="#è®¾ç½®é™æ€ip"></a> è®¾ç½®é™æ€ip</h3>
<p>ä¿®æ”¹æ–‡ä»¶/etc/sysconfig/network-scripts/ifcfg-ens33ï¼Œå†…å®¹å¦‚ä¸‹:</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">TYPE</span>=<span class="string">&quot;Ethernet&quot;</span></span><br><span class="line"><span class="attr">PROXY_METHOD</span>=<span class="string">&quot;none&quot;</span></span><br><span class="line"><span class="attr">BROWSER_ONLY</span>=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="attr">BOOTPROTO</span>=<span class="string">&quot;static&quot;</span><span class="comment">#ä½¿ç”¨é™æ€IPåœ°å€ï¼Œé»˜è®¤ä¸ºdhcp</span></span><br><span class="line"><span class="attr">IPADDR</span>=<span class="string">&quot;192.168.138.100&quot;</span><span class="comment">#è®¾ç½®çš„é™æ€IPåœ°å€</span></span><br><span class="line"><span class="attr">NETMASK</span>=<span class="string">&quot;255.255.255.0&quot;</span><span class="comment">#å­ç½‘æ©ç </span></span><br><span class="line"><span class="attr">GATEWAY</span>=<span class="string">&quot;192.168.138.2&quot;</span><span class="comment">#ç½‘å…³åœ°å€</span></span><br><span class="line"><span class="attr">DNS1</span>=<span class="string">&quot;192.168.138. 2&quot;</span><span class="comment">#DNSæœåŠ¡å™¨</span></span><br><span class="line"><span class="attr">DEFROUTE</span>=<span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="attr">IPV4_FAILURE_FATAL</span>=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="attr">IPV6INIT</span>=<span class="string">&quot;yes &quot;</span></span><br><span class="line"><span class="attr">IPV6_AUTOCONF</span>=<span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="attr">IPV6_DEFROUTE</span>=<span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="attr">IPV6_FAILURE_FATAL</span>=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="attr">IPV6_ADDR_GEN_MODE</span>=<span class="string">&quot;stable-privacy&quot;</span></span><br><span class="line"><span class="attr">NAME</span>=<span class="string">&quot;ens33&quot;</span></span><br><span class="line"><span class="attr">UUID</span>=<span class="string">&quot;95b614cd-79b0-4755-be8d-99f1cca7271b&quot;</span></span><br><span class="line"><span class="attr">DEVICE</span>=<span class="string">&quot;ens33&quot;</span></span><br><span class="line"><span class="attr">ONBOOT</span>=<span class="string">&quot;yes&quot;</span><span class="comment">#æ˜¯å¦å¼€æœºå¯ç”¨</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220522164757410-1051230850.png" alt="image" /></p>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>Project</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>SpringBoot</tag>
        <tag>MySQL</tag>
        <tag>Spring</tag>
        <tag>MyBatis</tag>
        <tag>SSM</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‘å‰å¤–å–é¡¹ç›®å®æˆ˜ - ä¼˜åŒ–ç¯‡01</title>
    <url>/2023/02/28/JAVA/19ReggieProject02/</url>
    <content><![CDATA[<h1 id="ç¬¬å…«ç« -ç¼“å­˜ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#ç¬¬å…«ç« -ç¼“å­˜ä¼˜åŒ–"></a> ç¬¬å…«ç«  ç¼“å­˜ä¼˜åŒ–</h1>
<p><strong>é—®é¢˜è¯´æ˜</strong></p>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220523173028609-449458851.png" alt="image" /></p>
<p>ç”¨æˆ·æ•°é‡å¤šï¼Œç³»ç»Ÿè®¿é—®é‡å¤§é¢‘ç¹è®¿é—®æ•°æ®åº“ï¼Œç³»ç»Ÿæ€§èƒ½ä¸‹é™ï¼Œç”¨æˆ·ä½“éªŒå·®</p>
<h2 id="ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#ç¯å¢ƒæ­å»º"></a> ç¯å¢ƒæ­å»º</h2>
<h3 id="mavenåæ ‡"><a class="markdownIt-Anchor" href="#mavenåæ ‡"></a> mavenåæ ‡</h3>
<p>åœ¨é¡¹ç›®çš„<code>pom.xml</code>æ–‡ä»¶ä¸­å¯¼å…¥<code>spring data redis</code>çš„mavenåæ ‡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Redis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#é…ç½®æ–‡ä»¶"></a> é…ç½®æ–‡ä»¶</h3>
<p>åœ¨é¡¹ç›®çš„application.ymlä¸­åŠ å…¥redisç›¸å…³é…ç½®ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">172.17</span><span class="number">.2</span><span class="number">.94</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root@123456</span></span><br><span class="line">    <span class="attr">database:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®ç±»"><a class="markdownIt-Anchor" href="#é…ç½®ç±»"></a> é…ç½®ç±»</h3>
<p>åœ¨é¡¹ç›®ä¸­åŠ å…¥é…ç½®ç±»<code>RedisConfig</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> <span class="keyword">extends</span> <span class="title class_">CachingConfigurerSupport</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;Object,Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory connectionFactory)</span>&#123;</span><br><span class="line">        RedisTemplate&lt;Object,Object&gt; redisTemplate = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//é»˜è®¤çš„Keyåºåˆ—åŒ–å™¨ä¸º: JdkSerializationRedisSerializer</span></span><br><span class="line">        redisTemplate.setKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        redisTemplate.setConnectionFactory( connectionFactory) ;</span><br><span class="line">        <span class="keyword">return</span> redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ç”¨<code>StringRedisTemplate</code>å°±ä¸ç”¨é…ç½®ç±»</p>
<h3 id="linuxå¯åŠ¨redis"><a class="markdownIt-Anchor" href="#linuxå¯åŠ¨redis"></a> linuxå¯åŠ¨redis</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/local/redis-4.0.0/src/redis-server /usr/local/redis-4.0.0/redis.conf</span><br></pre></td></tr></table></figure>
<h2 id="ç¼“å­˜çŸ­ä¿¡éªŒè¯ç "><a class="markdownIt-Anchor" href="#ç¼“å­˜çŸ­ä¿¡éªŒè¯ç "></a> ç¼“å­˜çŸ­ä¿¡éªŒè¯ç </h2>
<h3 id="å®ç°æ€è·¯"><a class="markdownIt-Anchor" href="#å®ç°æ€è·¯"></a> å®ç°æ€è·¯</h3>
<p>å‰é¢æˆ‘ä»¬å·²ç»å®ç°äº†ç§»åŠ¨ç«¯æ‰‹æœºéªŒè¯ç ç™»å½•ï¼Œéšæœºç”Ÿæˆçš„éªŒè¯ç æˆ‘ä»¬æ˜¯ä¿å­˜åœ¨HttpSessionä¸­çš„ã€‚ç°åœ¨éœ€è¦æ”¹é€ ä¸ºå°†éªŒè¯ç ç¼“å­˜åœ¨Redisä¸­ï¼Œå…·ä½“çš„å®ç°æ€è·¯å¦‚ä¸‹:</p>
<ol>
<li>
<p>åœ¨æœåŠ¡ç«¯<code>UserController</code>ä¸­æ³¨å…¥<code>RedisTemplate</code>å¯¹è±¡ï¼Œç”¨äºæ“ä½œ<code>Redis</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate redisTemplate;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨æœåŠ¡ç«¯UserControllerçš„sendMsgæ–¹æ³•ä¸­ï¼Œå°†éšæœºç”Ÿæˆçš„éªŒè¯ç ç¼“å­˜åˆ°Redisä¸­ï¼Œå¹¶è®¾ç½®æœ‰æ•ˆæœŸä¸º5åˆ†é’Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å°†ç”Ÿæˆçš„éªŒè¯ç ç¼“å­˜åˆ°Redisä¸­ï¼Œå¹¶ä¸”è®¾ç½®æœ‰æ•ˆæœŸä¸º5åˆ†é’Ÿ</span></span><br><span class="line">redisTemplate.opsForValue().set(phone, code, <span class="number">5</span>, TimeUnit.MINUTES);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨æœåŠ¡ç«¯UserControllerçš„loginæ–¹æ³•ä¸­ï¼Œä»Redisä¸­è·å–ç¼“å­˜çš„éªŒè¯ç ï¼Œå¦‚æœç™»å½•æˆåŠŸåˆ™åˆ é™¤Redisä¸­çš„éªŒè¯ç ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä»Redisä¸­è·å–ç¼“å­˜çš„éªŒè¯ç </span></span><br><span class="line"><span class="type">Object</span> <span class="variable">codeInSession</span> <span class="operator">=</span> redisTemplate.opsForValue().get(phone);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç™»å½•ä¸šåŠ¡ä»£ç ....</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœç”¨æˆ·ç™»å½•æˆåŠŸï¼Œåˆ™åˆ é™¤Redisä¸­ç¼“å­˜çš„éªŒè¯ç </span></span><br><span class="line">redisTemplate.delete(phone);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="ç¼“å­˜èœå“æ•°æ®"><a class="markdownIt-Anchor" href="#ç¼“å­˜èœå“æ•°æ®"></a> ç¼“å­˜èœå“æ•°æ®</h2>
<h3 id="å®ç°æ€è·¯-2"><a class="markdownIt-Anchor" href="#å®ç°æ€è·¯-2"></a> å®ç°æ€è·¯</h3>
<p>å‰é¢æˆ‘ä»¬å·²ç»å®ç°äº†ç§»åŠ¨ç«¯èœå“æŸ¥çœ‹åŠŸèƒ½ï¼Œå¯¹åº”çš„æœåŠ¡ç«¯æ–¹æ³•ä¸ºDishControllerçš„listæ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¼šæ ¹æ®å‰ç«¯æäº¤çš„æŸ¥è¯¢æ¡ä»¶è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢æ“ä½œã€‚åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œé¢‘ç¹æŸ¥è¯¢æ•°æ®åº“ä¼šå¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹é™ï¼ŒæœåŠ¡ç«¯å“åº”æ—¶é—´å¢é•¿ã€‚ç°åœ¨éœ€è¦å¯¹æ­¤æ–¹æ³•è¿›è¡Œç¼“å­˜ä¼˜åŒ–ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p>
<p>å…·ä½“çš„å®ç°æ€è·¯å¦‚ä¸‹:</p>
<ol>
<li>
<p>æ”¹é€ <code>DishController</code>çš„<code>list</code>æ–¹æ³•ï¼Œå…ˆä»Redisä¸­è·å–èœå“æ•°æ®ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥è¿”å›ï¼Œæ— éœ€æŸ¥è¯¢æ•°æ®åº“;å¦‚æœæ²¡æœ‰åˆ™æŸ¥è¯¢æ•°æ®åº“ï¼Œå¹¶å°†æŸ¥è¯¢åˆ°çš„èœå“æ•°æ®æ”¾å…¥Redisã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;DishDto&gt; dishDtoList = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// åŠ¨æ€çš„æ„é€ key</span></span><br><span class="line"><span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;dish_&quot;</span> + dish.getCategoryId() + <span class="string">&quot;_&quot;</span> + dish.getStatus();</span><br><span class="line"><span class="comment">// ä»Redisä¸­è·å–ç¼“å­˜æ•°æ®ï¼Œ</span></span><br><span class="line">dishDtoList = (List&lt;DishDto&gt;) redisTemplate.opsForValue().get(key);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(dishDtoList != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå­˜åœ¨ï¼Œç›´æ¥è¿”å›ï¼Œæ— éœ€æŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">    <span class="keyword">return</span> R.success(dishDtoList);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¦‚æœä¸å­˜åœ¨ï¼Œéœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œ</span></span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"><span class="comment">// å°†æŸ¥è¯¢åˆ°çš„èœå“æ•°æ®ç¼“å­˜åˆ°Redis</span></span><br><span class="line">redisTemplate.opsForValue().set(key, dishDtoList, <span class="number">60</span>, TimeUnit.MINUTES);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æ”¹é€ <code>DishController</code>çš„<code>save</code>å’Œ<code>update</code>æ–¹æ³•ï¼ŒåŠ å…¥æ¸…ç†ç¼“å­˜çš„é€»è¾‘ã€‚ä¿è¯æ•°æ®åº“ä¸­çš„æ•°æ®å’ŒRedisä¸­çš„æ•°æ®ä¸€è‡´ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•ä¸€ï¼šæ¸…ç†æ‰€æœ‰èœå“ç¼“å­˜æ•°æ®</span></span><br><span class="line"><span class="comment">//Set keys = redisTemplate.keys(&quot;dish_*&quot;);</span></span><br><span class="line"><span class="comment">//redisTemplate.delete(keys);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•äºŒï¼šæ¸…ç†æŸä¸ªåˆ†ç±»ä¸‹é¢çš„èœå“ç¼“å­˜æ•°æ®</span></span><br><span class="line">String key=<span class="string">&quot;dish_&quot;</span> + dishDto.getCategoryId() + <span class="string">&quot;_&quot;</span> + dishDto.getStatus();</span><br><span class="line">redisTemplate.delete(key);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨ä½¿ç”¨ç¼“å­˜è¿‡ç¨‹ä¸­ï¼Œè¦æ³¨æ„<strong>ä¿è¯æ•°æ®åº“ä¸­çš„æ•°æ®å’Œç¼“å­˜ä¸­çš„æ•°æ®ä¸€è‡´</strong>ï¼Œå¦‚æœæ•°æ®åº“ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦åŠæ—¶æ¸…ç†ç¼“å­˜æ•°æ®ã€‚</p>
<h2 id="spring-cache"><a class="markdownIt-Anchor" href="#spring-cache"></a> Spring Cache</h2>
<h3 id="spring-cacheä»‹ç»"><a class="markdownIt-Anchor" href="#spring-cacheä»‹ç»"></a> Spring Cacheä»‹ç»</h3>
<p>Spring cacheæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œå®ç°äº†åŸºäºæ³¨è§£çš„ç¼“å­˜åŠŸèƒ½ï¼Œåªéœ€è¦ç®€å•åœ°åŠ ä¸€ä¸ªæ³¨è§£ï¼Œå°±èƒ½å®ç°ç¼“å­˜åŠŸèƒ½ã€‚</p>
<p>Spring Cacheæä¾›äº†ä¸€å±‚æŠ½è±¡ï¼Œåº•å±‚å¯ä»¥åˆ‡æ¢ä¸åŒçš„cacheå®ç°ã€‚å…·ä½“å°±æ˜¯é€šè¿‡<code>CacheManager</code>æ¥å£æ¥ç»Ÿä¸€ä¸åŒçš„ç¼“å­˜æŠ€æœ¯ã€‚</p>
<p><code>CacheManager</code>æ˜¯Springæä¾›çš„å„ç§ç¼“å­˜æŠ€æœ¯æŠ½è±¡æ¥å£ã€‚</p>
<p>é’ˆå¯¹ä¸åŒçš„ç¼“å­˜æŠ€æœ¯éœ€è¦å®ç°ä¸åŒçš„<code>CacheManager</code>:<br />
<img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220523173040674-859737708.png" alt="image" /></p>
<h3 id="spring-cacheå¸¸ç”¨æ³¨è§£"><a class="markdownIt-Anchor" href="#spring-cacheå¸¸ç”¨æ³¨è§£"></a> Spring Cacheå¸¸ç”¨æ³¨è§£</h3>
<p><img src="https://img2022.cnblogs.com/blog/2592691/202205/2592691-20220523173043578-1055601938.png" alt="image" /></p>
<p>åœ¨spring booté¡¹ç›®ä¸­ï¼Œä½¿ç”¨ç¼“å­˜æŠ€æœ¯åªéœ€åœ¨é¡¹ç›®ä¸­å¯¼å…¥ç›¸å…³ç¼“å­˜æŠ€æœ¯çš„ä¾èµ–åŒ…ï¼Œå¹¶åœ¨å¯åŠ¨ç±»ä¸Šä½¿ç”¨<code>@EnableCaching</code>å¼€å¯ç¼“å­˜æ”¯æŒå³å¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨Redisä½œä¸ºç¼“å­˜æŠ€æœ¯ï¼Œåªéœ€è¦å¯¼å…¥<code>Spring data Redis</code>çš„mavenåæ ‡å³å¯ã€‚</p>
<h3 id="spring-cacheä½¿ç”¨æ–¹å¼"><a class="markdownIt-Anchor" href="#spring-cacheä½¿ç”¨æ–¹å¼"></a> Spring Cacheä½¿ç”¨æ–¹å¼</h3>
<p>åœ¨<code>Spring Boot</code>é¡¹ç›®ä¸­ä½¿ç”¨<code>Spring Cache</code>çš„æ“ä½œæ­¥éª¤(ä½¿ç”¨redisç¼“å­˜æŠ€æœ¯);</p>
<p>1ã€å¯¼å…¥mavenåæ ‡</p>
<ul>
<li><code>spring-boot-starter-data-redis</code>ã€<code>spring-boot-starter-cache</code></li>
</ul>
<p>2ã€é…ç½®<code>application.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">time-to-live:</span> <span class="number">1800000</span><span class="comment">#è®¾ç½®ç¼“å­˜æœ‰æ•ˆæœŸ</span></span><br></pre></td></tr></table></figure>
<p>3ã€åœ¨å¯åŠ¨ç±»ä¸ŠåŠ å…¥<code>@EnableCaching</code>æ³¨è§£ï¼Œå¼€å¯ç¼“å­˜æ³¨è§£åŠŸèƒ½</p>
<p>4ã€åœ¨Controllerçš„æ–¹æ³•ä¸ŠåŠ å…¥<code>@Cacheable</code>ã€<code>@CacheEvict</code>ç­‰æ³¨è§£ï¼Œè¿›è¡Œç¼“å­˜æ“ä½œ</p>
<h2 id="ç¼“å­˜å¥—é¤æ•°æ®"><a class="markdownIt-Anchor" href="#ç¼“å­˜å¥—é¤æ•°æ®"></a> ç¼“å­˜å¥—é¤æ•°æ®</h2>
<h3 id="å®ç°æ€è·¯-3"><a class="markdownIt-Anchor" href="#å®ç°æ€è·¯-3"></a> å®ç°æ€è·¯</h3>
<p>å‰é¢æˆ‘ä»¬å·²ç»å®ç°äº†ç§»åŠ¨ç«¯å¥—é¤æŸ¥çœ‹åŠŸèƒ½ï¼Œå¯¹åº”çš„æœåŠ¡ç«¯æ–¹æ³•ä¸ºSetmealControllerçš„listæ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¼šæ ¹æ®å‰ç«¯æäº¤çš„æŸ¥è¯¢æ¡ä»¶è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢æ“ä½œã€‚åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œé¢‘ç¹æŸ¥è¯¢æ•°æ®åº“ä¼šå¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹é™ï¼ŒæœåŠ¡ç«¯å“åº”æ—¶é—´å¢é•¿ã€‚ç°åœ¨éœ€è¦å¯¹æ­¤æ–¹æ³•è¿›è¡Œç¼“å­˜ä¼˜åŒ–ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p>
<p>å…·ä½“çš„å®ç°æ€è·¯å¦‚ä¸‹:</p>
<ol>
<li>å¯¼å…¥<code>Spring Cache</code>å’ŒRedisç›¸å…³mavenåæ ‡</li>
<li>åœ¨<code>application.yml</code>ä¸­é…ç½®ç¼“å­˜æ•°æ®çš„è¿‡æœŸæ—¶é—´</li>
<li>åœ¨å¯åŠ¨ç±»ä¸ŠåŠ å…¥<code>@EnableCaching</code>æ³¨è§£ï¼Œå¼€å¯ç¼“å­˜æ³¨è§£åŠŸèƒ½</li>
<li>åœ¨<code>SetmealController</code>çš„listæ–¹æ³•ä¸ŠåŠ å…¥<code>@Cacheable</code>æ³¨è§£</li>
<li>åœ¨<code>SetmealController</code>çš„<code>save</code>å’Œ<code>delete</code>æ–¹æ³•ä¸ŠåŠ å…¥<code>@CacheEvic</code>tæ³¨è§£</li>
</ol>
<h3 id="ä»£ç æ”¹é€ "><a class="markdownIt-Anchor" href="#ä»£ç æ”¹é€ "></a> ä»£ç æ”¹é€ </h3>
<p>åœ¨<code>pom.xml</code>æ–‡ä»¶ä¸­å¯¼å…¥mavenåæ ‡:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-cache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨<code>application.yml</code>ä¸­é…ç½®ç¼“å­˜æ•°æ®è¿‡æœŸæ—¶é—´:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cache:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">        <span class="attr">time-to-live:</span> <span class="number">1800000</span> <span class="comment">#è®¾ç½®ç¼“å­˜æ•°æ®è¿‡æœŸæ—¶é—´</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å¯åŠ¨ç±»<code>@EnableCaching</code>æ³¨è§£</p>
<p>åœ¨listæ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£ï¼Œå®ç°åœ¨redisé‡Œæ·»åŠ ç¼“å­˜ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Cacheable(value = <span class="string">&quot;setmealCache&quot;</span>,key = <span class="string">&quot;#setmeal.categoryId+&#x27;_&#x27;+#setmeal.status&quot;</span>)</span></span><br></pre></td></tr></table></figure>
<p>åœ¨updateï¼Œaddï¼Œdeleteæ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£ï¼Œæ¸…é™¤ç¼“å­˜ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹åè®²setmealCacheåˆ†ç±»ä¸‹çš„æ‰€æœ‰ç¼“å­˜å…¨éƒ¨åˆ é™¤</span></span><br><span class="line"><span class="meta">@CacheEvict(value = <span class="string">&quot;setmealCache&quot;</span>,allEntries = true)</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong>ï¼šè¦è®©Rå®ç°Serializableæ¥å£ï¼ˆåºåˆ—åŒ–ï¼‰ï¼Œæ³¨è§£æ‰èƒ½ç”Ÿæ•ˆ</p>
<h1 id="ç¬¬ä¹ç« -è¯»å†™åˆ†ç¦»"><a class="markdownIt-Anchor" href="#ç¬¬ä¹ç« -è¯»å†™åˆ†ç¦»"></a> ç¬¬ä¹ç«  è¯»å†™åˆ†ç¦»</h1>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>Project</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>SpringBoot</tag>
        <tag>MySQL</tag>
        <tag>Spring</tag>
        <tag>MyBatis</tag>
        <tag>SSM</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode Hot100</title>
    <url>/2023/03/02/LeetCode/LeetCodeHot100/</url>
    <content><![CDATA[<h2 id="ç¬¬ä¸€é¢˜ä¸¤æ•°ä¹‹å’Œ"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€é¢˜ä¸¤æ•°ä¹‹å’Œ"></a> ç¬¬ä¸€é¢˜ï¼šä¸¤æ•°ä¹‹å’Œ</h2>
<p><a href="https://leetcode.cn/problems/two-sum/?favorite=2cktkvj"> ä¸¤æ•°ä¹‹å’Œ </a></p>
<h3 id="æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ ‡ç­¾"></a> æ ‡ç­¾</h3>
<p><code>æ•°ç»„</code>ã€<code>å“ˆå¸Œè¡¨</code></p>
<h3 id="é¢˜è§£"><a class="markdownIt-Anchor" href="#é¢˜è§£"></a> é¢˜è§£</h3>
<div class="tabs" id="c++"><ul class="nav-tabs"><li class="tab active"><a href="#c++-1">C++</a></li><li class="tab"><a href="#c++-2">Java</a></li></ul><div class="tab-content"><div class="tab-pane active" id="c++-1"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">twoSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i &lt; nums.<span class="built_in">size</span>() - <span class="number">1</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>;j&lt; nums.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[i]+nums[j] == target)&#123;</span><br><span class="line">                    arr.<span class="built_in">push_back</span>(i);</span><br><span class="line">                    arr.<span class="built_in">push_back</span>(j);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="c++-2"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] <span class="built_in">twoSum</span>(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; nums.length; j ++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[i] + nums[j] == target) </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">int</span>[]&#123;i, j&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
</search>
